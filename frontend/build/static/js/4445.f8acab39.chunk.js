/*! For license information please see 4445.f8acab39.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4445],{9630(e,s,t){t.d(s,{E:()=>d});var a=t(2555),r=t(3986),n=(t(9950),t(4364)),i=t(9332),l=t(4414);const o=["className","variant"],c=(0,n.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t}=e,n=(0,r.A)(e,o);return(0,l.jsx)("div",(0,a.A)({className:(0,i.cn)(c({variant:t}),s)},n))}},1111(e,s,t){t.d(s,{$:()=>u});var a=t(2555),r=t(3986),n=t(9950),i=t(2962),l=t(4364),o=t(9332),c=t(4414);const d=["className","variant","size","asChild"],m=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-500 text-white shadow-sm hover:bg-blue-600 rounded-lg",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-gray-200 bg-white shadow-sm hover:bg-gray-50 text-gray-700 rounded-lg",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,s)=>{let{className:t,variant:n,size:l,asChild:u=!1}=e,h=(0,r.A)(e,d);const x=u?i.DX:"button";return(0,c.jsx)(x,(0,a.A)({className:(0,o.cn)(m({variant:n,size:l,className:t})),ref:s},h))});u.displayName="Button"},4245(e,s,t){t.d(s,{BT:()=>g,Wu:()=>v,ZB:()=>f,Zp:()=>x,aR:()=>p});var a=t(2555),r=t(3986),n=t(9950),i=t(9332),l=t(4414);const o=["className"],c=["className"],d=["className"],m=["className"],u=["className"],h=["className"],x=n.forwardRef((e,s)=>{let{className:t}=e,n=(0,r.A)(e,o);return(0,l.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("rounded-xl border border-gray-200 bg-white text-gray-900 shadow-sm",t)},n))});x.displayName="Card";const p=n.forwardRef((e,s)=>{let{className:t}=e,n=(0,r.A)(e,c);return(0,l.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-5",t)},n))});p.displayName="CardHeader";const f=n.forwardRef((e,s)=>{let{className:t}=e,n=(0,r.A)(e,d);return(0,l.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight",t)},n))});f.displayName="CardTitle";const g=n.forwardRef((e,s)=>{let{className:t}=e,n=(0,r.A)(e,m);return(0,l.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t)},n))});g.displayName="CardDescription";const v=n.forwardRef((e,s)=>{let{className:t}=e,n=(0,r.A)(e,u);return(0,l.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("p-5 pt-0",t)},n))});v.displayName="CardContent";n.forwardRef((e,s)=>{let{className:t}=e,n=(0,r.A)(e,h);return(0,l.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("flex items-center p-5 pt-0",t)},n))}).displayName="CardFooter"},7255(e,s,t){t.d(s,{Cf:()=>b,L3:()=>N,c7:()=>j,lG:()=>p,rr:()=>y,zM:()=>f});var a=t(2555),r=t(3986),n=t(9950),i=t(9710),l=t(6479),o=t(9332),c=t(4414);const d=["className"],m=["className","children"],u=["className"],h=["className"],x=["className"],p=i.bL,f=i.l9,g=i.ZL,v=(i.bm,n.forwardRef((e,s)=>{let{className:t}=e,n=(0,r.A)(e,d);return(0,c.jsx)(i.hJ,(0,a.A)({ref:s,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},n))}));v.displayName=i.hJ.displayName;const b=n.forwardRef((e,s)=>{let{className:t,children:n}=e,d=(0,r.A)(e,m);return(0,c.jsxs)(g,{children:[(0,c.jsx)(v,{}),(0,c.jsxs)(i.UC,(0,a.A)((0,a.A)({ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},d),{},{children:[n,(0,c.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,c.jsx)(l.A,{className:"h-4 w-4"}),(0,c.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});b.displayName=i.UC.displayName;const j=e=>{let{className:s}=e,t=(0,r.A)(e,u);return(0,c.jsx)("div",(0,a.A)({className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s)},t))};j.displayName="DialogHeader";const N=n.forwardRef((e,s)=>{let{className:t}=e,n=(0,r.A)(e,h);return(0,c.jsx)(i.hE,(0,a.A)({ref:s,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",t)},n))});N.displayName=i.hE.displayName;const y=n.forwardRef((e,s)=>{let{className:t}=e,n=(0,r.A)(e,x);return(0,c.jsx)(i.VY,(0,a.A)({ref:s,className:(0,o.cn)("text-sm text-muted-foreground",t)},n))});y.displayName=i.VY.displayName},4779(e,s,t){t.d(s,{p:()=>c});var a=t(2555),r=t(3986),n=t(9950),i=t(9332),l=t(4414);const o=["className","type"],c=n.forwardRef((e,s)=>{let{className:t,type:n}=e,c=(0,r.A)(e,o);return(0,l.jsx)("input",(0,a.A)({type:n,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s},c))});c.displayName="Input"},9332(e,s,t){t.d(s,{cn:()=>n});var a=t(2004),r=t(9800);function n(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},4445(e,s,t){t.r(s),t.d(s,{default:()=>R});var a=t(2555),r=t(9950),n=t(5532),i=t(5030),l=t(2033),o=t(4799),c=t(6987),d=t(5097),m=t(9975),u=t(446),h=t(5332),x=t(3147),p=t(3971),f=t(6230);const g=(0,f.A)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);var v=t(7737),b=t(1946);const j=(0,f.A)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var N=t(1111),y=t(4779),w=t(4245),_=t(9630),A=t(7255),k=t(4414);const C={meeting:"Meeting",delivery:"Delivery",parent_visit:"Parent Visit",vendor:"Vendor",interview:"Interview",other:"Other"},S={meeting:"bg-blue-500/10 text-blue-600",delivery:"bg-orange-500/10 text-orange-600",parent_visit:"bg-green-500/10 text-green-600",vendor:"bg-purple-500/10 text-purple-600",interview:"bg-indigo-500/10 text-indigo-600",other:"bg-slate-500/10 text-slate-600"};function R(){const{user:e}=(0,n.As)(),{t:s}=(0,i.Bd)(),[t,f]=(0,r.useState)([]),[R,P]=(0,r.useState)(!0),[M,z]=(0,r.useState)(!1),[D,L]=(0,r.useState)(null),[O,T]=(0,r.useState)(""),[V,E]=(0,r.useState)({total:0,in:0,out:0}),I=(null===e||void 0===e?void 0:e.school_id)||"school123",[Z,W]=(0,r.useState)({name:"",phone:"",purpose:"parent_visit",whom_to_meet:"",id_proof_type:"",id_proof_number:"",vehicle_number:"",num_visitors:1,expected_duration:30,notes:""}),[$,B]=(0,r.useState)(!1),[H,q]=(0,r.useState)(""),[J,F]=(0,r.useState)(""),U=(0,r.useCallback)(async()=>{try{P(!0);const e=await fetch("".concat("","/api/front-office/visitors/today?school_id=").concat(I)),s=await e.json();f(s.visitors||[]),E({total:s.total_visitors||0,in:s.currently_in||0,out:s.checked_out||0})}catch(e){console.error("Error:",e)}finally{P(!1)}},[I]);(0,r.useEffect)(()=>{U()},[U]);const G=e=>e?new Date(e).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"-",Y=t.filter(e=>{var s,t,a;return(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(O.toLowerCase()))||(null===(t=e.phone)||void 0===t?void 0:t.includes(O))||(null===(a=e.whom_to_meet)||void 0===a?void 0:a.toLowerCase().includes(O.toLowerCase()))});return(0,k.jsxs)("div",{className:"space-y-6","data-testid":"front-office-page",children:[(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,k.jsx)(o.A,{className:"w-8 h-8 text-blue-500"}),s("visitor_management")]}),(0,k.jsx)("p",{className:"text-muted-foreground mt-1",children:s("front_office")})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)(N.$,{variant:"outline",onClick:U,children:[(0,k.jsx)(c.A,{className:"w-4 h-4 mr-2"}),s("refresh")]}),(0,k.jsxs)(N.$,{onClick:()=>z(!0),className:"bg-blue-600 hover:bg-blue-700",children:[(0,k.jsx)(d.A,{className:"w-4 h-4 mr-2"}),s("add_visitor")]})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,k.jsx)(w.Zp,{className:"bg-gradient-to-br from-blue-500/10 to-indigo-500/10 border-blue-500/20",children:(0,k.jsx)(w.Wu,{className:"pt-4",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-muted-foreground",children:s("total_today")}),(0,k.jsx)("p",{className:"text-3xl font-bold",children:V.total})]}),(0,k.jsx)(m.A,{className:"w-10 h-10 text-blue-500"})]})})}),(0,k.jsx)(w.Zp,{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/20",children:(0,k.jsx)(w.Wu,{className:"pt-4",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-muted-foreground",children:s("check_in")}),(0,k.jsx)("p",{className:"text-3xl font-bold text-green-600",children:V.in})]}),(0,k.jsx)(u.A,{className:"w-10 h-10 text-green-500"})]})})}),(0,k.jsx)(w.Zp,{className:"bg-gradient-to-br from-slate-500/10 to-gray-500/10 border-slate-500/20",children:(0,k.jsx)(w.Wu,{className:"pt-4",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-muted-foreground",children:s("check_out")}),(0,k.jsx)("p",{className:"text-3xl font-bold text-slate-600",children:V.out})]}),(0,k.jsx)(h.A,{className:"w-10 h-10 text-slate-500"})]})})})]}),(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,k.jsx)(y.p,{placeholder:s("search"),value:O,onChange:e=>T(e.target.value),className:"pl-10","data-testid":"search-visitors-input"})]}),(0,k.jsx)("div",{className:"space-y-3",children:R?(0,k.jsx)("div",{className:"flex justify-center py-12",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===Y.length?(0,k.jsx)(w.Zp,{children:(0,k.jsxs)(w.Wu,{className:"py-12 text-center",children:[(0,k.jsx)(m.A,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,k.jsx)("h3",{className:"text-lg font-medium",children:"Aaj koi visitor nahi aaya"}),(0,k.jsx)("p",{className:"text-muted-foreground mt-1",children:"New visitor add karne ke liye button click karein"})]})}):Y.map(e=>(0,k.jsx)(w.Zp,{className:"transition-all hover:shadow-md ".concat("checked_out"===e.status?"opacity-60":""),children:(0,k.jsx)(w.Wu,{className:"py-4",children:(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,k.jsx)("div",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-bold text-lg",children:e.badge_number}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[(0,k.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,k.jsx)(_.E,{className:S[e.purpose],children:C[e.purpose]}),(0,k.jsx)(_.E,{variant:"checked_in"===e.status?"default":"secondary",children:"checked_in"===e.status?"Inside":"Left"})]}),(0,k.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-muted-foreground",children:[(0,k.jsxs)("span",{className:"flex items-center gap-1",children:[(0,k.jsx)(p.A,{className:"w-3 h-3"})," ",e.phone]}),(0,k.jsxs)("span",{className:"flex items-center gap-1",children:[(0,k.jsx)(m.A,{className:"w-3 h-3"})," Meeting: ",e.whom_to_meet]}),e.vehicle_number&&(0,k.jsxs)("span",{className:"flex items-center gap-1",children:[(0,k.jsx)(g,{className:"w-3 h-3"})," ",e.vehicle_number]}),(0,k.jsxs)("span",{className:"flex items-center gap-1",children:[(0,k.jsx)(v.A,{className:"w-3 h-3"})," In: ",G(e.checkin_time),e.checkout_time&&" | Out: ".concat(G(e.checkout_time))]})]})]}),"checked_in"===e.status&&(0,k.jsxs)(N.$,{variant:"outline",onClick:()=>(async e=>{try{const s=await fetch("".concat("","/api/front-office/visitors/").concat(e,"/checkout?school_id=").concat(I),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),t=await s.json();t.success&&(l.oR.success("Visitor checked out! Duration: ".concat(t.duration)),U())}catch(s){l.oR.error("Check-out failed")}})(e.visitor_id),className:"text-red-600 border-red-200 hover:bg-red-50","data-testid":"checkout-btn-".concat(e.visitor_id),children:[(0,k.jsx)(h.A,{className:"w-4 h-4 mr-1"}),s("check_out")]})]})})},e.visitor_id))}),(0,k.jsx)(A.lG,{open:M,onOpenChange:z,children:(0,k.jsxs)(A.Cf,{className:"max-w-lg",children:[(0,k.jsx)(A.c7,{children:(0,k.jsxs)(A.L3,{children:[s("add_visitor")," - ",s("check_in")]})}),(0,k.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),Z.name&&Z.phone&&Z.whom_to_meet)try{const e=await fetch("".concat("","/api/front-office/visitors/checkin?school_id=").concat(I),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),t=await e.json();var s;if(t.success)l.oR.success("Visitor checked in! Badge: ".concat(null===(s=t.gate_pass)||void 0===s?void 0:s.badge_number)),z(!1),W({name:"",phone:"",purpose:"parent_visit",whom_to_meet:"",id_proof_type:"",id_proof_number:"",vehicle_number:"",num_visitors:1,expected_duration:30,notes:""}),U()}catch(t){l.oR.error("Check-in failed")}else l.oR.error("Name, Phone aur Whom to Meet required hai")},className:"space-y-4",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("label",{className:"text-sm font-medium",children:[s("name")," *"]}),(0,k.jsx)(y.p,{value:Z.name,onChange:e=>W((0,a.A)((0,a.A)({},Z),{},{name:e.target.value})),placeholder:s("visitor_name"),"data-testid":"visitor-name-input"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"text-sm font-medium",children:"Phone *"}),(0,k.jsx)(y.p,{value:Z.phone,onChange:e=>W((0,a.A)((0,a.A)({},Z),{},{phone:e.target.value})),placeholder:"Phone number"})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("label",{className:"text-sm font-medium",children:[s("purpose")," *"]}),(0,k.jsxs)("select",{value:Z.purpose,onChange:e=>W((0,a.A)((0,a.A)({},Z),{},{purpose:e.target.value})),className:"w-full h-10 px-3 border rounded-md",children:[(0,k.jsx)("option",{value:"parent_visit",children:"Parent Visit"}),(0,k.jsx)("option",{value:"meeting",children:"Meeting"}),(0,k.jsx)("option",{value:"delivery",children:"Delivery"}),(0,k.jsx)("option",{value:"vendor",children:"Vendor"}),(0,k.jsx)("option",{value:"interview",children:"Interview"}),(0,k.jsx)("option",{value:"other",children:"Other"})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"text-sm font-medium",children:"Whom to Meet *"}),(0,k.jsx)(y.p,{value:Z.whom_to_meet,onChange:e=>W((0,a.A)((0,a.A)({},Z),{},{whom_to_meet:e.target.value})),placeholder:"Staff name"})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"text-sm font-medium",children:"ID Proof Type"}),(0,k.jsxs)("select",{value:Z.id_proof_type,onChange:e=>W((0,a.A)((0,a.A)({},Z),{},{id_proof_type:e.target.value})),className:"w-full h-10 px-3 border rounded-md",children:[(0,k.jsx)("option",{value:"",children:"Select"}),(0,k.jsx)("option",{value:"aadhar",children:"Aadhar Card"}),(0,k.jsx)("option",{value:"pan",children:"PAN Card"}),(0,k.jsx)("option",{value:"driving_license",children:"Driving License"}),(0,k.jsx)("option",{value:"voter_id",children:"Voter ID"})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"text-sm font-medium",children:"ID Number"}),(0,k.jsx)(y.p,{value:Z.id_proof_number,onChange:e=>W((0,a.A)((0,a.A)({},Z),{},{id_proof_number:e.target.value})),placeholder:"ID number"})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"text-sm font-medium",children:s("vehicle_number")}),(0,k.jsx)(y.p,{value:Z.vehicle_number,onChange:e=>W((0,a.A)((0,a.A)({},Z),{},{vehicle_number:e.target.value})),placeholder:"UP32 AB 1234"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"text-sm font-medium",children:"Expected Duration (min)"}),(0,k.jsx)(y.p,{type:"number",value:Z.expected_duration,onChange:e=>W((0,a.A)((0,a.A)({},Z),{},{expected_duration:parseInt(e.target.value)}))})]})]}),(0,k.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mt-4 border border-blue-200",children:[(0,k.jsxs)("h4",{className:"font-semibold text-sm text-blue-900 flex items-center gap-2 mb-3",children:[(0,k.jsx)(b.A,{className:"w-4 h-4"})," OTP Verification"]}),$?(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("p",{className:"text-xs text-green-700",children:"OTP sent! Enter the code to verify visitor"}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)(y.p,{value:H,onChange:e=>q(e.target.value),placeholder:"Enter 4-digit OTP",className:"w-40",maxLength:4}),(0,k.jsx)(_.E,{className:H===J&&4===H.length?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500",children:H===J&&4===H.length?"\u2713 Verified":"Pending"})]})]}):(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-xs text-blue-700 mb-2",children:"Send OTP to the person being visited for approval"}),(0,k.jsx)(N.$,{type:"button",size:"sm",variant:"outline",onClick:()=>{const e=Math.floor(1e3+9e3*Math.random()).toString();F(e),B(!0),l.oR.success("OTP ".concat(e," sent to ").concat(Z.whom_to_meet))},className:"text-blue-700 border-blue-300",children:"Send OTP"})]})]}),(0,k.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,k.jsx)(N.$,{type:"button",variant:"outline",onClick:()=>z(!1),children:s("cancel")}),(0,k.jsxs)(N.$,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[(0,k.jsx)(j,{className:"w-4 h-4 mr-2"}),s("check_in")," & ",s("print")]})]})]})]})})]})}},446(e,s,t){t.d(s,{A:()=>a});const a=(0,t(6230).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},6987(e,s,t){t.d(s,{A:()=>a});const a=(0,t(6230).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},5097(e,s,t){t.d(s,{A:()=>a});const a=(0,t(6230).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])}}]);