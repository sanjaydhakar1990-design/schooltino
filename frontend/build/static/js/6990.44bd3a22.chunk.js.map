{"version":3,"file":"static/js/6990.44bd3a22.chunk.js","mappings":"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","sources":["components/ui/button.jsx","components/ui/dialog.jsx","components/ui/input.jsx","components/ui/label.jsx","lib/utils.js","components/ui/slider.jsx","pages/SettingsPage.js"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-blue-500 text-white shadow-sm hover:bg-blue-600 rounded-lg\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-gray-200 bg-white shadow-sm hover:bg-gray-50 text-gray-700 rounded-lg\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n  return (\n    <Comp\n      className={cn(buttonVariants({ variant, size, className }))}\n      ref={ref}\n      {...props} />\n  );\n})\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props} />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}>\n      {children}\n      <DialogPrimitive.Close\n        className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)}\n    {...props} />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)}\n    {...props} />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      className={cn(\n        \"flex h-9 w-full rounded-md border border-input bg-white px-3 py-1 text-base text-gray-900 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props} />\n  );\n})\nInput.displayName = \"Input\"\n\nexport { Input }\n","import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","import { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs) {\n  return twMerge(clsx(inputs));\n}\n","import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\"relative flex w-full touch-none select-none items-center\", className)}\n    {...props}>\n    <SliderPrimitive.Track\n      className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb\n      className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","import { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useAuth } from '../context/AuthContext';\nimport { useLanguage } from '../context/LanguageContext';\nimport { useTheme, THEME_PRESETS } from '../context/ThemeContext';\nimport axios from 'axios';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogDescription,\n} from '../components/ui/dialog';\nimport { Settings as SettingsIcon, School, Globe, Plus, Loader2, Check, Upload, PenTool, Stamp, Image, Wallet, Sparkles, Camera, X, ToggleLeft, Link, Eye, EyeOff, Move, ZoomIn, RotateCcw, Save, CreditCard, FileText, Bell, Calendar as CalendarIcon, Smartphone, Shield } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { Slider } from '../components/ui/slider';\n\nconst API = `${(process.env.REACT_APP_BACKEND_URL || '')}/api`;\n\nexport default function SettingsPage() {\n  const { t } = useTranslation();\n  const { user, schoolId, selectSchool, refreshSchoolData } = useAuth();\n  const { language, changeLanguage } = useLanguage();\n  const { isDarkMode, toggleDarkMode, activePreset, setActivePreset, customHeaderColor, setCustomHeaderColor, headerLogoSize, setHeaderLogoSize } = useTheme();\n  const [schools, setSchools] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  \n  // Sign & Seal states\n  const [signatureUrl, setSignatureUrl] = useState(null);\n  const [sealUrl, setSealUrl] = useState(null);\n  const [uploadingSignature, setUploadingSignature] = useState(false);\n  const [uploadingSeal, setUploadingSeal] = useState(false);\n  const signatureInputRef = useRef(null);\n  const sealInputRef = useRef(null);\n  const [logoUrl, setLogoUrl] = useState(null);\n  const [logoSize, setLogoSize] = useState(100);\n  const [logoOpacity, setLogoOpacity] = useState(100);\n  const [watermarkEnabled, setWatermarkEnabled] = useState(false);\n  const [watermarkOpacity, setWatermarkOpacity] = useState(5);\n  const [watermarkSize, setWatermarkSize] = useState('large');\n  const [savingBranding, setSavingBranding] = useState(false);\n  const logoUploadRef = useRef(null);\n  \n\n  const [formData, setFormData] = useState({\n    name: '',\n    address: '',\n    board_type: 'CBSE',\n    city: '',\n    state: '',\n    phone: '',\n    email: ''\n  });\n\n  const MODULE_LIST = [\n    { key: 'dashboard', label: 'Dashboard' },\n    { key: 'students', label: 'Students' },\n    { key: 'staff', label: 'Staff' },\n    { key: 'classes', label: 'Classes' },\n    { key: 'attendance', label: 'Attendance' },\n    { key: 'timetable', label: 'Timetable' },\n    { key: 'exams_reports', label: 'Exams & Reports' },\n    { key: 'homework', label: 'Homework' },\n    { key: 'digital_library', label: 'Digital Library' },\n    { key: 'live_classes', label: 'Live Classes' },\n    { key: 'fee_management', label: 'Fee Management' },\n    { key: 'admissions', label: 'Admissions CRM' },\n    { key: 'communication_hub', label: 'Communication Hub' },\n    { key: 'front_office', label: 'Front Office' },\n    { key: 'transport', label: 'Transport' },\n    { key: 'inventory', label: 'Inventory' },\n    { key: 'cctv', label: 'CCTV' },\n    { key: 'calendar', label: 'Calendar' },\n    { key: 'ai_tools', label: 'AI Tools' },\n    { key: 'tino_ai_chat', label: 'Tino AI Chat' },\n    { key: 'analytics', label: 'Analytics' },\n    { key: 'multi_branch', label: 'Multi-Branch' },\n  ];\n\n  const PORTALS = ['schooltino', 'teachtino'];\n  const PORTAL_LABELS = { schooltino: 'SchoolTino (Admin)', teachtino: 'TeachTino (Teachers)' };\n\n  const defaultVisibility = () => {\n    const settings = {};\n    MODULE_LIST.forEach(m => {\n      settings[m.key] = { schooltino: true, teachtino: true };\n    });\n    return settings;\n  };\n\n  const [moduleVisibility, setModuleVisibility] = useState(defaultVisibility);\n  const [savingModules, setSavingModules] = useState(false);\n\n  const loadModuleVisibility = async () => {\n    const defaults = defaultVisibility();\n    let loaded = null;\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API}/settings/module-visibility`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      if (response.data && Object.keys(response.data).length > 0) {\n        loaded = response.data;\n      }\n    } catch (error) {\n      console.log('Backend module visibility not available, using local');\n    }\n    if (!loaded) {\n      try {\n        const saved = localStorage.getItem('module_visibility_settings');\n        if (saved) loaded = JSON.parse(saved);\n      } catch (e) {}\n    }\n    const merged = { ...defaults };\n    if (loaded) {\n      Object.keys(loaded).forEach(key => {\n        merged[key] = { ...defaults[key], ...loaded[key] };\n      });\n    }\n    setModuleVisibility(merged);\n    localStorage.setItem('module_visibility_settings', JSON.stringify(merged));\n    window.dispatchEvent(new Event('module_visibility_changed'));\n  };\n\n  const toggleModule = (moduleKey, portal) => {\n    const newVisibility = {\n      ...moduleVisibility,\n      [moduleKey]: {\n        ...moduleVisibility[moduleKey],\n        [portal]: !moduleVisibility[moduleKey]?.[portal]\n      }\n    };\n    setModuleVisibility(newVisibility);\n    localStorage.setItem('module_visibility_settings', JSON.stringify(newVisibility));\n    window.dispatchEvent(new Event('module_visibility_changed'));\n  };\n\n  const saveModuleVisibility = async () => {\n    setSavingModules(true);\n    try {\n      localStorage.setItem('module_visibility_settings', JSON.stringify(moduleVisibility));\n      const token = localStorage.getItem('token');\n      await axios.post(`${API}/settings/module-visibility`, moduleVisibility, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      toast.success('Module settings saved! Sidebar updated.');\n    } catch (error) {\n      localStorage.setItem('module_visibility_settings', JSON.stringify(moduleVisibility));\n      toast.success('Settings saved locally! Sidebar updated.');\n    } finally {\n      setSavingModules(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchSchools();\n    fetchSignatureSeal();\n    loadModuleVisibility();\n    fetchBrandingSettings();\n  }, []);\n\n  const fetchSchools = async () => {\n    try {\n      const response = await axios.get(`${API}/schools`);\n      setSchools(response.data);\n    } catch (error) {\n      console.error('Failed to fetch schools');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSignatureSeal = async () => {\n    try {\n      const response = await axios.get(`${API}/school/signature-seal`);\n      setSignatureUrl(response.data.signature_url);\n      setSealUrl(response.data.seal_url);\n    } catch (error) {\n      console.error('Failed to fetch signature/seal');\n    }\n  };\n\n\n  const handleSignatureUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    \n    if (file.size > 2 * 1024 * 1024) {\n      toast.error('File size should be less than 2MB');\n      return;\n    }\n    \n    setUploadingSignature(true);\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      \n      const response = await axios.post(`${API}/school/upload-signature`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n      \n      setSignatureUrl(response.data.url);\n      toast.success('Signature uploaded successfully! âœï¸');\n    } catch (error) {\n      toast.error('Failed to upload signature');\n    } finally {\n      setUploadingSignature(false);\n    }\n  };\n\n  const fetchBrandingSettings = async () => {\n    if (!schoolId) return;\n    try {\n      const token = localStorage.getItem('token');\n      const res = await axios.get(`${API}/schools/${schoolId}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      if (res.data) {\n        setLogoUrl(res.data.logo_url || null);\n        setLogoSize(res.data.logo_size || 100);\n        setLogoOpacity(res.data.logo_opacity || 100);\n        setWatermarkEnabled(res.data.watermark_enabled || false);\n        setWatermarkOpacity(res.data.watermark_opacity || 5);\n        setWatermarkSize(res.data.watermark_size || 'large');\n      }\n    } catch (e) { console.log('Branding settings not loaded'); }\n  };\n\n  const handleLogoUploadSettings = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    if (file.size > 5 * 1024 * 1024) { toast.error('File size should be less than 5MB'); return; }\n    try {\n      const reader = new FileReader();\n      reader.onload = (ev) => setLogoUrl(ev.target.result);\n      reader.readAsDataURL(file);\n      toast.success('Logo updated! Save to apply.');\n    } catch (e) { toast.error('Failed to process logo'); }\n  };\n\n  const saveBrandingSettings = async () => {\n    if (!schoolId) { toast.error('No school selected'); return; }\n    setSavingBranding(true);\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(`${API}/schools/${schoolId}/branding`, {\n        logo_url: logoUrl,\n        logo_size: logoSize,\n        logo_opacity: logoOpacity,\n        watermark_enabled: watermarkEnabled,\n        watermark_opacity: watermarkOpacity,\n        watermark_size: watermarkSize,\n      }, { headers: { Authorization: `Bearer ${token}` } });\n      toast.success('Branding settings saved! Changes will reflect across all portals.');\n      if (refreshSchoolData) refreshSchoolData();\n    } catch (e) { toast.error('Failed to save branding settings'); }\n    finally { setSavingBranding(false); }\n  };\n\n  const handleSealUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    \n    if (file.size > 2 * 1024 * 1024) {\n      toast.error('File size should be less than 2MB');\n      return;\n    }\n    \n    setUploadingSeal(true);\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      \n      const response = await axios.post(`${API}/school/upload-seal`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n      \n      setSealUrl(response.data.url);\n      toast.success('Seal uploaded successfully! ðŸ”–');\n    } catch (error) {\n      toast.error('Failed to upload seal');\n    } finally {\n      setUploadingSeal(false);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n\n    try {\n      const response = await axios.post(`${API}/schools`, formData);\n      toast.success('School created successfully');\n      setIsDialogOpen(false);\n      setFormData({\n        name: '',\n        address: '',\n        board_type: 'CBSE',\n        city: '',\n        state: '',\n        phone: '',\n        email: ''\n      });\n      fetchSchools();\n      // Auto select the new school\n      selectSchool(response.data.id);\n    } catch (error) {\n      const msg = error.response?.data?.detail;\n      toast.error(typeof msg === 'string' ? msg : t('something_went_wrong'));\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSelectSchool = (id) => {\n    selectSchool(id);\n    toast.success('School selected');\n  };\n\n  if (user?.role !== 'director') {\n    return (\n      <div className=\"flex items-center justify-center min-h-[60vh]\">\n        <div className=\"text-center bg-white rounded-xl shadow-md p-8 max-w-md\">\n          <div className=\"text-5xl mb-4\">ðŸ”’</div>\n          <h2 className=\"text-xl font-bold text-gray-800 mb-2\">{t('access_denied')}</h2>\n          <p className=\"text-gray-500\">Only the Director/Admin can access Settings. Contact your school director for permission changes.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-8\" data-testid=\"settings-page\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-3xl font-bold font-heading text-slate-900\">{t('settings')}</h1>\n        <p className=\"text-slate-500 mt-1\">{t('manage_preferences')}</p>\n      </div>\n\n      {/* Quick Navigation */}\n      <div className=\"flex flex-wrap gap-2\">\n        {[\n          { id: 'profile-section', icon: 'ðŸ‘¤', label: t('profile') },\n          { id: 'language-section', icon: 'ðŸŒ', label: 'Language / à¤­à¤¾à¤·à¤¾' },\n          { id: 'theme-section', icon: 'ðŸŽ¨', label: t('theme_settings') },\n          { id: 'branding-section', icon: 'ðŸ–¼ï¸', label: t('logo_branding') },\n          { id: 'modules-section', icon: 'ðŸ“¦', label: t('module_management') },\n        ].map(nav => (\n          <button\n            key={nav.id}\n            onClick={() => document.getElementById(nav.id)?.scrollIntoView({ behavior: 'smooth', block: 'start' })}\n            className=\"flex items-center gap-2 px-4 py-2 rounded-xl bg-white border border-slate-200 hover:border-blue-400 hover:bg-blue-50 transition-all text-sm font-medium text-slate-700 shadow-sm\"\n          >\n            <span>{nav.icon}</span> {nav.label}\n          </button>\n        ))}\n      </div>\n\n      {/* User Info */}\n      <div className=\"stat-card\" id=\"profile-section\">\n        <h2 className=\"text-lg font-semibold text-slate-900 mb-4\">{t('profile')}</h2>\n        <div className=\"flex items-center gap-4\">\n          <div className=\"w-16 h-16 bg-indigo-600 rounded-full flex items-center justify-center text-white text-2xl font-bold\">\n            {user?.name?.charAt(0).toUpperCase()}\n          </div>\n          <div>\n            <p className=\"text-xl font-semibold text-slate-900\">{user?.name}</p>\n            <p className=\"text-slate-500\">{user?.email}</p>\n            <span className=\"badge badge-info capitalize mt-1\">{user?.role}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Language Setting */}\n      <div className=\"stat-card\" id=\"language-section\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <Globe className=\"w-5 h-5 text-indigo-600\" />\n          <h2 className=\"text-lg font-semibold text-slate-900\">Language / à¤­à¤¾à¤·à¤¾</h2>\n        </div>\n        <div className=\"flex gap-3 flex-wrap\">\n          <button\n            onClick={() => changeLanguage('en')}\n            className={`px-6 py-3 rounded-xl border-2 transition-all ${\n              language === 'en'\n                ? 'border-indigo-600 bg-indigo-50 text-indigo-700'\n                : 'border-slate-200 hover:border-slate-300'\n            }`}\n            data-testid=\"lang-en-btn\"\n          >\n            <span className=\"font-medium\">English</span>\n            {language === 'en' && <Check className=\"w-4 h-4 inline ml-2\" />}\n          </button>\n          <button\n            onClick={() => changeLanguage('hi')}\n            className={`px-6 py-3 rounded-xl border-2 transition-all ${\n              language === 'hi'\n                ? 'border-indigo-600 bg-indigo-50 text-indigo-700'\n                : 'border-slate-200 hover:border-slate-300'\n            }`}\n            data-testid=\"lang-hi-btn\"\n          >\n            <span className=\"font-medium\">à¤¹à¤¿à¤‚à¤¦à¥€</span>\n            {language === 'hi' && <Check className=\"w-4 h-4 inline ml-2\" />}\n          </button>\n          <button\n            onClick={() => changeLanguage('hinglish')}\n            className={`px-6 py-3 rounded-xl border-2 transition-all ${\n              language === 'hinglish'\n                ? 'border-indigo-600 bg-indigo-50 text-indigo-700'\n                : 'border-slate-200 hover:border-slate-300'\n            }`}\n            data-testid=\"lang-hinglish-btn\"\n          >\n            <span className=\"font-medium\">Hinglish ðŸ”„</span>\n            {language === 'hinglish' && <Check className=\"w-4 h-4 inline ml-2\" />}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"stat-card border-2 border-purple-100\" id=\"theme-section\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <Sparkles className=\"w-5 h-5 text-purple-600\" />\n          <h2 className=\"text-lg font-semibold text-slate-900\">{t('theme_settings')}</h2>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div>\n              <Label className=\"text-sm font-medium text-slate-700\">{t('dark_mode')}</Label>\n              <p className=\"text-xs text-slate-500 mt-0.5\">\n                {isDarkMode ? 'Dark theme is active' : 'Switch to dark theme'}\n              </p>\n            </div>\n            <button\n              onClick={toggleDarkMode}\n              className={`relative w-12 h-6 rounded-full transition-colors ${isDarkMode ? 'bg-blue-600' : 'bg-slate-300'}`}\n            >\n              <span className={`absolute top-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform ${isDarkMode ? 'left-[26px]' : 'left-0.5'}`} />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <Label className=\"text-sm font-medium text-slate-700 mb-3 block\">{t('header_color')}</Label>\n          <div className=\"grid grid-cols-4 sm:grid-cols-8 gap-2 mb-3\">\n            {Object.entries(THEME_PRESETS).map(([key, preset]) => (\n              <button\n                key={key}\n                onClick={() => { setActivePreset(key); setCustomHeaderColor(''); }}\n                className={`relative w-full aspect-square rounded-xl border-2 transition-all hover:scale-110 ${activePreset === key && !customHeaderColor ? 'border-slate-900 ring-2 ring-offset-2 ring-blue-400' : 'border-transparent'}`}\n                style={{ backgroundColor: preset.headerBg }}\n                title={preset.name}\n              >\n                {activePreset === key && !customHeaderColor && (\n                  <Check className=\"w-4 h-4 text-white absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\" />\n                )}\n              </button>\n            ))}\n          </div>\n          <div className=\"flex items-center gap-3 mt-3\">\n            <Label className=\"text-xs text-slate-500 whitespace-nowrap\">{t('customize')}:</Label>\n            <input\n              type=\"color\"\n              value={customHeaderColor || '#3b82f6'}\n              onChange={(e) => setCustomHeaderColor(e.target.value)}\n              className=\"w-8 h-8 rounded-lg cursor-pointer border border-slate-200\"\n            />\n            {customHeaderColor && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setCustomHeaderColor('')}\n                className=\"text-xs text-slate-500\"\n              >\n                {t('reset')}\n              </Button>\n            )}\n          </div>\n        </div>\n\n        <div className=\"mb-2\">\n          <Label className=\"text-sm font-medium text-slate-700 mb-2 block\">{t('logo_size')} ({t('header_color').split(' ')[0]})</Label>\n          <div className=\"flex items-center gap-4\">\n            <span className=\"text-xs text-slate-500\">{t('small')}</span>\n            <Slider\n              value={[headerLogoSize]}\n              onValueChange={(val) => setHeaderLogoSize(val[0])}\n              min={24}\n              max={56}\n              step={2}\n              className=\"flex-1\"\n            />\n            <span className=\"text-xs text-slate-500\">{t('large')}</span>\n            <span className=\"text-xs text-slate-400 w-8 text-right\">{headerLogoSize}px</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Signature & Seal Upload - Director/Principal only */}\n      {(user?.role === 'director' || user?.role === 'principal') && (\n        <div className=\"stat-card\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <PenTool className=\"w-5 h-5 text-indigo-600\" />\n            <h2 className=\"text-lg font-semibold text-slate-900\">{t('signature_seal')}</h2>\n          </div>\n          <p className=\"text-sm text-slate-500 mb-4\">\n            Ye signature aur seal notices pe automatically show honge\n          </p>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Signature Upload */}\n            <div className=\"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:border-indigo-300 transition-all\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <PenTool className=\"w-4 h-4 text-indigo-600\" />\n                <span className=\"font-medium text-slate-700\">Signature</span>\n              </div>\n              \n              {signatureUrl ? (\n                <div className=\"relative\">\n                  <img \n                    src={`${(process.env.REACT_APP_BACKEND_URL || '')}${signatureUrl}`}\n                    alt=\"Signature\"\n                    className=\"w-full h-24 object-contain bg-white rounded-lg border\"\n                  />\n                  <button\n                    onClick={() => signatureInputRef.current?.click()}\n                    className=\"absolute top-2 right-2 p-1 bg-white rounded-full shadow hover:bg-slate-100\"\n                  >\n                    <Upload className=\"w-4 h-4 text-slate-600\" />\n                  </button>\n                </div>\n              ) : (\n                <button\n                  onClick={() => signatureInputRef.current?.click()}\n                  disabled={uploadingSignature}\n                  className=\"w-full h-24 flex flex-col items-center justify-center bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 transition-all\"\n                >\n                  {uploadingSignature ? (\n                    <Loader2 className=\"w-6 h-6 animate-spin text-indigo-600\" />\n                  ) : (\n                    <>\n                      <Upload className=\"w-6 h-6 text-slate-400 mb-1\" />\n                      <span className=\"text-sm text-slate-500\">{t('upload_signature')}</span>\n                    </>\n                  )}\n                </button>\n              )}\n              \n              <input\n                ref={signatureInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleSignatureUpload}\n                className=\"hidden\"\n              />\n              <p className=\"text-xs text-slate-400 mt-2\">PNG/JPG, max 2MB</p>\n            </div>\n            \n            {/* Seal Upload */}\n            <div className=\"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:border-indigo-300 transition-all\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <Stamp className=\"w-4 h-4 text-indigo-600\" />\n                <span className=\"font-medium text-slate-700\">School Seal/Stamp</span>\n              </div>\n              \n              {sealUrl ? (\n                <div className=\"relative\">\n                  <img \n                    src={`${(process.env.REACT_APP_BACKEND_URL || '')}${sealUrl}`}\n                    alt=\"Seal\"\n                    className=\"w-full h-24 object-contain bg-white rounded-lg border\"\n                  />\n                  <button\n                    onClick={() => sealInputRef.current?.click()}\n                    className=\"absolute top-2 right-2 p-1 bg-white rounded-full shadow hover:bg-slate-100\"\n                  >\n                    <Upload className=\"w-4 h-4 text-slate-600\" />\n                  </button>\n                </div>\n              ) : (\n                <button\n                  onClick={() => sealInputRef.current?.click()}\n                  disabled={uploadingSeal}\n                  className=\"w-full h-24 flex flex-col items-center justify-center bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 transition-all\"\n                >\n                  {uploadingSeal ? (\n                    <Loader2 className=\"w-6 h-6 animate-spin text-indigo-600\" />\n                  ) : (\n                    <>\n                      <Stamp className=\"w-6 h-6 text-slate-400 mb-1\" />\n                      <span className=\"text-sm text-slate-500\">{t('upload_seal')}</span>\n                    </>\n                  )}\n                </button>\n              )}\n              \n              <input\n                ref={sealInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleSealUpload}\n                className=\"hidden\"\n              />\n              <p className=\"text-xs text-slate-400 mt-2\">PNG/JPG, max 2MB</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {(user?.role === 'director' || user?.role === 'principal') && (\n        <div className=\"stat-card border-2 border-blue-100\" id=\"branding-section\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <Image className=\"w-5 h-5 text-blue-600\" />\n              <h2 className=\"text-lg font-semibold text-slate-900\">{t('logo_branding')}</h2>\n            </div>\n            <Button onClick={saveBrandingSettings} disabled={savingBranding} className=\"bg-blue-600 hover:bg-blue-700 text-white\">\n              {savingBranding ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : <Save className=\"w-4 h-4 mr-2\" />}\n              {t('save')}\n            </Button>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <h3 className=\"text-sm font-semibold text-slate-700 mb-3\">School Logo</h3>\n              <div className=\"flex items-center gap-4\">\n                <div className=\"w-24 h-24 border-2 border-dashed border-blue-300 rounded-xl flex items-center justify-center overflow-hidden bg-slate-50\">\n                  {logoUrl ? (\n                    <img src={logoUrl} alt=\"Logo\" className=\"w-full h-full object-contain p-1\" />\n                  ) : (\n                    <Camera className=\"w-8 h-8 text-slate-300\" />\n                  )}\n                </div>\n                <div className=\"space-y-2\">\n                  <input ref={logoUploadRef} type=\"file\" accept=\"image/*\" onChange={handleLogoUploadSettings} className=\"hidden\" />\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => logoUploadRef.current?.click()}>\n                    <Upload className=\"w-4 h-4 mr-2\" /> {logoUrl ? 'Change Logo' : 'Upload Logo'}\n                  </Button>\n                  {logoUrl && (\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => setLogoUrl(null)} className=\"text-red-500 hover:text-red-700\">\n                      <X className=\"w-4 h-4 mr-2\" /> Remove\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <h3 className=\"text-sm font-semibold text-slate-700 mb-2\">Logo Size & Transparency</h3>\n              <div>\n                <Label className=\"text-sm text-slate-600\">Size: {logoSize}%</Label>\n                <input type=\"range\" min=\"30\" max=\"200\" value={logoSize}\n                  onChange={(e) => setLogoSize(parseInt(e.target.value))}\n                  className=\"w-full mt-1 accent-blue-600\" />\n                <div className=\"flex justify-between text-xs text-slate-400\"><span>30%</span><span>200%</span></div>\n              </div>\n              <div>\n                <Label className=\"text-sm text-slate-600\">Transparency: {logoOpacity}%</Label>\n                <input type=\"range\" min=\"10\" max=\"100\" value={logoOpacity}\n                  onChange={(e) => setLogoOpacity(parseInt(e.target.value))}\n                  className=\"w-full mt-1 accent-blue-600\" />\n                <div className=\"flex justify-between text-xs text-slate-400\"><span>10%</span><span>100%</span></div>\n              </div>\n              {logoUrl && (\n                <div className=\"flex items-center justify-center p-3 bg-slate-50 rounded-lg border\">\n                  <img src={logoUrl} alt=\"Preview\" \n                    style={{ transform: `scale(${logoSize / 100})`, opacity: logoOpacity / 100, maxWidth: '150px', maxHeight: '100px' }} \n                    className=\"object-contain transition-transform\" />\n                </div>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"border-t border-slate-200 mt-6 pt-4\">\n            <h3 className=\"text-sm font-semibold text-slate-700 mb-3\">{t('watermark_settings')}</h3>\n            <label className=\"flex items-center gap-3 cursor-pointer p-3 rounded-lg bg-blue-50 border border-blue-200 hover:bg-blue-100 mb-4\">\n              <input type=\"checkbox\" checked={watermarkEnabled}\n                onChange={(e) => setWatermarkEnabled(e.target.checked)}\n                className=\"w-5 h-5 rounded border-gray-300 text-blue-600 accent-blue-600\" />\n              <div>\n                <span className=\"font-medium text-sm\">Enable Logo Watermark (à¤µà¥‰à¤Ÿà¤°à¤®à¤¾à¤°à¥à¤• à¤šà¤¾à¤²à¥‚ à¤•à¤°à¥‡à¤‚)</span>\n                <p className=\"text-xs text-slate-500\">All portals (SchoolTino, TeachTino, StudyTino) mein watermark dikhega</p>\n              </div>\n            </label>\n            \n            {watermarkEnabled && (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label className=\"text-sm text-slate-600\">Watermark Opacity: {watermarkOpacity}%</Label>\n                  <input type=\"range\" min=\"2\" max=\"20\" value={watermarkOpacity}\n                    onChange={(e) => setWatermarkOpacity(parseInt(e.target.value))}\n                    className=\"w-full mt-1 accent-blue-600\" />\n                  <div className=\"flex justify-between text-xs text-slate-400\"><span>Light (2%)</span><span>Dark (20%)</span></div>\n                </div>\n                <div>\n                  <Label className=\"text-sm text-slate-600\">Watermark Size</Label>\n                  <select value={watermarkSize}\n                    onChange={(e) => setWatermarkSize(e.target.value)}\n                    className=\"w-full h-10 rounded-md border border-slate-200 px-3 text-sm mt-1\">\n                    <option value=\"small\">Small (à¤›à¥‹à¤Ÿà¤¾)</option>\n                    <option value=\"medium\">Medium (à¤®à¤§à¥à¤¯à¤®)</option>\n                    <option value=\"large\">Large (à¤¬à¤¡à¤¼à¤¾)</option>\n                    <option value=\"full\">Full Page (à¤ªà¥‚à¤°à¤¾ à¤ªà¥‡à¤œ)</option>\n                  </select>\n                </div>\n              </div>\n            )}\n            \n            {watermarkEnabled && logoUrl && (\n              <div className=\"mt-4 relative h-40 bg-white rounded-lg border overflow-hidden flex items-center justify-center\">\n                <img src={logoUrl} alt=\"Watermark Preview\" \n                  style={{ opacity: watermarkOpacity / 100, width: watermarkSize === 'small' ? '80px' : watermarkSize === 'medium' ? '150px' : watermarkSize === 'full' ? '80%' : '250px' }}\n                  className=\"object-contain\" />\n                <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n                  <span className=\"text-slate-300 text-lg font-bold\">Watermark Preview</span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Module Management */}\n      {(user?.role === 'director' || user?.role === 'principal') && (\n        <div className=\"stat-card border-2 border-violet-100\" id=\"modules-section\" data-testid=\"module-management-section\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <ToggleLeft className=\"w-5 h-5 text-violet-600\" />\n              <h2 className=\"text-lg font-semibold text-slate-900\">{t('module_management')}</h2>\n            </div>\n            <Button\n              onClick={saveModuleVisibility}\n              disabled={savingModules}\n              className=\"bg-violet-600 hover:bg-violet-700 text-white\"\n              data-testid=\"save-module-visibility-btn\"\n            >\n              {savingModules ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : <Check className=\"w-4 h-4 mr-2\" />}\n              {t('save')}\n            </Button>\n          </div>\n          <p className=\"text-sm text-slate-500 mb-4\">Enable or disable modules for each portal. Changes will apply immediately after saving.</p>\n\n          <div className=\"bg-white rounded-xl border border-slate-200 overflow-hidden\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm\">\n                <thead>\n                  <tr className=\"bg-slate-50 border-b border-slate-200\">\n                    <th className=\"text-left py-3 px-4 font-semibold text-slate-700\">Module</th>\n                    {PORTALS.map(portal => (\n                      <th key={portal} className=\"text-center py-3 px-4 font-semibold text-slate-700\">{PORTAL_LABELS[portal]}</th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {MODULE_LIST.map((mod, idx) => (\n                    <tr key={mod.key} className={idx % 2 === 0 ? 'bg-white' : 'bg-slate-50'}>\n                      <td className=\"py-2.5 px-4 font-medium text-slate-800\">{t(mod.key)}</td>\n                      {PORTALS.map(portal => (\n                        <td key={portal} className=\"text-center py-2.5 px-4\">\n                          <button\n                            onClick={() => toggleModule(mod.key, portal)}\n                            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                              moduleVisibility[mod.key]?.[portal] ? 'bg-violet-600' : 'bg-slate-300'\n                            }`}\n                            data-testid={`toggle-${mod.key}-${portal}`}\n                          >\n                            <span className={`inline-block h-4 w-4 rounded-full bg-white transition-transform ${\n                              moduleVisibility[mod.key]?.[portal] ? 'translate-x-6' : 'translate-x-1'\n                            }`} />\n                          </button>\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* School Selection */}\n      <div className=\"stat-card\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-3\">\n            <School className=\"w-5 h-5 text-indigo-600\" />\n            <h2 className=\"text-lg font-semibold text-slate-900\">Schools</h2>\n          </div>\n          {user?.role === 'director' && (\n            <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n              <DialogTrigger asChild>\n                <Button className=\"btn-primary\" data-testid=\"add-school-btn\">\n                  <Plus className=\"w-5 h-5 mr-2\" />\n                  Add School\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-lg\">\n                <DialogHeader>\n                  <DialogTitle>Add New School</DialogTitle>\n                  <DialogDescription className=\"sr-only\">Fill the form to add a new school</DialogDescription>\n                </DialogHeader>\n                <form onSubmit={handleSubmit} className=\"space-y-4 mt-4\">\n                  <div className=\"space-y-2\">\n                    <Label>School Name *</Label>\n                    <Input\n                      name=\"name\"\n                      value={formData.name}\n                      onChange={handleChange}\n                      required\n                      data-testid=\"school-name-input\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label>Address *</Label>\n                    <Input\n                      name=\"address\"\n                      value={formData.address}\n                      onChange={handleChange}\n                      required\n                      data-testid=\"school-address-input\"\n                    />\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>City *</Label>\n                      <Input\n                        name=\"city\"\n                        value={formData.city}\n                        onChange={handleChange}\n                        required\n                        data-testid=\"school-city-input\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>State *</Label>\n                      <Input\n                        name=\"state\"\n                        value={formData.state}\n                        onChange={handleChange}\n                        required\n                        data-testid=\"school-state-input\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Board Type *</Label>\n                      <select\n                        name=\"board_type\"\n                        value={formData.board_type}\n                        onChange={handleChange}\n                        className=\"w-full h-10 rounded-lg border border-slate-200 px-3\"\n                        data-testid=\"school-board-select\"\n                      >\n                        <option value=\"MPBSE\">MP Board (MPBSE)</option>\n                        <option value=\"RBSE\">Rajasthan Board (RBSE)</option>\n                        <option value=\"CBSE\">CBSE</option>\n                        <option value=\"ICSE\">ICSE</option>\n                        <option value=\"UP Board\">UP Board</option>\n                        <option value=\"Bihar Board\">Bihar Board</option>\n                        <option value=\"CG Board\">CG Board (CGBSE)</option>\n                        <option value=\"State Board\">Other State Board</option>\n                        <option value=\"IB\">IB</option>\n                      </select>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Phone</Label>\n                      <Input\n                        name=\"phone\"\n                        value={formData.phone}\n                        onChange={handleChange}\n                        data-testid=\"school-phone-input\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label>Email</Label>\n                    <Input\n                      name=\"email\"\n                      type=\"email\"\n                      value={formData.email}\n                      onChange={handleChange}\n                      data-testid=\"school-email-input\"\n                    />\n                  </div>\n                  <div className=\"flex justify-end gap-3 pt-4\">\n                    <Button type=\"button\" variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                      {t('cancel')}\n                    </Button>\n                    <Button type=\"submit\" className=\"btn-primary\" disabled={submitting} data-testid=\"save-school-btn\">\n                      {submitting ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : null}\n                      {t('save')}\n                    </Button>\n                  </div>\n                </form>\n              </DialogContent>\n            </Dialog>\n          )}\n        </div>\n\n        {loading ? (\n          <div className=\"flex justify-center py-10\">\n            <div className=\"spinner w-8 h-8\" />\n          </div>\n        ) : schools.length === 0 ? (\n          <div className=\"text-center py-10\">\n            <School className=\"w-12 h-12 text-slate-300 mx-auto mb-2\" />\n            <p className=\"text-slate-500\">No schools added yet</p>\n            <p className=\"text-sm text-slate-400\">Add a school to get started</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {schools.map((school) => (\n              <div\n                key={school.id}\n                className={`p-4 rounded-xl border-2 cursor-pointer transition-all ${\n                  schoolId === school.id\n                    ? 'border-indigo-600 bg-indigo-50'\n                    : 'border-slate-200 hover:border-slate-300'\n                }`}\n                onClick={() => handleSelectSchool(school.id)}\n                data-testid={`school-card-${school.id}`}\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <h3 className=\"font-semibold text-slate-900\">{school.name}</h3>\n                    <p className=\"text-sm text-slate-500\">{school.city}, {school.state}</p>\n                    <span className=\"badge badge-info mt-2\">{school.board_type}</span>\n                  </div>\n                  {schoolId === school.id && (\n                    <div className=\"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center\">\n                      <Check className=\"w-4 h-4 text-white\" />\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["buttonVariants","cva","variants","variant","default","destructive","outline","secondary","ghost","link","size","sm","lg","icon","defaultVariants","Button","React","_ref","ref","className","asChild","props","_objectWithoutProperties","_excluded","Comp","Slot","_jsx","_objectSpread","cn","displayName","Dialog","DialogPrimitive","DialogTrigger","DialogPortal","DialogOverlay","DialogContent","_ref2","children","_excluded2","_jsxs","X","DialogHeader","_ref3","_excluded3","DialogTitle","_ref5","_excluded5","DialogDescription","_ref6","_excluded6","Input","type","labelVariants","Label","LabelPrimitive","_len","arguments","length","inputs","Array","_key","twMerge","clsx","Slider","SliderPrimitive","API","concat","SettingsPage","_user$name","t","useTranslation","user","schoolId","selectSchool","refreshSchoolData","useAuth","language","changeLanguage","useLanguage","isDarkMode","toggleDarkMode","activePreset","setActivePreset","customHeaderColor","setCustomHeaderColor","headerLogoSize","setHeaderLogoSize","useTheme","schools","setSchools","useState","loading","setLoading","isDialogOpen","setIsDialogOpen","submitting","setSubmitting","signatureUrl","setSignatureUrl","sealUrl","setSealUrl","uploadingSignature","setUploadingSignature","uploadingSeal","setUploadingSeal","signatureInputRef","useRef","sealInputRef","logoUrl","setLogoUrl","logoSize","setLogoSize","logoOpacity","setLogoOpacity","watermarkEnabled","setWatermarkEnabled","watermarkOpacity","setWatermarkOpacity","watermarkSize","setWatermarkSize","savingBranding","setSavingBranding","logoUploadRef","formData","setFormData","name","address","board_type","city","state","phone","email","MODULE_LIST","key","label","PORTALS","PORTAL_LABELS","schooltino","teachtino","defaultVisibility","settings","forEach","m","moduleVisibility","setModuleVisibility","savingModules","setSavingModules","useEffect","fetchSchools","fetchSignatureSeal","async","defaults","loaded","token","localStorage","getItem","response","axios","get","headers","Authorization","data","Object","keys","error","console","log","saved","JSON","parse","e","merged","setItem","stringify","window","dispatchEvent","Event","loadModuleVisibility","fetchBrandingSettings","signature_url","seal_url","res","logo_url","logo_size","logo_opacity","watermark_enabled","watermark_opacity","watermark_size","handleChange","prev","target","value","role","id","map","nav","onClick","_document$getElementB","document","getElementById","scrollIntoView","behavior","block","charAt","toUpperCase","Globe","Check","Sparkles","entries","THEME_PRESETS","preset","style","backgroundColor","headerBg","title","onChange","split","onValueChange","val","min","max","step","PenTool","src","alt","_signatureInputRef$cu","current","click","Upload","_signatureInputRef$cu2","disabled","Loader2","_Fragment","accept","file","files","toast","FormData","append","post","url","success","Stamp","_sealInputRef$current","_sealInputRef$current2","Image","Save","Camera","reader","FileReader","onload","ev","result","readAsDataURL","_logoUploadRef$curren","parseInt","transform","opacity","maxWidth","maxHeight","checked","width","ToggleLeft","portal","mod","idx","_moduleVisibility$mod2","_moduleVisibility$mod3","toggleModule","moduleKey","_moduleVisibility$mod","newVisibility","School","open","onOpenChange","Plus","onSubmit","preventDefault","_error$response","_error$response$data","msg","detail","required","school","handleSelectSchool"],"sourceRoot":""}