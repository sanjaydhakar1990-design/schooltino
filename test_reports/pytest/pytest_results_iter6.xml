<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="8" skipped="0" tests="18" time="2.581" timestamp="2026-01-03T10:40:53.932879+00:00" hostname="agent-env-e0467596-f9ac-4802-a551-facae2f225dd"><testcase classname="tests.test_leave_cctv_onetino.TestAuth" name="test_director_login" time="0.307" /><testcase classname="tests.test_leave_cctv_onetino.TestLeaveManagement" name="test_get_leave_balance" time="0.305" /><testcase classname="tests.test_leave_cctv_onetino.TestLeaveManagement" name="test_apply_leave" time="0.090" /><testcase classname="tests.test_leave_cctv_onetino.TestLeaveManagement" name="test_get_my_leaves" time="0.040" /><testcase classname="tests.test_leave_cctv_onetino.TestLeaveManagement" name="test_get_pending_leaves" time="0.044" /><testcase classname="tests.test_leave_cctv_onetino.TestLeaveManagement" name="test_approve_leave_flow" time="0.086" /><testcase classname="tests.test_leave_cctv_onetino.TestLeaveManagement" name="test_reject_leave_flow" time="0.123" /><testcase classname="tests.test_leave_cctv_onetino.TestCCTVDashboard" name="test_cctv_dashboard" time="0.339"><failure message="KeyError: 'mock_mode'">tests/test_leave_cctv_onetino.py:189: in test_cctv_dashboard
    assert data["mock_mode"] == True
           ^^^^^^^^^^^^^^^^^
E   KeyError: 'mock_mode'</failure></testcase><testcase classname="tests.test_leave_cctv_onetino.TestCCTVDashboard" name="test_cctv_ai_features" time="0.037"><failure message="AssertionError: Missing AI feature: intrusion_alert&#10;assert 'intrusion_alert' in {'attendance_tracking': {'description': 'Auto-mark attendance via CCTV', 'status': 'ready'}, 'behavior_detection': {'description': 'Detect unusual behavior', 'status': 'planned'}, 'crowd_monitoring': {'description': 'Monitor crowd density', 'status': 'ready'}, 'face_recognition': {'description': 'Identify students/staff from face', 'status': 'ready'}, ...}">tests/test_leave_cctv_onetino.py:224: in test_cctv_ai_features
    assert feature in ai_features, f"Missing AI feature: {feature}"
E   AssertionError: Missing AI feature: intrusion_alert
E   assert 'intrusion_alert' in {'attendance_tracking': {'description': 'Auto-mark attendance via CCTV', 'status': 'ready'}, 'behavior_detection': {'description': 'Detect unusual behavior', 'status': 'planned'}, 'crowd_monitoring': {'description': 'Monitor crowd density', 'status': 'ready'}, 'face_recognition': {'description': 'Identify students/staff from face', 'status': 'ready'}, ...}</failure></testcase><testcase classname="tests.test_leave_cctv_onetino.TestCCTVDashboard" name="test_cctv_alerts" time="0.040"><failure message="AssertionError: assert 'time' in {'camera': 'Main Gate', 'description': 'Unknown person detected at main gate', 'id': 'ALT001', 'priority': 'high', ...}">tests/test_leave_cctv_onetino.py:241: in test_cctv_alerts
    assert "time" in alert
E   AssertionError: assert 'time' in {'camera': 'Main Gate', 'description': 'Unknown person detected at main gate', 'id': 'ALT001', 'priority': 'high', ...}</failure></testcase><testcase classname="tests.test_leave_cctv_onetino.TestCCTVDashboard" name="test_cctv_camera_detail" time="0.044"><failure message="KeyError: 'id'">tests/test_leave_cctv_onetino.py:250: in test_cctv_camera_detail
    assert data["id"] == "cam-001"
           ^^^^^^^^^^
E   KeyError: 'id'</failure></testcase><testcase classname="tests.test_leave_cctv_onetino.TestOneTinoIntegration" name="test_onetino_school_stats" time="0.332"><failure message="AssertionError: assert 'attendance_rate' in {'notices_this_week': 0, 'total_classes': 0, 'total_staff': 0, 'total_students': 0}">tests/test_leave_cctv_onetino.py:285: in test_onetino_school_stats
    assert "attendance_rate" in stats
E   AssertionError: assert 'attendance_rate' in {'notices_this_week': 0, 'total_classes': 0, 'total_staff': 0, 'total_students': 0}</failure></testcase><testcase classname="tests.test_leave_cctv_onetino.TestOneTinoIntegration" name="test_onetino_all_schools" time="0.040"><failure message="AssertionError: assert 'total_count' in {'schools': [{'city': 'Test City', 'id': '026e7121-10e0-4eb7-9208-8f105ea2aac6', 'name': 'Test School 094835', 'staff': 1, ...}, {'city': 'Mumbai', 'id': 'd8306c00-b010-46aa-9c93-e6e5494ffa0f', 'name': 'Test High School', 'staff': 0, ...}], 'total_schools': 2, 'total_staff': 1, 'total_students': 11}">tests/test_leave_cctv_onetino.py:300: in test_onetino_all_schools
    assert "total_count" in data
E   AssertionError: assert 'total_count' in {'schools': [{'city': 'Test City', 'id': '026e7121-10e0-4eb7-9208-8f105ea2aac6', 'name': 'Test School 094835', 'staff': 1, ...}, {'city': 'Mumbai', 'id': 'd8306c00-b010-46aa-9c93-e6e5494ffa0f', 'name': 'Test High School', 'staff': 0, ...}], 'total_schools': 2, 'total_staff': 1, 'total_students': 11}</failure></testcase><testcase classname="tests.test_leave_cctv_onetino.TestOneTinoIntegration" name="test_onetino_all_schools_unauthorized" time="0.040"><failure message="AssertionError: Expected 403, got 200&#10;assert 200 == 403&#10; +  where 200 = &lt;Response [200]&gt;.status_code">tests/test_leave_cctv_onetino.py:306: in test_onetino_all_schools_unauthorized
    assert response.status_code == 403, f"Expected 403, got {response.status_code}"
E   AssertionError: Expected 403, got 200
E   assert 200 == 403
E    +  where 200 = &lt;Response [200]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_cctv_onetino.TestOneTinoIntegration" name="test_onetino_issues" time="0.040" /><testcase classname="tests.test_leave_cctv_onetino.TestOneTinoIntegration" name="test_onetino_report_issue" time="0.079"><failure message="AssertionError: Failed: {&quot;detail&quot;:[{&quot;type&quot;:&quot;missing&quot;,&quot;loc&quot;:[&quot;query&quot;,&quot;title&quot;],&quot;msg&quot;:&quot;Field required&quot;,&quot;input&quot;:null,&quot;url&quot;:&quot;https://errors.pydantic.dev/2.12/v/missing&quot;},{&quot;type&quot;:&quot;missing&quot;,&quot;loc&quot;:[&quot;query&quot;,&quot;description&quot;],&quot;msg&quot;:&quot;Field required&quot;,&quot;input&quot;:null,&quot;url&quot;:&quot;https://errors.pydantic.dev/2.12/v/missing&quot;}]}&#10;assert 422 == 200&#10; +  where 422 = &lt;Response [422]&gt;.status_code">tests/test_leave_cctv_onetino.py:326: in test_onetino_report_issue
    assert response.status_code == 200, f"Failed: {response.text}"
E   AssertionError: Failed: {"detail":[{"type":"missing","loc":["query","title"],"msg":"Field required","input":null,"url":"https://errors.pydantic.dev/2.12/v/missing"},{"type":"missing","loc":["query","description"],"msg":"Field required","input":null,"url":"https://errors.pydantic.dev/2.12/v/missing"}]}
E   assert 422 == 200
E    +  where 422 = &lt;Response [422]&gt;.status_code</failure></testcase><testcase classname="tests.test_leave_cctv_onetino.TestSidebarLinks" name="test_leave_endpoint_accessible" time="0.297" /><testcase classname="tests.test_leave_cctv_onetino.TestSidebarLinks" name="test_cctv_endpoint_accessible" time="0.037" /></testsuite></testsuites>