/*! For license information please see 6353.8695c1a5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6353],{3995(e,a,s){s.r(a),s.d(a,{default:()=>$});var t=s(2555),l=s(5043),i=s(6930),n=s(8729),r=s(9722),c=s(3390),o=s(2264),d=s(9938),m=s(2054),h=s(6245),p=s(2024),x=s(9989),u=s(5347),g=s(247),b=s(2313),v=s(6376),j=s(4651),f=s(5087),y=s(9797),_=s(7737),N=s(1286),w=s(1360),A=s(2754),k=s(9292),C=s(7365),S=s(2489),z=s(9855),M=s(254),P=s(746),R=s(4459),I=s(7118),E=s(2029),J=s(6328),q=s(5972),D=s(3868),T=s(2385),B=s(579);const L="",O={full_access:{label:"\ud83d\udd13 Full Access",description:"Sabhi modules ka access",permissions:{dashboard:!0,students:!0,staff:!0,classes:!0,attendance:!0,timetable:!0,exams_reports:!0,homework:!0,syllabus_tracking:!0,digital_library:!0,live_classes:!0,fee_management:!0,admissions:!0,communication_hub:!0,front_office:!0,transport:!0,inventory:!0,cctv:!0,calendar:!0,ai_tools:!0,analytics:!0,student_leave:!0,multi_branch:!0}},principal:{label:"\ud83d\udc68\u200d\ud83d\udcbc Principal",description:"Settings & multi-branch chhodke sab",permissions:{dashboard:!0,students:!0,staff:!0,classes:!0,attendance:!0,timetable:!0,exams_reports:!0,homework:!0,syllabus_tracking:!0,digital_library:!0,live_classes:!0,fee_management:!0,admissions:!0,communication_hub:!0,front_office:!0,transport:!0,inventory:!0,cctv:!0,calendar:!0,ai_tools:!0,analytics:!0,student_leave:!0,multi_branch:!1}},teacher:{label:"\ud83d\udc68\u200d\ud83c\udfeb Teacher",description:"Teaching related modules",permissions:{dashboard:!0,students:!0,staff:!1,classes:!0,attendance:!0,timetable:!0,exams_reports:!0,homework:!0,syllabus_tracking:!0,digital_library:!0,live_classes:!0,fee_management:!1,admissions:!1,communication_hub:!0,front_office:!1,transport:!1,inventory:!1,cctv:!1,calendar:!0,ai_tools:!0,analytics:!1,student_leave:!0,multi_branch:!1}},accountant:{label:"\ud83d\udcb0 Accountant",description:"Fees, finance & reports",permissions:{dashboard:!0,students:!0,staff:!1,classes:!1,attendance:!1,timetable:!1,exams_reports:!1,homework:!1,syllabus_tracking:!1,digital_library:!1,live_classes:!1,fee_management:!0,admissions:!1,communication_hub:!1,front_office:!1,transport:!0,inventory:!0,cctv:!1,calendar:!1,ai_tools:!1,analytics:!0,student_leave:!1,multi_branch:!1}},front_office:{label:"\ud83c\udfe2 Front Office",description:"Admissions, visitors & student info",permissions:{dashboard:!0,students:!0,staff:!1,classes:!0,attendance:!0,timetable:!1,exams_reports:!1,homework:!1,syllabus_tracking:!1,digital_library:!1,live_classes:!1,fee_management:!1,admissions:!0,communication_hub:!0,front_office:!0,transport:!1,inventory:!1,cctv:!1,calendar:!1,ai_tools:!1,analytics:!1,student_leave:!1,multi_branch:!1}},transport_incharge:{label:"\ud83d\ude8c Transport",description:"Transport management",permissions:{dashboard:!0,students:!0,staff:!1,classes:!1,attendance:!1,timetable:!1,exams_reports:!1,homework:!1,syllabus_tracking:!1,digital_library:!1,live_classes:!1,fee_management:!1,admissions:!1,communication_hub:!1,front_office:!1,transport:!0,inventory:!1,cctv:!1,calendar:!1,ai_tools:!1,analytics:!1,student_leave:!1,multi_branch:!1}},view_only:{label:"\ud83d\udc41\ufe0f View Only",description:"Sirf dekhne ka access",permissions:{dashboard:!0,students:!1,staff:!1,classes:!1,attendance:!1,timetable:!1,exams_reports:!1,homework:!1,syllabus_tracking:!1,digital_library:!1,live_classes:!1,fee_management:!1,admissions:!1,communication_hub:!1,front_office:!1,transport:!1,inventory:!1,cctv:!1,calendar:!1,ai_tools:!1,analytics:!1,student_leave:!1,multi_branch:!1}}},F={dashboard:{label:"Dashboard",icon:"\ud83d\udcca"},students:{label:"Students",icon:"\ud83d\udc68\u200d\ud83c\udf93"},staff:{label:"Staff",icon:"\ud83d\udc65"},classes:{label:"Classes",icon:"\ud83c\udfeb"},attendance:{label:"Attendance",icon:"\u2705"},timetable:{label:"Timetable",icon:"\ud83d\udd50"},exams_reports:{label:"Exams & Reports",icon:"\ud83d\udcdd"},homework:{label:"Homework",icon:"\ud83d\udccb"},syllabus_tracking:{label:"Syllabus",icon:"\ud83d\udcd6"},student_leave:{label:"Student Leave",icon:"\ud83c\udfd6\ufe0f"},digital_library:{label:"Library",icon:"\ud83d\udcda"},live_classes:{label:"Live Classes",icon:"\ud83d\udcfa"},fee_management:{label:"Fees",icon:"\ud83d\udcb0"},admissions:{label:"Admissions",icon:"\ud83c\udfaf"},communication_hub:{label:"Communication",icon:"\ud83d\udcac"},front_office:{label:"Front Office",icon:"\ud83c\udfe2"},transport:{label:"Transport",icon:"\ud83d\ude8c"},inventory:{label:"Inventory",icon:"\ud83d\udce6"},cctv:{label:"CCTV",icon:"\ud83d\udcf9"},calendar:{label:"Calendar",icon:"\ud83d\udcc5"},ai_tools:{label:"AI Tools",icon:"\ud83e\udd16"},analytics:{label:"Analytics",icon:"\ud83d\udcc8"},multi_branch:{label:"Multi-Branch",icon:"\ud83c\udfd7\ufe0f"}};function $(){var e,a;const{t:s}=(0,i.Bd)(),{user:$}=(0,n.As)(),H=null===$||void 0===$?void 0:$.school_id,[U,V]=(0,l.useState)(!0),[G,Y]=(0,l.useState)([]),[Z,K]=(0,l.useState)([]),[Q,W]=(0,l.useState)(""),[X,ee]=(0,l.useState)(""),[ae,se]=(0,l.useState)(""),[te,le]=(0,l.useState)(!1),[ie,ne]=(0,l.useState)(null),[re,ce]=(0,l.useState)(!1),[oe,de]=(0,l.useState)(!1),[me,he]=(0,l.useState)(!1),[pe,xe]=(0,l.useState)(null),[ue,ge]=(0,l.useState)(null),[be,ve]=(0,l.useState)(!1),[je,fe]=(0,l.useState)(!1),[ye,_e]=(0,l.useState)(null),[Ne,we]=(0,l.useState)(""),[Ae,ke]=(0,l.useState)(!1),[Ce,Se]=(0,l.useState)("basic"),[ze,Me]=(0,l.useState)(!1),Pe=(0,l.useRef)(null),Re=(0,l.useRef)(null),[Ie,Ee]=(0,l.useState)({name:"",mobile:"",email:"",photo_url:"",designation:"teacher",department:"",joining_date:(new Date).toISOString().split("T")[0],gender:"male",dob:"",blood_group:"",marital_status:"",father_name:"",spouse_name:"",nationality:"Indian",address:"",permanent_address:"",city:"",state:"",pincode:"",aadhar_no:"",pan_number:"",uan_number:"",esi_number:"",voter_id:"",driving_license:"",qualification:"",specialization:"",experience_years:"",previous_employer:"",bank_name:"",bank_account_no:"",ifsc_code:"",bank_branch:"",salary:"",salary_type:"monthly",pf_applicable:!1,esi_applicable:!1,tds_applicable:!1,emergency_contact:"",emergency_contact_name:"",emergency_relation:"",create_login:!0,password:"",role:"teacher",custom_permissions:null,can_teach:!1}),[Je,qe]=(0,l.useState)(!1),[De,Te]=(0,l.useState)("teacher"),[Be,Le]=(0,l.useState)("staff"),[Oe,Fe]=(0,l.useState)(!1),[$e,He]=(0,l.useState)(null),[Ue,Ve]=(0,l.useState)({}),[Ge,Ye]=(0,l.useState)(!1),[Ze,Ke]=(0,l.useState)(null),[Qe,We]=(0,l.useState)(""),[Xe,ea]=(0,l.useState)(!1);(0,l.useEffect)(()=>{H&&(sa(),ta(),aa())},[H]);const aa=async()=>{try{const e=localStorage.getItem("token"),a=await r.A.get("".concat(L,"/api/schools/").concat(H),{headers:{Authorization:"Bearer ".concat(e)}});ge(a.data)}catch(e){console.error("Error fetching school:",e)}},sa=async()=>{try{V(!0);const e=localStorage.getItem("token"),a=new URLSearchParams({school_id:H});X&&a.append("designation",X),ae&&a.append("has_login",ae),Q&&a.append("search",Q);const s=await r.A.get("".concat(L,"/api/employees?").concat(a),{headers:{Authorization:"Bearer ".concat(e)}});Y(s.data||[])}catch(e){console.error("Error fetching employees:",e);try{const e=localStorage.getItem("token"),a=await r.A.get("".concat(L,"/api/staff?school_id=").concat(H),{headers:{Authorization:"Bearer ".concat(e)}});Y(a.data||[])}catch(a){J.oR.error("Employees load \u0915\u0930\u0928\u0947 \u092e\u0947\u0902 \u0938\u092e\u0938\u094d\u092f\u093e")}}finally{V(!1)}},ta=async()=>{try{const e=localStorage.getItem("token"),a=await r.A.get("".concat(L,"/api/employees/designations/list"),{headers:{Authorization:"Bearer ".concat(e)}});K(a.data||[])}catch(e){K([{id:"principal",name:"Principal (\u092a\u094d\u0930\u0927\u093e\u0928\u093e\u091a\u093e\u0930\u094d\u092f)",default_role:"principal"},{id:"teacher",name:"Teacher (\u0936\u093f\u0915\u094d\u0937\u0915)",default_role:"teacher"},{id:"accountant",name:"Accountant (\u0932\u0947\u0916\u093e\u0915\u093e\u0930)",default_role:"admin_staff"},{id:"clerk",name:"Clerk (\u0932\u093f\u092a\u093f\u0915)",default_role:"clerk"},{id:"peon",name:"Peon (\u091a\u092a\u0930\u093e\u0938\u0940)",default_role:"peon"}])}},la=()=>{sa()},ia=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return;if(e.size>5242880)J.oR.error("Photo size must be under 5MB");else if(e.type.startsWith("image/")){Me(!0);try{const n=localStorage.getItem("token");if(a){const s=new FileReader;return s.onload=async e=>{try{var s;const l=e.target.result,i=(null===(s=(await r.A.post("".concat(L,"/api/staff/").concat(a,"/update-photo"),{photo_data:l},{headers:{Authorization:"Bearer ".concat(n)}})).data)||void 0===s?void 0:s.photo_url)||l;J.oR.success("Photo updated!"),sa(),(null===$e||void 0===$e?void 0:$e.id)===a&&He(e=>(0,t.A)((0,t.A)({},e),{},{photo_url:i}))}catch(l){console.error("Photo update error:",l),J.oR.error("Photo save nahi ho saka. Please try again.")}finally{Me(!1)}},void s.readAsDataURL(e)}const c=new FormData;c.append("file",e),c.append("school_id",H);try{var s,l;const e=await r.A.post("".concat(L,"/api/upload/photo"),c,{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"multipart/form-data"}}),a=(null===(s=e.data)||void 0===s?void 0:s.url)||(null===(l=e.data)||void 0===l?void 0:l.photo_url);Ee(e=>(0,t.A)((0,t.A)({},e),{},{photo_url:a})),J.oR.success("Photo uploaded!")}catch(i){const a=new FileReader;a.onload=e=>{Ee(a=>(0,t.A)((0,t.A)({},a),{},{photo_url:e.target.result})),J.oR.success("Photo ready!")},a.readAsDataURL(e)}}catch(n){console.error("Photo error:",n),J.oR.error("Photo upload failed")}finally{Me(!1)}}else J.oR.error("Please select an image file")},na=()=>{Ee({name:"",mobile:"",email:"",photo_url:"",address:"",designation:"teacher",department:"",qualification:"",joining_date:(new Date).toISOString().split("T")[0],salary:"",gender:"male",dob:"",blood_group:"",marital_status:"",father_name:"",spouse_name:"",nationality:"Indian",permanent_address:"",city:"",state:"",pincode:"",aadhar_no:"",pan_number:"",uan_number:"",esi_number:"",voter_id:"",driving_license:"",specialization:"",experience_years:"",previous_employer:"",bank_name:"",bank_account_no:"",ifsc_code:"",bank_branch:"",salary_type:"monthly",pf_applicable:!1,esi_applicable:!1,tds_applicable:!1,emergency_contact:"",emergency_contact_name:"",emergency_relation:"",create_login:!0,password:"",role:"teacher",custom_permissions:null,can_teach:!1}),ne(null),qe(!1),Te("teacher")},ra=()=>{na(),le(!0)},ca=async(e,a)=>{try{const s=localStorage.getItem("token");await r.A.post("".concat(L,"/api/employees/").concat(e.id,"/toggle-login"),{enable:a,password:e.mobile},{headers:{Authorization:"Bearer ".concat(s)}}),J.oR.success(a?"Login enabled! Default password: Mobile number":"Login disabled"),sa()}catch(s){J.oR.error("Error toggling login")}},oa=async()=>{if(0!==G.length){ve(!0),J.oR.info("Generating ID cards...");try{const s=localStorage.getItem("token"),t=[];for(const n of G)try{var e;const a=await r.A.get("/api/id-card/generate/"+(n.role||"teacher")+"/"+n.id,{headers:{Authorization:"Bearer "+s}});null!==(e=a.data)&&void 0!==e&&e.id_card&&t.push({card:a.data.id_card,school:a.data.school,photo:a.data.photo||null})}catch(a){console.error("Error fetching card for",n.name)}const l=window.open("","_blank");if(!l)return J.oR.error("Popup blocked - please allow popups"),void ve(!1);const i="<!DOCTYPE html><html><head><title>Bulk Employee ID Cards</title><style>@page{size:A4;margin:10mm}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial,sans-serif;display:flex;flex-wrap:wrap;gap:10mm;padding:10mm;-webkit-print-color-adjust:exact;print-color-adjust:exact}.id-card{width:85.6mm;height:54mm;border-radius:4mm;overflow:hidden;position:relative;color:white;padding:3mm;page-break-inside:avoid}.watermark{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.15;width:25mm;height:25mm}.watermark img{width:100%;height:100%;object-fit:contain}.content{position:relative;z-index:1;height:100%;display:flex;flex-direction:column}.header{display:flex;align-items:center;gap:2mm;padding-bottom:2mm;border-bottom:0.3mm solid rgba(255,255,255,0.3);margin-bottom:2mm}.header-logo{width:7mm;height:7mm;background:white;border-radius:50%;padding:0.5mm}.header-logo img{width:100%;height:100%;object-fit:contain;border-radius:50%}.header-text{flex:1;text-align:center}.school-name{font-size:8pt;font-weight:bold;text-transform:uppercase}.card-type{font-size:5pt;background:rgba(255,255,255,0.25);padding:0.5mm 2mm;border-radius:2mm;display:inline-block;margin-top:1mm}.body{display:flex;gap:2mm;flex:1}.photo{width:16mm;height:20mm;background:white;border-radius:2mm;display:flex;align-items:center;justify-content:center;color:#999;font-size:6pt;overflow:hidden;flex-shrink:0}.details{flex:1;font-size:6pt}.name{font-size:9pt;font-weight:bold;color:#fef08a;margin-bottom:1mm}.detail-row{margin-bottom:0.5mm}.label{opacity:0.8;width:18mm;display:inline-block}.value{font-weight:600}.contact{background:rgba(255,255,255,0.2);padding:1mm;border-radius:1mm;margin-top:1mm;font-size:5.5pt}.footer{font-size:4pt;opacity:0.8;text-align:right;margin-top:auto}</style></head><body>"+t.map(e=>{const a=e.card,s=e.school,t=e.photo,l=a.role_color||"#1e40af",i=a.is_higher_authority,n=i?"background:rgba(251,191,36,0.3);border:1px solid rgba(251,191,36,0.5);":"",r=t?'<div class="photo"><img src="'+t+'" style="width:100%;height:100%;object-fit:cover;border-radius:2mm;" /></div>':'<div class="photo"><span>Photo</span></div>';return'<div class="id-card" style="'+("background:linear-gradient(135deg,"+l+" 0%,"+l+"cc 50%,"+l+" 100%);"+(i?"border:2px solid #fbbf24;":""))+'">'+(null!==s&&void 0!==s&&s.logo_url?'<div class="watermark"><img src="'+s.logo_url+'" alt=""/></div>':"")+'<div class="content"><div class="header">'+(null!==s&&void 0!==s&&s.logo_url?'<div class="header-logo"><img src="'+s.logo_url+'" alt=""/></div>':"")+'<div class="header-text"><div class="school-name">'+((null===s||void 0===s?void 0:s.name)||"School")+'</div><div class="card-type" style="'+n+'">'+a.card_type+'</div></div></div><div class="body">'+r+'<div class="details"><div class="name">'+a.name+'</div><div class="detail-row"><span class="label">Designation:</span><span class="value">'+a.designation+(a.designation_hindi?" / "+a.designation_hindi:"")+"</span></div>"+(a.department?'<div class="detail-row"><span class="label">Dept:</span><span class="value">'+a.department+"</span></div>":"")+(a.blood_group?'<div class="detail-row"><span class="label">Blood:</span><span class="value">'+a.blood_group+"</span></div>":"")+(a.phone?'<div class="contact">\ud83d\udcde '+a.phone+"</div>":"")+(a.emergency_contact?'<div class="contact" style="margin-top:1mm">\ud83c\udd98 '+a.emergency_contact+"</div>":"")+'</div></div><div class="footer">Valid: '+(a.valid_until||(new Date).getFullYear()+1)+"</div></div></div>"}).join("")+"<script>window.onload=function(){setTimeout(function(){window.print()},1000)}<\/script></body></html>";l.document.write(i),l.document.close(),J.oR.success(t.length+" ID cards ready to print!")}catch(s){J.oR.error("Error generating bulk ID cards")}finally{ve(!1)}}else J.oR.error("No employees to print")},da=async(e,a)=>{try{const s=localStorage.getItem("token");await r.A.put("".concat(L,"/api/staff/").concat(e,"/module-permissions"),{module_permissions:a},{headers:{Authorization:"Bearer ".concat(s)}}),await r.A.put("".concat(L,"/api/employees/").concat(e,"/permissions"),a,{headers:{Authorization:"Bearer ".concat(s)}}).catch(()=>{}),J.oR.success("Permissions updated!"),sa()}catch(l){var s,t;J.oR.error("Permission update failed: "+((null===(s=l.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.detail)||l.message))}},ma=(e,a)=>{const s=O[a];s&&(Ve(a=>(0,t.A)((0,t.A)({},a),{},{[e]:(0,t.A)({},s.permissions)})),da(e,s.permissions))},ha=(e,a,s)=>{const l=G.find(a=>a.id===e),i=Ue[e]||(null===l||void 0===l?void 0:l.module_permissions)||(null===l||void 0===l?void 0:l.permissions)||{},n=(0,t.A)((0,t.A)({},i),{},{[a]:!s});Ve(a=>(0,t.A)((0,t.A)({},a),{},{[e]:n})),da(e,n)};return U?(0,B.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,B.jsx)(p.A,{className:"w-8 h-8 animate-spin text-blue-600"})}):(0,B.jsxs)("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-3",children:[(0,B.jsxs)("div",{children:[(0,B.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,B.jsx)(I.A,{className:"w-7 h-7 text-blue-600"}),s("staff_management")]}),(0,B.jsx)("p",{className:"text-gray-500 text-sm",children:s("manage_staff_users")})]}),(0,B.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,B.jsx)(D.A,{type:"employee",schoolId:H,onImportComplete:sa}),(0,B.jsxs)(c.$,{variant:"outline",onClick:oa,disabled:be||0===G.length,className:"gap-2","data-testid":"bulk-print-employee-btn",children:[be?(0,B.jsx)(p.A,{className:"w-4 h-4 animate-spin"}):(0,B.jsx)(A.A,{className:"w-4 h-4"}),s("bulk_print_id_cards")]}),(0,B.jsxs)(c.$,{onClick:ra,className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,B.jsx)(w.A,{className:"w-4 h-4"})," ",s("add_employee")]})]})]}),(0,B.jsx)("div",{className:"flex gap-1 p-1 bg-slate-100 rounded-xl mb-6 overflow-x-auto",children:[{id:"staff",label:"\ud83d\udc65 ".concat(s("staff")),icon:I.A},{id:"permissions",label:"\ud83d\udee1\ufe0f ".concat(s("permissions")),icon:S.A},{id:"quick_actions",label:"\u26a1 ".concat(s("quick_actions")),icon:C.A},..."director"===(null===$||void 0===$?void 0:$.role)?[{id:"credentials",label:"\ud83d\udd11 ".concat(s("login_credentials")),icon:_.A}]:[]].map(e=>(0,B.jsxs)("button",{onClick:()=>Le(e.id),className:"flex items-center gap-2 px-5 py-3 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ".concat(Be===e.id?"bg-white text-blue-700 shadow-md border border-blue-100":"text-slate-600 hover:bg-white/60 hover:text-slate-800"),children:[(0,B.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.id))}),"staff"===Be&&(0,B.jsxs)("div",{className:"flex gap-4",style:{height:"calc(100vh - 220px)"},children:[(0,B.jsxs)("div",{className:"w-2/5 flex flex-col bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,B.jsxs)("div",{className:"p-3 border-b border-gray-100 space-y-2",children:[(0,B.jsxs)("div",{className:"relative",children:[(0,B.jsx)(k.A,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,B.jsx)(o.p,{placeholder:s("search"),value:Q,onChange:e=>W(e.target.value),onKeyPress:e=>"Enter"===e.key&&la(),className:"pl-9 h-9 text-sm"})]}),(0,B.jsxs)("div",{className:"flex gap-2",children:[(0,B.jsxs)("select",{className:"flex-1 border rounded-lg px-2 py-1.5 text-xs bg-white",value:X,onChange:e=>{ee(e.target.value),setTimeout(la,100)},children:[(0,B.jsx)("option",{value:"",children:s("all_roles")}),Z.map(e=>(0,B.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,B.jsxs)("select",{className:"border rounded-lg px-2 py-1.5 text-xs bg-white",value:ae,onChange:e=>{se(e.target.value),setTimeout(la,100)},children:[(0,B.jsx)("option",{value:"",children:s("all")}),(0,B.jsx)("option",{value:"true",children:s("login")}),(0,B.jsx)("option",{value:"false",children:s("no_login")})]})]}),(0,B.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 px-1",children:[(0,B.jsxs)("span",{children:[G.length," ",s("staff_members")]}),(0,B.jsxs)("span",{className:"text-green-600",children:[G.filter(e=>e.has_login).length," ",s("active")]})]})]}),(0,B.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===G.length?(0,B.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-6",children:[(0,B.jsx)(I.A,{className:"w-10 h-10 mb-2"}),(0,B.jsx)("p",{className:"text-sm",children:s("no_data")})]}):G.map(e=>{var a,t;return(0,B.jsxs)("div",{onClick:()=>(e=>{He(e)})(e),className:"flex items-center gap-3 px-3 py-3 cursor-pointer border-b border-gray-50 transition-all hover:bg-blue-50/50 ".concat((null===$e||void 0===$e?void 0:$e.id)===e.id?"bg-blue-50 border-l-[3px] border-l-blue-500":"border-l-[3px] border-l-transparent"),children:[e.photo_url?(0,B.jsx)("img",{src:e.photo_url,alt:e.name,className:"w-10 h-10 rounded-full object-cover border-2 border-blue-200 flex-shrink-0"}):(0,B.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold text-sm flex-shrink-0",children:null===(a=e.name)||void 0===a||null===(t=a.charAt(0))||void 0===t?void 0:t.toUpperCase()}),(0,B.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,B.jsx)("div",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),(0,B.jsxs)("div",{className:"text-xs text-gray-500 truncate",children:[e.designation,e.department?" \u2022 "+e.department:""]}),(0,B.jsxs)("div",{className:"text-[11px] text-gray-400 truncate",children:[e.qualification&&(0,B.jsx)("span",{children:e.qualification}),e.qualification&&e.mobile&&(0,B.jsx)("span",{children:" \u2022 "}),e.mobile&&(0,B.jsxs)("span",{children:["\ud83d\udcf1 ",e.mobile]})]})]}),(0,B.jsx)("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:e.has_login?(0,B.jsxs)("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-green-100 text-green-700 rounded-full text-[10px]",children:[(0,B.jsx)(M.A,{className:"w-2.5 h-2.5"})," ",s("active")]}):(0,B.jsxs)("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-gray-100 text-gray-500 rounded-full text-[10px]",children:[(0,B.jsx)(P.A,{className:"w-2.5 h-2.5"})," ",s("inactive")]})})]},e.id)})})]}),(0,B.jsx)("div",{className:"w-3/5 bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:$e?(0,B.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,B.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-5 text-white",children:[(0,B.jsx)("input",{type:"file",ref:Re,className:"hidden",accept:"image/*",onChange:e=>{e.target.files[0]&&null!==$e&&void 0!==$e&&$e.id&&ia(e.target.files[0],$e.id),e.target.value=""}}),(0,B.jsxs)("div",{className:"flex items-start gap-5",children:[(0,B.jsxs)("div",{className:"relative flex-shrink-0 group cursor-pointer",onClick:()=>{var e;return null===(e=Re.current)||void 0===e?void 0:e.click()},children:[$e.photo_url?(0,B.jsx)("img",{src:$e.photo_url,alt:$e.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white/40 shadow-lg"}):(0,B.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:null===(e=$e.name)||void 0===e||null===(a=e.charAt(0))||void 0===a?void 0:a.toUpperCase()}),(0,B.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:ze?(0,B.jsx)(p.A,{className:"w-6 h-6 animate-spin"}):(0,B.jsx)(g.A,{className:"w-6 h-6"})})]}),(0,B.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,B.jsx)("h2",{className:"text-xl font-bold truncate",children:$e.name}),(0,B.jsxs)("p",{className:"text-blue-100 text-sm",children:[$e.designation,$e.department?" \u2022 "+$e.department:""]}),(0,B.jsx)("p",{className:"text-blue-200 text-xs mt-0.5",children:$e.employee_id}),(0,B.jsxs)("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[$e.has_login?(0,B.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-500/20 text-green-100 rounded-full text-xs",children:[(0,B.jsx)(M.A,{className:"w-3 h-3"})," ",s("login_active")]}):(0,B.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-white/15 text-white/70 rounded-full text-xs",children:[(0,B.jsx)(P.A,{className:"w-3 h-3"})," ",s("no_login")]}),$e.role&&(0,B.jsx)("span",{className:"px-2 py-0.5 bg-white/15 text-white/80 rounded-full text-xs capitalize",children:$e.role}),$e.can_teach&&(0,B.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-500/20 text-amber-100 rounded-full text-xs",children:[(0,B.jsx)(y.A,{className:"w-3 h-3"})," ",s("can_teach")]})]}),(0,B.jsxs)("div",{className:"flex gap-2 mt-3 flex-wrap",children:[(0,B.jsxs)(c.$,{size:"sm",className:"bg-white text-blue-700 hover:bg-blue-50 gap-1 h-8 text-xs",onClick:()=>{return Ee({name:(e=$e).name||"",mobile:e.mobile||"",email:e.email||"",photo_url:e.photo_url||"",address:e.address||"",designation:e.designation||"teacher",department:e.department||"",qualification:e.qualification||"",joining_date:e.joining_date||"",salary:e.salary||"",gender:e.gender||"male",dob:e.dob||"",blood_group:e.blood_group||"",marital_status:e.marital_status||"",father_name:e.father_name||"",spouse_name:e.spouse_name||"",nationality:e.nationality||"Indian",permanent_address:e.permanent_address||"",city:e.city||"",state:e.state||"",pincode:e.pincode||"",aadhar_no:e.aadhar_no||"",pan_number:e.pan_number||"",uan_number:e.uan_number||"",esi_number:e.esi_number||"",voter_id:e.voter_id||"",driving_license:e.driving_license||"",specialization:e.specialization||"",experience_years:e.experience_years||"",previous_employer:e.previous_employer||"",bank_name:e.bank_name||"",bank_account_no:e.bank_account_no||"",ifsc_code:e.ifsc_code||"",bank_branch:e.bank_branch||"",salary_type:e.salary_type||"monthly",pf_applicable:e.pf_applicable||!1,esi_applicable:e.esi_applicable||!1,tds_applicable:e.tds_applicable||!1,emergency_contact:e.emergency_contact||"",emergency_contact_name:e.emergency_contact_name||"",emergency_relation:e.emergency_relation||"",create_login:e.has_login||!1,password:"",role:e.role||"teacher",custom_permissions:e.permissions||null,can_teach:e.can_teach||!1}),ne(e),void le(!0);var e},children:[(0,B.jsx)(x.A,{className:"w-3 h-3"})," ",s("edit")]}),(0,B.jsxs)(c.$,{size:"sm",variant:"outline",className:"border-white/60 text-white hover:bg-white/25 bg-white/10 gap-1 h-8 text-xs",onClick:()=>(e=>{var a,s;const t=window.open("","_blank");if(!t)return void J.oR.error("Popup blocked - please allow popups");const l=e.permissions||{},i=Object.entries(F).map(e=>{let[a,s]=e;return'<span style="display:inline-block;margin:2px 4px;padding:2px 8px;border-radius:4px;font-size:11px;background:'+(l[a]?"#dcfce7":"#fee2e2")+";color:"+(l[a]?"#166534":"#991b1b")+'">'+s.icon+" "+s.label+"</span>"}).join(""),n=e.photo_url?'<img src="'+e.photo_url+'" style="width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid #3b82f6" />':'<div style="width:120px;height:120px;border-radius:50%;background:#dbeafe;display:flex;align-items:center;justify-content:center;font-size:48px;color:#2563eb;font-weight:bold">'+((null===(a=e.name)||void 0===a||null===(s=a.charAt(0))||void 0===s?void 0:s.toUpperCase())||"?")+"</div>",r="<!DOCTYPE html><html><head><title>Employee Profile - "+e.name+'</title><style>@page{size:A4;margin:15mm}body{font-family:Arial,sans-serif;padding:20px;color:#333}.header{text-align:center;margin-bottom:20px}.section{margin:15px 0;padding:15px;border:1px solid #e5e7eb;border-radius:8px}.section h3{margin:0 0 10px;color:#1e40af;border-bottom:1px solid #e5e7eb;padding-bottom:5px}.grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}.item{font-size:13px}.label{color:#6b7280;font-weight:600}.value{color:#111}</style></head><body><div class="header">'+n+'<h1 style="margin:10px 0 0">'+e.name+'</h1><p style="color:#6b7280;margin:4px 0">'+(e.designation||"")+" | "+(e.department||"")+'</p><p style="color:#6b7280;font-size:12px">'+(e.employee_id||"")+'</p></div><div class="section"><h3>Contact Information</h3><div class="grid"><div class="item"><span class="label">Mobile: </span><span class="value">'+(e.mobile||"-")+'</span></div><div class="item"><span class="label">Email: </span><span class="value">'+(e.email||"-")+'</span></div><div class="item"><span class="label">Address: </span><span class="value">'+(e.address||"-")+'</span></div><div class="item"><span class="label">City: </span><span class="value">'+(e.city||"-")+'</span></div></div></div><div class="section"><h3>Personal Details</h3><div class="grid"><div class="item"><span class="label">Gender: </span><span class="value">'+(e.gender||"-")+'</span></div><div class="item"><span class="label">DOB: </span><span class="value">'+(e.dob||"-")+'</span></div><div class="item"><span class="label">Blood Group: </span><span class="value">'+(e.blood_group||"-")+'</span></div><div class="item"><span class="label">Father: </span><span class="value">'+(e.father_name||"-")+'</span></div><div class="item"><span class="label">Joining Date: </span><span class="value">'+(e.joining_date||"-")+'</span></div><div class="item"><span class="label">Qualification: </span><span class="value">'+(e.qualification||"-")+'</span></div></div></div><div class="section"><h3>Identity Documents</h3><div class="grid"><div class="item"><span class="label">Aadhar: </span><span class="value">'+(e.aadhar_no||"-")+'</span></div><div class="item"><span class="label">PAN: </span><span class="value">'+(e.pan_number||"-")+'</span></div><div class="item"><span class="label">UAN (EPF): </span><span class="value">'+(e.uan_number||"-")+'</span></div><div class="item"><span class="label">Voter ID: </span><span class="value">'+(e.voter_id||"-")+'</span></div></div></div><div class="section"><h3>Bank & Salary</h3><div class="grid"><div class="item"><span class="label">Salary: </span><span class="value">\u20b9'+(e.salary||"-")+'</span></div><div class="item"><span class="label">Bank: </span><span class="value">'+(e.bank_name||"-")+'</span></div><div class="item"><span class="label">Account: </span><span class="value">'+(e.bank_account_no||"-")+'</span></div><div class="item"><span class="label">IFSC: </span><span class="value">'+(e.ifsc_code||"-")+'</span></div></div></div><div class="section"><h3>Permissions</h3><div>'+i+"</div></div><script>window.onload=function(){setTimeout(function(){window.print()},500)}<\/script></body></html>";t.document.write(r),t.document.close()})($e),children:[(0,B.jsx)(A.A,{className:"w-3 h-3"})," ",s("print")]}),(0,B.jsxs)(c.$,{size:"sm",variant:"outline",className:"border-white/60 text-white hover:bg-white/25 bg-white/10 gap-1 h-8 text-xs",onClick:()=>{xe($e),he(!0)},children:[(0,B.jsx)(v.A,{className:"w-3 h-3"})," ",s("id_card")]}),$e.has_login?(0,B.jsxs)(c.$,{size:"sm",variant:"outline",className:"border-white/60 text-white hover:bg-white/25 bg-white/10 gap-1 h-8 text-xs",onClick:()=>ca($e,!1),children:[(0,B.jsx)(_.A,{className:"w-3 h-3"})," ",s("disable_login")]}):(0,B.jsxs)(c.$,{size:"sm",variant:"outline",className:"border-white/60 text-white hover:bg-white/25 bg-white/10 gap-1 h-8 text-xs",onClick:()=>ca($e,!0),children:[(0,B.jsx)(_.A,{className:"w-3 h-3"})," ",s("enable_login")]}),("director"===(null===$||void 0===$?void 0:$.role)||"admin"===(null===$||void 0===$?void 0:$.role))&&"director"!==$e.role&&(0,B.jsxs)(c.$,{size:"sm",variant:"outline",className:"border-red-300/50 text-red-200 hover:bg-red-500/20 gap-1 h-8 text-xs",onClick:()=>(_e($e),we(""),void fe(!0)),children:[(0,B.jsx)(z.A,{className:"w-3 h-3"})," ",s("delete")]})]})]})]})]}),(0,B.jsxs)("div",{className:"p-4 space-y-4",children:[(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,B.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,B.jsxs)("h4",{className:"font-semibold text-blue-800 mb-3 flex items-center gap-2 text-sm",children:[(0,B.jsx)(N.A,{className:"w-4 h-4"})," ",s("contact")]}),(0,B.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("mobile")}),(0,B.jsx)("span",{className:"font-medium",children:$e.mobile||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("email")}),(0,B.jsx)("span",{className:"font-medium text-xs",children:$e.email||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("address")}),(0,B.jsx)("span",{className:"font-medium text-xs text-right max-w-[60%]",children:$e.address||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("city")}),(0,B.jsx)("span",{className:"font-medium",children:$e.city||"-"})]}),$e.emergency_contact&&(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("emergency_contact")}),(0,B.jsx)("span",{className:"font-medium text-red-600",children:$e.emergency_contact})]})]})]}),(0,B.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,B.jsxs)("h4",{className:"font-semibold text-purple-800 mb-3 flex items-center gap-2 text-sm",children:[(0,B.jsx)(R.A,{className:"w-4 h-4"})," ",s("personal_info")]}),(0,B.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("gender")}),(0,B.jsx)("span",{className:"font-medium capitalize",children:$e.gender||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("dob")}),(0,B.jsx)("span",{className:"font-medium",children:$e.dob||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("blood_group")}),(0,B.jsx)("span",{className:"font-medium",children:$e.blood_group||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("father_name")}),(0,B.jsx)("span",{className:"font-medium",children:$e.father_name||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("joining_date")}),(0,B.jsx)("span",{className:"font-medium",children:$e.joining_date||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("qualification")}),(0,B.jsx)("span",{className:"font-medium",children:$e.qualification||"-"})]})]})]})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,B.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,B.jsxs)("h4",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2 text-sm",children:[(0,B.jsx)(v.A,{className:"w-4 h-4"})," ",s("identity_documents")]}),(0,B.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("aadhar_number")}),(0,B.jsx)("span",{className:"font-medium",children:$e.aadhar_no||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("pan_number")}),(0,B.jsx)("span",{className:"font-medium",children:$e.pan_number||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("uan_epf")}),(0,B.jsx)("span",{className:"font-medium",children:$e.uan_number||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("voter_id")}),(0,B.jsx)("span",{className:"font-medium",children:$e.voter_id||"-"})]})]})]}),(0,B.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,B.jsxs)("h4",{className:"font-semibold text-green-800 mb-3 flex items-center gap-2 text-sm",children:[(0,B.jsx)(E.A,{className:"w-4 h-4"})," ",s("bank_details")]}),(0,B.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("salary")}),(0,B.jsx)("span",{className:"font-bold text-green-700",children:$e.salary?"\u20b9"+$e.salary:"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("bank_name")}),(0,B.jsx)("span",{className:"font-medium",children:$e.bank_name||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("bank_account")}),(0,B.jsx)("span",{className:"font-medium",children:$e.bank_account_no||"-"})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-gray-500",children:s("ifsc_code")}),(0,B.jsx)("span",{className:"font-medium",children:$e.ifsc_code||"-"})]})]})]})]}),(0,B.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,B.jsxs)("h4",{className:"font-semibold text-indigo-800 mb-3 flex items-center gap-2 text-sm",children:[(0,B.jsx)(S.A,{className:"w-4 h-4"})," ",s("permissions")]}),(0,B.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:Object.entries(O).map(e=>{let[a,s]=e;return(0,B.jsx)("button",{onClick:()=>ma($e.id,a),className:"px-2 py-1 rounded-md text-xs border bg-white hover:bg-indigo-50 hover:border-indigo-300 transition-all",title:s.description,children:s.label},a)})}),(0,B.jsx)("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(F).map(e=>{let[a,s]=e;const t=(Ue[$e.id]||$e.module_permissions||$e.permissions||{})[a]||!1;return(0,B.jsxs)("button",{onClick:()=>ha($e.id,a,t),className:"flex items-center gap-1 px-2 py-1 rounded-lg text-xs border transition-all ".concat(t?"bg-green-50 border-green-300 text-green-700":"bg-gray-50 border-gray-200 text-gray-500 hover:bg-gray-100"),children:[t?(0,B.jsx)(m.A,{className:"w-3 h-3"}):(0,B.jsx)(h.A,{className:"w-3 h-3"}),s.icon," ",s.label]},a)})})]})]})]}):(0,B.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,B.jsx)(R.A,{className:"w-16 h-16 mb-3 text-gray-300"}),(0,B.jsx)("p",{className:"text-lg font-medium text-gray-400",children:s("select_staff_profile")}),(0,B.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:s("click_staff_list")})]})})]}),"permissions"===Be&&(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsxs)("div",{className:"bg-white rounded-xl border p-4 mb-4",children:[(0,B.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 mb-1",children:[(0,B.jsx)(S.A,{className:"w-5 h-5 text-indigo-600"}),s("quick_permission_manager")]}),(0,B.jsx)("p",{className:"text-sm text-gray-500",children:s("quick_permission_presets")})]}),0===G.length?(0,B.jsx)("div",{className:"bg-white rounded-xl border p-8 text-center text-gray-500",children:s("no_data")}):G.map(e=>{var a,s;const t=Ue[e.id]||e.module_permissions||e.permissions||{};return(0,B.jsxs)("div",{className:"bg-white rounded-xl border shadow-sm p-4",children:[(0,B.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3 mb-3",children:[(0,B.jsxs)("div",{className:"flex items-center gap-3",children:[e.photo_url?(0,B.jsx)("img",{src:e.photo_url,alt:e.name,className:"w-10 h-10 rounded-full object-cover border-2 border-blue-200"}):(0,B.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:null===(a=e.name)||void 0===a||null===(s=a.charAt(0))||void 0===s?void 0:s.toUpperCase()}),(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{className:"font-semibold",children:e.name}),(0,B.jsxs)("div",{className:"text-xs text-gray-500",children:[e.designation," ",e.department?"\u2022 "+e.department:""]})]})]}),(0,B.jsx)("div",{className:"flex gap-1 flex-wrap",children:Object.entries(O).map(a=>{let[s,t]=a;return(0,B.jsx)("button",{onClick:()=>ma(e.id,s),className:"px-2 py-1 rounded text-xs border bg-white hover:bg-indigo-50 hover:border-indigo-300 transition-all",title:t.description,children:t.label},s)})})]}),(0,B.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(F).map(a=>{let[s,l]=a;const i=t[s]||!1;return(0,B.jsxs)("button",{onClick:()=>ha(e.id,s,i),className:"flex items-center gap-1 px-2 py-1 rounded-lg text-xs border transition-all ".concat(i?"bg-green-50 border-green-300 text-green-700":"bg-gray-50 border-gray-200 text-gray-500 hover:bg-gray-100"),children:[i?(0,B.jsx)(m.A,{className:"w-3 h-3"}):(0,B.jsx)(h.A,{className:"w-3 h-3"}),l.icon," ",l.label]},s)})})]},e.id)})]}),"quick_actions"===Be&&(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsxs)("div",{className:"bg-white rounded-xl border p-4 mb-4",children:[(0,B.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 mb-1",children:[(0,B.jsx)(C.A,{className:"w-5 h-5 text-amber-600"}),s("quick_actions")]}),(0,B.jsx)("p",{className:"text-sm text-gray-500",children:s("manage_staff_users")})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,B.jsxs)("button",{onClick:ra,className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-blue-300 transition-all group",children:[(0,B.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,B.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:(0,B.jsx)(w.A,{className:"w-5 h-5 text-blue-600"})}),(0,B.jsx)("div",{className:"font-semibold text-slate-800",children:s("add_employee")})]}),(0,B.jsx)("p",{className:"text-sm text-gray-500",children:s("add_staff")})]}),(0,B.jsxs)("button",{onClick:oa,disabled:be||0===G.length,className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-purple-300 transition-all group disabled:opacity-50",children:[(0,B.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,B.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:(0,B.jsx)(A.A,{className:"w-5 h-5 text-purple-600"})}),(0,B.jsx)("div",{className:"font-semibold text-slate-800",children:s("bulk_print_id_cards")})]}),(0,B.jsxs)("p",{className:"text-sm text-gray-500",children:[G.length," ",s("bulk_print_id_cards")]})]}),(0,B.jsxs)("button",{onClick:()=>Le("permissions"),className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-indigo-300 transition-all group",children:[(0,B.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,B.jsx)("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:(0,B.jsx)(S.A,{className:"w-5 h-5 text-indigo-600"})}),(0,B.jsx)("div",{className:"font-semibold text-slate-800",children:s("permissions")})]}),(0,B.jsx)("p",{className:"text-sm text-gray-500",children:s("permissions")})]}),(0,B.jsxs)("button",{onClick:()=>{const e=G.filter(e=>e.has_login),a=G.filter(e=>!e.has_login);J.oR.info("Login: ".concat(e.length," Active, ").concat(a.length," Inactive"))},className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-green-300 transition-all group",children:[(0,B.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,B.jsx)("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center group-hover:bg-green-200 transition-colors",children:(0,B.jsx)(_.A,{className:"w-5 h-5 text-green-600"})}),(0,B.jsx)("div",{className:"font-semibold text-slate-800",children:s("login_status_overview")})]}),(0,B.jsx)("p",{className:"text-sm text-gray-500",children:s("login_status_overview")})]}),(0,B.jsxs)("button",{onClick:()=>sa(),className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-cyan-300 transition-all group",children:[(0,B.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,B.jsx)("div",{className:"w-10 h-10 rounded-lg bg-cyan-100 flex items-center justify-center group-hover:bg-cyan-200 transition-colors",children:(0,B.jsx)(k.A,{className:"w-5 h-5 text-cyan-600"})}),(0,B.jsx)("div",{className:"font-semibold text-slate-800",children:s("refresh_data")})]}),(0,B.jsx)("p",{className:"text-sm text-gray-500",children:s("refresh")})]}),(0,B.jsxs)("div",{className:"bg-white rounded-xl border p-6",children:[(0,B.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,B.jsx)("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:(0,B.jsx)(u.A,{className:"w-5 h-5 text-amber-600"})}),(0,B.jsx)("div",{className:"font-semibold text-slate-800",children:s("staff_summary")})]}),(0,B.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,B.jsxs)("div",{children:[s("total"),": ",(0,B.jsx)("span",{className:"font-bold text-blue-700",children:G.length})]}),(0,B.jsxs)("div",{children:[s("teaching_staff"),": ",(0,B.jsx)("span",{className:"font-bold text-amber-700",children:G.filter(e=>{var a;return null===(a=e.designation)||void 0===a?void 0:a.toLowerCase().includes("teacher")}).length})]}),(0,B.jsxs)("div",{children:[s("with_login"),": ",(0,B.jsx)("span",{className:"font-bold text-green-700",children:G.filter(e=>e.has_login).length})]})]})]})]})]}),"credentials"===Be&&"director"===(null===$||void 0===$?void 0:$.role)&&(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsxs)("div",{className:"bg-white rounded-xl border p-4 mb-4",children:[(0,B.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 mb-1",children:[(0,B.jsx)(_.A,{className:"w-5 h-5 text-amber-600"}),s("login_credentials")]}),(0,B.jsx)("p",{className:"text-sm text-gray-500",children:s("manage_staff_users")})]}),(0,B.jsx)("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:(0,B.jsx)("div",{className:"overflow-x-auto",children:(0,B.jsxs)("table",{className:"w-full text-sm",children:[(0,B.jsx)("thead",{children:(0,B.jsxs)("tr",{className:"bg-slate-50 border-b",children:[(0,B.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:s("name")}),(0,B.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:s("employee_id")}),(0,B.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:s("email")}),(0,B.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:s("password")}),(0,B.jsx)("th",{className:"text-left px-4 py-3 font-semibold text-slate-700",children:s("role")}),(0,B.jsx)("th",{className:"text-center px-4 py-3 font-semibold text-slate-700",children:s("status")}),(0,B.jsx)("th",{className:"text-center px-4 py-3 font-semibold text-slate-700",children:s("actions")})]})}),(0,B.jsxs)("tbody",{children:[G.map(e=>{var a,t;return(0,B.jsxs)("tr",{className:"border-b border-slate-50 hover:bg-slate-50/50",children:[(0,B.jsx)("td",{className:"px-4 py-3",children:(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[e.photo_url?(0,B.jsx)("img",{src:e.photo_url,alt:"",className:"w-8 h-8 rounded-full object-cover"}):(0,B.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold text-xs",children:null===(a=e.name)||void 0===a||null===(t=a.charAt(0))||void 0===t?void 0:t.toUpperCase()}),(0,B.jsx)("span",{className:"font-medium text-slate-800",children:e.name})]})}),(0,B.jsx)("td",{className:"px-4 py-3 text-slate-600 font-mono text-xs",children:(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[e.employee_id||"-",e.employee_id&&(0,B.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.employee_id),J.oR.success("ID copied!")},className:"text-blue-500 hover:text-blue-700 p-0.5",children:(0,B.jsx)(b.A,{className:"w-3 h-3"})})]})}),(0,B.jsx)("td",{className:"px-4 py-3",children:(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[(0,B.jsx)("span",{className:"text-slate-700 font-mono text-xs",children:e.email||"-"}),e.email&&(0,B.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.email),J.oR.success("Email copied!")},className:"text-blue-500 hover:text-blue-700 p-0.5",children:(0,B.jsx)(b.A,{className:"w-3 h-3"})})]})}),(0,B.jsx)("td",{className:"px-4 py-3",children:e.plain_password?(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[(0,B.jsx)("span",{className:"font-mono text-xs text-green-700 bg-green-50 px-2 py-0.5 rounded",children:oe?e.plain_password:"********"}),(0,B.jsx)("button",{onClick:()=>de(!oe),className:"text-gray-400 hover:text-gray-600 p-0.5",children:oe?(0,B.jsx)(j.A,{className:"w-3 h-3"}):(0,B.jsx)(f.A,{className:"w-3 h-3"})}),(0,B.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.plain_password),J.oR.success("Password copied!")},className:"text-blue-500 hover:text-blue-700 p-0.5",children:(0,B.jsx)(b.A,{className:"w-3 h-3"})})]}):(0,B.jsx)("span",{className:"text-xs text-gray-400",children:"-"})}),(0,B.jsx)("td",{className:"px-4 py-3",children:(0,B.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700 capitalize",children:e.role||e.designation||"-"})}),(0,B.jsx)("td",{className:"px-4 py-3 text-center",children:e.has_login?(0,B.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-green-50 text-green-700",children:[(0,B.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),s("active")]}):(0,B.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-red-50 text-red-700",children:[(0,B.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"}),s("disabled")]})}),(0,B.jsx)("td",{className:"px-4 py-3 text-center",children:(0,B.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[e.has_login&&(0,B.jsxs)(c.$,{size:"sm",variant:"outline",className:"h-7 text-xs gap-1 border-amber-300 text-amber-700 hover:bg-amber-50",onClick:()=>{Ke(e),We(""),Ye(!0)},children:[(0,B.jsx)(_.A,{className:"w-3 h-3"}),s("reset_password")]}),!e.has_login&&(0,B.jsxs)(c.$,{size:"sm",variant:"outline",className:"h-7 text-xs gap-1 border-green-300 text-green-700 hover:bg-green-50",onClick:()=>ca(e,!0),children:[(0,B.jsx)(M.A,{className:"w-3 h-3"}),s("enable_login")]})]})})]},e.id)}),0===G.length&&(0,B.jsx)("tr",{children:(0,B.jsxs)("td",{colSpan:"7",className:"px-4 py-10 text-center text-slate-400",children:[(0,B.jsx)(I.A,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),(0,B.jsx)("p",{children:s("no_data")})]})})]})]})})})]}),Ge&&Ze&&(0,B.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>Ye(!1),children:(0,B.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-md w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,B.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 mb-4",children:[(0,B.jsx)(_.A,{className:"w-5 h-5 text-amber-600"}),s("reset_password")]}),(0,B.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 mb-4",children:[(0,B.jsx)("p",{className:"font-medium",children:Ze.name}),(0,B.jsxs)("p",{className:"text-sm text-slate-500",children:[Ze.email," \u2022 ",Ze.role||Ze.designation]})]}),(0,B.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,B.jsx)(d.J,{children:s("password")}),(0,B.jsxs)("div",{className:"relative",children:[(0,B.jsx)(o.p,{type:oe?"text":"password",value:Qe,onChange:e=>We(e.target.value),placeholder:s("enter_new_password"),className:"pr-10"}),(0,B.jsx)("button",{type:"button",onClick:()=>de(!oe),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:oe?(0,B.jsx)(j.A,{className:"w-4 h-4"}):(0,B.jsx)(f.A,{className:"w-4 h-4"})})]})]}),(0,B.jsxs)("div",{className:"flex gap-3",children:[(0,B.jsx)(c.$,{variant:"outline",onClick:()=>Ye(!1),className:"flex-1",children:s("cancel")}),(0,B.jsxs)(c.$,{onClick:async()=>{if(!Qe||Qe.length<6)J.oR.error("Password must be at least 6 characters");else{ea(!0);try{const e=localStorage.getItem("token");await r.A.put("".concat(L,"/api/employees/").concat(Ze.employee_id||Ze.id,"/reset-password"),{new_password:Qe},{headers:{Authorization:"Bearer ".concat(e)}}),J.oR.success("Password reset for ".concat(Ze.name)),sa(),Ye(!1),Ke(null),We("")}catch(s){var e,a;J.oR.error((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.detail)||"Password reset failed")}finally{ea(!1)}}},disabled:!Qe||Qe.length<6||Xe,className:"flex-1 bg-amber-600 hover:bg-amber-700",children:[Xe?(0,B.jsx)(p.A,{className:"w-4 h-4 animate-spin mr-2"}):(0,B.jsx)(_.A,{className:"w-4 h-4 mr-2"}),s("reset_password")]})]})]})}),te&&(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 overflow-y-auto",children:(0,B.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full p-6 my-8",children:[(0,B.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,B.jsx)(R.A,{className:"w-6 h-6 text-blue-600"}),ie?"\u270f\ufe0f ".concat(s("edit_employee")):"\ud83d\udc64 ".concat(s("add_employee"))]}),(0,B.jsx)("div",{className:"flex gap-1 p-1 bg-slate-100 rounded-lg mb-4 overflow-x-auto",children:[{id:"basic",label:"\ud83d\udccb ".concat(s("basic_info"))},{id:"personal",label:"\ud83d\udc64 ".concat(s("personal_contact"))},{id:"identity",label:"\ud83c\udd94 ".concat(s("id_documents"))},{id:"bank",label:"\ud83c\udfe6 ".concat(s("bank_salary"))},{id:"login",label:"\ud83d\udd10 ".concat(s("login_access"))}].map(e=>(0,B.jsx)("button",{type:"button",onClick:()=>Se(e.id),className:"flex items-center gap-1 px-3 py-2 rounded-md text-sm font-medium whitespace-nowrap transition-all ".concat(Ce===e.id?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:bg-white/50"),children:e.label},e.id))}),(0,B.jsxs)("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:["basic"===Ce&&(0,B.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,B.jsxs)("h4",{className:"font-semibold text-slate-800 border-b pb-2",children:["\ud83d\udccb ",s("basic_info")]}),(0,B.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,B.jsx)("input",{type:"file",ref:Pe,className:"hidden",accept:"image/*",onChange:e=>{e.target.files[0]&&ia(e.target.files[0]),e.target.value=""}}),(0,B.jsxs)("div",{className:"relative w-20 h-20 rounded-full border-2 border-dashed border-blue-300 flex items-center justify-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all group flex-shrink-0",onClick:()=>{var e;return null===(e=Pe.current)||void 0===e?void 0:e.click()},children:[Ie.photo_url?(0,B.jsx)("img",{src:Ie.photo_url,alt:"Staff",className:"w-full h-full rounded-full object-cover"}):(0,B.jsx)(g.A,{className:"w-8 h-8 text-blue-400 group-hover:text-blue-600"}),ze&&(0,B.jsx)("div",{className:"absolute inset-0 rounded-full bg-white/70 flex items-center justify-center",children:(0,B.jsx)(p.A,{className:"w-6 h-6 animate-spin text-blue-600"})}),Ie.photo_url&&(0,B.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,B.jsx)(g.A,{className:"w-5 h-5 text-white"})})]}),(0,B.jsxs)("div",{className:"text-sm text-slate-500",children:[(0,B.jsx)("p",{className:"font-medium text-slate-700",children:s("staff_photo")}),(0,B.jsx)("p",{children:s("click_to_upload")})]})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsxs)(d.J,{children:[s("name")," *"]}),(0,B.jsx)(o.p,{value:Ie.name,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{name:e.target.value})),placeholder:s("name"),"data-testid":"employee-name-input"})]}),(0,B.jsxs)("div",{children:[(0,B.jsxs)(d.J,{children:[s("designation")," *"]}),(0,B.jsx)("select",{className:"w-full border rounded-lg px-3 py-2 h-10",value:Ie.designation,onChange:e=>(e=>{const a=Z.find(a=>a.id===e);Ee(s=>(0,t.A)((0,t.A)({},s),{},{designation:e,role:(null===a||void 0===a?void 0:a.default_role)||s.role||"teacher"}))})(e.target.value),"data-testid":"designation-select",children:Z.map(e=>(0,B.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,B.jsxs)("div",{children:[(0,B.jsxs)(d.J,{children:[s("department")," "]}),(0,B.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10",value:Ie.department,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{department:e.target.value})),children:[(0,B.jsx)("option",{value:"",children:s("select_department")}),(0,B.jsx)("option",{value:"Administration",children:"Administration (\u092a\u094d\u0930\u0936\u093e\u0938\u0928)"}),(0,B.jsx)("option",{value:"Academic",children:"Academic (\u0936\u0948\u0915\u094d\u0937\u0923\u093f\u0915)"}),(0,B.jsx)("option",{value:"Science",children:"Science (\u0935\u093f\u091c\u094d\u091e\u093e\u0928)"}),(0,B.jsx)("option",{value:"Arts",children:"Arts (\u0915\u0932\u093e)"}),(0,B.jsx)("option",{value:"Commerce",children:"Commerce (\u0935\u093e\u0923\u093f\u091c\u094d\u092f)"}),(0,B.jsx)("option",{value:"Sports",children:"Sports (\u0916\u0947\u0932\u0915\u0942\u0926)"}),(0,B.jsx)("option",{value:"IT",children:"IT (\u0906\u0908\u091f\u0940)"}),(0,B.jsx)("option",{value:"Accounts",children:"Accounts (\u0932\u0947\u0916\u093e)"}),(0,B.jsx)("option",{value:"Transport",children:"Transport (\u092a\u0930\u093f\u0935\u0939\u0928)"}),(0,B.jsx)("option",{value:"Hostel",children:"Hostel (\u091b\u093e\u0924\u094d\u0930\u093e\u0935\u093e\u0938)"}),(0,B.jsx)("option",{value:"Library",children:"Library (\u092a\u0941\u0938\u094d\u0924\u0915\u093e\u0932\u092f)"}),(0,B.jsx)("option",{value:"Lab",children:"Lab (\u092a\u094d\u0930\u092f\u094b\u0917\u0936\u093e\u0932\u093e)"}),(0,B.jsx)("option",{value:"Other",children:"Other (\u0905\u0928\u094d\u092f)"})]})]}),(0,B.jsxs)("div",{children:[(0,B.jsxs)(d.J,{children:[s("mobile")," *"]}),(0,B.jsx)(o.p,{value:Ie.mobile,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{mobile:e.target.value})),placeholder:"9876543210","data-testid":"employee-mobile-input"})]}),(0,B.jsxs)("div",{children:[(0,B.jsxs)(d.J,{children:[s("email")," *"]}),(0,B.jsx)(o.p,{type:"email",value:Ie.email,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{email:e.target.value})),placeholder:"email@school.com","data-testid":"employee-email-input"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("joining_date")}),(0,B.jsx)(o.p,{type:"date",value:Ie.joining_date,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{joining_date:e.target.value}))})]})]})]}),"personal"===Ce&&(0,B.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,B.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,B.jsxs)("h4",{className:"font-medium text-blue-800 mb-3",children:["\ud83d\udc64 ",s("personal_info")]}),(0,B.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("gender")}),(0,B.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Ie.gender,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{gender:e.target.value})),children:[(0,B.jsx)("option",{value:"male",children:s("male")}),(0,B.jsx)("option",{value:"female",children:s("female")}),(0,B.jsx)("option",{value:"other",children:s("other")})]})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("dob")}),(0,B.jsx)(o.p,{type:"date",value:Ie.dob,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{dob:e.target.value}))})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("blood_group")}),(0,B.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Ie.blood_group||"",onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{blood_group:e.target.value})),children:[(0,B.jsx)("option",{value:"",children:"Select"}),["A+","A-","B+","B-","O+","O-","AB+","AB-"].map(e=>(0,B.jsx)("option",{value:e,children:e},e))]})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("marital_status")}),(0,B.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Ie.marital_status,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{marital_status:e.target.value})),children:[(0,B.jsx)("option",{value:"",children:"Select"}),(0,B.jsx)("option",{value:"Single",children:"Single"}),(0,B.jsx)("option",{value:"Married",children:"Married"})]})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("father_name")}),(0,B.jsx)(o.p,{value:Ie.father_name,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{father_name:e.target.value})),placeholder:s("father_name")})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("spouse_name")}),(0,B.jsx)(o.p,{value:Ie.spouse_name,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{spouse_name:e.target.value})),placeholder:s("spouse_name")})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("nationality")}),(0,B.jsx)(o.p,{value:Ie.nationality,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{nationality:e.target.value})),placeholder:"Indian"})]})]})]}),(0,B.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,B.jsxs)("h4",{className:"font-medium text-green-800 mb-3",children:["\ud83c\udfe0 ",s("address")]}),(0,B.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,B.jsxs)("div",{className:"col-span-2 md:col-span-3",children:[(0,B.jsx)(d.J,{children:s("address")}),(0,B.jsx)(o.p,{value:Ie.address,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{address:e.target.value})),placeholder:s("address")})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("city")}),(0,B.jsx)(o.p,{value:Ie.city,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{city:e.target.value}))})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("state")}),(0,B.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Ie.state,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{state:e.target.value})),children:[(0,B.jsx)("option",{value:"",children:s("select_state")}),(0,B.jsx)("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),(0,B.jsx)("option",{value:"Rajasthan",children:"Rajasthan"}),(0,B.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,B.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,B.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("pincode")}),(0,B.jsx)(o.p,{value:Ie.pincode,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{pincode:e.target.value})),placeholder:"6 digit"})]})]})]}),(0,B.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,B.jsxs)("h4",{className:"font-medium text-red-800 mb-3",children:["\ud83c\udd98 ",s("emergency_contact")]}),(0,B.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("emergency_contact")}),(0,B.jsx)(o.p,{value:Ie.emergency_contact_name,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{emergency_contact_name:e.target.value})),placeholder:s("name")})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("mobile")}),(0,B.jsx)(o.p,{value:Ie.emergency_contact||"",onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{emergency_contact:e.target.value})),placeholder:"10 digit mobile"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("relation")}),(0,B.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Ie.emergency_relation,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{emergency_relation:e.target.value})),children:[(0,B.jsx)("option",{value:"",children:"Select"}),(0,B.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,B.jsx)("option",{value:"Father",children:"Father"}),(0,B.jsx)("option",{value:"Mother",children:"Mother"}),(0,B.jsx)("option",{value:"Other",children:"Other"})]})]})]})]})]}),"identity"===Ce&&(0,B.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,B.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,B.jsxs)("h4",{className:"font-medium text-slate-800 mb-3",children:["\ud83c\udd94 ",s("identity_documents")]}),(0,B.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("aadhar_number")}),(0,B.jsx)(o.p,{value:Ie.aadhar_no,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{aadhar_no:e.target.value})),placeholder:"12 digit Aadhar"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("pan_number")}),(0,B.jsx)(o.p,{value:Ie.pan_number,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{pan_number:e.target.value.toUpperCase()})),placeholder:"ABCDE1234F"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("voter_id")}),(0,B.jsx)(o.p,{value:Ie.voter_id,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{voter_id:e.target.value})),placeholder:s("voter_id")})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("uan_epf")}),(0,B.jsx)(o.p,{value:Ie.uan_number,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{uan_number:e.target.value})),placeholder:s("uan_epf")})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("esi_number")}),(0,B.jsx)(o.p,{value:Ie.esi_number,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{esi_number:e.target.value})),placeholder:s("esi_number")})]})]})]}),(0,B.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,B.jsxs)("h4",{className:"font-medium text-purple-800 mb-3",children:["\ud83c\udf93 ",s("qualification")]}),(0,B.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("qualification")}),(0,B.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Ie.qualification,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{qualification:e.target.value})),children:[(0,B.jsx)("option",{value:"",children:"Select"}),(0,B.jsx)("option",{value:"10th Pass",children:"10th Pass"}),(0,B.jsx)("option",{value:"12th Pass",children:"12th Pass"}),(0,B.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,B.jsx)("option",{value:"Post Graduate",children:"Post Graduate"}),(0,B.jsx)("option",{value:"B.Ed",children:"B.Ed"}),(0,B.jsx)("option",{value:"PhD",children:"PhD"}),(0,B.jsx)("option",{value:"ITI",children:"ITI"})]})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("specialization")}),(0,B.jsx)(o.p,{value:Ie.specialization,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{specialization:e.target.value})),placeholder:"e.g., Maths, Physics"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("experience")}),(0,B.jsx)(o.p,{type:"number",value:Ie.experience_years,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{experience_years:e.target.value})),placeholder:s("experience")})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("previous_employer")}),(0,B.jsx)(o.p,{value:Ie.previous_employer,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{previous_employer:e.target.value})),placeholder:s("previous_employer")})]})]})]}),(0,B.jsxs)("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[(0,B.jsxs)("h4",{className:"font-medium text-amber-800 mb-3",children:["\ud83d\udcc4 ",s("documents_upload")]}),ie?(0,B.jsx)(T.Ay,{personId:ie.id,personType:"employee",schoolId:H,existingDocuments:[]}):(0,B.jsx)("div",{className:"text-center py-4",children:(0,B.jsxs)("p",{className:"text-sm text-amber-600",children:["\ud83d\udca1 ",s("upload_docs_after_add")]})}),(0,B.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:["Aadhar","PAN","Photo","10th","12th","Degree","B.Ed","Experience Letter","Bank Proof"].map((e,a)=>(0,B.jsx)("span",{className:"px-2 py-1 bg-white rounded text-xs text-slate-600 border",children:e},a))})]})]}),"bank"===Ce&&(0,B.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,B.jsxs)("h4",{className:"font-semibold text-slate-800 border-b pb-2",children:["\ud83c\udfe6 ",s("bank_details")]}),(0,B.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,B.jsxs)("h5",{className:"font-medium text-green-800 mb-3",children:["\ud83d\udcb0 ",s("salary")]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsxs)(d.J,{children:[s("salary")," (\u20b9)"]}),(0,B.jsx)(o.p,{type:"number",value:Ie.salary,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{salary:e.target.value})),placeholder:"25000"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("salary_type")}),(0,B.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10",value:Ie.salary_type,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{salary_type:e.target.value})),children:[(0,B.jsx)("option",{value:"monthly",children:"Monthly (\u092e\u093e\u0938\u093f\u0915)"}),(0,B.jsx)("option",{value:"daily",children:"Daily (\u0926\u0948\u0928\u093f\u0915)"})]})]})]}),(0,B.jsxs)("div",{className:"flex flex-wrap gap-4 mt-3",children:[(0,B.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,B.jsx)("input",{type:"checkbox",checked:Ie.pf_applicable,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{pf_applicable:e.target.checked})),className:"w-4 h-4"}),s("pf_applicable")]}),(0,B.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,B.jsx)("input",{type:"checkbox",checked:Ie.esi_applicable,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{esi_applicable:e.target.checked})),className:"w-4 h-4"}),s("esi_applicable")]}),(0,B.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,B.jsx)("input",{type:"checkbox",checked:Ie.tds_applicable,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{tds_applicable:e.target.checked})),className:"w-4 h-4"}),s("tds_applicable")]})]})]}),(0,B.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,B.jsxs)("h5",{className:"font-medium text-blue-800 mb-3",children:["\ud83c\udfe6 ",s("bank_details")]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("bank_name")}),(0,B.jsx)(o.p,{value:Ie.bank_name,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{bank_name:e.target.value})),placeholder:s("bank_name")})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("bank_account")}),(0,B.jsx)(o.p,{value:Ie.bank_account_no,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{bank_account_no:e.target.value})),placeholder:s("bank_account")})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("ifsc_code")}),(0,B.jsx)(o.p,{value:Ie.ifsc_code,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{ifsc_code:e.target.value.toUpperCase()})),placeholder:"SBIN0001234"})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("branch_name")}),(0,B.jsx)(o.p,{value:Ie.bank_branch,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{bank_branch:e.target.value})),placeholder:s("branch_name")})]})]})]})]}),"login"===Ce&&(0,B.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,B.jsxs)("h4",{className:"font-semibold text-slate-800 border-b pb-2",children:["\ud83d\udd10 ",s("login_access")]}),!["teacher","senior_teacher","sports_teacher","music_teacher","computer_teacher","yoga_teacher"].includes(Ie.designation)&&(0,B.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-lg cursor-pointer border border-amber-200",children:[(0,B.jsx)("input",{type:"checkbox",checked:Ie.can_teach,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{can_teach:e.target.checked})),className:"w-5 h-5 rounded"}),(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{className:"font-medium text-amber-800",children:s("can_also_teach")}),(0,B.jsx)("div",{className:"text-sm text-amber-600",children:s("can_also_teach_desc")})]})]}),(0,B.jsxs)("div",{children:[(0,B.jsxs)(d.J,{children:[s("role")," *"]}),(0,B.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 bg-white",value:Ie.role,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{role:e.target.value})),children:[(0,B.jsx)("option",{value:"director",children:"Director (\u0928\u093f\u0926\u0947\u0936\u0915)"}),(0,B.jsx)("option",{value:"principal",children:"Principal (\u092a\u094d\u0930\u0927\u093e\u0928\u093e\u091a\u093e\u0930\u094d\u092f)"}),(0,B.jsx)("option",{value:"vice_principal",children:"Vice Principal (\u0909\u092a-\u092a\u094d\u0930\u0927\u093e\u0928\u093e\u091a\u093e\u0930\u094d\u092f)"}),(0,B.jsx)("option",{value:"teacher",children:"Teacher (\u0936\u093f\u0915\u094d\u0937\u0915)"}),(0,B.jsx)("option",{value:"admin_staff",children:"Admin Staff"}),(0,B.jsx)("option",{value:"accountant",children:"Accountant (\u0932\u0947\u0916\u093e\u0915\u093e\u0930)"}),(0,B.jsx)("option",{value:"clerk",children:"Clerk (\u0932\u093f\u092a\u093f\u0915)"}),(0,B.jsx)("option",{value:"librarian",children:"Librarian (\u092a\u0941\u0938\u094d\u0924\u0915\u093e\u0932\u092f\u093e\u0927\u094d\u092f\u0915\u094d\u0937)"}),(0,B.jsx)("option",{value:"peon",children:"Peon (\u091a\u092a\u0930\u093e\u0938\u0940)"}),(0,B.jsx)("option",{value:"driver",children:"Driver (\u091a\u093e\u0932\u0915)"}),(0,B.jsx)("option",{value:"guard",children:"Guard (\u0938\u0941\u0930\u0915\u094d\u0937\u093e)"})]}),(0,B.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:s("role_determines_permissions")})]}),(0,B.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer",children:[(0,B.jsx)("input",{type:"checkbox",checked:Ie.create_login,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{create_login:e.target.checked})),className:"w-5 h-5 rounded"}),(0,B.jsxs)("div",{children:[(0,B.jsx)("div",{className:"font-medium",children:s("create_login_account")}),(0,B.jsx)("div",{className:"text-sm text-gray-500",children:s("employee_can_login")})]})]}),Ie.create_login&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{children:[(0,B.jsx)(d.J,{children:s("password")}),(0,B.jsxs)("div",{className:"relative",children:[(0,B.jsx)(o.p,{type:oe?"text":"password",value:Ie.password,onChange:e=>Ee(a=>(0,t.A)((0,t.A)({},a),{},{password:e.target.value})),placeholder:s("leave_empty_mobile_password")}),(0,B.jsx)("button",{type:"button",onClick:()=>de(!oe),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500",children:oe?(0,B.jsx)(j.A,{className:"w-4 h-4"}):(0,B.jsx)(f.A,{className:"w-4 h-4"})})]})]}),(0,B.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>qe(!Je),className:"gap-2",children:[(0,B.jsx)(S.A,{className:"w-4 h-4"}),s(Je?"hide":"show_all")," ",s("permissions")]}),Je&&(0,B.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["\ud83c\udfaf ",s("quick_permission_presets"),":"]}),(0,B.jsx)("div",{className:"flex gap-2 flex-wrap",children:Object.entries(O).map(e=>{let[a,s]=e;return(0,B.jsx)("button",{type:"button",onClick:()=>{Te(a),Ee(e=>(0,t.A)((0,t.A)({},e),{},{custom_permissions:(0,t.A)({},s.permissions)}))},className:"px-3 py-2 rounded-lg text-xs border transition-all ".concat(De===a?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white hover:bg-indigo-50 hover:border-indigo-300"),children:(0,B.jsx)("div",{className:"font-medium",children:s.label})},a)})})]}),(0,B.jsxs)("div",{className:"border-t pt-4",children:[(0,B.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["\ud83d\udd10 ",s("individual_permissions"),":"]}),(0,B.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(F).map(e=>{var a,s;let[l,i]=e;return(0,B.jsxs)("label",{className:"flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all ".concat(null!==(a=Ie.custom_permissions)&&void 0!==a&&a[l]?"bg-green-50 border border-green-200":"bg-white border border-gray-200 hover:bg-gray-50"),children:[(0,B.jsx)("input",{type:"checkbox",checked:(null===(s=Ie.custom_permissions)||void 0===s?void 0:s[l])||!1,onChange:e=>{Te("custom"),Ee(a=>(0,t.A)((0,t.A)({},a),{},{custom_permissions:(0,t.A)((0,t.A)({},a.custom_permissions),{},{[l]:e.target.checked})}))},className:"w-4 h-4 rounded border-gray-300 text-indigo-600"}),(0,B.jsxs)("span",{className:"text-sm",children:[i.icon," ",i.label]})]},l)})})]})]})]})]})]}),(0,B.jsxs)("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:[(0,B.jsx)(c.$,{variant:"outline",className:"flex-1",onClick:()=>le(!1),children:s("cancel")}),(0,B.jsxs)(c.$,{className:"flex-1 bg-indigo-600 hover:bg-indigo-700",onClick:async()=>{if(Ie.name&&Ie.mobile&&Ie.email){ce(!0);try{const e=localStorage.getItem("token"),a=(0,t.A)((0,t.A)({},Ie),{},{school_id:H,salary:Ie.salary?parseFloat(Ie.salary):null,password:Ie.password||Ie.mobile});ie?(await r.A.put("".concat(L,"/api/employees/").concat(ie.id),a,{headers:{Authorization:"Bearer ".concat(e)}}),J.oR.success("Employee updated!")):(await r.A.post("".concat(L,"/api/employees"),a,{headers:{Authorization:"Bearer ".concat(e)}}),J.oR.success("Employee added!")),le(!1),na(),sa()}catch(s){var e,a;J.oR.error((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.detail)||"Error saving employee")}finally{ce(!1)}}else J.oR.error("Name, Mobile \u0914\u0930 Email \u091c\u0930\u0942\u0930\u0940 \u0939\u0948")},disabled:re,children:[re?(0,B.jsx)(p.A,{className:"w-4 h-4 animate-spin mr-2"}):null,s(ie?"update":"save")]})]})]})}),me&&pe&&(0,B.jsx)(q.A,{personId:pe.id,personType:"staff",schoolId:H,isOpen:me,onClose:()=>{he(!1),xe(null)}}),je&&ye&&(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,B.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[(0,B.jsxs)("h3",{className:"text-xl font-bold text-red-600 flex items-center gap-2 mb-4",children:[(0,B.jsx)(z.A,{className:"w-6 h-6"}),"\u26a0\ufe0f ",s("permanent_delete_warning")]}),(0,B.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[(0,B.jsx)("h4",{className:"font-bold text-red-800 mb-2",children:"\ud83d\udea8 \u092e\u0939\u0924\u094d\u0935\u092a\u0942\u0930\u094d\u0923 \u091a\u0947\u0924\u093e\u0935\u0928\u0940:"}),(0,B.jsxs)("ul",{className:"text-sm text-red-700 space-y-1 list-disc list-inside",children:[(0,B.jsx)("li",{children:"\u092f\u0939 action UNDO \u0928\u0939\u0940\u0902 \u0915\u093f\u092f\u093e \u091c\u093e \u0938\u0915\u0924\u093e"}),(0,B.jsx)("li",{children:"Employee \u0915\u093e \u0938\u093e\u0930\u093e data \u0939\u092e\u0947\u0936\u093e \u0915\u0947 \u0932\u093f\u090f delete \u0939\u094b \u091c\u093e\u090f\u0917\u093e"}),(0,B.jsx)("li",{children:"Salary records, Attendance, Leave records \u0938\u092c delete \u0939\u094b \u091c\u093e\u090f\u0902\u0917\u0947"}),(0,B.jsx)("li",{children:"Login access \u092d\u0940 permanently remove \u0939\u094b \u091c\u093e\u090f\u0917\u093e"})]})]}),(0,B.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:[(0,B.jsx)("p",{className:"font-medium text-lg",children:ye.name}),(0,B.jsxs)("p",{className:"text-sm text-slate-500",children:[ye.designation," \u2022 ",ye.department||"General"]}),(0,B.jsxs)("p",{className:"text-sm text-slate-500",children:["\ud83d\udcde ",ye.mobile]})]}),(0,B.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,B.jsxs)("label",{className:"text-sm font-medium text-slate-700",children:["Confirm \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f ",(0,B.jsx)("span",{className:"text-red-600 font-bold",children:"DELETE"})," type \u0915\u0930\u0947\u0902:"]}),(0,B.jsx)(o.p,{value:Ne,onChange:e=>we(e.target.value.toUpperCase()),placeholder:s("type_delete_here"),className:"border-red-200 focus:border-red-400"})]}),(0,B.jsxs)("div",{className:"flex gap-3",children:[(0,B.jsx)(c.$,{variant:"outline",onClick:()=>fe(!1),className:"flex-1",children:s("cancel")}),(0,B.jsxs)(c.$,{onClick:async()=>{if("DELETE"===Ne){ke(!0);try{const e=localStorage.getItem("token");await r.A.delete("".concat(L,"/api/users/").concat(ye.id),{headers:{Authorization:"Bearer ".concat(e)}}),J.oR.success("Employee data permanently deleted"),fe(!1),_e(null),we(""),sa()}catch(s){var e,a;J.oR.error((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.detail)||"Failed to delete employee")}finally{ke(!1)}}else J.oR.error("Please type DELETE to confirm")},disabled:"DELETE"!==Ne||Ae,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[Ae?(0,B.jsx)(p.A,{className:"w-4 h-4 animate-spin mr-2"}):(0,B.jsx)(z.A,{className:"w-4 h-4 mr-2"}),s("delete_permanently")]})]})]})})]})}},5347(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},247(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},6210(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},2054(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6245(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2313(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},6376(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},7104(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},4651(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},5087(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1457(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},3002(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("file-up",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]])},7737(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},2024(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7673(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]])},6567(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]])},9989(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},1360(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2754(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},4805(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},3782(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("settings-2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},9855(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7719(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},797(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},254(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},6873(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},746(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},4459(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5131(e,a,s){s.d(a,{b:()=>m});var t=s(2555),l=s(5043),i=s(3986),n=(s(7950),s(6851)),r=s(579);const c=["asChild"];var o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{const s=(0,n.TL)("Primitive.".concat(a)),o=l.forwardRef((e,l)=>{const{asChild:n}=e,o=(0,i.A)(e,c),d=n?s:a;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(d,(0,t.A)((0,t.A)({},o),{},{ref:l}))});return o.displayName="Primitive.".concat(a),(0,t.A)((0,t.A)({},e),{},{[a]:o})},{});var d=l.forwardRef((e,a)=>(0,r.jsx)(o.label,(0,t.A)((0,t.A)({},e),{},{ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}})));d.displayName="Label";var m=d}}]);
//# sourceMappingURL=6353.8695c1a5.chunk.js.map