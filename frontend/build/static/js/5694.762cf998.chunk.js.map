{"version":3,"file":"static/js/5694.762cf998.chunk.js","mappings":"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","sources":["components/BulkImport.js","components/DocumentUpload.js"],"sourcesContent":["/**\n * Bulk Import Component - Import Students/Employees from CSV/Excel\n * AI-powered data parsing with preview and validation\n */\nimport { useState, useRef } from 'react';\nimport { Button } from './ui/button';\nimport { \n  FileUp, Download, AlertTriangle, CheckCircle, XCircle,\n  Loader2, FileSpreadsheet, Users, UserCog, Eye, Upload\n} from 'lucide-react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from './ui/dialog';\nimport { toast } from 'sonner';\nimport axios from 'axios';\n\nconst API = (process.env.REACT_APP_BACKEND_URL || '') || '';\n\nexport default function BulkImport({ \n  type = 'student', // 'student' or 'employee'\n  schoolId,\n  onImportComplete,\n  trigger // Custom trigger element\n}) {\n  const [open, setOpen] = useState(false);\n  const [step, setStep] = useState(1); // 1: Upload, 2: Preview, 3: Result\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [importing, setImporting] = useState(false);\n  const [previewData, setPreviewData] = useState(null);\n  const [importResult, setImportResult] = useState(null);\n  const [template, setTemplate] = useState(null);\n  const fileInputRef = useRef(null);\n\n  const typeLabel = type === 'student' ? 'Students (‡§õ‡§æ‡§§‡•ç‡§∞)' : 'Employees (‡§ï‡§∞‡•ç‡§Æ‡§ö‡§æ‡§∞‡•Ä)';\n  const TypeIcon = type === 'student' ? Users : UserCog;\n\n  const fetchTemplate = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API}/api/bulk-import/template/${type}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setTemplate(response.data);\n    } catch (error) {\n      toast.error('Template load ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ');\n    }\n  };\n\n  const downloadTemplate = () => {\n    if (!template) return;\n    \n    const blob = new Blob([template.sample_csv], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${type}_import_template.csv`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n    toast.success('Template downloaded!');\n  };\n\n  const handleFileSelect = async (e) => {\n    const selectedFile = e.target.files[0];\n    if (!selectedFile) return;\n\n    // Validate file type\n    const validTypes = ['.csv', '.xlsx', '.xls'];\n    const ext = selectedFile.name.substring(selectedFile.name.lastIndexOf('.')).toLowerCase();\n    if (!validTypes.includes(ext)) {\n      toast.error('Only CSV or Excel files are allowed');\n      return;\n    }\n\n    // Validate file size (10MB max)\n    if (selectedFile.size > 10 * 1024 * 1024) {\n      toast.error('File size should be less than 10MB');\n      return;\n    }\n\n    setFile(selectedFile);\n    await previewFile(selectedFile);\n  };\n\n  const previewFile = async (selectedFile) => {\n    setUploading(true);\n    try {\n      const formData = new FormData();\n      formData.append('file', selectedFile);\n      formData.append('import_type', type);\n      formData.append('school_id', schoolId);\n\n      const token = localStorage.getItem('token');\n      const response = await axios.post(`${API}/api/bulk-import/preview`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      setPreviewData(response.data);\n      setStep(2);\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'File preview failed');\n      setFile(null);\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const executeImport = async () => {\n    if (!file) return;\n\n    setImporting(true);\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('import_type', type);\n      formData.append('school_id', schoolId);\n      formData.append('skip_invalid', 'true');\n\n      const token = localStorage.getItem('token');\n      const response = await axios.post(`${API}/api/bulk-import/execute`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      setImportResult(response.data);\n      setStep(3);\n      toast.success(`${response.data.success_count} ${type}s imported!`);\n      if (onImportComplete) onImportComplete();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Import failed');\n    } finally {\n      setImporting(false);\n    }\n  };\n\n  const resetDialog = () => {\n    setStep(1);\n    setFile(null);\n    setPreviewData(null);\n    setImportResult(null);\n  };\n\n  const openDialog = () => {\n    resetDialog();\n    fetchTemplate();\n    setOpen(true);\n  };\n\n  return (\n    <>\n      {trigger ? (\n        <div onClick={openDialog}>{trigger}</div>\n      ) : (\n        <Button onClick={openDialog} variant=\"outline\" className=\"gap-2 border-indigo-200 text-indigo-700 hover:bg-indigo-50\">\n          <FileUp className=\"w-4 h-4\" />\n          Bulk Import\n        </Button>\n      )}\n\n      <Dialog open={open} onOpenChange={(o) => { setOpen(o); if (!o) resetDialog(); }}>\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <TypeIcon className=\"w-5 h-5 text-indigo-600\" />\n              üì• Bulk Import {typeLabel}\n            </DialogTitle>\n            <DialogDescription>\n              CSV ‡§Ø‡§æ Excel file ‡§∏‡•á ‡§è‡§ï ‡§∏‡§æ‡§• ‡§¨‡§π‡•Å‡§§ ‡§∏‡§æ‡§∞‡•á {type === 'student' ? 'students' : 'employees'} add ‡§ï‡§∞‡•á‡§Ç\n            </DialogDescription>\n          </DialogHeader>\n\n          {/* Step 1: Upload */}\n          {step === 1 && (\n            <div className=\"space-y-6 py-4\">\n              {/* Download Template */}\n              <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                <h4 className=\"font-medium text-blue-800 mb-2\">üìã Step 1: Download Template</h4>\n                <p className=\"text-sm text-blue-600 mb-3\">\n                  ‡§™‡§π‡§≤‡•á template download ‡§ï‡§∞‡•á‡§Ç, ‡§Ö‡§™‡§®‡§æ data ‡§≠‡§∞‡•á‡§Ç, ‡§´‡§ø‡§∞ upload ‡§ï‡§∞‡•á‡§Ç‡•§\n                </p>\n                <Button \n                  onClick={downloadTemplate} \n                  disabled={!template}\n                  className=\"bg-blue-600 hover:bg-blue-700 gap-2\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  Download Template CSV\n                </Button>\n                \n                {template && (\n                  <div className=\"mt-3 text-xs text-blue-700\">\n                    <p className=\"font-medium\">Required columns:</p>\n                    <p className=\"opacity-80\">{template.headers.slice(0, 8).join(', ')}...</p>\n                  </div>\n                )}\n              </div>\n\n              {/* Upload File */}\n              <div className=\"p-4 bg-emerald-50 rounded-lg border border-emerald-200\">\n                <h4 className=\"font-medium text-emerald-800 mb-2\">üì§ Step 2: Upload Your File</h4>\n                \n                <input\n                  type=\"file\"\n                  accept=\".csv,.xlsx,.xls\"\n                  className=\"hidden\"\n                  ref={fileInputRef}\n                  onChange={handleFileSelect}\n                />\n                \n                <div \n                  onClick={() => fileInputRef.current?.click()}\n                  className=\"border-2 border-dashed border-emerald-300 rounded-lg p-8 text-center cursor-pointer hover:border-emerald-500 hover:bg-emerald-100 transition-all\"\n                >\n                  {uploading ? (\n                    <div className=\"flex flex-col items-center\">\n                      <Loader2 className=\"w-10 h-10 text-emerald-600 animate-spin mb-2\" />\n                      <p className=\"text-emerald-700\">Processing file...</p>\n                    </div>\n                  ) : (\n                    <div className=\"flex flex-col items-center\">\n                      <FileSpreadsheet className=\"w-10 h-10 text-emerald-500 mb-2\" />\n                      <p className=\"text-emerald-700 font-medium\">Click to upload CSV or Excel</p>\n                      <p className=\"text-sm text-emerald-600\">‡§Ø‡§æ file ‡§Ø‡§π‡§æ‡§Å drag ‡§ï‡§∞‡•á‡§Ç</p>\n                    </div>\n                  )}\n                </div>\n                \n                <p className=\"text-xs text-emerald-600 mt-2\">\n                  Supported: CSV, XLSX, XLS | Max size: 10MB\n                </p>\n              </div>\n\n              {/* Tips */}\n              <div className=\"p-4 bg-amber-50 rounded-lg border border-amber-200\">\n                <h4 className=\"font-medium text-amber-800 mb-2\">üí° Tips</h4>\n                <ul className=\"text-sm text-amber-700 space-y-1\">\n                  <li>‚Ä¢ First row should be headers (column names)</li>\n                  <li>‚Ä¢ Mobile numbers should be 10 digits</li>\n                  <li>‚Ä¢ Date format: YYYY-MM-DD (e.g., 2024-01-15)</li>\n                  <li>‚Ä¢ Existing software (Tally, other ERP) ‡§∏‡•á export ‡§ï‡§∞‡§ï‡•á upload ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç</li>\n                </ul>\n              </div>\n            </div>\n          )}\n\n          {/* Step 2: Preview */}\n          {step === 2 && previewData && (\n            <div className=\"space-y-4 py-4\">\n              {/* Summary */}\n              <div className=\"grid grid-cols-3 gap-4\">\n                <div className=\"p-4 bg-slate-50 rounded-lg text-center\">\n                  <p className=\"text-2xl font-bold text-slate-800\">{previewData.total_rows}</p>\n                  <p className=\"text-sm text-slate-500\">Total Rows</p>\n                </div>\n                <div className=\"p-4 bg-emerald-50 rounded-lg text-center\">\n                  <p className=\"text-2xl font-bold text-emerald-600\">{previewData.valid_rows}</p>\n                  <p className=\"text-sm text-emerald-600\">Valid</p>\n                </div>\n                <div className=\"p-4 bg-red-50 rounded-lg text-center\">\n                  <p className=\"text-2xl font-bold text-red-600\">{previewData.invalid_rows}</p>\n                  <p className=\"text-sm text-red-600\">Invalid</p>\n                </div>\n              </div>\n\n              {/* Preview Table */}\n              <div className=\"border rounded-lg overflow-hidden\">\n                <div className=\"bg-slate-100 px-4 py-2 font-medium text-slate-700\">\n                  Preview (First 10 rows)\n                </div>\n                <div className=\"max-h-64 overflow-auto\">\n                  <table className=\"w-full text-sm\">\n                    <thead className=\"bg-slate-50 sticky top-0\">\n                      <tr>\n                        <th className=\"px-3 py-2 text-left\">Row</th>\n                        <th className=\"px-3 py-2 text-left\">Name</th>\n                        <th className=\"px-3 py-2 text-left\">{type === 'student' ? 'Class' : 'Designation'}</th>\n                        <th className=\"px-3 py-2 text-left\">Mobile</th>\n                        <th className=\"px-3 py-2 text-left\">Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {previewData.preview_data.map((item, idx) => (\n                        <tr key={idx} className={item.is_valid ? '' : 'bg-red-50'}>\n                          <td className=\"px-3 py-2 border-t\">{item.row_number}</td>\n                          <td className=\"px-3 py-2 border-t\">{item.data.name || '-'}</td>\n                          <td className=\"px-3 py-2 border-t\">\n                            {type === 'student' ? item.data.class_name : item.data.designation}\n                          </td>\n                          <td className=\"px-3 py-2 border-t\">{item.data.mobile || '-'}</td>\n                          <td className=\"px-3 py-2 border-t\">\n                            {item.is_valid ? (\n                              <CheckCircle className=\"w-4 h-4 text-emerald-500\" />\n                            ) : (\n                              <XCircle className=\"w-4 h-4 text-red-500\" />\n                            )}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n\n              {/* Errors */}\n              {previewData.all_errors.length > 0 && (\n                <div className=\"p-3 bg-red-50 rounded-lg border border-red-200\">\n                  <h4 className=\"font-medium text-red-800 mb-2 flex items-center gap-2\">\n                    <AlertTriangle className=\"w-4 h-4\" />\n                    Errors ({previewData.all_errors.length})\n                  </h4>\n                  <ul className=\"text-sm text-red-700 space-y-1 max-h-32 overflow-auto\">\n                    {previewData.all_errors.slice(0, 10).map((err, idx) => (\n                      <li key={idx}>‚Ä¢ {err}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n\n              {/* Actions */}\n              <div className=\"flex gap-3 pt-4\">\n                <Button variant=\"outline\" onClick={() => { setStep(1); setFile(null); }}>\n                  ‚Üê Back\n                </Button>\n                <Button\n                  onClick={executeImport}\n                  disabled={importing || previewData.valid_rows === 0}\n                  className=\"flex-1 bg-emerald-600 hover:bg-emerald-700 gap-2\"\n                >\n                  {importing ? (\n                    <>\n                      <Loader2 className=\"w-4 h-4 animate-spin\" />\n                      Importing...\n                    </>\n                  ) : (\n                    <>\n                      <Upload className=\"w-4 h-4\" />\n                      Import {previewData.valid_rows} Valid Rows\n                    </>\n                  )}\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Result */}\n          {step === 3 && importResult && (\n            <div className=\"space-y-4 py-4 text-center\">\n              <div className={`inline-flex items-center justify-center w-16 h-16 rounded-full ${\n                importResult.success_count > 0 ? 'bg-emerald-100' : 'bg-red-100'\n              }`}>\n                {importResult.success_count > 0 ? (\n                  <CheckCircle className=\"w-8 h-8 text-emerald-600\" />\n                ) : (\n                  <XCircle className=\"w-8 h-8 text-red-600\" />\n                )}\n              </div>\n\n              <div>\n                <h3 className=\"text-xl font-bold text-slate-800\">\n                  {importResult.success_count > 0 ? 'Import Successful!' : 'Import Failed'}\n                </h3>\n                <p className=\"text-slate-500\">\n                  {importResult.success_count} {type}s imported successfully\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"p-4 bg-emerald-50 rounded-lg\">\n                  <p className=\"text-2xl font-bold text-emerald-600\">{importResult.success_count}</p>\n                  <p className=\"text-sm text-emerald-600\">Success</p>\n                </div>\n                <div className=\"p-4 bg-red-50 rounded-lg\">\n                  <p className=\"text-2xl font-bold text-red-600\">{importResult.error_count}</p>\n                  <p className=\"text-sm text-red-600\">Failed</p>\n                </div>\n              </div>\n\n              {importResult.errors?.length > 0 && (\n                <div className=\"p-3 bg-red-50 rounded-lg border border-red-200 text-left\">\n                  <h4 className=\"font-medium text-red-800 mb-2\">Errors:</h4>\n                  <ul className=\"text-sm text-red-700 space-y-1\">\n                    {importResult.errors.slice(0, 5).map((err, idx) => (\n                      <li key={idx}>‚Ä¢ Row {err.row}: {err.error || err.errors?.join(', ')}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n\n              <Button onClick={() => setOpen(false)} className=\"w-full\">\n                Done\n              </Button>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n","/**\n * Document Upload Component for Students and Employees\n * Supports: Birth Certificate, Aadhar Card, TC, Caste Certificate, etc.\n */\nimport { useState, useRef } from 'react';\nimport { Button } from './ui/button';\nimport { \n  FileText, Upload, X, Eye, Check, AlertTriangle, \n  FileImage, File, Loader2, Download, Trash2 \n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport axios from 'axios';\n\nconst API = (process.env.REACT_APP_BACKEND_URL || '') || '';\n\n// Document types for students\nexport const STUDENT_DOCUMENT_TYPES = [\n  { id: 'birth_certificate', label: 'Birth Certificate (‡§ú‡§®‡•ç‡§Æ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞)', required: false, icon: 'üìÑ' },\n  { id: 'aadhar_card', label: 'Aadhar Card (‡§Ü‡§ß‡§æ‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§°)', required: false, icon: 'üÜî' },\n  { id: 'transfer_certificate', label: 'Transfer Certificate (TC)', required: false, icon: 'üìã' },\n  { id: 'marksheet', label: 'Previous Marksheet (‡§™‡§ø‡§õ‡§≤‡•Ä ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§∂‡•Ä‡§ü)', required: false, icon: 'üìä' },\n  { id: 'caste_certificate', label: 'Caste Certificate (‡§ú‡§æ‡§§‡§ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞)', required: false, icon: 'üìú' },\n  { id: 'income_certificate', label: 'Income Certificate (‡§Ü‡§Ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞)', required: false, icon: 'üí∞' },\n  { id: 'domicile_certificate', label: 'Domicile Certificate (‡§Æ‡•Ç‡§≤ ‡§®‡§ø‡§µ‡§æ‡§∏)', required: false, icon: 'üè†' },\n  { id: 'passport_photo', label: 'Passport Photo (‡§™‡§æ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§´‡•ã‡§ü‡•ã)', required: false, icon: 'üì∑' },\n  { id: 'father_aadhar', label: 'Father Aadhar (‡§™‡§ø‡§§‡§æ ‡§ï‡§æ ‡§Ü‡§ß‡§æ‡§∞)', required: false, icon: 'üë®' },\n  { id: 'mother_aadhar', label: 'Mother Aadhar (‡§Æ‡§æ‡§§‡§æ ‡§ï‡§æ ‡§Ü‡§ß‡§æ‡§∞)', required: false, icon: 'üë©' },\n  { id: 'bpl_card', label: 'BPL Card (‡§¨‡•Ä‡§™‡•Ä‡§è‡§≤ ‡§ï‡§æ‡§∞‡•ç‡§°)', required: false, icon: 'üé´' },\n  { id: 'bank_passbook', label: 'Bank Passbook (‡§¨‡•à‡§Ç‡§ï ‡§™‡§æ‡§∏‡§¨‡•Å‡§ï)', required: false, icon: 'üè¶' },\n  { id: 'other', label: 'Other Document (‡§Ö‡§®‡•ç‡§Ø)', required: false, icon: 'üìÅ' },\n];\n\n// Document types for employees\nexport const EMPLOYEE_DOCUMENT_TYPES = [\n  { id: 'aadhar_card', label: 'Aadhar Card (‡§Ü‡§ß‡§æ‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§°)', required: true, icon: 'üÜî' },\n  { id: 'pan_card', label: 'PAN Card (‡§™‡•à‡§® ‡§ï‡§æ‡§∞‡•ç‡§°)', required: false, icon: 'üí≥' },\n  { id: 'resume', label: 'Resume/CV (‡§¨‡§æ‡§Ø‡•ã‡§°‡§æ‡§ü‡§æ)', required: false, icon: 'üìÑ' },\n  { id: 'photo', label: 'Passport Photo (‡§™‡§æ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§´‡•ã‡§ü‡•ã)', required: true, icon: 'üì∑' },\n  // Qualification Marksheets\n  { id: 'marksheet_10th', label: '10th Marksheet (‡§¶‡§∏‡§µ‡•Ä‡§Ç ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§∂‡•Ä‡§ü)', required: false, icon: 'üìä' },\n  { id: 'marksheet_12th', label: '12th Marksheet (‡§¨‡§æ‡§∞‡§π‡§µ‡•Ä‡§Ç ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§∂‡•Ä‡§ü)', required: false, icon: 'üìä' },\n  { id: 'marksheet_graduation', label: 'Graduation Marksheet (‡§∏‡•ç‡§®‡§æ‡§§‡§ï ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§∂‡•Ä‡§ü)', required: false, icon: 'üìä' },\n  { id: 'marksheet_pg', label: 'Post Graduation (‡§∏‡•ç‡§®‡§æ‡§§‡§ï‡•ã‡§§‡•ç‡§§‡§∞ ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§∂‡•Ä‡§ü)', required: false, icon: 'üìä' },\n  { id: 'degree_certificate', label: 'Degree Certificate (‡§°‡§ø‡§ó‡•ç‡§∞‡•Ä ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞)', required: false, icon: 'üéì' },\n  { id: 'bed_certificate', label: 'B.Ed Certificate (B.Ed ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞)', required: false, icon: 'üéì' },\n  { id: 'experience_letter', label: 'Experience Letter (‡§Ö‡§®‡•Å‡§≠‡§µ ‡§™‡§§‡•ç‡§∞)', required: false, icon: 'üìã' },\n  { id: 'relieving_letter', label: 'Relieving Letter (‡§Æ‡•Å‡§ï‡•ç‡§§‡§ø ‡§™‡§§‡•ç‡§∞)', required: false, icon: 'üìù' },\n  { id: 'police_verification', label: 'Police Verification (‡§™‡•Å‡§≤‡§ø‡§∏ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§®)', required: false, icon: 'üöî' },\n  { id: 'medical_certificate', label: 'Medical Certificate (‡§ö‡§ø‡§ï‡§ø‡§§‡•ç‡§∏‡§æ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞)', required: false, icon: 'üè•' },\n  { id: 'bank_details', label: 'Bank Account Details (‡§¨‡•à‡§Ç‡§ï ‡§ñ‡§æ‡§§‡§æ)', required: false, icon: 'üè¶' },\n  { id: 'address_proof', label: 'Address Proof (‡§™‡§§‡§æ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£)', required: false, icon: 'üè†' },\n  { id: 'other', label: 'Other Document (‡§Ö‡§®‡•ç‡§Ø)', required: false, icon: 'üìÅ' },\n];\n\nexport default function DocumentUpload({ \n  personId, \n  personType = 'student', // 'student' or 'employee'\n  schoolId,\n  existingDocuments = [],\n  onUploadComplete,\n  compact = false \n}) {\n  const [uploading, setUploading] = useState(null);\n  const [documents, setDocuments] = useState(existingDocuments);\n  const [viewingDoc, setViewingDoc] = useState(null);\n  const fileInputRef = useRef(null);\n  const [selectedDocType, setSelectedDocType] = useState(null);\n\n  const documentTypes = personType === 'student' ? STUDENT_DOCUMENT_TYPES : EMPLOYEE_DOCUMENT_TYPES;\n\n  const handleFileSelect = async (e, docType) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Validate file size (max 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      toast.error('File size should be less than 5MB');\n      return;\n    }\n\n    // Validate file type\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg', 'application/pdf'];\n    if (!allowedTypes.includes(file.type)) {\n      toast.error('Only JPG, PNG or PDF files allowed');\n      return;\n    }\n\n    setUploading(docType);\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('document_type', docType);\n      formData.append('person_id', personId);\n      formData.append('person_type', personType);\n      formData.append('school_id', schoolId);\n\n      const token = localStorage.getItem('token');\n      const response = await axios.post(`${API}/api/documents/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // Update documents list\n      const newDoc = {\n        id: response.data.id,\n        document_type: docType,\n        file_name: file.name,\n        file_url: response.data.file_url,\n        uploaded_at: new Date().toISOString()\n      };\n\n      setDocuments(prev => {\n        const filtered = prev.filter(d => d.document_type !== docType);\n        return [...filtered, newDoc];\n      });\n\n      toast.success(`${documentTypes.find(d => d.id === docType)?.label} uploaded!`);\n      if (onUploadComplete) onUploadComplete(newDoc);\n    } catch (error) {\n      console.error('Upload error:', error);\n      toast.error(error.response?.data?.detail || 'Upload failed');\n    } finally {\n      setUploading(null);\n      e.target.value = '';\n    }\n  };\n\n  const handleDelete = async (docType) => {\n    const doc = documents.find(d => d.document_type === docType);\n    if (!doc) return;\n\n    try {\n      const token = localStorage.getItem('token');\n      await axios.delete(`${API}/api/documents/${doc.id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setDocuments(prev => prev.filter(d => d.document_type !== docType));\n      toast.success('Document deleted');\n    } catch (error) {\n      toast.error('Delete failed');\n    }\n  };\n\n  const getDocumentStatus = (docType) => {\n    return documents.find(d => d.document_type === docType);\n  };\n\n  if (compact) {\n    // Compact view for inline display\n    return (\n      <div className=\"space-y-3\">\n        <h4 className=\"font-medium text-slate-700 flex items-center gap-2\">\n          <FileText className=\"w-4 h-4\" />\n          Documents ({documents.length}/{documentTypes.length})\n        </h4>\n        <div className=\"flex flex-wrap gap-2\">\n          {documentTypes.slice(0, 6).map(docType => {\n            const uploaded = getDocumentStatus(docType.id);\n            return (\n              <div key={docType.id} className=\"relative\">\n                <input\n                  type=\"file\"\n                  accept=\".jpg,.jpeg,.png,.pdf\"\n                  className=\"hidden\"\n                  id={`doc-${docType.id}`}\n                  onChange={(e) => handleFileSelect(e, docType.id)}\n                />\n                <label\n                  htmlFor={`doc-${docType.id}`}\n                  className={`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium cursor-pointer transition-all ${\n                    uploaded \n                      ? 'bg-emerald-100 text-emerald-700 border border-emerald-300' \n                      : 'bg-slate-100 text-slate-600 border border-slate-200 hover:bg-slate-200'\n                  }`}\n                >\n                  {uploading === docType.id ? (\n                    <Loader2 className=\"w-3 h-3 animate-spin\" />\n                  ) : uploaded ? (\n                    <Check className=\"w-3 h-3\" />\n                  ) : (\n                    <span>{docType.icon}</span>\n                  )}\n                  {docType.label.split(' (')[0]}\n                </label>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  // Full view\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"font-semibold text-slate-800 flex items-center gap-2\">\n          <FileText className=\"w-5 h-5 text-indigo-600\" />\n          üìÅ Documents Upload (‡§¶‡§∏‡•ç‡§§‡§æ‡§µ‡•á‡§ú‡§º ‡§Ö‡§™‡§≤‡•ã‡§°)\n        </h3>\n        <span className=\"text-sm text-slate-500\">\n          {documents.length}/{documentTypes.length} uploaded\n        </span>\n      </div>\n\n      <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n        {documentTypes.map(docType => {\n          const uploaded = getDocumentStatus(docType.id);\n          const isUploading = uploading === docType.id;\n\n          return (\n            <div\n              key={docType.id}\n              className={`relative p-3 rounded-lg border-2 transition-all ${\n                uploaded \n                  ? 'border-emerald-300 bg-emerald-50' \n                  : 'border-slate-200 bg-white hover:border-indigo-300 hover:bg-indigo-50'\n              }`}\n            >\n              <input\n                type=\"file\"\n                accept=\".jpg,.jpeg,.png,.pdf\"\n                className=\"hidden\"\n                id={`upload-${docType.id}`}\n                onChange={(e) => handleFileSelect(e, docType.id)}\n              />\n              \n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <span className=\"text-lg\">{docType.icon}</span>\n                  <p className=\"text-sm font-medium text-slate-700 mt-1\">\n                    {docType.label.split(' (')[0]}\n                  </p>\n                  <p className=\"text-xs text-slate-500\">\n                    {docType.label.split(' (')[1]?.replace(')', '')}\n                  </p>\n                </div>\n                \n                {docType.required && !uploaded && (\n                  <span className=\"text-red-500 text-xs\">*</span>\n                )}\n              </div>\n\n              {uploaded ? (\n                <div className=\"mt-2 flex items-center gap-2\">\n                  <span className=\"flex items-center gap-1 text-xs text-emerald-600\">\n                    <Check className=\"w-3 h-3\" />\n                    Uploaded\n                  </span>\n                  <button\n                    onClick={() => window.open(uploaded.file_url, '_blank')}\n                    className=\"p-1 text-indigo-600 hover:bg-indigo-100 rounded\"\n                    title=\"View\"\n                  >\n                    <Eye className=\"w-3 h-3\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(docType.id)}\n                    className=\"p-1 text-red-600 hover:bg-red-100 rounded\"\n                    title=\"Delete\"\n                  >\n                    <Trash2 className=\"w-3 h-3\" />\n                  </button>\n                </div>\n              ) : (\n                <label\n                  htmlFor={`upload-${docType.id}`}\n                  className=\"mt-2 flex items-center justify-center gap-1 px-2 py-1.5 bg-slate-100 hover:bg-indigo-100 rounded text-xs text-slate-600 hover:text-indigo-700 cursor-pointer transition-all\"\n                >\n                  {isUploading ? (\n                    <>\n                      <Loader2 className=\"w-3 h-3 animate-spin\" />\n                      Uploading...\n                    </>\n                  ) : (\n                    <>\n                      <Upload className=\"w-3 h-3\" />\n                      Upload\n                    </>\n                  )}\n                </label>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      <p className=\"text-xs text-slate-500 flex items-center gap-1\">\n        <AlertTriangle className=\"w-3 h-3\" />\n        Max file size: 5MB | Supported: JPG, PNG, PDF\n      </p>\n    </div>\n  );\n}\n"],"names":["BulkImport","_ref","_importResult$errors","type","schoolId","onImportComplete","trigger","open","setOpen","useState","step","setStep","file","setFile","uploading","setUploading","importing","setImporting","previewData","setPreviewData","importResult","setImportResult","template","setTemplate","fileInputRef","useRef","typeLabel","TypeIcon","Users","UserCog","previewFile","async","formData","FormData","append","selectedFile","token","localStorage","getItem","response","axios","post","concat","headers","Authorization","data","error","_error$response","_error$response$data","toast","detail","resetDialog","openDialog","get","fetchTemplate","_jsxs","_Fragment","children","_jsx","onClick","Button","variant","className","FileUp","Dialog","onOpenChange","o","DialogContent","DialogHeader","DialogTitle","DialogDescription","downloadTemplate","blob","Blob","sample_csv","url","window","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","success","disabled","Download","slice","join","accept","ref","onChange","e","target","files","ext","name","substring","lastIndexOf","toLowerCase","includes","size","_fileInputRef$current","current","Loader2","FileSpreadsheet","total_rows","valid_rows","invalid_rows","preview_data","map","item","idx","is_valid","row_number","class_name","designation","mobile","CheckCircle","XCircle","all_errors","length","AlertTriangle","err","success_count","_error$response2","_error$response2$data","Upload","error_count","errors","_err$errors","row","STUDENT_DOCUMENT_TYPES","id","label","required","icon","EMPLOYEE_DOCUMENT_TYPES","DocumentUpload","personId","personType","existingDocuments","onUploadComplete","compact","documents","setDocuments","viewingDoc","setViewingDoc","selectedDocType","setSelectedDocType","documentTypes","handleFileSelect","docType","_documentTypes$find","newDoc","document_type","file_name","file_url","uploaded_at","Date","toISOString","prev","filter","d","find","console","value","getDocumentStatus","FileText","uploaded","htmlFor","Check","split","_docType$label$split$","isUploading","replace","title","Eye","doc","delete","handleDelete","Trash2"],"sourceRoot":""}