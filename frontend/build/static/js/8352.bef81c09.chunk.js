/*! For license information please see 8352.bef81c09.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8352],{5949(e,a,s){s.d(a,{E:()=>o});var t=s(2555),r=s(3986),n=(s(5043),s(917)),l=s(1089),i=s(579);const c=["className","variant"],d=(0,n.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:s}=e,n=(0,r.A)(e,c);return(0,i.jsx)("div",(0,t.A)({className:(0,l.cn)(d({variant:s}),a)},n))}},3390(e,a,s){s.d(a,{$:()=>x});var t=s(2555),r=s(3986),n=s(5043),l=s(6851),i=s(917),c=s(1089),d=s(579);const o=["className","variant","size","asChild"],m=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-500 text-white shadow-sm hover:bg-blue-600 rounded-lg",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-gray-200 bg-white shadow-sm hover:bg-gray-50 text-gray-700 rounded-lg",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),x=n.forwardRef((e,a)=>{let{className:s,variant:n,size:i,asChild:x=!1}=e,h=(0,r.A)(e,o);const p=x?l.DX:"button";return(0,d.jsx)(p,(0,t.A)({className:(0,c.cn)(m({variant:n,size:i,className:s})),ref:a},h))});x.displayName="Button"},1140(e,a,s){s.d(a,{BT:()=>j,Wu:()=>b,ZB:()=>g,Zp:()=>p,aR:()=>u});var t=s(2555),r=s(3986),n=s(5043),l=s(1089),i=s(579);const c=["className"],d=["className"],o=["className"],m=["className"],x=["className"],h=["className"],p=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,c);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("rounded-xl border border-gray-200 bg-white text-gray-900 shadow-sm",s)},n))});p.displayName="Card";const u=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,d);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-5",s)},n))});u.displayName="CardHeader";const g=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,o);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("font-semibold leading-none tracking-tight",s)},n))});g.displayName="CardTitle";const j=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,m);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s)},n))});j.displayName="CardDescription";const b=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,x);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("p-5 pt-0",s)},n))});b.displayName="CardContent";n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,h);return(0,i.jsx)("div",(0,t.A)({ref:a,className:(0,l.cn)("flex items-center p-5 pt-0",s)},n))}).displayName="CardFooter"},5598(e,a,s){s.d(a,{Cf:()=>v,L3:()=>N,c7:()=>f,lG:()=>u,rr:()=>y,zM:()=>g});var t=s(2555),r=s(3986),n=s(5043),l=s(7427),i=s(614),c=s(1089),d=s(579);const o=["className"],m=["className","children"],x=["className"],h=["className"],p=["className"],u=l.bL,g=l.l9,j=l.ZL,b=(l.bm,n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,o);return(0,d.jsx)(l.hJ,(0,t.A)({ref:a,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s)},n))}));b.displayName=l.hJ.displayName;const v=n.forwardRef((e,a)=>{let{className:s,children:n}=e,o=(0,r.A)(e,m);return(0,d.jsxs)(j,{children:[(0,d.jsx)(b,{}),(0,d.jsxs)(l.UC,(0,t.A)((0,t.A)({ref:a,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s)},o),{},{children:[n,(0,d.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(i.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});v.displayName=l.UC.displayName;const f=e=>{let{className:a}=e,s=(0,r.A)(e,x);return(0,d.jsx)("div",(0,t.A)({className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a)},s))};f.displayName="DialogHeader";const N=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,h);return(0,d.jsx)(l.hE,(0,t.A)({ref:a,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",s)},n))});N.displayName=l.hE.displayName;const y=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,p);return(0,d.jsx)(l.VY,(0,t.A)({ref:a,className:(0,c.cn)("text-sm text-muted-foreground",s)},n))});y.displayName=l.VY.displayName},2264(e,a,s){s.d(a,{p:()=>d});var t=s(2555),r=s(3986),n=s(5043),l=s(1089),i=s(579);const c=["className","type"],d=n.forwardRef((e,a)=>{let{className:s,type:n}=e,d=(0,r.A)(e,c);return(0,i.jsx)("input",(0,t.A)({type:n,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-white px-3 py-1 text-base text-gray-900 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a},d))});d.displayName="Input"},9938(e,a,s){s.d(a,{J:()=>x});var t=s(2555),r=s(3986),n=s(5043),l=s(5131),i=s(917),c=s(1089),d=s(579);const o=["className"],m=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,o);return(0,d.jsx)(l.b,(0,t.A)({ref:a,className:(0,c.cn)(m(),s)},n))});x.displayName=l.b.displayName},1654(e,a,s){s.d(a,{d:()=>o});var t=s(2555),r=s(3986),n=s(5043),l=s(7943),i=s(1089),c=s(579);const d=["className"],o=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,d);return(0,c.jsx)(l.bL,(0,t.A)((0,t.A)({className:(0,i.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s)},n),{},{ref:a,children:(0,c.jsx)(l.zi,{className:(0,i.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}))});o.displayName=l.bL.displayName},3340(e,a,s){s.d(a,{A0:()=>j,BF:()=>b,Hj:()=>v,XI:()=>g,nA:()=>N,nd:()=>f});var t=s(2555),r=s(3986),n=s(5043),l=s(1089),i=s(579);const c=["className"],d=["className"],o=["className"],m=["className"],x=["className"],h=["className"],p=["className"],u=["className"],g=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,c);return(0,i.jsx)("div",{className:"relative w-full overflow-auto rounded-xl border border-gray-200 bg-white overflow-hidden",children:(0,i.jsx)("table",(0,t.A)({ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",s)},n))})});g.displayName="Table";const j=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,d);return(0,i.jsx)("thead",(0,t.A)({ref:a,className:(0,l.cn)("[&_tr]:border-b bg-gray-50/80",s)},n))});j.displayName="TableHeader";const b=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,o);return(0,i.jsx)("tbody",(0,t.A)({ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",s)},n))});b.displayName="TableBody";n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,m);return(0,i.jsx)("tfoot",(0,t.A)({ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s)},n))}).displayName="TableFooter";const v=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,x);return(0,i.jsx)("tr",(0,t.A)({ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-blue-50/40 data-[state=selected]:bg-muted",s)},n))});v.displayName="TableRow";const f=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,h);return(0,i.jsx)("th",(0,t.A)({ref:a,className:(0,l.cn)("h-11 px-4 text-xs uppercase tracking-wider text-left align-middle font-medium text-gray-600 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s)},n))});f.displayName="TableHead";const N=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,p);return(0,i.jsx)("td",(0,t.A)({ref:a,className:(0,l.cn)("px-4 py-3 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s)},n))});N.displayName="TableCell";n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,u);return(0,i.jsx)("caption",(0,t.A)({ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s)},n))}).displayName="TableCaption"},9690(e,a,s){s.d(a,{Xi:()=>p,av:()=>u,j7:()=>h,tU:()=>x});var t=s(2555),r=s(3986),n=s(5043),l=s(7127),i=s(1089),c=s(579);const d=["className"],o=["className"],m=["className"],x=l.bL,h=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,d);return(0,c.jsx)(l.B8,(0,t.A)({ref:a,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-gray-100 border border-gray-200 p-1 text-muted-foreground",s)},n))});h.displayName=l.B8.displayName;const p=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,o);return(0,c.jsx)(l.l9,(0,t.A)({ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:border-b-2 data-[state=active]:border-blue-500",s)},n))});p.displayName=l.l9.displayName;const u=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,m);return(0,c.jsx)(l.UC,(0,t.A)({ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s)},n))});u.displayName=l.UC.displayName},3416(e,a,s){s.d(a,{T:()=>d});var t=s(2555),r=s(3986),n=s(5043),l=s(1089),i=s(579);const c=["className"],d=n.forwardRef((e,a)=>{let{className:s}=e,n=(0,r.A)(e,c);return(0,i.jsx)("textarea",(0,t.A)({className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a},n))});d.displayName="Textarea"},1089(e,a,s){s.d(a,{cn:()=>n});var t=s(8387),r=s(9359);function n(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}},8352(e,a,s){s.r(a),s.d(a,{default:()=>L});var t=s(2555),r=s(5043),n=s(6930),l=s(8729),i=s(3390),c=s(2264),d=s(9938),o=s(5598),m=s(1140),x=s(9690),h=s(3340),p=s(5949),u=s(1654),g=(s(3416),s(7033)),j=s(5258),b=s(2024),v=s(6533),f=s(5347),N=s(2626),y=s(8646),w=s(6405),k=s(7104),A=s(5087),_=s(1680),C=s(9797),R=s(5327),B=s(7673),S=s(1360),F=s(2754),E=s(8693),T=s(7365),z=s(8306),M=s(6963),D=s(3944),H=s(3165),I=s(9855),P=s(4919),$=s(7118),Z=s(6328),G=s(9722),J=s(579);const U="".concat("","/api"),W=(e,a)=>{const s={cbse:[{min:91,grade:"A1",points:10,remark:"Outstanding"},{min:81,grade:"A2",points:9,remark:"Excellent"},{min:71,grade:"B1",points:8,remark:"Very Good"},{min:61,grade:"B2",points:7,remark:"Good"},{min:51,grade:"C1",points:6,remark:"Above Average"},{min:41,grade:"C2",points:5,remark:"Average"},{min:33,grade:"D",points:4,remark:"Below Average"},{min:0,grade:"E",points:0,remark:"Needs Improvement"}],icse:[{min:90,grade:"A+",points:10,remark:"Exceptional"},{min:80,grade:"A",points:9,remark:"Excellent"},{min:70,grade:"B+",points:8,remark:"Very Good"},{min:60,grade:"B",points:7,remark:"Good"},{min:50,grade:"C+",points:6,remark:"Fair"},{min:40,grade:"C",points:5,remark:"Average"},{min:33,grade:"D",points:4,remark:"Below Average"},{min:0,grade:"F",points:0,remark:"Fail"}],state:[{min:90,grade:"A+",points:10,remark:"Distinction"},{min:75,grade:"A",points:9,remark:"First Class"},{min:60,grade:"B",points:7,remark:"Second Class"},{min:45,grade:"C",points:5,remark:"Third Class"},{min:33,grade:"D",points:4,remark:"Pass"},{min:0,grade:"F",points:0,remark:"Fail"}],custom:[]},t=s[a||"cbse"]||s.cbse;for(const r of t)if(e>=r.min)return r;return{grade:"E",points:0,remark:"Needs Improvement"}},V=[{id:"hindi",name:"Hindi",name_hi:"\u0939\u093f\u0902\u0926\u0940",max_marks:100},{id:"english",name:"English",name_hi:"\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940",max_marks:100},{id:"math",name:"Mathematics",name_hi:"\u0917\u0923\u093f\u0924",max_marks:100},{id:"science",name:"Science",name_hi:"\u0935\u093f\u091c\u094d\u091e\u093e\u0928",max_marks:100},{id:"sst",name:"Social Science",name_hi:"\u0938\u093e\u092e\u093e\u091c\u093f\u0915 \u0935\u093f\u091c\u094d\u091e\u093e\u0928",max_marks:100},{id:"computer",name:"Computer",name_hi:"\u0915\u0902\u092a\u094d\u092f\u0942\u091f\u0930",max_marks:50},{id:"gk",name:"General Knowledge",name_hi:"\u0938\u093e\u092e\u093e\u0928\u094d\u092f \u091c\u094d\u091e\u093e\u0928",max_marks:50},{id:"drawing",name:"Drawing",name_hi:"\u091a\u093f\u0924\u094d\u0930\u0915\u0932\u093e",max_marks:50}],O=[{id:"unit1",name:"Unit Test 1",name_hi:"\u0907\u0915\u093e\u0908 \u092a\u0930\u0940\u0915\u094d\u0937\u093e 1",max_marks:20},{id:"unit2",name:"Unit Test 2",name_hi:"\u0907\u0915\u093e\u0908 \u092a\u0930\u0940\u0915\u094d\u0937\u093e 2",max_marks:20},{id:"half_yearly",name:"Half Yearly",name_hi:"\u0905\u0930\u094d\u0927\u0935\u093e\u0930\u094d\u0937\u093f\u0915 \u092a\u0930\u0940\u0915\u094d\u0937\u093e",max_marks:80},{id:"unit3",name:"Unit Test 3",name_hi:"\u0907\u0915\u093e\u0908 \u092a\u0930\u0940\u0915\u094d\u0937\u093e 3",max_marks:20},{id:"unit4",name:"Unit Test 4",name_hi:"\u0907\u0915\u093e\u0908 \u092a\u0930\u0940\u0915\u094d\u0937\u093e 4",max_marks:20},{id:"annual",name:"Annual Exam",name_hi:"\u0935\u093e\u0930\u094d\u0937\u093f\u0915 \u092a\u0930\u0940\u0915\u094d\u0937\u093e",max_marks:80}],X=[{id:"classic",name:"Classic",description:"Traditional report card with borders",color:"#1e40af"},{id:"modern",name:"Modern",description:"Clean minimal design with gradients",color:"#7c3aed"},{id:"colorful",name:"Colorful",description:"Bright colors with visual elements",color:"#059669"},{id:"formal",name:"Formal",description:"Government school style formal layout",color:"#374151"}];function L(){var e,a,s;const{t:L}=(0,n.Bd)(),{schoolId:Y,user:q}=(0,l.As)(),[K,Q]=(0,r.useState)([]),[ee,ae]=(0,r.useState)([]),[se,te]=(0,r.useState)(V),[re,ne]=(0,r.useState)([]),[le,ie]=(0,r.useState)({}),[ce,de]=(0,r.useState)(null),[oe,me]=(0,r.useState)(!0),[xe,he]=(0,r.useState)(!1),[pe,ue]=(0,r.useState)("marks"),[ge,je]=(0,r.useState)(""),[be,ve]=(0,r.useState)(""),[fe,Ne]=(0,r.useState)(null),[ye,we]=(0,r.useState)(!1),[ke,Ae]=(0,r.useState)(!1),[_e,Ce]=(0,r.useState)(!1),[Re,Be]=(0,r.useState)("cbse"),[Se,Fe]=(0,r.useState)("classic"),[Ee,Te]=(0,r.useState)({show_rank:!0,show_attendance:!0,show_remarks:!0,show_activities:!0,show_photo:!0,show_graph:!1,principal_name:"",watermark:!0,digital_publish:!1,show_co_scholastic:!0}),[ze,Me]=(0,r.useState)([{id:"term1",name:"Term 1",weight:50,children:[{id:"ut1",name:"Unit Test 1",weight:10,max_marks:20},{id:"ut2",name:"Unit Test 2",weight:10,max_marks:20},{id:"half",name:"Half Yearly",weight:30,max_marks:80}]},{id:"term2",name:"Term 2",weight:50,children:[{id:"ut3",name:"Unit Test 3",weight:10,max_marks:20},{id:"ut4",name:"Unit Test 4",weight:10,max_marks:20},{id:"annual",name:"Annual Exam",weight:30,max_marks:80}]}]),[De,He]=(0,r.useState)([{id:"art",name:"Art & Craft",grade:""},{id:"music",name:"Music",grade:""},{id:"dance",name:"Dance",grade:""},{id:"sports",name:"Physical Education",grade:""},{id:"discipline",name:"Discipline",grade:""},{id:"personality",name:"Personality Development",grade:""}]),[Ie,Pe]=(0,r.useState)({name:"",type:"unit1",class_id:"",start_date:"",end_date:"",max_marks:20}),[$e,Ze]=(0,r.useState)({});(0,r.useEffect)(()=>{Y&&Ge()},[Y]),(0,r.useEffect)(()=>{ge&&be&&(Ue(),Je())},[ge,be]);const Ge=async()=>{me(!0);try{var e;const a=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(a)},[t,r,n]=await Promise.all([G.A.get("".concat(U,"/classes?school_id=").concat(Y),{headers:s}),G.A.get("".concat(U,"/exam-schedules?school_id=").concat(Y),{headers:s}).catch(()=>({data:[]})),G.A.get("".concat(U,"/schools/").concat(Y),{headers:s})]);Q(t.data||[]),ne(r.data||[]),de(n.data),(null===(e=t.data)||void 0===e?void 0:e.length)>0&&je(t.data[0].id)}catch(a){console.error("Error fetching data:",a)}finally{me(!1)}},Je=async()=>{try{const e=localStorage.getItem("token"),a=await G.A.get("".concat(U,"/students?school_id=").concat(Y,"&class_id=").concat(ge,"&status=active"),{headers:{Authorization:"Bearer ".concat(e)}});ae(a.data||[])}catch(e){console.error("Error fetching students:",e)}},Ue=async()=>{try{const e=localStorage.getItem("token"),a=await G.A.get("".concat(U,"/marks?school_id=").concat(Y,"&class_id=").concat(ge,"&exam_id=").concat(be),{headers:{Authorization:"Bearer ".concat(e)}}).catch(()=>({data:{}})),s={};(a.data||[]).forEach(e=>{s[e.student_id]||(s[e.student_id]={}),s[e.student_id][e.subject_id]=e.marks}),ie(s),Ze(s)}catch(e){console.error("Error fetching marks:",e)}},We=e=>{const a=le[e]||{};let s=0,r=0;se.forEach(e=>{const t=parseFloat(a[e.id])||0;s+=t,r+=e.max_marks});const n=r>0?s/r*100:0,l=W(n,Re);return(0,t.A)((0,t.A)({totalObtained:s,totalMax:r,percentage:n.toFixed(2)},l),{},{passed:n>=33})},Ve=()=>{if(!fe)return;const e=We(fe.id),a=le[fe.id]||{},s=K.find(e=>e.id===fe.class_id),t=X.find(e=>e.id===Se)||X[0],r=window.open("","_blank");r.document.write("\n      <html>\n      <head>\n        <title>Report Card - ".concat(fe.name,"</title>\n        <style>\n          body { font-family: 'Segoe UI', Arial, sans-serif; padding: 20px; max-width: 800px; margin: auto; }\n          .header { text-align: center; border-bottom: 3px solid ").concat(t.color,"; padding-bottom: 15px; margin-bottom: 20px; }\n          .header img { width: 70px; height: 70px; }\n          .header h1 { margin: 10px 0 5px; font-size: 22px; color: ").concat(t.color,"; }\n          .header h2 { margin: 10px 0; font-size: 16px; text-decoration: underline; color: ").concat(t.color,"; }\n          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; font-size: 13px; }\n          .info-grid div { padding: 5px; border-bottom: 1px solid #eee; }\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n          th, td { border: 1px solid #333; padding: 8px; text-align: center; font-size: 12px; }\n          th { background: ").concat(t.color,"15; color: ").concat(t.color,"; }\n          .result-box { background: ").concat(t.color,"08; border: 2px solid ").concat(t.color,"30; padding: 15px; text-align: center; margin: 20px 0; border-radius: 8px; }\n          .result-box h3 { margin: 0 0 10px; color: ").concat(t.color,"; }\n          .grade { font-size: 24px; font-weight: bold; color: ").concat(e.passed?"#22c55e":"#ef4444","; }\n          .co-scholastic { margin: 20px 0; }\n          .co-scholastic h4 { color: ").concat(t.color,"; margin-bottom: 10px; }\n          .signatures { display: flex; justify-content: space-between; margin-top: 50px; }\n          .signatures div { text-align: center; }\n          .signatures .line { border-top: 1px solid #000; width: 120px; margin-top: 40px; }\n          ").concat(Ee.watermark&&null!==ce&&void 0!==ce&&ce.logo_url?".watermark { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); opacity: 0.05; width: 300px; }":"","\n          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }\n        </style>\n      </head>\n      <body>\n        ").concat(Ee.watermark&&null!==ce&&void 0!==ce&&ce.logo_url?'<img src="'.concat(ce.logo_url,'" class="watermark" />'):"",'\n        <div class="header">\n          ').concat(null!==ce&&void 0!==ce&&ce.logo_url?'<img src="'.concat(ce.logo_url,'" />'):"","\n          <h1>").concat((null===ce||void 0===ce?void 0:ce.name)||"School Name",'</h1>\n          <p style="margin: 0; font-size: 11px;">').concat((null===ce||void 0===ce?void 0:ce.address)||"","</p>\n          ").concat(null!==ce&&void 0!==ce&&ce.phone?'<p style="margin: 2px 0; font-size: 11px;">Phone: '.concat(ce.phone,"</p>"):"","\n          ").concat(null!==ce&&void 0!==ce&&ce.registration_number?'<p style="margin: 2px 0; font-size: 11px;">Reg. No: '.concat(ce.registration_number,"</p>"):"","\n          <h2>PROGRESS REPORT / \u092a\u094d\u0930\u0917\u0924\u093f \u092a\u0924\u094d\u0930</h2>\n          <p>Academic Year: ").concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+1,'</p>\n        </div>\n        \n        <div class="info-grid">\n          <div><b>Student Name:</b> ').concat(fe.name,"</div>\n          <div><b>Roll No:</b> ").concat(fe.roll_no||fe.student_id,"</div>\n          <div><b>Father's Name:</b> ").concat(fe.father_name||"-","</div>\n          <div><b>Class:</b> ").concat((null===s||void 0===s?void 0:s.name)||"-","</div>\n          <div><b>Date of Birth:</b> ").concat(fe.dob?new Date(fe.dob).toLocaleDateString("en-IN"):"-","</div>\n          <div><b>Admission No:</b> ").concat(fe.admission_no||fe.student_id,"</div>\n          ").concat(Ee.show_attendance?"<div><b>Attendance:</b> -</div>":"","\n          ").concat(Ee.show_rank?"<div><b>Rank:</b> -</div>":"","\n        </div>\n        \n        <table>\n          <thead>\n            <tr>\n              <th>S.No.</th>\n              <th>Subject</th>\n              <th>Max Marks</th>\n              <th>Marks Obtained</th>\n              <th>Grade</th>\n              <th>Remark</th>\n            </tr>\n          </thead>\n          <tbody>\n            ").concat(se.map((e,s)=>{const t=parseFloat(a[e.id])||0,r=t/e.max_marks*100,n=W(r,Re);return"\n                <tr>\n                  <td>".concat(s+1,'</td>\n                  <td style="text-align: left;">').concat(e.name," (").concat(e.name_hi,")</td>\n                  <td>").concat(e.max_marks,"</td>\n                  <td>").concat(t,"</td>\n                  <td>").concat(n.grade,"</td>\n                  <td>").concat(n.remark,"</td>\n                </tr>\n              ")}).join(""),'\n            <tr style="font-weight: bold; background: ').concat(t.color,'08;">\n              <td colspan="2">Total</td>\n              <td>').concat(se.reduce((e,a)=>e+a.max_marks,0),"</td>\n              <td>").concat(e.totalObtained,"</td>\n              <td>").concat(e.grade,"</td>\n              <td>").concat(e.remark,"</td>\n            </tr>\n          </tbody>\n        </table>\n        \n        ").concat(Ee.show_co_scholastic?'\n        <div class="co-scholastic">\n          <h4>Co-Scholastic Activities / \u0938\u0939-\u0936\u0948\u0915\u094d\u0937\u093f\u0915 \u0917\u0924\u093f\u0935\u093f\u0927\u093f\u092f\u093e\u0901</h4>\n          <table>\n            <thead><tr><th>Activity</th><th>Grade</th></tr></thead>\n            <tbody>\n              '.concat(De.map(e=>'<tr><td style="text-align:left">'.concat(e.name,"</td><td>").concat(e.grade||"A","</td></tr>")).join(""),"\n            </tbody>\n          </table>\n        </div>\n        "):"",'\n        \n        <div class="result-box">\n          <h3>Overall Result / \u0938\u092e\u0917\u094d\u0930 \u092a\u0930\u093f\u0923\u093e\u092e</h3>\n          <p>Percentage: <b>').concat(e.percentage,'%</b></p>\n          <p class="grade">Grade: ').concat(e.grade," (").concat(e.remark,')</p>\n          <p>Result: <b style="color: ').concat(e.passed?"#22c55e":"#ef4444",';">').concat(e.passed?"PASSED":"FAILED","</b></p>\n        </div>\n\n        ").concat(Ee.show_remarks?'\n        <div style="margin: 15px 0; padding: 10px; border: 1px dashed #ccc; border-radius: 6px;">\n          <p><b>Teacher\'s Remarks:</b> ___________________________________</p>\n        </div>':"",'\n        \n        <div class="signatures">\n          <div><div class="line"></div><p>Class Teacher</p></div>\n          <div><div class="line"></div><p>Parent/Guardian</p></div>\n          <div><div class="line"></div><p>').concat(Ee.principal_name||"Principal","</p></div>\n        </div>\n        \n        <script>window.onload = () => window.print();<\/script>\n      </body>\n      </html>\n    ")),r.document.close()};return(0,J.jsxs)("div",{className:"space-y-6","data-testid":"exam-report-card",children:[(0,J.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6 text-white",children:[(0,J.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,J.jsxs)("div",{children:[(0,J.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,J.jsx)(w.A,{className:"w-8 h-8"}),L("exams")," & ",L("report_card")]}),(0,J.jsx)("p",{className:"text-blue-100 mt-2",children:L("exams_reports")})]}),(0,J.jsx)("div",{className:"flex gap-2",children:(0,J.jsxs)(i.$,{onClick:()=>Ae(!0),className:"gap-2 bg-white/20 hover:bg-white/30 text-white border-white/30",variant:"outline",children:[(0,J.jsx)(S.A,{className:"w-4 h-4"}),L("create_exam")]})})]}),(0,J.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[{label:L("exams"),value:re.length||O.length,icon:y.A},{label:L("classes"),value:K.length,icon:C.A},{label:L("students"),value:ee.length,icon:$.A},{label:L("grade"),value:Re.toUpperCase(),icon:f.A}].map((e,a)=>(0,J.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[(0,J.jsxs)("div",{className:"flex items-center gap-2",children:[(0,J.jsx)(e.icon,{className:"w-4 h-4 text-blue-200"}),(0,J.jsx)("span",{className:"text-sm text-blue-200",children:e.label})]}),(0,J.jsx)("p",{className:"text-xl font-bold mt-1",children:e.value})]},a))})]}),(0,J.jsxs)(x.tU,{value:pe,onValueChange:ue,className:"w-full",children:[(0,J.jsxs)(x.j7,{className:"grid w-full grid-cols-3 md:grid-cols-6 max-w-4xl",children:[(0,J.jsxs)(x.Xi,{value:"marks",className:"gap-1 text-xs",children:[(0,J.jsx)(v.A,{className:"w-3.5 h-3.5"}),L("marks_entry")]}),(0,J.jsxs)(x.Xi,{value:"results",className:"gap-1 text-xs",children:[(0,J.jsx)(g.A,{className:"w-3.5 h-3.5"}),L("result")]}),(0,J.jsxs)(x.Xi,{value:"reports",className:"gap-1 text-xs",children:[(0,J.jsx)(_.A,{className:"w-3.5 h-3.5"}),L("report_card")]}),(0,J.jsxs)(x.Xi,{value:"hierarchy",className:"gap-1 text-xs",children:[(0,J.jsx)(j.A,{className:"w-3.5 h-3.5"}),L("exam_schedule")]}),(0,J.jsxs)(x.Xi,{value:"design",className:"gap-1 text-xs",children:[(0,J.jsx)(B.A,{className:"w-3.5 h-3.5"}),L("settings")]}),(0,J.jsxs)(x.Xi,{value:"grading",className:"gap-1 text-xs",children:[(0,J.jsx)(T.A,{className:"w-3.5 h-3.5"}),L("grade")]})]}),(0,J.jsx)(x.av,{value:"marks",className:"mt-4",children:(0,J.jsxs)(m.Zp,{children:[(0,J.jsx)(m.aR,{children:(0,J.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,J.jsx)(m.ZB,{children:L("enter_marks")}),(0,J.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,J.jsxs)("select",{value:ge,onChange:e=>je(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,J.jsx)("option",{value:"",children:L("select_class")}),K.map(e=>(0,J.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,J.jsxs)("select",{value:be,onChange:e=>ve(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,J.jsx)("option",{value:"",children:L("exam_type")}),O.map(e=>(0,J.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,J.jsxs)(i.$,{onClick:async()=>{if(ge&&be){he(!0);try{const e=localStorage.getItem("token"),a=[];Object.entries($e).forEach(e=>{let[s,t]=e;Object.entries(t).forEach(e=>{let[t,r]=e;void 0!==r&&""!==r&&a.push({student_id:s,subject_id:t,marks:parseFloat(r)||0})})}),await G.A.post("".concat(U,"/marks/bulk"),{school_id:Y,class_id:ge,exam_id:be,marks:a,entered_by:null===q||void 0===q?void 0:q.id},{headers:{Authorization:"Bearer ".concat(e)}}),Z.oR.success("Marks saved successfully!"),ie($e)}catch(e){Z.oR.error("Failed to save marks")}finally{he(!1)}}else Z.oR.error("Please select class and exam")},disabled:xe||!ge||!be,className:"gap-2 bg-green-600 hover:bg-green-700",children:[xe?(0,J.jsx)(b.A,{className:"w-4 h-4 animate-spin"}):(0,J.jsx)(E.A,{className:"w-4 h-4"}),L("save")]})]})]})}),(0,J.jsx)(m.Wu,{children:oe?(0,J.jsx)("div",{className:"flex justify-center py-10",children:(0,J.jsx)(b.A,{className:"w-8 h-8 animate-spin text-blue-600"})}):ge&&be?(0,J.jsx)("div",{className:"overflow-x-auto",children:(0,J.jsxs)(h.XI,{children:[(0,J.jsx)(h.A0,{children:(0,J.jsxs)(h.Hj,{children:[(0,J.jsx)(h.nd,{className:"w-12",children:L("serial_no")}),(0,J.jsx)(h.nd,{children:L("student_name")}),(0,J.jsx)(h.nd,{children:L("roll_no")}),se.map(e=>(0,J.jsxs)(h.nd,{className:"text-center min-w-[80px]",children:[(0,J.jsx)("div",{className:"text-xs",children:e.name}),(0,J.jsxs)("div",{className:"text-[10px] font-normal text-slate-400",children:["Max: ",e.max_marks]})]},e.id)),(0,J.jsx)(h.nd,{className:"text-center",children:L("total")}),(0,J.jsx)(h.nd,{className:"text-center",children:"%"}),(0,J.jsx)(h.nd,{className:"text-center",children:L("grade")})]})}),(0,J.jsx)(h.BF,{children:ee.map((e,a)=>{const s=$e[e.id]||{},r=se.reduce((e,a)=>e+(parseFloat(s[a.id])||0),0),n=se.reduce((e,a)=>e+a.max_marks,0),l=n>0?(r/n*100).toFixed(1):"0",i=W(parseFloat(l),Re);return(0,J.jsxs)(h.Hj,{children:[(0,J.jsx)(h.nA,{children:a+1}),(0,J.jsx)(h.nA,{className:"font-medium text-sm",children:e.name}),(0,J.jsx)(h.nA,{className:"text-sm",children:e.roll_no||e.student_id}),se.map(a=>(0,J.jsx)(h.nA,{className:"p-1",children:(0,J.jsx)(c.p,{type:"number",min:"0",max:a.max_marks,value:s[a.id]||"",onChange:s=>{return r=e.id,n=a.id,l=s.target.value,void Ze(e=>(0,t.A)((0,t.A)({},e),{},{[r]:(0,t.A)((0,t.A)({},e[r]),{},{[n]:l})}));var r,n,l},className:"w-16 text-center text-sm",placeholder:"-"})},a.id)),(0,J.jsx)(h.nA,{className:"text-center font-semibold",children:r}),(0,J.jsxs)(h.nA,{className:"text-center text-sm",children:[l,"%"]}),(0,J.jsx)(h.nA,{className:"text-center",children:(0,J.jsx)(p.E,{variant:i.grade.startsWith("A")?"default":"E"===i.grade||"F"===i.grade?"destructive":"secondary",children:i.grade})})]},e.id)})})]})}):(0,J.jsxs)("div",{className:"text-center py-10",children:[(0,J.jsx)(N.A,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),(0,J.jsx)("p",{className:"text-slate-500",children:L("select_class")})]})})]})}),(0,J.jsx)(x.av,{value:"results",className:"mt-4",children:(0,J.jsxs)(m.Zp,{children:[(0,J.jsx)(m.aR,{children:(0,J.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,J.jsx)(m.ZB,{children:L("exam_results")}),(0,J.jsxs)("div",{className:"flex gap-3",children:[(0,J.jsxs)("select",{value:ge,onChange:e=>je(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,J.jsx)("option",{value:"",children:L("select_class")}),K.map(e=>(0,J.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,J.jsxs)(i.$,{variant:"outline",className:"gap-2 text-sm",onClick:()=>Z.oR.success("Exporting results..."),children:[(0,J.jsx)(k.A,{className:"w-4 h-4"})," ",L("export")]})]})]})}),(0,J.jsx)(m.Wu,{children:ge&&ee.length>0?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:(()=>{const e=ee.map(e=>We(e.id)),a=e.filter(e=>e.passed).length,s=e.reduce((e,a)=>e+parseFloat(a.percentage),0)/e.length,t=e.filter(e=>e.grade.startsWith("A")).length;return[{label:L("pass_percentage"),value:"".concat((a/e.length*100).toFixed(0),"%"),color:"bg-green-50 text-green-700"},{label:L("average_marks"),value:"".concat(s.toFixed(1),"%"),color:"bg-blue-50 text-blue-700"},{label:L("highest_marks"),value:t,color:"bg-purple-50 text-purple-700"},{label:L("total_students"),value:e.length,color:"bg-slate-50 text-slate-700"}].map((e,a)=>(0,J.jsxs)("div",{className:"p-3 rounded-xl ".concat(e.color),children:[(0,J.jsx)("p",{className:"text-xs opacity-75",children:e.label}),(0,J.jsx)("p",{className:"text-xl font-bold",children:e.value})]},a))})()}),(0,J.jsxs)(h.XI,{children:[(0,J.jsx)(h.A0,{children:(0,J.jsxs)(h.Hj,{children:[(0,J.jsx)(h.nd,{children:L("rank")}),(0,J.jsx)(h.nd,{children:L("student_name")}),(0,J.jsx)(h.nd,{children:L("roll_no")}),(0,J.jsx)(h.nd,{className:"text-center",children:L("total")}),(0,J.jsx)(h.nd,{className:"text-center",children:"%"}),(0,J.jsx)(h.nd,{className:"text-center",children:L("grade")}),(0,J.jsx)(h.nd,{className:"text-center",children:L("result")})]})}),(0,J.jsx)(h.BF,{children:ee.map(e=>(0,t.A)((0,t.A)({},e),{},{result:We(e.id)})).sort((e,a)=>parseFloat(a.result.percentage)-parseFloat(e.result.percentage)).map((e,a)=>(0,J.jsxs)(h.Hj,{children:[(0,J.jsx)(h.nA,{className:"font-bold",children:a+1}),(0,J.jsx)(h.nA,{className:"font-medium",children:e.name}),(0,J.jsx)(h.nA,{children:e.roll_no||e.student_id}),(0,J.jsxs)(h.nA,{className:"text-center",children:[e.result.totalObtained,"/",e.result.totalMax]}),(0,J.jsxs)(h.nA,{className:"text-center",children:[e.result.percentage,"%"]}),(0,J.jsx)(h.nA,{className:"text-center",children:(0,J.jsx)(p.E,{variant:e.result.grade.startsWith("A")?"default":"E"===e.result.grade||"F"===e.result.grade?"destructive":"secondary",children:e.result.grade})}),(0,J.jsx)(h.nA,{className:"text-center",children:(0,J.jsx)(p.E,{variant:e.result.passed?"default":"destructive",children:e.result.passed?L("pass"):L("fail")})})]},e.id))})]})]}):(0,J.jsxs)("div",{className:"text-center py-10",children:[(0,J.jsx)(g.A,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),(0,J.jsx)("p",{className:"text-slate-500",children:L("select_class")})]})})]})}),(0,J.jsx)(x.av,{value:"reports",className:"mt-4",children:(0,J.jsxs)(m.Zp,{children:[(0,J.jsx)(m.aR,{children:(0,J.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,J.jsxs)("div",{children:[(0,J.jsx)(m.ZB,{children:L("report_card")}),(0,J.jsx)(m.BT,{children:L("generate_report")})]}),(0,J.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,J.jsxs)("select",{value:ge,onChange:e=>je(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,J.jsx)("option",{value:"",children:L("select_class")}),K.map(e=>(0,J.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,J.jsxs)(i.$,{variant:"outline",className:"gap-2 text-sm",onClick:()=>{Z.oR.success("Printing report cards for ".concat(ee.length," students...")),ee.forEach((e,a)=>{setTimeout(()=>{Ne(e)},500*a)})},children:[(0,J.jsx)(F.A,{className:"w-4 h-4"})," ",L("print")]}),(0,J.jsxs)(i.$,{className:"gap-2 text-sm bg-green-600 hover:bg-green-700",onClick:()=>{Z.oR.success("Report cards published digitally! Parents can view on StudyTino app.")},children:[(0,J.jsx)(z.A,{className:"w-4 h-4"})," ",L("generate_report")]})]})]})}),(0,J.jsx)(m.Wu,{children:ge&&ee.length>0?(0,J.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(e=>{var a;const s=We(e.id);return(0,J.jsxs)("div",{className:"p-4 border rounded-xl hover:border-blue-300 hover:shadow-md transition-all",children:[(0,J.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,J.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:null===(a=e.name)||void 0===a?void 0:a.charAt(0)}),(0,J.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,J.jsx)("p",{className:"font-semibold truncate",children:e.name}),(0,J.jsx)("p",{className:"text-sm text-slate-500",children:e.roll_no||e.student_id})]}),(0,J.jsx)(p.E,{variant:s.passed?"default":"destructive",children:s.grade})]}),(0,J.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center text-sm mb-3",children:[(0,J.jsxs)("div",{className:"bg-slate-50 rounded-lg p-2",children:[(0,J.jsx)("p",{className:"text-[10px] text-slate-400",children:L("total")}),(0,J.jsx)("p",{className:"font-semibold",children:s.totalObtained})]}),(0,J.jsxs)("div",{className:"bg-slate-50 rounded-lg p-2",children:[(0,J.jsx)("p",{className:"text-[10px] text-slate-400",children:L("percentage")}),(0,J.jsxs)("p",{className:"font-semibold",children:[s.percentage,"%"]})]}),(0,J.jsxs)("div",{className:"rounded-lg p-2 ".concat(s.passed?"bg-green-50":"bg-red-50"),children:[(0,J.jsx)("p",{className:"text-[10px] text-slate-400",children:L("result")}),(0,J.jsx)("p",{className:"font-semibold text-xs ".concat(s.passed?"text-green-700":"text-red-700"),children:s.passed?L("pass"):L("fail")})]})]}),(0,J.jsxs)("div",{className:"flex gap-2",children:[(0,J.jsxs)(i.$,{onClick:()=>(e=>{Ne(e),we(!0)})(e),variant:"outline",className:"flex-1 gap-1 text-sm",size:"sm",children:[(0,J.jsx)(A.A,{className:"w-3.5 h-3.5"})," ",L("view")]}),(0,J.jsxs)(i.$,{onClick:()=>{Ne(e),Ve()},className:"flex-1 gap-1 text-sm bg-blue-600 hover:bg-blue-700",size:"sm",children:[(0,J.jsx)(F.A,{className:"w-3.5 h-3.5"})," ",L("print")]})]})]},e.id)})}):(0,J.jsxs)("div",{className:"text-center py-10",children:[(0,J.jsx)(_.A,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),(0,J.jsx)("p",{className:"text-slate-500",children:L("select_class")})]})})]})}),(0,J.jsx)(x.av,{value:"hierarchy",className:"mt-4",children:(0,J.jsxs)(m.Zp,{children:[(0,J.jsx)(m.aR,{children:(0,J.jsxs)("div",{className:"flex items-center justify-between",children:[(0,J.jsxs)("div",{children:[(0,J.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,J.jsx)(j.A,{className:"w-5 h-5 text-blue-600"})," ",L("exam_schedule")]}),(0,J.jsx)(m.BT,{children:L("exam_schedule")})]}),(0,J.jsxs)(i.$,{className:"gap-2 bg-blue-600 hover:bg-blue-700",onClick:()=>{Z.oR.success("Exam structure saved!")},children:[(0,J.jsx)(E.A,{className:"w-4 h-4"})," ",L("save")]})]})}),(0,J.jsxs)(m.Wu,{children:[(0,J.jsxs)("div",{className:"space-y-4",children:[ze.map((e,a)=>(0,J.jsxs)("div",{className:"border rounded-xl p-4 bg-slate-50/50",children:[(0,J.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,J.jsxs)("div",{className:"flex items-center gap-3",children:[(0,J.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:(0,J.jsx)(j.A,{className:"w-4 h-4 text-blue-600"})}),(0,J.jsx)("div",{children:(0,J.jsx)(c.p,{value:e.name,onChange:e=>{const s=[...ze];s[a].name=e.target.value,Me(s)},className:"font-semibold text-lg border-0 bg-transparent p-0 h-auto focus-visible:ring-0"})})]}),(0,J.jsxs)("div",{className:"flex items-center gap-2",children:[(0,J.jsx)(d.J,{className:"text-xs text-slate-500",children:"Weight:"}),(0,J.jsx)(c.p,{type:"number",value:e.weight,onChange:e=>{const s=[...ze];s[a].weight=parseInt(e.target.value)||0,Me(s)},className:"w-16 text-center"}),(0,J.jsx)("span",{className:"text-xs text-slate-400",children:"%"})]})]}),(0,J.jsxs)("div",{className:"ml-8 space-y-2",children:[e.children.map((e,s)=>(0,J.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border",children:[(0,J.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,J.jsx)(c.p,{value:e.name,onChange:e=>{const t=[...ze];t[a].children[s].name=e.target.value,Me(t)},className:"flex-1 border-0 bg-transparent p-0 h-auto focus-visible:ring-0"}),(0,J.jsxs)("div",{className:"flex items-center gap-2",children:[(0,J.jsx)(d.J,{className:"text-xs text-slate-400",children:"Weight:"}),(0,J.jsx)(c.p,{type:"number",value:e.weight,onChange:e=>{const t=[...ze];t[a].children[s].weight=parseInt(e.target.value)||0,Me(t)},className:"w-14 text-center text-sm"}),(0,J.jsx)("span",{className:"text-xs text-slate-400",children:"%"})]}),(0,J.jsxs)("div",{className:"flex items-center gap-2",children:[(0,J.jsx)(d.J,{className:"text-xs text-slate-400",children:"Max:"}),(0,J.jsx)(c.p,{type:"number",value:e.max_marks,onChange:e=>{const t=[...ze];t[a].children[s].max_marks=parseInt(e.target.value)||0,Me(t)},className:"w-14 text-center text-sm"})]}),(0,J.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{const e=[...ze];e[a].children.splice(s,1),Me(e)},children:(0,J.jsx)(I.A,{className:"w-3.5 h-3.5 text-red-400"})})]},e.id)),(0,J.jsxs)(i.$,{variant:"outline",size:"sm",className:"gap-2 ml-5 text-xs",onClick:()=>{const e=[...ze];e[a].children.push({id:"new_".concat(Date.now()),name:"New Assessment",weight:10,max_marks:20}),Me(e)},children:[(0,J.jsx)(S.A,{className:"w-3 h-3"})," ",L("create_exam")]})]})]},e.id)),(0,J.jsxs)(i.$,{variant:"outline",className:"gap-2 w-full",onClick:()=>{Me([...ze,{id:"term_".concat(Date.now()),name:"New Term",weight:0,children:[]}])},children:[(0,J.jsx)(S.A,{className:"w-4 h-4"})," ",L("create_exam")]})]}),(0,J.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[(0,J.jsxs)("h4",{className:"font-medium text-blue-800 flex items-center gap-2",children:[(0,J.jsx)(H.A,{className:"w-4 h-4"})," ",L("exam_schedule")]}),(0,J.jsxs)("div",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[(0,J.jsx)("p",{children:"Term > Assessment (Unit Test, Half Yearly, Annual)"}),(0,J.jsx)("p",{children:"Each assessment can have its own max marks and weightage"}),(0,J.jsx)("p",{children:"Total weightage across all terms should equal 100%"}),(0,J.jsxs)("p",{children:["Current total: ",(0,J.jsxs)("b",{children:[ze.reduce((e,a)=>e+a.weight,0),"%"]})]})]})]})]})]})}),(0,J.jsx)(x.av,{value:"design",className:"mt-4",children:(0,J.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,J.jsx)("div",{className:"lg:col-span-2",children:(0,J.jsxs)(m.Zp,{children:[(0,J.jsxs)(m.aR,{children:[(0,J.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,J.jsx)(B.A,{className:"w-5 h-5 text-purple-600"})," ",L("report_card")]}),(0,J.jsx)(m.BT,{children:L("report_card")})]}),(0,J.jsxs)(m.Wu,{children:[(0,J.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:X.map(e=>(0,J.jsxs)("button",{onClick:()=>Fe(e.id),className:"p-4 rounded-xl border-2 text-center transition-all ".concat(Se===e.id?"border-blue-500 bg-blue-50 shadow-md":"border-slate-200 hover:border-blue-200"),children:[(0,J.jsx)("div",{className:"w-full h-20 rounded-lg mb-2 flex items-center justify-center",style:{background:"".concat(e.color,"15"),border:"2px solid ".concat(e.color,"40")},children:(0,J.jsx)(_.A,{className:"w-8 h-8",style:{color:e.color}})}),(0,J.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,J.jsx)("p",{className:"text-[10px] text-slate-500 mt-0.5",children:e.description})]},e.id))}),(0,J.jsx)("h4",{className:"font-medium text-slate-700 mb-3",children:L("class_performance")}),(0,J.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-4",children:De.map((e,a)=>(0,J.jsxs)("div",{className:"flex items-center gap-2 p-2 border rounded-lg",children:[(0,J.jsx)(D.A,{className:"w-4 h-4 text-amber-500"}),(0,J.jsx)("span",{className:"flex-1 text-sm",children:e.name}),(0,J.jsxs)("select",{value:e.grade,onChange:e=>{const s=[...De];s[a].grade=e.target.value,He(s)},className:"px-2 py-1 border rounded text-sm",children:[(0,J.jsx)("option",{value:"",children:"-"}),(0,J.jsx)("option",{value:"A",children:"A"}),(0,J.jsx)("option",{value:"B",children:"B"}),(0,J.jsx)("option",{value:"C",children:"C"}),(0,J.jsx)("option",{value:"D",children:"D"})]})]},e.id))}),(0,J.jsxs)(i.$,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>{He([...De,{id:"act_".concat(Date.now()),name:"New Activity",grade:""}])},children:[(0,J.jsx)(S.A,{className:"w-3 h-3"})," ",L("add")]})]})]})}),(0,J.jsxs)("div",{children:[(0,J.jsxs)(m.Zp,{children:[(0,J.jsx)(m.aR,{children:(0,J.jsx)(m.ZB,{className:"text-sm",children:L("settings")})}),(0,J.jsxs)(m.Wu,{className:"space-y-4",children:[[{key:"show_rank",label:L("rank")},{key:"show_attendance",label:L("attendance")},{key:"show_remarks",label:L("remarks")},{key:"show_co_scholastic",label:L("class_performance")},{key:"show_photo",label:L("photo")},{key:"show_graph",label:L("percentage")},{key:"watermark",label:L("settings")},{key:"digital_publish",label:L("generate_report")}].map(e=>(0,J.jsxs)("div",{className:"flex items-center justify-between",children:[(0,J.jsx)(d.J,{className:"text-sm",children:e.label}),(0,J.jsx)(u.d,{checked:Ee[e.key],onCheckedChange:a=>Te(s=>(0,t.A)((0,t.A)({},s),{},{[e.key]:a}))})]},e.key)),(0,J.jsxs)("div",{className:"pt-2 border-t",children:[(0,J.jsx)(d.J,{className:"text-sm",children:L("name")}),(0,J.jsx)(c.p,{value:Ee.principal_name,onChange:e=>Te(a=>(0,t.A)((0,t.A)({},a),{},{principal_name:e.target.value})),placeholder:"Principal's name",className:"mt-1"})]}),(0,J.jsxs)(i.$,{className:"w-full gap-2 bg-blue-600 hover:bg-blue-700",onClick:()=>Z.oR.success("Design settings saved!"),children:[(0,J.jsx)(E.A,{className:"w-4 h-4"})," ",L("save_settings")]})]})]}),(0,J.jsx)(m.Zp,{className:"mt-4",children:(0,J.jsxs)(m.Wu,{className:"p-4",children:[(0,J.jsxs)("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[(0,J.jsx)(z.A,{className:"w-4 h-4 text-green-600"})," ",L("generate_report")]}),(0,J.jsx)("p",{className:"text-xs text-slate-500 mb-3",children:"Published report cards are visible to parents on the StudyTino mobile app."}),(0,J.jsxs)("div",{className:"space-y-2",children:[(0,J.jsxs)(i.$,{variant:"outline",className:"w-full gap-2 text-sm",onClick:()=>Z.oR.success("Report cards shared via WhatsApp!"),children:[(0,J.jsx)(M.A,{className:"w-4 h-4"})," ",L("share")]}),(0,J.jsxs)(i.$,{variant:"outline",className:"w-full gap-2 text-sm",onClick:()=>Z.oR.success("Report cards emailed to parents!"),children:[(0,J.jsx)(R.A,{className:"w-4 h-4"})," ",L("send")]})]})]})})]})]})}),(0,J.jsx)(x.av,{value:"grading",className:"mt-4",children:(0,J.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,J.jsxs)(m.Zp,{children:[(0,J.jsxs)(m.aR,{children:[(0,J.jsxs)(m.ZB,{className:"flex items-center gap-2",children:[(0,J.jsx)(T.A,{className:"w-5 h-5 text-orange-600"})," ",L("grade")]}),(0,J.jsx)(m.BT,{children:L("grade")})]}),(0,J.jsxs)(m.Wu,{children:[(0,J.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[{id:"cbse",name:"CBSE",desc:"A1-E Scale"},{id:"icse",name:"ICSE",desc:"A+-F Scale"},{id:"state",name:"State Board",desc:"Distinction-Fail"},{id:"custom",name:"Custom",desc:"Your own scale"}].map(e=>(0,J.jsxs)("button",{onClick:()=>Be(e.id),className:"p-4 rounded-xl border-2 text-center transition-all ".concat(Re===e.id?"border-orange-500 bg-orange-50 shadow-md":"border-slate-200 hover:border-orange-200"),children:[(0,J.jsx)(f.A,{className:"w-6 h-6 mx-auto mb-1 text-orange-600"}),(0,J.jsx)("p",{className:"font-semibold text-sm",children:e.name}),(0,J.jsx)("p",{className:"text-[10px] text-slate-500",children:e.desc})]},e.id))}),(0,J.jsxs)("h4",{className:"font-medium text-slate-700 mb-3",children:[L("grade"),": ",Re.toUpperCase()]}),(0,J.jsxs)(h.XI,{children:[(0,J.jsx)(h.A0,{children:(0,J.jsxs)(h.Hj,{children:[(0,J.jsx)(h.nd,{children:"Min %"}),(0,J.jsx)(h.nd,{children:L("grade")}),(0,J.jsx)(h.nd,{children:"Points"}),(0,J.jsx)(h.nd,{children:L("remarks")})]})}),(0,J.jsx)(h.BF,{children:(()=>{const e={cbse:[{min:91,grade:"A1",points:10,remark:"Outstanding"},{min:81,grade:"A2",points:9,remark:"Excellent"},{min:71,grade:"B1",points:8,remark:"Very Good"},{min:61,grade:"B2",points:7,remark:"Good"},{min:51,grade:"C1",points:6,remark:"Above Average"},{min:41,grade:"C2",points:5,remark:"Average"},{min:33,grade:"D",points:4,remark:"Below Average"},{min:0,grade:"E",points:0,remark:"Needs Improvement"}],icse:[{min:90,grade:"A+",points:10,remark:"Exceptional"},{min:80,grade:"A",points:9,remark:"Excellent"},{min:70,grade:"B+",points:8,remark:"Very Good"},{min:60,grade:"B",points:7,remark:"Good"},{min:50,grade:"C+",points:6,remark:"Fair"},{min:40,grade:"C",points:5,remark:"Average"},{min:33,grade:"D",points:4,remark:"Below Average"},{min:0,grade:"F",points:0,remark:"Fail"}],state:[{min:90,grade:"A+",points:10,remark:"Distinction"},{min:75,grade:"A",points:9,remark:"First Class"},{min:60,grade:"B",points:7,remark:"Second Class"},{min:45,grade:"C",points:5,remark:"Third Class"},{min:33,grade:"D",points:4,remark:"Pass"},{min:0,grade:"F",points:0,remark:"Fail"}],custom:[{min:90,grade:"A+",points:10,remark:"Outstanding"},{min:75,grade:"A",points:8,remark:"Excellent"},{min:60,grade:"B",points:6,remark:"Good"},{min:33,grade:"C",points:4,remark:"Pass"},{min:0,grade:"F",points:0,remark:"Fail"}]};return(e[Re]||e.cbse).map((e,a)=>(0,J.jsxs)(h.Hj,{children:[(0,J.jsxs)(h.nA,{children:[e.min,"%+"]}),(0,J.jsx)(h.nA,{children:(0,J.jsx)(p.E,{children:e.grade})}),(0,J.jsx)(h.nA,{children:e.points}),(0,J.jsx)(h.nA,{children:e.remark})]},a))})()})]})]})]}),(0,J.jsxs)("div",{className:"space-y-4",children:[(0,J.jsxs)(m.Zp,{children:[(0,J.jsx)(m.aR,{children:(0,J.jsxs)(m.ZB,{className:"text-sm flex items-center gap-2",children:[(0,J.jsx)(H.A,{className:"w-4 h-4 text-blue-600"})," ",L("pass"),"/",L("fail")]})}),(0,J.jsxs)(m.Wu,{className:"space-y-3",children:[(0,J.jsxs)("div",{children:[(0,J.jsx)(d.J,{className:"text-sm",children:L("min_marks")}),(0,J.jsx)(c.p,{type:"number",defaultValue:33,className:"mt-1"})]}),(0,J.jsxs)("div",{children:[(0,J.jsxs)(d.J,{className:"text-sm",children:[L("min_marks")," (",L("subject"),")"]}),(0,J.jsx)(c.p,{type:"number",defaultValue:33,className:"mt-1"})]}),(0,J.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,J.jsx)(d.J,{className:"text-sm",children:L("max_marks")}),(0,J.jsx)(u.d,{defaultChecked:!0})]}),(0,J.jsxs)("div",{children:[(0,J.jsx)(d.J,{className:"text-sm",children:L("max_marks")}),(0,J.jsx)(c.p,{type:"number",defaultValue:5,className:"mt-1"})]}),(0,J.jsxs)(i.$,{className:"w-full gap-2 bg-orange-600 hover:bg-orange-700 mt-2",onClick:()=>Z.oR.success("Grading criteria saved!"),children:[(0,J.jsx)(E.A,{className:"w-4 h-4"})," ",L("save")]})]})]}),(0,J.jsx)(m.Zp,{children:(0,J.jsxs)(m.Wu,{className:"p-4",children:[(0,J.jsxs)("h4",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[(0,J.jsx)(P.A,{className:"w-4 h-4 text-green-600"})," ",L("total_marks")]}),(0,J.jsx)("div",{className:"space-y-3",children:[{label:"Auto-calculate totals",checked:!0},{label:"Weighted scoring",checked:!0},{label:"Best of N exams",checked:!1},{label:"Internal assessment marks",checked:!0},{label:"Practical marks separate",checked:!1}].map((e,a)=>(0,J.jsxs)("div",{className:"flex items-center justify-between",children:[(0,J.jsx)(d.J,{className:"text-sm",children:e.label}),(0,J.jsx)(u.d,{defaultChecked:e.checked})]},a))})]})})]})]})})]}),(0,J.jsx)(o.lG,{open:ke,onOpenChange:Ae,children:(0,J.jsxs)(o.Cf,{children:[(0,J.jsxs)(o.c7,{children:[(0,J.jsx)(o.L3,{children:L("create_exam")}),(0,J.jsx)(o.rr,{children:L("create_exam")})]}),(0,J.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,J.jsxs)("div",{className:"space-y-2",children:[(0,J.jsxs)(d.J,{children:[L("exam_name")," *"]}),(0,J.jsx)(c.p,{value:Ie.name,onChange:e=>Pe(a=>(0,t.A)((0,t.A)({},a),{},{name:e.target.value})),placeholder:"e.g., Half Yearly Exam 2025"})]}),(0,J.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,J.jsxs)("div",{className:"space-y-2",children:[(0,J.jsx)(d.J,{children:L("exam_type")}),(0,J.jsx)("select",{value:Ie.type,onChange:e=>{const a=O.find(a=>a.id===e.target.value);Pe(s=>(0,t.A)((0,t.A)({},s),{},{type:e.target.value,max_marks:(null===a||void 0===a?void 0:a.max_marks)||20}))},className:"w-full px-3 py-2 border rounded-lg",children:O.map(e=>(0,J.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,J.jsxs)("div",{className:"space-y-2",children:[(0,J.jsxs)(d.J,{children:[L("classes")," *"]}),(0,J.jsxs)("select",{value:Ie.class_id,onChange:e=>Pe(a=>(0,t.A)((0,t.A)({},a),{},{class_id:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,J.jsx)("option",{value:"",children:L("select_class")}),K.map(e=>(0,J.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,J.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,J.jsxs)("div",{className:"space-y-2",children:[(0,J.jsx)(d.J,{children:L("start_date")}),(0,J.jsx)(c.p,{type:"date",value:Ie.start_date,onChange:e=>Pe(a=>(0,t.A)((0,t.A)({},a),{},{start_date:e.target.value}))})]}),(0,J.jsxs)("div",{className:"space-y-2",children:[(0,J.jsx)(d.J,{children:L("end_date")}),(0,J.jsx)(c.p,{type:"date",value:Ie.end_date,onChange:e=>Pe(a=>(0,t.A)((0,t.A)({},a),{},{end_date:e.target.value}))})]})]}),(0,J.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,J.jsx)(i.$,{variant:"outline",onClick:()=>Ae(!1),children:L("cancel")}),(0,J.jsxs)(i.$,{onClick:async()=>{if(Ie.name&&Ie.class_id){he(!0);try{const e=localStorage.getItem("token");await G.A.post("".concat(U,"/exam-schedule"),(0,t.A)((0,t.A)({},Ie),{},{school_id:Y,created_by:null===q||void 0===q?void 0:q.id}),{headers:{Authorization:"Bearer ".concat(e)}}),Z.oR.success("Exam created!"),Ae(!1),Ge()}catch(e){Z.oR.error("Failed to create exam")}finally{he(!1)}}else Z.oR.error("Please fill required fields")},disabled:xe,className:"bg-blue-600 hover:bg-blue-700",children:[xe?(0,J.jsx)(b.A,{className:"w-4 h-4 animate-spin mr-2"}):(0,J.jsx)(S.A,{className:"w-4 h-4 mr-2"}),L("create_exam")]})]})]})]})}),(0,J.jsx)(o.lG,{open:ye,onOpenChange:we,children:(0,J.jsxs)(o.Cf,{className:"max-w-3xl",children:[(0,J.jsx)(o.c7,{children:(0,J.jsx)(o.L3,{children:L("report_card")})}),fe&&(0,J.jsxs)("div",{className:"border rounded-lg p-6 bg-white",children:[(0,J.jsxs)("div",{className:"text-center border-b-2 pb-4 mb-4",style:{borderColor:null===(e=X.find(e=>e.id===Se))||void 0===e?void 0:e.color},children:[(null===ce||void 0===ce?void 0:ce.logo_url)&&(0,J.jsx)("img",{src:ce.logo_url,alt:"",className:"w-16 h-16 mx-auto mb-2 object-contain"}),(0,J.jsx)("h2",{className:"text-xl font-bold",style:{color:null===(a=X.find(e=>e.id===Se))||void 0===a?void 0:a.color},children:null===ce||void 0===ce?void 0:ce.name}),(0,J.jsx)("p",{className:"text-sm text-slate-500",children:null===ce||void 0===ce?void 0:ce.address}),(0,J.jsx)("h3",{className:"text-lg font-semibold mt-2 underline",children:L("report_card")})]}),(0,J.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4 text-sm",children:[(0,J.jsxs)("div",{children:[(0,J.jsxs)("b",{children:[L("name"),":"]})," ",fe.name]}),(0,J.jsxs)("div",{children:[(0,J.jsxs)("b",{children:[L("roll_no"),":"]})," ",fe.roll_no||fe.student_id]}),(0,J.jsxs)("div",{children:[(0,J.jsxs)("b",{children:[L("father_name"),":"]})," ",fe.father_name]}),(0,J.jsxs)("div",{children:[(0,J.jsxs)("b",{children:[L("classes"),":"]})," ",null===(s=K.find(e=>e.id===fe.class_id))||void 0===s?void 0:s.name]})]}),(0,J.jsxs)(h.XI,{children:[(0,J.jsx)(h.A0,{children:(0,J.jsxs)(h.Hj,{children:[(0,J.jsx)(h.nd,{children:L("subject")}),(0,J.jsx)(h.nd,{className:"text-center",children:L("max_marks")}),(0,J.jsx)(h.nd,{className:"text-center",children:L("obtained_marks")}),(0,J.jsx)(h.nd,{className:"text-center",children:L("grade")}),(0,J.jsx)(h.nd,{className:"text-center",children:L("remarks")})]})}),(0,J.jsx)(h.BF,{children:se.map(e=>{var a;const s=parseFloat(null===(a=le[fe.id])||void 0===a?void 0:a[e.id])||0,t=s/e.max_marks*100,r=W(t,Re);return(0,J.jsxs)(h.Hj,{children:[(0,J.jsxs)(h.nA,{children:[e.name," (",e.name_hi,")"]}),(0,J.jsx)(h.nA,{className:"text-center",children:e.max_marks}),(0,J.jsx)(h.nA,{className:"text-center",children:s}),(0,J.jsx)(h.nA,{className:"text-center",children:(0,J.jsx)(p.E,{children:r.grade})}),(0,J.jsx)(h.nA,{className:"text-center text-xs",children:r.remark})]},e.id)})})]}),Ee.show_co_scholastic&&(0,J.jsxs)("div",{className:"mt-4",children:[(0,J.jsx)("h4",{className:"font-medium text-sm mb-2",children:L("class_performance")}),(0,J.jsx)("div",{className:"grid grid-cols-3 gap-2",children:De.map(e=>(0,J.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded text-sm",children:[(0,J.jsx)("span",{children:e.name}),(0,J.jsx)(p.E,{variant:"secondary",children:e.grade||"A"})]},e.id))})]}),(0,J.jsxs)("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg text-center",children:[(0,J.jsxs)("p",{children:[L("percentage"),": ",(0,J.jsxs)("b",{children:[We(fe.id).percentage,"%"]})]}),(0,J.jsxs)("p",{children:[L("grade"),": ",(0,J.jsx)("b",{children:We(fe.id).grade})," (",We(fe.id).remark,")"]}),(0,J.jsx)("p",{className:"font-bold ".concat(We(fe.id).passed?"text-green-600":"text-red-600"),children:We(fe.id).passed?L("pass"):L("fail")})]}),(0,J.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,J.jsx)(i.$,{variant:"outline",onClick:()=>we(!1),children:L("close")}),(0,J.jsxs)(i.$,{onClick:Ve,className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,J.jsx)(F.A,{className:"w-4 h-4"})," ",L("print")]})]})]})]})})]})}},5347(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},6405(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},7104(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},5258(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]])},7673(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]])},2754(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])},8693(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},8306(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},6963(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},6533(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4919(e,a,s){s.d(a,{A:()=>t});const t=(0,s(7784).A)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}}]);
//# sourceMappingURL=8352.bef81c09.chunk.js.map