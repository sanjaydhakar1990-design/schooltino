/*! For license information please see main.0157a11c.js.LICENSE.txt */
(()=>{var e={85(e,t,a){"use strict";var s=a(340),n=a(950),r=a(119);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(l(188))}function m(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=m(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case f:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case w:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case j:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return M(e(t))}catch(a){}}return null}var D=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},L=[],F=-1;function B(e){return{current:e}}function z(e){0>F||(e.current=L[F],L[F]=null,F--)}function H(e,t){F++,L[F]=e.current,e.current=t}var q,U,W=B(null),V=B(null),G=B(null),K=B(null);function Y(e,t){switch(H(G,t),H(V,e),H(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vu(t=fu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(W),H(W,e)}function Q(){z(W),z(V),z(G)}function $(e){null!==e.memoizedState&&H(K,e);var t=W.current,a=vu(t,e.type);t!==a&&(H(V,e),H(W,a))}function J(e){V.current===e&&(z(W),z(V)),K.current===e&&(z(K),dm._currentValue=O)}function X(e){if(void 0===q)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",U=-1<a.stack.indexOf("\n    at")?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+U}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(n){var s=n}Reflect.construct(e,[],a)}else{try{a.call()}catch(r){s=r}e.call(a.prototype)}}else{try{throw Error()}catch(l){s=l}(a=e())&&"function"===typeof a.catch&&a.catch(function(){})}}catch(i){if(i&&s&&"string"===typeof i.stack)return[i.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),l=r[0],i=r[1];if(l&&i){var o=l.split("\n"),c=i.split("\n");for(n=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;if(s===o.length||n===c.length)for(s=o.length-1,n=c.length-1;1<=s&&0<=n&&o[s]!==c[n];)n--;for(;1<=s&&0<=n;s--,n--)if(o[s]!==c[n]){if(1!==s||1!==n)do{if(s--,0>--n||o[s]!==c[n]){var d="\n"+o[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=s&&0<=n);break}}}finally{Z=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?X(a):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ae(e){try{var t="",a=null;do{t+=te(e,a),a=e,e=e.return}while(e);return t}catch(s){return"\nError generating stack: "+s.message+"\n"+s.stack}}var se=Object.prototype.hasOwnProperty,ne=s.unstable_scheduleCallback,re=s.unstable_cancelCallback,le=s.unstable_shouldYield,ie=s.unstable_requestPaint,oe=s.unstable_now,ce=s.unstable_getCurrentPriorityLevel,de=s.unstable_ImmediatePriority,ue=s.unstable_UserBlockingPriority,me=s.unstable_NormalPriority,he=s.unstable_LowPriority,pe=s.unstable_IdlePriority,xe=s.log,ge=s.unstable_setDisableYieldValue,fe=null,ve=null;function be(e){if("function"===typeof xe&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(fe,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/Ne|0)|0},je=Math.log,Ne=Math.LN2;var we=256,ke=262144,Se=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,a){var s=e.pendingLanes;if(0===s)return 0;var n=0,r=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&s;return 0!==i?0!==(s=i&~r)?n=_e(s):0!==(l&=i)?n=_e(l):a||0!==(a=i&~e)&&(n=_e(a)):0!==(i=s&~r)?n=_e(i):0!==l?n=_e(l):a||0!==(a=s&~e)&&(n=_e(a)),0===n?0:0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(a=t&-t)||32===r&&0!==(4194048&a))?t:n}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Te(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ye(t);e.entangledLanes|=t,e.entanglements[s]=1073741824|e.entanglements[s]|261930&a}function Re(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-ye(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function Ie(e,t){var a=t&-t;return 0!==((a=0!==(42&a)?1:Oe(a))&(e.suspendedLanes|t))?0:a}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:_m(e.type)}function Be(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}var ze=Math.random().toString(36).slice(2),He="__reactFiber$"+ze,qe="__reactProps$"+ze,Ue="__reactContainer$"+ze,We="__reactEvents$"+ze,Ve="__reactListeners$"+ze,Ge="__reactHandles$"+ze,Ke="__reactResources$"+ze,Ye="__reactMarker$"+ze;function Qe(e){delete e[He],delete e[qe],delete e[We],delete e[Ve],delete e[Ge]}function $e(e){var t=e[He];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ue]||a[He]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=Ou(e);null!==e;){if(a=e[He])return a;e=Ou(e)}return t}a=(e=a).parentNode}return null}function Je(e){if(e=e[He]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ye]=!0}var tt=new Set,at={};function st(e,t){nt(e,t),nt(e+"Capture",t)}function nt(e,t){for(at[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},it={};function ot(e,t,a){if(n=t,se.call(it,n)||!se.call(lt,n)&&(rt.test(n)?it[n]=!0:(lt[n]=!0,0)))if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return void e.removeAttribute(t)}e.setAttribute(t,""+a)}var n}function ct(e,t,a){if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+a)}}function dt(e,t,a,s){if(null===s)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(a)}e.setAttributeNS(t,a,""+s)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=mt(e)?e.checked?"true":"false":e.value),(e=s)!==a&&(t.setValue(e),!0)}function xt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function ft(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,a,s,n,r,l,i){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?yt(e,l,ut(t)):null!=a?yt(e,l,ut(a)):null!=s&&e.removeAttribute("value"),null==n&&null!=r&&(e.defaultChecked=!!r),null!=n&&(e.checked=n&&"function"!==typeof n&&"symbol"!==typeof n),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ut(i):e.removeAttribute("name")}function bt(e,t,a,s,n,r,l,i){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=a){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return void ht(e);a=null!=a?""+ut(a):"",t=null!=t?""+ut(t):a,i||t===e.value||(e.value=t),e.defaultValue=t}s="function"!==typeof(s=null!=s?s:n)&&"symbol"!==typeof s&&!!s,e.checked=i?e.checked:!!s,e.defaultChecked=!!s,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l),ht(e)}function yt(e,t,a){"number"===t&&xt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function jt(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+ut(a),t=null,n=0;n<e.length;n++){if(e[n].value===a)return e[n].selected=!0,void(s&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function Nt(e,t,a){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=a)?e.defaultValue=null!=a?""+ut(a):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,a,s){if(null==t){if(null!=s){if(null!=a)throw Error(l(92));if(D(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}null==a&&(a=""),t=a}a=ut(t),e.defaultValue=a,(s=e.textContent)===a&&""!==s&&null!==s&&(e.value=s),ht(e)}function kt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,a){var s=0===t.indexOf("--");null==a||"boolean"===typeof a||""===a?s?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":s?e.setProperty(t,a):"number"!==typeof a||0===a||St.has(t)?"float"===t?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ct(e,t,a){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=a){for(var s in a)!a.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&_t(e,n,s)}else for(var r in t)t.hasOwnProperty(r)&&_t(e,r,t[r])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mt(){}var Dt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Ot=null;function Lt(e){var t=Je(e);if(t&&(e=t.stateNode)){var a=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[qe]||null;if(!n)throw Error(l(90));vt(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)(s=a[t]).form===e.form&&pt(s)}break e;case"textarea":Nt(e,a.value,a.defaultValue);break e;case"select":null!=(t=a.value)&&jt(e,!!a.multiple,t,!1)}}}var Ft=!1;function Bt(e,t,a){if(Ft)return e(t,a);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==It||null!==Ot)&&(Zc(),It&&(t=It,e=Ot,Ot=It=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function zt(e,t){var a=e.stateNode;if(null===a)return null;var s=a[qe]||null;if(null===s)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(l(231,t,typeof a));return a}var Ht=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Ht)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Jm){qt=!1}var Wt=null,Vt=null,Gt=null;function Kt(){if(Gt)return Gt;var e,t,a=Vt,s=a.length,n="value"in Wt?Wt.value:Wt.textContent,r=n.length;for(e=0;e<s&&a[e]===n[e];e++);var l=s-e;for(t=1;t<=l&&a[s-t]===n[r-t];t++);return Gt=n.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function $t(){return!1}function Jt(e){function t(t,a,s,n,r){for(var l in this._reactName=t,this._targetInst=s,this.type=a,this.nativeEvent=n,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(n):n[l]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qt:$t,this.isPropagationStopped=$t,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var Xt,Zt,ea,ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Jt(ta),sa=h({},ta,{view:0,detail:0}),na=Jt(sa),ra=h({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ea&&(ea&&"mousemove"===e.type?(Xt=e.screenX-ea.screenX,Zt=e.screenY-ea.screenY):Zt=Xt=0,ea=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),la=Jt(ra),ia=Jt(h({},ra,{dataTransfer:0})),oa=Jt(h({},sa,{relatedTarget:0})),ca=Jt(h({},ta,{animationName:0,elapsedTime:0,pseudoElement:0})),da=Jt(h({},ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ua=Jt(h({},ta,{data:0})),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ha={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pa[e])&&!!t[e]}function ga(){return xa}var fa=Jt(h({},sa,{key:function(e){if(e.key){var t=ma[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ha[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),va=Jt(h({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ba=Jt(h({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga})),ya=Jt(h({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0})),ja=Jt(h({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Na=Jt(h({},ta,{newState:0,oldState:0})),wa=[9,13,27,32],ka=Ht&&"CompositionEvent"in window,Sa=null;Ht&&"documentMode"in document&&(Sa=document.documentMode);var _a=Ht&&"TextEvent"in window&&!Sa,Ca=Ht&&(!ka||Sa&&8<Sa&&11>=Sa),Ea=String.fromCharCode(32),Pa=!1;function Aa(e,t){switch(e){case"keyup":return-1!==wa.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ma=!1;var Da={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Da[e.type]:"textarea"===t}function Ia(e,t,a,s){It?Ot?Ot.push(s):Ot=[s]:It=s,0<(t=su(t,"onChange")).length&&(a=new aa("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Oa=null,La=null;function Fa(e){Qd(e,0)}function Ba(e){if(pt(Xe(e)))return e}function za(e,t){if("change"===e)return t}var Ha=!1;if(Ht){var qa;if(Ht){var Ua="oninput"in document;if(!Ua){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),Ua="function"===typeof Wa.oninput}qa=Ua}else qa=!1;Ha=qa&&(!document.documentMode||9<document.documentMode)}function Va(){Oa&&(Oa.detachEvent("onpropertychange",Ga),La=Oa=null)}function Ga(e){if("value"===e.propertyName&&Ba(La)){var t=[];Ia(t,La,e,Rt(e)),Bt(Fa,t)}}function Ka(e,t,a){"focusin"===e?(Va(),La=a,(Oa=t).attachEvent("onpropertychange",Ga)):"focusout"===e&&Va()}function Ya(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ba(La)}function Qa(e,t){if("click"===e)return Ba(t)}function $a(e,t){if("input"===e||"change"===e)return Ba(t)}var Ja="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xa(e,t){if(Ja(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!se.call(t,n)||!Ja(e[n],t[n]))return!1}return!0}function Za(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function es(e,t){var a,s=Za(e);for(e=0;s;){if(3===s.nodeType){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Za(s)}}function ts(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ts(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function as(e){for(var t=xt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(s){a=!1}if(!a)break;t=xt((e=t.contentWindow).document)}return t}function ss(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ns=Ht&&"documentMode"in document&&11>=document.documentMode,rs=null,ls=null,is=null,os=!1;function cs(e,t,a){var s=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;os||null==rs||rs!==xt(s)||("selectionStart"in(s=rs)&&ss(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},is&&Xa(is,s)||(is=s,0<(s=su(ls,"onSelect")).length&&(t=new aa("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=rs)))}function ds(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var us={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},ms={},hs={};function ps(e){if(ms[e])return ms[e];if(!us[e])return e;var t,a=us[e];for(t in a)if(a.hasOwnProperty(t)&&t in hs)return ms[e]=a[t];return e}Ht&&(hs=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);var xs=ps("animationend"),gs=ps("animationiteration"),fs=ps("animationstart"),vs=ps("transitionrun"),bs=ps("transitionstart"),ys=ps("transitioncancel"),js=ps("transitionend"),Ns=new Map,ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(e,t){Ns.set(e,t),st(t,[e])}ws.push("scrollEnd");var Ss="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},_s=[],Cs=0,Es=0;function Ps(){for(var e=Cs,t=Es=Cs=0;t<e;){var a=_s[t];_s[t++]=null;var s=_s[t];_s[t++]=null;var n=_s[t];_s[t++]=null;var r=_s[t];if(_s[t++]=null,null!==s&&null!==n){var l=s.pending;null===l?n.next=n:(n.next=l.next,l.next=n),s.pending=n}0!==r&&Ds(a,n,r)}}function As(e,t,a,s){_s[Cs++]=e,_s[Cs++]=t,_s[Cs++]=a,_s[Cs++]=s,Es|=s,e.lanes|=s,null!==(e=e.alternate)&&(e.lanes|=s)}function Ts(e,t,a,s){return As(e,t,a,s),Rs(e)}function Ms(e,t){return As(e,null,null,t),Rs(e)}function Ds(e,t,a){e.lanes|=a;var s=e.alternate;null!==s&&(s.lanes|=a);for(var n=!1,r=e.return;null!==r;)r.childLanes|=a,null!==(s=r.alternate)&&(s.childLanes|=a),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(n=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,n&&null!==t&&(n=31-ye(a),null===(s=(e=r.hiddenUpdates)[n])?e[n]=[t]:s.push(t),t.lane=536870912|a),r):null}function Rs(e){if(50<Wc)throw Wc=0,Vc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Is={};function Os(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(e,t,a,s){return new Os(e,t,a,s)}function Fs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bs(e,t){var a=e.alternate;return null===a?((a=Ls(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=65011712&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function zs(e,t){e.flags&=65011714;var a=e.alternate;return null===a?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hs(e,t,a,s,n,r){var i=0;if(s=e,"function"===typeof e)Fs(e)&&(i=1);else if("string"===typeof e)i=function(e,t,a){if(1===a||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,a,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Ls(31,a,t,n)).elementType=C,e.lanes=r,e;case f:return qs(a.children,n,r,t);case v:i=8,n|=24;break;case b:return(e=Ls(12,a,t,2|n)).elementType=b,e.lanes=r,e;case w:return(e=Ls(13,a,t,n)).elementType=w,e.lanes=r,e;case k:return(e=Ls(19,a,t,n)).elementType=k,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:i=10;break e;case y:i=9;break e;case N:i=11;break e;case S:i=14;break e;case _:i=16,s=null;break e}i=29,a=Error(l(130,null===e?"null":typeof e,"")),s=null}return(t=Ls(i,a,t,n)).elementType=e,t.type=s,t.lanes=r,t}function qs(e,t,a,s){return(e=Ls(7,e,s,t)).lanes=a,e}function Us(e,t,a){return(e=Ls(6,e,null,t)).lanes=a,e}function Ws(e){var t=Ls(18,null,null,0);return t.stateNode=e,t}function Vs(e,t,a){return(t=Ls(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gs=new WeakMap;function Ks(e,t){if("object"===typeof e&&null!==e){var a=Gs.get(e);return void 0!==a?a:(t={value:e,source:t,stack:ae(t)},Gs.set(e,t),t)}return{value:e,source:t,stack:ae(t)}}var Ys=[],Qs=0,$s=null,Js=0,Xs=[],Zs=0,en=null,tn=1,an="";function sn(e,t){Ys[Qs++]=Js,Ys[Qs++]=$s,$s=e,Js=t}function nn(e,t,a){Xs[Zs++]=tn,Xs[Zs++]=an,Xs[Zs++]=en,en=e;var s=tn;e=an;var n=32-ye(s)-1;s&=~(1<<n),a+=1;var r=32-ye(t)+n;if(30<r){var l=n-n%5;r=(s&(1<<l)-1).toString(32),s>>=l,n-=l,tn=1<<32-ye(t)+n|a<<n|s,an=r+e}else tn=1<<r|a<<n|s,an=e}function rn(e){null!==e.return&&(sn(e,1),nn(e,1,0))}function ln(e){for(;e===$s;)$s=Ys[--Qs],Ys[Qs]=null,Js=Ys[--Qs],Ys[Qs]=null;for(;e===en;)en=Xs[--Zs],Xs[Zs]=null,an=Xs[--Zs],Xs[Zs]=null,tn=Xs[--Zs],Xs[Zs]=null}function on(e,t){Xs[Zs++]=tn,Xs[Zs++]=an,Xs[Zs++]=en,tn=t.id,an=t.overflow,en=e}var cn=null,dn=null,un=!1,mn=null,hn=!1,pn=Error(l(519));function xn(e){throw jn(Ks(Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pn}function gn(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[He]=e,t[qe]=s,a){case"dialog":$d("cancel",t),$d("close",t);break;case"iframe":case"object":case"embed":$d("load",t);break;case"video":case"audio":for(a=0;a<Kd.length;a++)$d(Kd[a],t);break;case"source":$d("error",t);break;case"img":case"image":case"link":$d("error",t),$d("load",t);break;case"details":$d("toggle",t);break;case"input":$d("invalid",t),bt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":$d("invalid",t);break;case"textarea":$d("invalid",t),wt(t,s.value,s.defaultValue,s.children)}"string"!==typeof(a=s.children)&&"number"!==typeof a&&"bigint"!==typeof a||t.textContent===""+a||!0===s.suppressHydrationWarning||cu(t.textContent,a)?(null!=s.popover&&($d("beforetoggle",t),$d("toggle",t)),null!=s.onScroll&&$d("scroll",t),null!=s.onScrollEnd&&$d("scrollend",t),null!=s.onClick&&(t.onclick=Mt),t=!0):t=!1,t||xn(e,!0)}function fn(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 31:case 13:return void(hn=!1);case 27:case 3:return void(hn=!0);default:cn=cn.return}}function vn(e){if(e!==cn)return!1;if(!un)return fn(e),un=!0,!1;var t,a=e.tag;if((t=3!==a&&27!==a)&&((t=5===a)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bu(e.type,e.memoizedProps)),t=!t),t&&dn&&xn(e),fn(e),13===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));dn=Iu(e)}else if(31===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));dn=Iu(e)}else 27===a?(a=dn,_u(e.type)?(e=Ru,Ru=null,dn=e):dn=a):dn=cn?Du(e.stateNode.nextSibling):null;return!0}function bn(){dn=cn=null,un=!1}function yn(){var e=mn;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),mn=null),e}function jn(e){null===mn?mn=[e]:mn.push(e)}var Nn=B(null),wn=null,kn=null;function Sn(e,t,a){H(Nn,t._currentValue),t._currentValue=a}function _n(e){e._currentValue=Nn.current,z(Nn)}function Cn(e,t,a){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function En(e,t,a,s){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var r=n.dependencies;if(null!==r){var i=n.child;r=r.firstContext;e:for(;null!==r;){var o=r;r=n;for(var c=0;c<t.length;c++)if(o.context===t[c]){r.lanes|=a,null!==(o=r.alternate)&&(o.lanes|=a),Cn(r.return,a,e),s||(i=null);break e}r=o.next}}else if(18===n.tag){if(null===(i=n.return))throw Error(l(341));i.lanes|=a,null!==(r=i.alternate)&&(r.lanes|=a),Cn(i,a,e),i=null}else i=n.child;if(null!==i)i.return=n;else for(i=n;null!==i;){if(i===e){i=null;break}if(null!==(n=i.sibling)){n.return=i.return,i=n;break}i=i.return}n=i}}function Pn(e,t,a,s){e=null;for(var n=t,r=!1;null!==n;){if(!r)if(0!==(524288&n.flags))r=!0;else if(0!==(262144&n.flags))break;if(10===n.tag){var i=n.alternate;if(null===i)throw Error(l(387));if(null!==(i=i.memoizedProps)){var o=n.type;Ja(n.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(n===K.current){if(null===(i=n.alternate))throw Error(l(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(null!==e?e.push(dm):e=[dm])}n=n.return}null!==e&&En(t,e,a,s),t.flags|=262144}function An(e){for(e=e.firstContext;null!==e;){if(!Ja(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tn(e){wn=e,kn=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Mn(e){return Rn(wn,e)}function Dn(e,t){return null===wn&&Tn(e),Rn(e,t)}function Rn(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},null===kn){if(null===e)throw Error(l(308));kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kn=kn.next=t;return a}var In="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},On=s.unstable_scheduleCallback,Ln=s.unstable_NormalPriority,Fn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bn(){return{controller:new In,data:new Map,refCount:0}}function zn(e){e.refCount--,0===e.refCount&&On(Ln,function(){e.controller.abort()})}var Hn=null,qn=0,Un=0,Wn=null;function Vn(){if(0===--qn&&null!==Hn){null!==Wn&&(Wn.status="fulfilled");var e=Hn;Hn=null,Un=0,Wn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gn=R.S;R.S=function(e,t){Dc=oe(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Hn){var a=Hn=[];qn=0,Un=qd(),Wn={status:"pending",value:void 0,then:function(e){a.push(e)}}}qn++,t.then(Vn,Vn)}(0,t),null!==Gn&&Gn(e,t)};var Kn=B(null);function Yn(){var e=Kn.current;return null!==e?e:pc.pooledCache}function Qn(e,t){H(Kn,null===t?Kn.current:t.pool)}function $n(){var e=Yn();return null===e?null:{parent:Fn._currentValue,pool:e}}var Jn=Error(l(460)),Xn=Error(l(474)),Zn=Error(l(542)),er={then:function(){}};function tr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ar(e,t,a){switch(void 0===(a=e[a])?e.push(t):a!==t&&(t.then(Mt,Mt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw lr(e=t.reason),e;default:if("string"===typeof t.status)t.then(Mt,Mt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var a=t;a.status="fulfilled",a.value=e}},function(e){if("pending"===t.status){var a=t;a.status="rejected",a.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw lr(e=t.reason),e}throw nr=t,Jn}}function sr(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw nr=t,Jn;throw t}}var nr=null;function rr(){if(null===nr)throw Error(l(459));var e=nr;return nr=null,e}function lr(e){if(e===Jn||e===Zn)throw Error(l(483))}var ir=null,or=0;function cr(e){var t=or;return or+=1,null===ir&&(ir=[]),ar(ir,e,t)}function dr(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ur(e,t){if(t.$$typeof===p)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mr(e){function t(t,a){if(e){var s=t.deletions;null===s?(t.deletions=[a],t.flags|=16):s.push(a)}}function a(a,s){if(!e)return null;for(;null!==s;)t(a,s),s=s.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(e,t){return(e=Bs(e,t)).index=0,e.sibling=null,e}function r(t,a,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<a?(t.flags|=67108866,a):s:(t.flags|=67108866,a):(t.flags|=1048576,a)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,a,s){return null===t||6!==t.tag?((t=Us(a,e.mode,s)).return=e,t):((t=n(t,a)).return=e,t)}function c(e,t,a,s){var r=a.type;return r===f?u(e,t,a.props.children,s,a.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===_&&sr(r)===t.type)?(dr(t=n(t,a.props),a),t.return=e,t):(dr(t=Hs(a.type,a.key,a.props,null,e.mode,s),a),t.return=e,t)}function d(e,t,a,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Vs(a,e.mode,s)).return=e,t):((t=n(t,a.children||[])).return=e,t)}function u(e,t,a,s,r){return null===t||7!==t.tag?((t=qs(a,e.mode,s,r)).return=e,t):((t=n(t,a)).return=e,t)}function m(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Us(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return dr(a=Hs(t.type,t.key,t.props,null,e.mode,a),t),a.return=e,a;case g:return(t=Vs(t,e.mode,a)).return=e,t;case _:return m(e,t=sr(t),a)}if(D(t)||A(t))return(t=qs(t,e.mode,a,null)).return=e,t;if("function"===typeof t.then)return m(e,cr(t),a);if(t.$$typeof===j)return m(e,Dn(e,t),a);ur(e,t)}return null}function h(e,t,a,s){var n=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return null!==n?null:o(e,t,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case x:return a.key===n?c(e,t,a,s):null;case g:return a.key===n?d(e,t,a,s):null;case _:return h(e,t,a=sr(a),s)}if(D(a)||A(a))return null!==n?null:u(e,t,a,s,null);if("function"===typeof a.then)return h(e,t,cr(a),s);if(a.$$typeof===j)return h(e,t,Dn(e,a),s);ur(e,a)}return null}function p(e,t,a,s,n){if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return o(t,e=e.get(a)||null,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case x:return c(t,e=e.get(null===s.key?a:s.key)||null,s,n);case g:return d(t,e=e.get(null===s.key?a:s.key)||null,s,n);case _:return p(e,t,a,s=sr(s),n)}if(D(s)||A(s))return u(t,e=e.get(a)||null,s,n,null);if("function"===typeof s.then)return p(e,t,a,cr(s),n);if(s.$$typeof===j)return p(e,t,a,Dn(t,s),n);ur(t,s)}return null}function v(o,c,d,u){if("object"===typeof d&&null!==d&&d.type===f&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case x:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===f){if(7===c.tag){a(o,c.sibling),(u=n(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&sr(b)===c.type){a(o,c.sibling),dr(u=n(c,d.props),d),u.return=o,o=u;break e}a(o,c);break}t(o,c),c=c.sibling}d.type===f?((u=qs(d.props.children,o.mode,u,d.key)).return=o,o=u):(dr(u=Hs(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return i(o);case g:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){a(o,c.sibling),(u=n(c,d.children||[])).return=o,o=u;break e}a(o,c);break}t(o,c),c=c.sibling}(u=Vs(d,o.mode,u)).return=o,o=u}return i(o);case _:return v(o,c,d=sr(d),u)}if(D(d))return function(n,l,i,o){for(var c=null,d=null,u=l,x=l=0,g=null;null!==u&&x<i.length;x++){u.index>x?(g=u,u=null):g=u.sibling;var f=h(n,u,i[x],o);if(null===f){null===u&&(u=g);break}e&&u&&null===f.alternate&&t(n,u),l=r(f,l,x),null===d?c=f:d.sibling=f,d=f,u=g}if(x===i.length)return a(n,u),un&&sn(n,x),c;if(null===u){for(;x<i.length;x++)null!==(u=m(n,i[x],o))&&(l=r(u,l,x),null===d?c=u:d.sibling=u,d=u);return un&&sn(n,x),c}for(u=s(u);x<i.length;x++)null!==(g=p(u,n,x,i[x],o))&&(e&&null!==g.alternate&&u.delete(null===g.key?x:g.key),l=r(g,l,x),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(n,e)}),un&&sn(n,x),c}(o,c,d,u);if(A(d)){if("function"!==typeof(b=A(d)))throw Error(l(150));return function(n,i,o,c){if(null==o)throw Error(l(151));for(var d=null,u=null,x=i,g=i=0,f=null,v=o.next();null!==x&&!v.done;g++,v=o.next()){x.index>g?(f=x,x=null):f=x.sibling;var b=h(n,x,v.value,c);if(null===b){null===x&&(x=f);break}e&&x&&null===b.alternate&&t(n,x),i=r(b,i,g),null===u?d=b:u.sibling=b,u=b,x=f}if(v.done)return a(n,x),un&&sn(n,g),d;if(null===x){for(;!v.done;g++,v=o.next())null!==(v=m(n,v.value,c))&&(i=r(v,i,g),null===u?d=v:u.sibling=v,u=v);return un&&sn(n,g),d}for(x=s(x);!v.done;g++,v=o.next())null!==(v=p(x,n,g,v.value,c))&&(e&&null!==v.alternate&&x.delete(null===v.key?g:v.key),i=r(v,i,g),null===u?d=v:u.sibling=v,u=v);return e&&x.forEach(function(e){return t(n,e)}),un&&sn(n,g),d}(o,c,d=b.call(d),u)}if("function"===typeof d.then)return v(o,c,cr(d),u);if(d.$$typeof===j)return v(o,c,Dn(o,d),u);ur(o,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(a(o,c.sibling),(u=n(c,d)).return=o,o=u):(a(o,c),(u=Us(d,o.mode,u)).return=o,o=u),i(o)):a(o,c)}return function(e,t,a,s){try{or=0;var n=v(e,t,a,s);return ir=null,n}catch(l){if(l===Jn||l===Zn)throw l;var r=Ls(29,l,null,e.mode);return r.lanes=s,r.return=e,r}}}var hr=mr(!0),pr=mr(!1),xr=!1;function gr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,t,a){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&hc)){var n=s.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Rs(e),Ds(e,null,a),t}return As(e,s,t,a),Rs(e)}function yr(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&a))){var s=t.lanes;a|=s&=e.pendingLanes,t.lanes=a,Re(e,a)}}function jr(e,t){var a=e.updateQueue,s=e.alternate;if(null!==s&&a===(s=s.updateQueue)){var n=null,r=null;if(null!==(a=a.firstBaseUpdate)){do{var l={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};null===r?n=r=l:r=r.next=l,a=a.next}while(null!==a);null===r?n=r=t:r=r.next=t}else n=r=t;return a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Nr=!1;function wr(){if(Nr){if(null!==Wn)throw Wn}}function kr(e,t,a,s){Nr=!1;var n=e.updateQueue;xr=!1;var r=n.firstBaseUpdate,l=n.lastBaseUpdate,i=n.shared.pending;if(null!==i){n.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?r=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==r){var u=n.baseState;for(l=0,d=c=o=null,i=r;;){var m=-536870913&i.lane,p=m!==i.lane;if(p?(gc&m)===m:(s&m)===m){0!==m&&m===Un&&(Nr=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var x=e,g=i;m=t;var f=a;switch(g.tag){case 1:if("function"===typeof(x=g.payload)){u=x.call(f,u,m);break e}u=x;break e;case 3:x.flags=-65537&x.flags|128;case 0:if(null===(m="function"===typeof(x=g.payload)?x.call(f,u,m):x)||void 0===m)break e;u=h({},u,m);break e;case 2:xr=!0}}null!==(m=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=n.callbacks)?n.callbacks=[m]:p.push(m))}else p={lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=m;if(null===(i=i.next)){if(null===(i=n.shared.pending))break;i=(p=i).next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}null===d&&(o=u),n.baseState=o,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null===r&&(n.shared.lanes=0),kc|=l,e.lanes=l,e.memoizedState=u}}function Sr(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function _r(e,t){var a=e.callbacks;if(null!==a)for(e.callbacks=null,e=0;e<a.length;e++)Sr(a[e],t)}var Cr=B(null),Er=B(0);function Pr(e,t){H(Er,e=Nc),H(Cr,t),Nc=e|t.baseLanes}function Ar(){H(Er,Nc),H(Cr,Cr.current)}function Tr(){Nc=Er.current,z(Cr),z(Er)}var Mr=B(null),Dr=null;function Rr(e){var t=e.alternate;H(Br,1&Br.current),H(Mr,e),null===Dr&&(null===t||null!==Cr.current||null!==t.memoizedState)&&(Dr=e)}function Ir(e){H(Br,Br.current),H(Mr,e),null===Dr&&(Dr=e)}function Or(e){22===e.tag?(H(Br,Br.current),H(Mr,e),null===Dr&&(Dr=e)):Lr()}function Lr(){H(Br,Br.current),H(Mr,Mr.current)}function Fr(e){z(Mr),Dr===e&&(Dr=null),z(Br)}var Br=B(0);function zr(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||Tu(a)||Mu(a)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hr=0,qr=null,Ur=null,Wr=null,Vr=!1,Gr=!1,Kr=!1,Yr=0,Qr=0,$r=null,Jr=0;function Xr(){throw Error(l(321))}function Zr(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ja(e[a],t[a]))return!1;return!0}function el(e,t,a,s,n,r){return Hr=r,qr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?xi:gi,Kr=!1,r=a(s,n),Kr=!1,Gr&&(r=al(t,a,s,n)),tl(e),r}function tl(e){R.H=pi;var t=null!==Ur&&null!==Ur.next;if(Hr=0,Wr=Ur=qr=null,Vr=!1,Qr=0,$r=null,t)throw Error(l(300));null===e||Mi||null!==(e=e.dependencies)&&An(e)&&(Mi=!0)}function al(e,t,a,s){qr=e;var n=0;do{if(Gr&&($r=null),Qr=0,Gr=!1,25<=n)throw Error(l(301));if(n+=1,Wr=Ur=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}R.H=fi,r=t(a,s)}while(Gr);return r}function sl(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?cl(t):t,e=e.useState()[0],(null!==Ur?Ur.memoizedState:null)!==e&&(qr.flags|=1024),t}function nl(){var e=0!==Yr;return Yr=0,e}function rl(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ll(e){if(Vr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vr=!1}Hr=0,Wr=Ur=qr=null,Gr=!1,Qr=Yr=0,$r=null}function il(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wr?qr.memoizedState=Wr=e:Wr=Wr.next=e,Wr}function ol(){if(null===Ur){var e=qr.alternate;e=null!==e?e.memoizedState:null}else e=Ur.next;var t=null===Wr?qr.memoizedState:Wr.next;if(null!==t)Wr=t,Ur=e;else{if(null===e){if(null===qr.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Ur=e).memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},null===Wr?qr.memoizedState=Wr=e:Wr=Wr.next=e}return Wr}function cl(e){var t=Qr;return Qr+=1,null===$r&&($r=[]),e=ar($r,e,t),t=qr,null===(null===Wr?t.memoizedState:Wr.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?xi:gi),e}function dl(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cl(e);if(e.$$typeof===j)return Mn(e)}throw Error(l(438,String(e)))}function ul(e){var t=null,a=qr.updateQueue;if(null!==a&&(t=a.memoCache),null==t){var s=qr.alternate;null!==s&&(null!==(s=s.updateQueue)&&(null!=(s=s.memoCache)&&(t={data:s.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===a&&(a={lastEffect:null,events:null,stores:null,memoCache:null},qr.updateQueue=a),a.memoCache=t,void 0===(a=t.data[t.index]))for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=E;return t.index++,a}function ml(e,t){return"function"===typeof t?t(e):t}function hl(e){return pl(ol(),Ur,e)}function pl(e,t,a){var s=e.queue;if(null===s)throw Error(l(311));s.lastRenderedReducer=a;var n=e.baseQueue,r=s.pending;if(null!==r){if(null!==n){var i=n.next;n.next=r.next,r.next=i}t.baseQueue=n=r,s.pending=null}if(r=e.baseState,null===n)e.memoizedState=r;else{var o=i=null,c=null,d=t=n.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(gc&m)===m:(Hr&m)===m){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Un&&(u=!0);else{if((Hr&h)===h){d=d.next,h===Un&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,i=r):c=c.next=m,qr.lanes|=h,kc|=h}m=d.action,Kr&&a(r,m),r=d.hasEagerState?d.eagerState:a(r,m)}else h={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=h,i=r):c=c.next=h,qr.lanes|=m,kc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?i=r:c.next=o,!Ja(r,e.memoizedState)&&(Mi=!0,u&&null!==(a=Wn)))throw a;e.memoizedState=r,e.baseState=i,e.baseQueue=c,s.lastRenderedState=r}return null===n&&(s.lanes=0),[e.memoizedState,s.dispatch]}function xl(e){var t=ol(),a=t.queue;if(null===a)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,r=t.memoizedState;if(null!==n){a.pending=null;var i=n=n.next;do{r=e(r,i.action),i=i.next}while(i!==n);Ja(r,t.memoizedState)||(Mi=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),a.lastRenderedState=r}return[r,s]}function gl(e,t,a){var s=qr,n=ol(),r=un;if(r){if(void 0===a)throw Error(l(407));a=a()}else a=t();var i=!Ja((Ur||n).memoizedState,a);if(i&&(n.memoizedState=a,Mi=!0),n=n.queue,Hl(bl.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||null!==Wr&&1&Wr.memoizedState.tag){if(s.flags|=2048,Ol(9,{destroy:void 0},vl.bind(null,s,n,a,t),null),null===pc)throw Error(l(349));r||0!==(127&Hr)||fl(s,t,a)}return a}function fl(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=qr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qr.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function vl(e,t,a,s){t.value=a,t.getSnapshot=s,yl(t)&&jl(e)}function bl(e,t,a){return a(function(){yl(t)&&jl(e)})}function yl(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ja(e,a)}catch(s){return!0}}function jl(e){var t=Ms(e,2);null!==t&&Yc(t,e,2)}function Nl(e){var t=il();if("function"===typeof e){var a=e;if(e=a(),Kr){be(!0);try{a()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t}function wl(e,t,a,s){return e.baseState=a,pl(e,Ur,"function"===typeof s?s:ml)}function kl(e,t,a,s,n){if(ui(e))throw Error(l(485));if(null!==(e=t.action)){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==R.T?a(!0):r.isTransition=!1,s(r),null===(a=t.pending)?(r.next=t.pending=r,Sl(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Sl(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var r=R.T,l={};R.T=l;try{var i=a(n,s),o=R.S;null!==o&&o(l,i),_l(e,t,i)}catch(c){El(e,t,c)}finally{null!==r&&null!==l.types&&(r.types=l.types),R.T=r}}else try{_l(e,t,r=a(n,s))}catch(d){El(e,t,d)}}function _l(e,t,a){null!==a&&"object"===typeof a&&"function"===typeof a.then?a.then(function(a){Cl(e,t,a)},function(a){return El(e,t,a)}):Cl(e,t,a)}function Cl(e,t,a){t.status="fulfilled",t.value=a,Pl(t),e.state=a,null!==(t=e.pending)&&((a=t.next)===t?e.pending=null:(a=a.next,t.next=a,Sl(e,a)))}function El(e,t,a){var s=e.pending;if(e.pending=null,null!==s){s=s.next;do{t.status="rejected",t.reason=a,Pl(t),t=t.next}while(t!==s)}e.action=null}function Pl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Al(e,t){return t}function Tl(e,t){if(un){var a=pc.formState;if(null!==a){e:{var s=qr;if(un){if(dn){t:{for(var n=dn,r=hn;8!==n.nodeType;){if(!r){n=null;break t}if(null===(n=Du(n.nextSibling))){n=null;break t}}n="F!"===(r=n.data)||"F"===r?n:null}if(n){dn=Du(n.nextSibling),s="F!"===n.data;break e}}xn(s)}s=!1}s&&(t=a[0])}}return(a=il()).memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:t},a.queue=s,a=oi.bind(null,qr,s),s.dispatch=a,s=Nl(!1),r=di.bind(null,qr,!1,s.queue),n={state:t,dispatch:null,action:e,pending:null},(s=il()).queue=n,a=kl.bind(null,qr,n,r,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function Ml(e){return Dl(ol(),Ur,e)}function Dl(e,t,a){if(t=pl(e,t,Al)[0],e=hl(ml)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var s=cl(t)}catch(l){if(l===Jn)throw Zn;throw l}else s=t;var n=(t=ol()).queue,r=n.dispatch;return a!==t.memoizedState&&(qr.flags|=2048,Ol(9,{destroy:void 0},Rl.bind(null,n,a),null)),[s,r,e]}function Rl(e,t){e.action=t}function Il(e){var t=ol(),a=Ur;if(null!==a)return Dl(t,a,e);ol(),t=t.memoizedState;var s=(a=ol()).queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Ol(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},null===(t=qr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qr.updateQueue=t),null===(a=t.lastEffect)?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Ll(){return ol().memoizedState}function Fl(e,t,a,s){var n=il();qr.flags|=e,n.memoizedState=Ol(1|t,{destroy:void 0},a,void 0===s?null:s)}function Bl(e,t,a,s){var n=ol();s=void 0===s?null:s;var r=n.memoizedState.inst;null!==Ur&&null!==s&&Zr(s,Ur.memoizedState.deps)?n.memoizedState=Ol(t,r,a,s):(qr.flags|=e,n.memoizedState=Ol(1|t,r,a,s))}function zl(e,t){Fl(8390656,8,e,t)}function Hl(e,t){Bl(2048,8,e,t)}function ql(e){var t=ol().memoizedState;return function(e){qr.flags|=4;var t=qr.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qr.updateQueue=t,t.events=[e];else{var a=t.events;null===a?t.events=[e]:a.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hc))throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Ul(e,t){return Bl(4,2,e,t)}function Wl(e,t){return Bl(4,4,e,t)}function Vl(e,t){if("function"===typeof t){e=e();var a=t(e);return function(){"function"===typeof a?a():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gl(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,Bl(4,4,Vl.bind(null,t,e),a)}function Kl(){}function Yl(e,t){var a=ol();t=void 0===t?null:t;var s=a.memoizedState;return null!==t&&Zr(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Ql(e,t){var a=ol();t=void 0===t?null:t;var s=a.memoizedState;if(null!==t&&Zr(t,s[1]))return s[0];if(s=e(),Kr){be(!0);try{e()}finally{be(!1)}}return a.memoizedState=[s,t],s}function $l(e,t,a){return void 0===a||0!==(1073741824&Hr)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=a,e=Kc(),qr.lanes|=e,kc|=e,a)}function Jl(e,t,a,s){return Ja(a,t)?a:null!==Cr.current?(e=$l(e,a,s),Ja(e,t)||(Mi=!0),e):0===(42&Hr)||0!==(1073741824&Hr)&&0===(261930&gc)?(Mi=!0,e.memoizedState=a):(e=Kc(),qr.lanes|=e,kc|=e,t)}function Xl(e,t,a,s,n){var r=I.p;I.p=0!==r&&8>r?r:8;var l=R.T,i={};R.T=i,di(e,!1,t,a);try{var o=n(),c=R.S;if(null!==c&&c(i,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)ci(e,t,function(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(e){a.push(e)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var e=0;e<a.length;e++)(0,a[e])(t)},function(e){for(s.status="rejected",s.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),s}(o,s),Gc());else ci(e,t,s,Gc())}catch(d){ci(e,t,{then:function(){},status:"rejected",reason:d},Gc())}finally{I.p=r,null!==l&&null!==i.types&&(l.types=i.types),R.T=l}}function Zl(){}function ei(e,t,a,s){if(5!==e.tag)throw Error(l(476));var n=ti(e).queue;Xl(e,n,t,O,null===a?Zl:function(){return ai(e),a(s)})}function ti(e){var t=e.memoizedState;if(null!==t)return t;var a={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:O},next:null}).next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:a},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ai(e){var t=ti(e);null===t.next&&(t=e.alternate.memoizedState),ci(e,t.next.queue,{},Gc())}function si(){return Mn(dm)}function ni(){return ol().memoizedState}function ri(){return ol().memoizedState}function li(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var a=Gc(),s=br(t,e=vr(a),a);return null!==s&&(Yc(s,t,a),yr(s,t,a)),t={cache:Bn()},void(e.payload=t)}t=t.return}}function ii(e,t,a){var s=Gc();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ui(e)?mi(t,a):null!==(a=Ts(e,t,a,s))&&(Yc(a,e,s),hi(a,t,s))}function oi(e,t,a){ci(e,t,a,Gc())}function ci(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ui(e))mi(t,n);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=r(l,a);if(n.hasEagerState=!0,n.eagerState=i,Ja(i,l))return As(e,t,n,0),null===pc&&Ps(),!1}catch(o){}if(null!==(a=Ts(e,t,n,s)))return Yc(a,e,s),hi(a,t,s),!0}return!1}function di(e,t,a,s){if(s={lane:2,revertLane:qd(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ui(e)){if(t)throw Error(l(479))}else null!==(t=Ts(e,a,s,2))&&Yc(t,e,2)}function ui(e){var t=e.alternate;return e===qr||null!==t&&t===qr}function mi(e,t){Gr=Vr=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function hi(e,t,a){if(0!==(4194048&a)){var s=t.lanes;a|=s&=e.pendingLanes,t.lanes=a,Re(e,a)}}var pi={readContext:Mn,use:dl,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useLayoutEffect:Xr,useInsertionEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useSyncExternalStore:Xr,useId:Xr,useHostTransitionStatus:Xr,useFormState:Xr,useActionState:Xr,useOptimistic:Xr,useMemoCache:Xr,useCacheRefresh:Xr};pi.useEffectEvent=Xr;var xi={readContext:Mn,use:dl,useCallback:function(e,t){return il().memoizedState=[e,void 0===t?null:t],e},useContext:Mn,useEffect:zl,useImperativeHandle:function(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,Fl(4194308,4,Vl.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){Fl(4,2,e,t)},useMemo:function(e,t){var a=il();t=void 0===t?null:t;var s=e();if(Kr){be(!0);try{e()}finally{be(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=il();if(void 0!==a){var n=a(t);if(Kr){be(!0);try{a(t)}finally{be(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=ii.bind(null,qr,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},il().memoizedState=e},useState:function(e){var t=(e=Nl(e)).queue,a=oi.bind(null,qr,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Kl,useDeferredValue:function(e,t){return $l(il(),e,t)},useTransition:function(){var e=Nl(!1);return e=Xl.bind(null,qr,e.queue,!0,!1),il().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=qr,n=il();if(un){if(void 0===a)throw Error(l(407));a=a()}else{if(a=t(),null===pc)throw Error(l(349));0!==(127&gc)||fl(s,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,zl(bl.bind(null,s,r,e),[e]),s.flags|=2048,Ol(9,{destroy:void 0},vl.bind(null,s,r,a,t),null),a},useId:function(){var e=il(),t=pc.identifierPrefix;if(un){var a=an;t="_"+t+"R_"+(a=(tn&~(1<<32-ye(tn)-1)).toString(32)+a),0<(a=Yr++)&&(t+="H"+a.toString(32)),t+="_"}else t="_"+t+"r_"+(a=Jr++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:si,useFormState:Tl,useActionState:Tl,useOptimistic:function(e){var t=il();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=di.bind(null,qr,!0,a),a.dispatch=t,[e,t]},useMemoCache:ul,useCacheRefresh:function(){return il().memoizedState=li.bind(null,qr)},useEffectEvent:function(e){var t=il(),a={impl:e};return t.memoizedState=a,function(){if(0!==(2&hc))throw Error(l(440));return a.impl.apply(void 0,arguments)}}},gi={readContext:Mn,use:dl,useCallback:Yl,useContext:Mn,useEffect:Hl,useImperativeHandle:Gl,useInsertionEffect:Ul,useLayoutEffect:Wl,useMemo:Ql,useReducer:hl,useRef:Ll,useState:function(){return hl(ml)},useDebugValue:Kl,useDeferredValue:function(e,t){return Jl(ol(),Ur.memoizedState,e,t)},useTransition:function(){var e=hl(ml)[0],t=ol().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:gl,useId:ni,useHostTransitionStatus:si,useFormState:Ml,useActionState:Ml,useOptimistic:function(e,t){return wl(ol(),0,e,t)},useMemoCache:ul,useCacheRefresh:ri};gi.useEffectEvent=ql;var fi={readContext:Mn,use:dl,useCallback:Yl,useContext:Mn,useEffect:Hl,useImperativeHandle:Gl,useInsertionEffect:Ul,useLayoutEffect:Wl,useMemo:Ql,useReducer:xl,useRef:Ll,useState:function(){return xl(ml)},useDebugValue:Kl,useDeferredValue:function(e,t){var a=ol();return null===Ur?$l(a,e,t):Jl(a,Ur.memoizedState,e,t)},useTransition:function(){var e=xl(ml)[0],t=ol().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:gl,useId:ni,useHostTransitionStatus:si,useFormState:Il,useActionState:Il,useOptimistic:function(e,t){var a=ol();return null!==Ur?wl(a,0,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ul,useCacheRefresh:ri};function vi(e,t,a,s){a=null===(a=a(s,t=e.memoizedState))||void 0===a?t:h({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}fi.useEffectEvent=ql;var bi={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Gc(),n=vr(s);n.payload=t,void 0!==a&&null!==a&&(n.callback=a),null!==(t=br(e,n,s))&&(Yc(t,e,s),yr(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Gc(),n=vr(s);n.tag=1,n.payload=t,void 0!==a&&null!==a&&(n.callback=a),null!==(t=br(e,n,s))&&(Yc(t,e,s),yr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Gc(),s=vr(a);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=br(e,s,a))&&(Yc(t,e,a),yr(t,e,a))}};function yi(e,t,a,s,n,r,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,r,l):!t.prototype||!t.prototype.isPureReactComponent||(!Xa(a,s)||!Xa(n,r))}function ji(e,t,a,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&bi.enqueueReplaceState(t,t.state,null)}function Ni(e,t){var a=t;if("ref"in t)for(var s in a={},t)"ref"!==s&&(a[s]=t[s]);if(e=e.defaultProps)for(var n in a===t&&(a=h({},a)),e)void 0===a[n]&&(a[n]=e[n]);return a}function wi(e){Ss(e)}function ki(e){console.error(e)}function Si(e){Ss(e)}function _i(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Ci(e,t,a){try{(0,e.onCaughtError)(a.value,{componentStack:a.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Ei(e,t,a){return(a=vr(a)).tag=3,a.payload={element:null},a.callback=function(){_i(e,t)},a}function Pi(e){return(e=vr(e)).tag=3,e}function Ai(e,t,a,s){var n=a.type.getDerivedStateFromError;if("function"===typeof n){var r=s.value;e.payload=function(){return n(r)},e.callback=function(){Ci(t,a,s)}}var l=a.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){Ci(t,a,s),"function"!==typeof n&&(null===Oc?Oc=new Set([this]):Oc.add(this));var e=s.stack;this.componentDidCatch(s.value,{componentStack:null!==e?e:""})})}var Ti=Error(l(461)),Mi=!1;function Di(e,t,a,s){t.child=null===e?pr(t,null,a,s):hr(t,e.child,a,s)}function Ri(e,t,a,s,n){a=a.render;var r=t.ref;if("ref"in s){var l={};for(var i in s)"ref"!==i&&(l[i]=s[i])}else l=s;return Tn(t),s=el(e,t,a,l,r,n),i=nl(),null===e||Mi?(un&&i&&rn(t),t.flags|=1,Di(e,t,s,n),t.child):(rl(e,t,n),so(e,t,n))}function Ii(e,t,a,s,n){if(null===e){var r=a.type;return"function"!==typeof r||Fs(r)||void 0!==r.defaultProps||null!==a.compare?((e=Hs(a.type,null,s,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Oi(e,t,r,s,n))}if(r=e.child,!no(e,n)){var l=r.memoizedProps;if((a=null!==(a=a.compare)?a:Xa)(l,s)&&e.ref===t.ref)return so(e,t,n)}return t.flags|=1,(e=Bs(r,s)).ref=t.ref,e.return=t,t.child=e}function Oi(e,t,a,s,n){if(null!==e){var r=e.memoizedProps;if(Xa(r,s)&&e.ref===t.ref){if(Mi=!1,t.pendingProps=s=r,!no(e,n))return t.lanes=e.lanes,so(e,t,n);0!==(131072&e.flags)&&(Mi=!0)}}return Ui(e,t,a,s,n)}function Li(e,t,a,s){var n=s.children,r=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===s.mode){if(0!==(128&t.flags)){if(r=null!==r?r.baseLanes|a:a,null!==e){for(s=t.child=e.child,n=0;null!==s;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~r}else s=0,t.child=null;return Bi(e,t,r,a,s)}if(0===(536870912&a))return s=t.lanes=536870912,Bi(e,t,null!==r?r.baseLanes|a:a,a,s);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qn(0,null!==r?r.cachePool:null),null!==r?Pr(t,r):Ar(),Or(t)}else null!==r?(Qn(0,r.cachePool),Pr(t,r),Lr(),t.memoizedState=null):(null!==e&&Qn(0,null),Ar(),Lr());return Di(e,t,n,a),t.child}function Fi(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bi(e,t,a,s,n){var r=Yn();return r=null===r?null:{parent:Fn._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},null!==e&&Qn(0,null),Ar(),Or(t),null!==e&&Pn(e,t,s,!0),t.childLanes=n,null}function zi(e,t){return(t=Xi({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Hi(e,t,a){return hr(t,e.child,null,a),(e=zi(t,t.pendingProps)).flags|=2,Fr(t),t.memoizedState=null,e}function qi(e,t){var a=t.ref;if(null===a)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof a&&"object"!==typeof a)throw Error(l(284));null!==e&&e.ref===a||(t.flags|=4194816)}}function Ui(e,t,a,s,n){return Tn(t),a=el(e,t,a,s,void 0,n),s=nl(),null===e||Mi?(un&&s&&rn(t),t.flags|=1,Di(e,t,a,n),t.child):(rl(e,t,n),so(e,t,n))}function Wi(e,t,a,s,n,r){return Tn(t),t.updateQueue=null,a=al(t,s,a,n),tl(e),s=nl(),null===e||Mi?(un&&s&&rn(t),t.flags|=1,Di(e,t,a,r),t.child):(rl(e,t,r),so(e,t,r))}function Vi(e,t,a,s,n){if(Tn(t),null===t.stateNode){var r=Is,l=a.contextType;"object"===typeof l&&null!==l&&(r=Mn(l)),r=new a(s,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=bi,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=s,r.state=t.memoizedState,r.refs={},gr(t),l=a.contextType,r.context="object"===typeof l&&null!==l?Mn(l):Is,r.state=t.memoizedState,"function"===typeof(l=a.getDerivedStateFromProps)&&(vi(t,a,l,s),r.state=t.memoizedState),"function"===typeof a.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(l=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),l!==r.state&&bi.enqueueReplaceState(r,r.state,null),kr(t,s,r,n),wr(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),s=!0}else if(null===e){r=t.stateNode;var i=t.memoizedProps,o=Ni(a,i);r.props=o;var c=r.context,d=a.contextType;l=Is,"object"===typeof d&&null!==d&&(l=Mn(d));var u=a.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i||c!==l)&&ji(t,r,s,l),xr=!1;var m=t.memoizedState;r.state=m,kr(t,s,r,n),wr(),c=t.memoizedState,i||m!==c||xr?("function"===typeof u&&(vi(t,a,u,s),c=t.memoizedState),(o=xr||yi(t,a,o,s,m,c,l))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),r.props=s,r.state=c,r.context=l,s=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,fr(e,t),d=Ni(a,l=t.memoizedProps),r.props=d,u=t.pendingProps,m=r.context,c=a.contextType,o=Is,"object"===typeof c&&null!==c&&(o=Mn(c)),(c="function"===typeof(i=a.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(l!==u||m!==o)&&ji(t,r,s,o),xr=!1,m=t.memoizedState,r.state=m,kr(t,s,r,n),wr();var h=t.memoizedState;l!==u||m!==h||xr||null!==e&&null!==e.dependencies&&An(e.dependencies)?("function"===typeof i&&(vi(t,a,i,s),h=t.memoizedState),(d=xr||yi(t,a,d,s,m,h,o)||null!==e&&null!==e.dependencies&&An(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(s,h,o),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(s,h,o)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=h),r.props=s,r.state=h,r.context=o,s=d):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,qi(e,t),s=0!==(128&t.flags),r||s?(r=t.stateNode,a=s&&"function"!==typeof a.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&s?(t.child=hr(t,e.child,null,n),t.child=hr(t,null,a,n)):Di(e,t,a,n),t.memoizedState=r.state,e=t.child):e=so(e,t,n),e}function Gi(e,t,a,s){return bn(),t.flags|=256,Di(e,t,a,s),t.child}var Ki={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yi(e){return{baseLanes:e,cachePool:$n()}}function Qi(e,t,a){return e=null!==e?e.childLanes&~a:0,t&&(e|=Cc),e}function $i(e,t,a){var s,n=t.pendingProps,r=!1,i=0!==(128&t.flags);if((s=i)||(s=(null===e||null!==e.memoizedState)&&0!==(2&Br.current)),s&&(r=!0,t.flags&=-129),s=0!==(32&t.flags),t.flags&=-33,null===e){if(un){if(r?Rr(t):Lr(),(e=dn)?null!==(e=null!==(e=Au(e,hn))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==en?{id:tn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},(a=Ws(e)).return=t,t.child=a,cn=t,dn=null):e=null,null===e)throw xn(t);return Mu(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,r?(Lr(),o=Xi({mode:"hidden",children:o},r=t.mode),n=qs(n,r,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,(n=t.child).memoizedState=Yi(a),n.childLanes=Qi(e,s,a),t.memoizedState=Ki,Fi(null,n)):(Rr(t),Ji(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(i)256&t.flags?(Rr(t),t.flags&=-257,t=Zi(e,t,a)):null!==t.memoizedState?(Lr(),t.child=e.child,t.flags|=128,t=null):(Lr(),o=n.fallback,r=t.mode,n=Xi({mode:"visible",children:n.children},r),(o=qs(o,r,a,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,hr(t,e.child,null,a),(n=t.child).memoizedState=Yi(a),n.childLanes=Qi(e,s,a),t.memoizedState=Ki,t=Fi(null,n));else if(Rr(t),Mu(o)){if(s=o.nextSibling&&o.nextSibling.dataset)var d=s.dgst;s=d,(n=Error(l(419))).stack="",n.digest=s,jn({value:n,source:null,stack:null}),t=Zi(e,t,a)}else if(Mi||Pn(e,t,a,!1),s=0!==(a&e.childLanes),Mi||s){if(null!==(s=pc)&&(0!==(n=Ie(s,a))&&n!==c.retryLane))throw c.retryLane=n,Ms(e,n),Yc(s,e,n),Ti;Tu(o)||ld(),t=Zi(e,t,a)}else Tu(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,dn=Du(o.nextSibling),cn=t,un=!0,mn=null,hn=!1,null!==e&&on(t,e),(t=Ji(t,n.children)).flags|=4096);return t}return r?(Lr(),o=n.fallback,r=t.mode,d=(c=e.child).sibling,(n=Bs(c,{mode:"hidden",children:n.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?o=Bs(d,o):(o=qs(o,r,a,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,Fi(null,n),n=t.child,null===(o=e.child.memoizedState)?o=Yi(a):(null!==(r=o.cachePool)?(c=Fn._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=$n(),o={baseLanes:o.baseLanes|a,cachePool:r}),n.memoizedState=o,n.childLanes=Qi(e,s,a),t.memoizedState=Ki,Fi(e.child,n)):(Rr(t),e=(a=e.child).sibling,(a=Bs(a,{mode:"visible",children:n.children})).return=t,a.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a)}function Ji(e,t){return(t=Xi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Xi(e,t){return(e=Ls(22,e,null,t)).lanes=0,e}function Zi(e,t,a){return hr(t,e.child,null,a),(e=Ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,a){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),Cn(e.return,t,a)}function to(e,t,a,s,n,r){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=a,l.tailMode=n,l.treeForkCount=r)}function ao(e,t,a){var s=t.pendingProps,n=s.revealOrder,r=s.tail;s=s.children;var l=Br.current,i=0!==(2&l);if(i?(l=1&l|2,t.flags|=128):l&=1,H(Br,l),Di(e,t,s,a),s=un?Js:0,!i&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,a,t);else if(19===e.tag)eo(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;null!==a;)null!==(e=a.alternate)&&null===zr(e)&&(n=a),a=a.sibling;null===(a=n)?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),to(t,!1,n,a,r,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===zr(e)){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}to(t,!0,a,null,r,s);break;case"together":to(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function so(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(a&t.childLanes)){if(null===e)return null;if(Pn(e,t,a,!1),0===(a&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(a=Bs(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Bs(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function no(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!An(e))}function ro(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps)Mi=!0;else{if(!no(e,a)&&0===(128&t.flags))return Mi=!1,function(e,t,a){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Sn(0,Fn,e.memoizedState.cache),bn();break;case 27:case 5:$(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Sn(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ir(t),null;break;case 13:var s=t.memoizedState;if(null!==s)return null!==s.dehydrated?(Rr(t),t.flags|=128,null):0!==(a&t.child.childLanes)?$i(e,t,a):(Rr(t),null!==(e=so(e,t,a))?e.sibling:null);Rr(t);break;case 19:var n=0!==(128&e.flags);if((s=0!==(a&t.childLanes))||(Pn(e,t,a,!1),s=0!==(a&t.childLanes)),n){if(s)return ao(e,t,a);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),H(Br,Br.current),s)break;return null;case 22:return t.lanes=0,Li(e,t,a,t.pendingProps);case 24:Sn(0,Fn,e.memoizedState.cache)}return so(e,t,a)}(e,t,a);Mi=0!==(131072&e.flags)}else Mi=!1,un&&0!==(1048576&t.flags)&&nn(t,Js,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=sr(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var n=e.$$typeof;if(n===N){t.tag=11,t=Ri(null,t,e,s,a);break e}if(n===S){t.tag=14,t=Ii(null,t,e,s,a);break e}}throw t=M(e)||e,Error(l(306,t,""))}Fs(e)?(s=Ni(e,s),t.tag=1,t=Vi(null,t,e,s,a)):(t.tag=0,t=Ui(null,t,e,s,a))}return t;case 0:return Ui(e,t,t.type,t.pendingProps,a);case 1:return Vi(e,t,s=t.type,n=Ni(s,t.pendingProps),a);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(l(387));s=t.pendingProps;var r=t.memoizedState;n=r.element,fr(e,t),kr(t,s,null,a);var i=t.memoizedState;if(s=i.cache,Sn(0,Fn,s),s!==r.cache&&En(t,[Fn],a,!0),wr(),s=i.element,r.isDehydrated){if(r={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Gi(e,t,s,a);break e}if(s!==n){jn(n=Ks(Error(l(424)),t)),t=Gi(e,t,s,a);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(dn=Du(e.firstChild),cn=t,un=!0,mn=null,hn=!0,a=pr(t,null,s,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(bn(),s===n){t=so(e,t,a);break e}Di(e,t,s,a)}t=t.child}return t;case 26:return qi(e,t),null===e?(a=Vu(t.type,null,t.pendingProps,null))?t.memoizedState=a:un||(a=t.type,e=t.pendingProps,(s=gu(G.current).createElement(a))[He]=t,s[qe]=e,mu(s,a,e),et(s),t.stateNode=s):t.memoizedState=Vu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&un&&(s=t.stateNode=Lu(t.type,t.pendingProps,G.current),cn=t,hn=!0,n=dn,_u(t.type)?(Ru=n,dn=Du(s.firstChild)):dn=n),Di(e,t,t.pendingProps.children,a),qi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&un&&((n=s=dn)&&(null!==(s=function(e,t,a,s){for(;1===e.nodeType;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(s){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===r)return e}if(null===(e=Du(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,hn))?(t.stateNode=s,cn=t,dn=Du(s.firstChild),hn=!1,n=!0):n=!1),n||xn(t)),$(t),n=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,s=r.children,bu(n,r)?s=null:null!==i&&bu(n,i)&&(t.flags|=32),null!==t.memoizedState&&(n=el(e,t,sl,null,null,a),dm._currentValue=n),qi(e,t),Di(e,t,s,a),t.child;case 6:return null===e&&un&&((e=a=dn)&&(null!==(a=function(e,t,a){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!a)return null;if(null===(e=Du(e.nextSibling)))return null}return e}(a,t.pendingProps,hn))?(t.stateNode=a,cn=t,dn=null,e=!0):e=!1),e||xn(t)),null;case 13:return $i(e,t,a);case 4:return Y(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=hr(t,null,s,a):Di(e,t,s,a),t.child;case 11:return Ri(e,t,t.type,t.pendingProps,a);case 7:return Di(e,t,t.pendingProps,a),t.child;case 8:case 12:return Di(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Sn(0,t.type,s.value),Di(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Tn(t),s=s(n=Mn(n)),t.flags|=1,Di(e,t,s,a),t.child;case 14:return Ii(e,t,t.type,t.pendingProps,a);case 15:return Oi(e,t,t.type,t.pendingProps,a);case 19:return ao(e,t,a);case 31:return function(e,t,a){var s=t.pendingProps,n=0!==(128&t.flags);if(t.flags&=-129,null===e){if(un){if("hidden"===s.mode)return e=zi(t,s),t.lanes=536870912,Fi(null,e);if(Ir(t),(e=dn)?null!==(e=null!==(e=Au(e,hn))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==en?{id:tn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},(a=Ws(e)).return=t,t.child=a,cn=t,dn=null):e=null,null===e)throw xn(t);return t.lanes=536870912,null}return zi(t,s)}var r=e.memoizedState;if(null!==r){var i=r.dehydrated;if(Ir(t),n)if(256&t.flags)t.flags&=-257,t=Hi(e,t,a);else{if(null===t.memoizedState)throw Error(l(558));t.child=e.child,t.flags|=128,t=null}else if(Mi||Pn(e,t,a,!1),n=0!==(a&e.childLanes),Mi||n){if(null!==(s=pc)&&0!==(i=Ie(s,a))&&i!==r.retryLane)throw r.retryLane=i,Ms(e,i),Yc(s,e,i),Ti;ld(),t=Hi(e,t,a)}else e=r.treeContext,dn=Du(i.nextSibling),cn=t,un=!0,mn=null,hn=!1,null!==e&&on(t,e),(t=zi(t,s)).flags|=4096;return t}return(e=Bs(e.child,{mode:s.mode,children:s.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,a);case 22:return Li(e,t,a,t.pendingProps);case 24:return Tn(t),s=Mn(Fn),null===e?(null===(n=Yn())&&(n=pc,r=Bn(),n.pooledCache=r,r.refCount++,null!==r&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:s,cache:n},gr(t),Sn(0,Fn,n)):(0!==(e.lanes&a)&&(fr(e,t),kr(t,null,null,a),wr()),n=e.memoizedState,r=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=n),Sn(0,Fn,s)):(s=r.cache,Sn(0,Fn,s),s!==n.cache&&En(t,[Fn],a,!0))),Di(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function lo(e){e.flags|=4}function io(e,t,a,s,n){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&n)===n)if(e.stateNode.complete)e.flags|=8192;else{if(!sd())throw nr=er,Xn;e.flags|=8192}}else e.flags&=-16777217}function oo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!nm(t)){if(!sd())throw nr=er,Xn;e.flags|=8192}}function co(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Ec|=t)}function uo(e,t){if(!un)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;null!==a;)null!==a.alternate&&(s=a),a=a.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function mo(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;null!==n;)a|=n.lanes|n.childLanes,s|=65011712&n.subtreeFlags,s|=65011712&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function ho(e,t,a){var s=t.pendingProps;switch(ln(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return mo(t),null;case 3:return a=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),_n(Fn),Q(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(vn(t)?lo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,yn())),mo(t),null;case 26:var n=t.type,r=t.memoizedState;return null===e?(lo(t),null!==r?(mo(t),oo(t,r)):(mo(t),io(t,n,0,0,a))):r?r!==e.memoizedState?(lo(t),mo(t),oo(t,r)):(mo(t),t.flags&=-16777217):((e=e.memoizedProps)!==s&&lo(t),mo(t),io(t,n,0,0,a)),null;case 27:if(J(t),a=G.current,n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&lo(t);else{if(!s){if(null===t.stateNode)throw Error(l(166));return mo(t),null}e=W.current,vn(t)?gn(t):(e=Lu(n,s,a),t.stateNode=e,lo(t))}return mo(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&lo(t);else{if(!s){if(null===t.stateNode)throw Error(l(166));return mo(t),null}if(r=W.current,vn(t))gn(t);else{var i=gu(G.current);switch(r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(r=i.createElement("div")).innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r="string"===typeof s.is?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r="string"===typeof s.is?i.createElement(n,{is:s.is}):i.createElement(n)}}r[He]=t,r[qe]=s;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)r.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=r;e:switch(mu(r,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&lo(t)}}return mo(t),io(t,t.type,null===e||e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&lo(t);else{if("string"!==typeof s&&null===t.stateNode)throw Error(l(166));if(e=G.current,vn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,null!==(n=cn))switch(n.tag){case 27:case 5:s=n.memoizedProps}e[He]=t,(e=!!(e.nodeValue===a||null!==s&&!0===s.suppressHydrationWarning||cu(e.nodeValue,a)))||xn(t,!0)}else(e=gu(e).createTextNode(s))[He]=t,t.stateNode=e}return mo(t),null;case 31:if(a=t.memoizedState,null===e||null!==e.memoizedState){if(s=vn(t),null!==a){if(null===e){if(!s)throw Error(l(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(557));e[He]=t}else bn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),e=!1}else a=yn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return 256&t.flags?(Fr(t),t):(Fr(t),null);if(0!==(128&t.flags))throw Error(l(558))}return mo(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(n=vn(t),null!==s&&null!==s.dehydrated){if(null===e){if(!n)throw Error(l(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(l(317));n[He]=t}else bn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mo(t),n=!1}else n=yn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return 256&t.flags?(Fr(t),t):(Fr(t),null)}return Fr(t),0!==(128&t.flags)?(t.lanes=a,t):(a=null!==s,e=null!==e&&null!==e.memoizedState,a&&(n=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(n=s.alternate.memoizedState.cachePool.pool),r=null,null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(r=s.memoizedState.cachePool.pool),r!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),co(t,t.updateQueue),mo(t),null);case 4:return Q(),null===e&&Zd(t.stateNode.containerInfo),mo(t),null;case 10:return _n(t.type),mo(t),null;case 19:if(z(Br),null===(s=t.memoizedState))return mo(t),null;if(n=0!==(128&t.flags),null===(r=s.rendering))if(n)uo(s,!1);else{if(0!==wc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=zr(e))){for(t.flags|=128,uo(s,!1),e=r.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=a,a=t.child;null!==a;)zs(a,e),a=a.sibling;return H(Br,1&Br.current|2),un&&sn(t,s.treeForkCount),t.child}e=e.sibling}null!==s.tail&&oe()>Rc&&(t.flags|=128,n=!0,uo(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=zr(r))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),uo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!r.alternate&&!un)return mo(t),null}else 2*oe()-s.renderingStartTime>Rc&&536870912!==a&&(t.flags|=128,n=!0,uo(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=s.last)?e.sibling=r:t.child=r,s.last=r)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=oe(),e.sibling=null,a=Br.current,H(Br,n?1&a|2:1&a),un&&sn(t,s.treeForkCount),e):(mo(t),null);case 22:case 23:return Fr(t),Tr(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?0!==(536870912&a)&&0===(128&t.flags)&&(mo(t),6&t.subtreeFlags&&(t.flags|=8192)):mo(t),null!==(a=t.updateQueue)&&co(t,a.retryQueue),a=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),null!==e&&z(Kn),null;case 24:return a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_n(Fn),mo(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function po(e,t){switch(ln(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _n(Fn),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(Fr(t),null===t.alternate)throw Error(l(340));bn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fr(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));bn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(Br),null;case 4:return Q(),null;case 10:return _n(t.type),null;case 22:case 23:return Fr(t),Tr(),null!==e&&z(Kn),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _n(Fn),null;default:return null}}function xo(e,t){switch(ln(t),t.tag){case 3:_n(Fn),Q();break;case 26:case 27:case 5:J(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&Fr(t);break;case 13:Fr(t);break;case 19:z(Br);break;case 10:_n(t.type);break;case 22:case 23:Fr(t),Tr(),null!==e&&z(Kn);break;case 24:_n(Fn)}}function go(e,t){try{var a=t.updateQueue,s=null!==a?a.lastEffect:null;if(null!==s){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var r=a.create,l=a.inst;s=r(),l.destroy=s}a=a.next}while(a!==n)}}catch(i){wd(t,t.return,i)}}function fo(e,t,a){try{var s=t.updateQueue,n=null!==s?s.lastEffect:null;if(null!==n){var r=n.next;s=r;do{if((s.tag&e)===e){var l=s.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,n=t;var o=a,c=i;try{c()}catch(d){wd(n,o,d)}}}s=s.next}while(s!==r)}}catch(d){wd(t,t.return,d)}}function vo(e){var t=e.updateQueue;if(null!==t){var a=e.stateNode;try{_r(t,a)}catch(s){wd(e,e.return,s)}}}function bo(e,t,a){a.props=Ni(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){wd(e,t,s)}}function yo(e,t){try{var a=e.ref;if(null!==a){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;default:s=e.stateNode}"function"===typeof a?e.refCleanup=a(s):a.current=s}}catch(n){wd(e,t,n)}}function jo(e,t){var a=e.ref,s=e.refCleanup;if(null!==a)if("function"===typeof s)try{s()}catch(n){wd(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof a)try{a(null)}catch(r){wd(e,t,r)}else a.current=null}function No(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){wd(e,e.return,n)}}function wo(e,t,a){try{var s=e.stateNode;!function(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,i=null,o=null,c=null,d=null,u=null;for(p in a){var m=a[p];if(a.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:s.hasOwnProperty(p)||du(e,t,p,null,s,m)}}for(var h in s){var p=s[h];if(m=a[h],s.hasOwnProperty(h)&&(null!=p||null!=m))switch(h){case"type":r=p;break;case"name":n=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":i=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:p!==m&&du(e,t,h,p,s,m)}}return void vt(e,i,o,c,d,u,r,n);case"select":for(r in p=i=o=h=null,a)if(c=a[r],a.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":p=c;default:s.hasOwnProperty(r)||du(e,t,r,null,s,c)}for(n in s)if(r=s[n],c=a[n],s.hasOwnProperty(n)&&(null!=r||null!=c))switch(n){case"value":h=r;break;case"defaultValue":o=r;break;case"multiple":i=r;default:r!==c&&du(e,t,n,r,s,c)}return t=o,a=i,s=p,void(null!=h?jt(e,!!a,h,!1):!!s!==!!a&&(null!=t?jt(e,!!a,t,!0):jt(e,!!a,a?[]:"",!1)));case"textarea":for(o in p=h=null,a)if(n=a[o],a.hasOwnProperty(o)&&null!=n&&!s.hasOwnProperty(o))switch(o){case"value":case"children":break;default:du(e,t,o,null,s,n)}for(i in s)if(n=s[i],r=a[i],s.hasOwnProperty(i)&&(null!=n||null!=r))switch(i){case"value":h=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=n)throw Error(l(91));break;default:n!==r&&du(e,t,i,n,s,r)}return void Nt(e,h,p);case"option":for(var x in a)if(h=a[x],a.hasOwnProperty(x)&&null!=h&&!s.hasOwnProperty(x))if("selected"===x)e.selected=!1;else du(e,t,x,null,s,h);for(c in s)if(h=s[c],p=a[c],s.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else du(e,t,c,h,s,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in a)h=a[g],a.hasOwnProperty(g)&&null!=h&&!s.hasOwnProperty(g)&&du(e,t,g,null,s,h);for(d in s)if(h=s[d],p=a[d],s.hasOwnProperty(d)&&h!==p&&(null!=h||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(l(137,t));break;default:du(e,t,d,h,s,p)}return;default:if(Et(t)){for(var f in a)h=a[f],a.hasOwnProperty(f)&&void 0!==h&&!s.hasOwnProperty(f)&&uu(e,t,f,void 0,s,h);for(u in s)h=s[u],p=a[u],!s.hasOwnProperty(u)||h===p||void 0===h&&void 0===p||uu(e,t,u,h,s,p);return}}for(var v in a)h=a[v],a.hasOwnProperty(v)&&null!=h&&!s.hasOwnProperty(v)&&du(e,t,v,null,s,h);for(m in s)h=s[m],p=a[m],!s.hasOwnProperty(m)||h===p||null==h&&null==p||du(e,t,m,h,s,p)}(s,e.type,a,t),s[qe]=t}catch(n){wd(e,e.return,n)}}function ko(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&_u(e.type)||4===e.tag}function So(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ko(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&_u(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _o(e,t,a){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?(9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).insertBefore(e,t):((t=9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=Mt));else if(4!==s&&(27===s&&_u(e.type)&&(a=e.stateNode,t=null),null!==(e=e.child)))for(_o(e,t,a),e=e.sibling;null!==e;)_o(e,t,a),e=e.sibling}function Co(e,t,a){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==s&&(27===s&&_u(e.type)&&(a=e.stateNode),null!==(e=e.child)))for(Co(e,t,a),e=e.sibling;null!==e;)Co(e,t,a),e=e.sibling}function Eo(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);mu(t,s,a),t[He]=e,t[qe]=a}catch(r){wd(e,e.return,r)}}var Po=!1,Ao=!1,To=!1,Mo="function"===typeof WeakSet?WeakSet:Set,Do=null;function Ro(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Yo(e,a),4&s&&go(5,a);break;case 1:if(Yo(e,a),4&s)if(e=a.stateNode,null===t)try{e.componentDidMount()}catch(l){wd(a,a.return,l)}else{var n=Ni(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){wd(a,a.return,i)}}64&s&&vo(a),512&s&&yo(a,a.return);break;case 3:if(Yo(e,a),64&s&&null!==(e=a.updateQueue)){if(t=null,null!==a.child)switch(a.child.tag){case 27:case 5:case 1:t=a.child.stateNode}try{_r(e,t)}catch(l){wd(a,a.return,l)}}break;case 27:null===t&&4&s&&Eo(a);case 26:case 5:Yo(e,a),null===t&&4&s&&No(a),512&s&&yo(a,a.return);break;case 12:Yo(e,a);break;case 31:Yo(e,a),4&s&&zo(e,a);break;case 13:Yo(e,a),4&s&&Ho(e,a),64&s&&(null!==(e=a.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var a=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==a.readyState)t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}(e,a=Cd.bind(null,a))));break;case 22:if(!(s=null!==a.memoizedState||Po)){t=null!==t&&null!==t.memoizedState||Ao,n=Po;var r=Ao;Po=s,(Ao=t)&&!r?$o(e,a,0!==(8772&a.subtreeFlags)):Yo(e,a),Po=n,Ao=r}break;case 30:break;default:Yo(e,a)}}function Io(e){var t=e.alternate;null!==t&&(e.alternate=null,Io(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oo=null,Lo=!1;function Fo(e,t,a){for(a=a.child;null!==a;)Bo(e,t,a),a=a.sibling}function Bo(e,t,a){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(fe,a)}catch(r){}switch(a.tag){case 26:Ao||jo(a,t),Fo(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode).parentNode.removeChild(a);break;case 27:Ao||jo(a,t);var s=Oo,n=Lo;_u(a.type)&&(Oo=a.stateNode,Lo=!1),Fo(e,t,a),Fu(a.stateNode),Oo=s,Lo=n;break;case 5:Ao||jo(a,t);case 6:if(s=Oo,n=Lo,Oo=null,Fo(e,t,a),Lo=n,null!==(Oo=s))if(Lo)try{(9===Oo.nodeType?Oo.body:"HTML"===Oo.nodeName?Oo.ownerDocument.body:Oo).removeChild(a.stateNode)}catch(l){wd(a,t,l)}else try{Oo.removeChild(a.stateNode)}catch(l){wd(a,t,l)}break;case 18:null!==Oo&&(Lo?(Cu(9===(e=Oo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,a.stateNode),Wm(e)):Cu(Oo,a.stateNode));break;case 4:s=Oo,n=Lo,Oo=a.stateNode.containerInfo,Lo=!0,Fo(e,t,a),Oo=s,Lo=n;break;case 0:case 11:case 14:case 15:fo(2,a,t),Ao||fo(4,a,t),Fo(e,t,a);break;case 1:Ao||(jo(a,t),"function"===typeof(s=a.stateNode).componentWillUnmount&&bo(a,t,s)),Fo(e,t,a);break;case 21:Fo(e,t,a);break;case 22:Ao=(s=Ao)||null!==a.memoizedState,Fo(e,t,a),Ao=s;break;default:Fo(e,t,a)}}function zo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wm(e)}catch(a){wd(t,t.return,a)}}}function Ho(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wm(e)}catch(a){wd(t,t.return,a)}}function qo(e,t){var a=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Mo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Mo),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){if(!a.has(t)){a.add(t);var s=Ed.bind(null,e,t);t.then(s,s)}})}function Uo(e,t){var a=t.deletions;if(null!==a)for(var s=0;s<a.length;s++){var n=a[s],r=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(_u(o.type)){Oo=o.stateNode,Lo=!1;break e}break;case 5:Oo=o.stateNode,Lo=!1;break e;case 3:case 4:Oo=o.stateNode.containerInfo,Lo=!0;break e}o=o.return}if(null===Oo)throw Error(l(160));Bo(r,i,n),Oo=null,Lo=!1,null!==(r=n.alternate)&&(r.return=null),n.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vo(t,e),t=t.sibling}var Wo=null;function Vo(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Uo(t,e),Go(e),4&s&&(fo(3,e,e.return),go(3,e),fo(5,e,e.return));break;case 1:Uo(t,e),Go(e),512&s&&(Ao||null===a||jo(a,a.return)),64&s&&Po&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===a?s:a.concat(s))));break;case 26:var n=Wo;if(Uo(t,e),Go(e),512&s&&(Ao||null===a||jo(a,a.return)),4&s){var r=null!==a?a.memoizedState:null;if(s=e.memoizedState,null===a)if(null===s)if(null===e.stateNode){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":(!(r=n.getElementsByTagName("title")[0])||r[Ye]||r[He]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=n.createElement(s),n.head.insertBefore(r,n.querySelector("head > title"))),mu(r,s,a),r[He]=e,et(r),s=r;break e;case"link":var i=am("link","href",n).get(s+(a.href||""));if(i)for(var o=0;o<i.length;o++)if((r=i[o]).getAttribute("href")===(null==a.href||""===a.href?null:a.href)&&r.getAttribute("rel")===(null==a.rel?null:a.rel)&&r.getAttribute("title")===(null==a.title?null:a.title)&&r.getAttribute("crossorigin")===(null==a.crossOrigin?null:a.crossOrigin)){i.splice(o,1);break t}mu(r=n.createElement(s),s,a),n.head.appendChild(r);break;case"meta":if(i=am("meta","content",n).get(s+(a.content||"")))for(o=0;o<i.length;o++)if((r=i[o]).getAttribute("content")===(null==a.content?null:""+a.content)&&r.getAttribute("name")===(null==a.name?null:a.name)&&r.getAttribute("property")===(null==a.property?null:a.property)&&r.getAttribute("http-equiv")===(null==a.httpEquiv?null:a.httpEquiv)&&r.getAttribute("charset")===(null==a.charSet?null:a.charSet)){i.splice(o,1);break t}mu(r=n.createElement(s),s,a),n.head.appendChild(r);break;default:throw Error(l(468,s))}r[He]=e,et(r),s=r}e.stateNode=s}else sm(n,e.type,e.stateNode);else e.stateNode=Ju(n,s,e.memoizedProps);else r!==s?(null===r?null!==a.stateNode&&(a=a.stateNode).parentNode.removeChild(a):r.count--,null===s?sm(n,e.type,e.stateNode):Ju(n,s,e.memoizedProps)):null===s&&null!==e.stateNode&&wo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Uo(t,e),Go(e),512&s&&(Ao||null===a||jo(a,a.return)),null!==a&&4&s&&wo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Uo(t,e),Go(e),512&s&&(Ao||null===a||jo(a,a.return)),32&e.flags){n=e.stateNode;try{kt(n,"")}catch(x){wd(e,e.return,x)}}4&s&&null!=e.stateNode&&wo(e,n=e.memoizedProps,null!==a?a.memoizedProps:n),1024&s&&(To=!0);break;case 6:if(Uo(t,e),Go(e),4&s){if(null===e.stateNode)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(x){wd(e,e.return,x)}}break;case 3:if(tm=null,n=Wo,Wo=Hu(t.containerInfo),Uo(t,e),Wo=n,Go(e),4&s&&null!==a&&a.memoizedState.isDehydrated)try{Wm(t.containerInfo)}catch(x){wd(e,e.return,x)}To&&(To=!1,Ko(e));break;case 4:s=Wo,Wo=Hu(e.stateNode.containerInfo),Uo(t,e),Go(e),Wo=s;break;case 12:default:Uo(t,e),Go(e);break;case 31:case 19:Uo(t,e),Go(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,qo(e,s)));break;case 13:Uo(t,e),Go(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==a&&null!==a.memoizedState)&&(Mc=oe()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,qo(e,s)));break;case 22:n=null!==e.memoizedState;var c=null!==a&&null!==a.memoizedState,d=Po,u=Ao;if(Po=d||n,Ao=u||c,Uo(t,e),Ao=u,Po=d,Go(e),8192&s)e:for(t=e.stateNode,t._visibility=n?-2&t._visibility:1|t._visibility,n&&(null===a||c||Po||Ao||Qo(e)),a=null,t=e;;){if(5===t.tag||26===t.tag){if(null===a){c=a=t;try{if(r=c.stateNode,n)"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,h=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(x){wd(c,c.return,x)}}}else if(6===t.tag){if(null===a){c=t;try{c.stateNode.nodeValue=n?"":c.memoizedProps}catch(x){wd(c,c.return,x)}}}else if(18===t.tag){if(null===a){c=t;try{var p=c.stateNode;n?Eu(p,!0):Eu(c.stateNode,!1)}catch(x){wd(c,c.return,x)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(a=s.retryQueue)&&(s.retryQueue=null,qo(e,a))));case 30:case 21:}}function Go(e){var t=e.flags;if(2&t){try{for(var a,s=e.return;null!==s;){if(ko(s)){a=s;break}s=s.return}if(null==a)throw Error(l(160));switch(a.tag){case 27:var n=a.stateNode;Co(e,So(e),n);break;case 5:var r=a.stateNode;32&a.flags&&(kt(r,""),a.flags&=-33),Co(e,So(e),r);break;case 3:case 4:var i=a.stateNode.containerInfo;_o(e,So(e),i);break;default:throw Error(l(161))}}catch(o){wd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ko(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ko(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ro(e,t.alternate,t),t=t.sibling}function Qo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fo(4,t,t.return),Qo(t);break;case 1:jo(t,t.return);var a=t.stateNode;"function"===typeof a.componentWillUnmount&&bo(t,t.return,a),Qo(t);break;case 27:Fu(t.stateNode);case 26:case 5:jo(t,t.return),Qo(t);break;case 22:null===t.memoizedState&&Qo(t);break;default:Qo(t)}e=e.sibling}}function $o(e,t,a){for(a=a&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var s=t.alternate,n=e,r=t,l=r.flags;switch(r.tag){case 0:case 11:case 15:$o(n,r,a),go(4,r);break;case 1:if($o(n,r,a),"function"===typeof(n=(s=r).stateNode).componentDidMount)try{n.componentDidMount()}catch(c){wd(s,s.return,c)}if(null!==(n=(s=r).updateQueue)){var i=s.stateNode;try{var o=n.shared.hiddenCallbacks;if(null!==o)for(n.shared.hiddenCallbacks=null,n=0;n<o.length;n++)Sr(o[n],i)}catch(c){wd(s,s.return,c)}}a&&64&l&&vo(r),yo(r,r.return);break;case 27:Eo(r);case 26:case 5:$o(n,r,a),a&&null===s&&4&l&&No(r),yo(r,r.return);break;case 12:$o(n,r,a);break;case 31:$o(n,r,a),a&&4&l&&zo(n,r);break;case 13:$o(n,r,a),a&&4&l&&Ho(n,r);break;case 22:null===r.memoizedState&&$o(n,r,a),yo(r,r.return);break;case 30:break;default:$o(n,r,a)}t=t.sibling}}function Jo(e,t){var a=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==a&&(null!=e&&e.refCount++,null!=a&&zn(a))}function Xo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zn(e))}function Zo(e,t,a,s){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,a,s),t=t.sibling}function ec(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Zo(e,t,a,s),2048&n&&go(9,t);break;case 1:case 31:case 13:default:Zo(e,t,a,s);break;case 3:Zo(e,t,a,s),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zn(e)));break;case 12:if(2048&n){Zo(e,t,a,s),e=t.stateNode;try{var r=t.memoizedProps,l=r.id,i=r.onPostCommit;"function"===typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){wd(t,t.return,o)}}else Zo(e,t,a,s);break;case 23:break;case 22:r=t.stateNode,l=t.alternate,null!==t.memoizedState?2&r._visibility?Zo(e,t,a,s):ac(e,t):2&r._visibility?Zo(e,t,a,s):(r._visibility|=2,tc(e,t,a,s,0!==(10256&t.subtreeFlags)||!1)),2048&n&&Jo(l,t);break;case 24:Zo(e,t,a,s),2048&n&&Xo(t.alternate,t)}}function tc(e,t,a,s,n){for(n=n&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var r=e,l=t,i=a,o=s,c=l.flags;switch(l.tag){case 0:case 11:case 15:tc(r,l,i,o,n),go(8,l);break;case 23:break;case 22:var d=l.stateNode;null!==l.memoizedState?2&d._visibility?tc(r,l,i,o,n):ac(r,l):(d._visibility|=2,tc(r,l,i,o,n)),n&&2048&c&&Jo(l.alternate,l);break;case 24:tc(r,l,i,o,n),n&&2048&c&&Xo(l.alternate,l);break;default:tc(r,l,i,o,n)}t=t.sibling}}function ac(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:ac(a,s),2048&n&&Jo(s.alternate,s);break;case 24:ac(a,s),2048&n&&Xo(s.alternate,s);break;default:ac(a,s)}t=t.sibling}}var sc=8192;function nc(e,t,a){if(e.subtreeFlags&sc)for(e=e.child;null!==e;)rc(e,t,a),e=e.sibling}function rc(e,t,a){switch(e.tag){case 26:nc(e,t,a),e.flags&sc&&null!==e.memoizedState&&function(e,t,a,s){if("stylesheet"===a.type&&("string"!==typeof s.media||!1!==matchMedia(s.media).matches)&&0===(4&a.state.loading)){if(null===a.instance){var n=Gu(s.href),r=t.querySelector(Ku(n));if(r)return null!==(t=r._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=lm.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,void et(r);r=t.ownerDocument||t,s=Yu(s),(n=Bu.get(n))&&Zu(s,n),et(r=r.createElement("link"));var l=r;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),mu(r,"link",s),a.instance=r}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&0===(3&a.state.loading)&&(e.count++,a=lm.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}(a,Wo,e.memoizedState,e.memoizedProps);break;case 5:default:nc(e,t,a);break;case 3:case 4:var s=Wo;Wo=Hu(e.stateNode.containerInfo),nc(e,t,a),Wo=s;break;case 22:null===e.memoizedState&&(null!==(s=e.alternate)&&null!==s.memoizedState?(s=sc,sc=16777216,nc(e,t,a),sc=s):nc(e,t,a))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ic(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];Do=s,dc(s,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:ic(e),2048&e.flags&&fo(9,e,e.return);break;case 3:case 12:default:ic(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ic(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];Do=s,dc(s,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:fo(8,t,t.return),cc(t);break;case 22:2&(a=t.stateNode)._visibility&&(a._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Do;){var a=Do;switch(a.tag){case 0:case 11:case 15:fo(8,a,t);break;case 23:case 22:if(null!==a.memoizedState&&null!==a.memoizedState.cachePool){var s=a.memoizedState.cachePool.pool;null!=s&&s.refCount++}break;case 24:zn(a.memoizedState.cache)}if(null!==(s=a.child))s.return=a,Do=s;else e:for(a=e;null!==Do;){var n=(s=Do).sibling,r=s.return;if(Io(s),s===a){Do=null;break e}if(null!==n){n.return=r,Do=n;break e}Do=r}}}var uc={getCacheForType:function(e){var t=Mn(Fn),a=t.data.get(e);return void 0===a&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Mn(Fn).controller.signal}},mc="function"===typeof WeakMap?WeakMap:Map,hc=0,pc=null,xc=null,gc=0,fc=0,vc=null,bc=!1,yc=!1,jc=!1,Nc=0,wc=0,kc=0,Sc=0,_c=0,Cc=0,Ec=0,Pc=null,Ac=null,Tc=!1,Mc=0,Dc=0,Rc=1/0,Ic=null,Oc=null,Lc=0,Fc=null,Bc=null,zc=0,Hc=0,qc=null,Uc=null,Wc=0,Vc=null;function Gc(){return 0!==(2&hc)&&0!==gc?gc&-gc:null!==R.T?qd():Fe()}function Kc(){if(0===Cc)if(0===(536870912&gc)||un){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Cc=e}else Cc=536870912;return null!==(e=Mr.current)&&(e.flags|=32),Cc}function Yc(e,t,a){(e!==pc||2!==fc&&9!==fc)&&null===e.cancelPendingCommit||(td(e,0),Xc(e,gc,Cc,!1)),Me(e,a),0!==(2&hc)&&e===pc||(e===pc&&(0===(2&hc)&&(Sc|=a),4===wc&&Xc(e,gc,Cc,!1)),Id(e))}function Qc(e,t,a){if(0!==(6&hc))throw Error(l(327));for(var s=!a&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),n=s?function(e,t){var a=hc;hc|=2;var s=nd(),n=rd();pc!==e||gc!==t?(Ic=null,Rc=oe()+500,td(e,t)):yc=Ee(e,t);e:for(;;)try{if(0!==fc&&null!==xc){t=xc;var r=vc;t:switch(fc){case 1:fc=0,vc=null,md(e,t,r,1);break;case 2:case 9:if(tr(r)){fc=0,vc=null,ud(t);break}t=function(){2!==fc&&9!==fc||pc!==e||(fc=7),Id(e)},r.then(t,t);break e;case 3:fc=7;break e;case 4:fc=5;break e;case 7:tr(r)?(fc=0,vc=null,ud(t)):(fc=0,vc=null,md(e,t,r,7));break;case 5:var i=null;switch(xc.tag){case 26:i=xc.memoizedState;case 5:case 27:var o=xc;if(i?nm(i):o.stateNode.complete){fc=0,vc=null;var c=o.sibling;if(null!==c)xc=c;else{var d=o.return;null!==d?(xc=d,hd(d)):xc=null}break t}}fc=0,vc=null,md(e,t,r,5);break;case 6:fc=0,vc=null,md(e,t,r,6);break;case 8:ed(),wc=6;break e;default:throw Error(l(462))}}cd();break}catch(u){ad(e,u)}return kn=wn=null,R.H=s,R.A=n,hc=a,null!==xc?0:(pc=null,gc=0,Ps(),wc)}(e,t):id(e,t,!0),r=s;;){if(0===n){yc&&!s&&Xc(e,t,0,!1);break}if(a=e.current.alternate,!r||Jc(a)){if(2===n){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;n=Pc;var c=o.current.memoizedState.isDehydrated;if(c&&(td(o,i).flags|=256),2!==(i=id(o,i,!1))){if(jc&&!c){o.errorRecoveryDisabledLanes|=r,Sc|=r,n=4;break e}r=Ac,Ac=n,null!==r&&(null===Ac?Ac=r:Ac.push.apply(Ac,r))}n=i}if(r=!1,2!==n)continue}}if(1===n){td(e,0),Xc(e,t,0,!0);break}e:{switch(s=e,r=n){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Xc(s,t,Cc,!bc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(n=Mc+300-oe())){if(Xc(s,t,Cc,!bc),0!==Ce(s,0,!0))break e;zc=t,s.timeoutHandle=ju($c.bind(null,s,a,Ac,Ic,Tc,t,Cc,Sc,Ec,bc,r,"Throttled",-0,0),n)}else $c(s,a,Ac,Ic,Tc,t,Cc,Sc,Ec,bc,r,null,-0,0)}break}n=id(e,t,!1),r=!1}Id(e)}function $c(e,t,a,s,n,r,l,i,o,c,d,u,m,h){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){rc(t,r,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mt});var p=(62914560&r)===r?Mc-oe():(4194048&r)===r?Dc-oe():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&om(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&om(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===rm&&(rm=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],r=n.transferSize,l=n.initiatorType,i=n.duration;if(r&&i&&hu(l)){for(l=0,i=n.responseEnd,s+=1;s<a.length;s++){var o=a[s],c=o.startTime;if(c>i)break;var d=o.transferSize,u=o.initiatorType;d&&hu(u)&&(l+=d*((o=o.responseEnd)<i?1:(i-c)/(o-c)))}if(--s,t+=8*(r+l)/(n.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var n=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&om(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>rm?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}(u,p)))return zc=r,e.cancelPendingCommit=p(xd.bind(null,e,t,r,a,s,n,l,i,o,d,u,null,m,h)),void Xc(e,r,l,!c)}xd(e,t,r,a,s,n,l,i,o)}function Jc(e){for(var t=e;;){var a=t.tag;if((0===a||11===a||15===a)&&16384&t.flags&&(null!==(a=t.updateQueue)&&null!==(a=a.stores)))for(var s=0;s<a.length;s++){var n=a[s],r=n.getSnapshot;n=n.value;try{if(!Ja(r(),n))return!1}catch(l){return!1}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,a,s){t&=~_c,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var r=31-ye(n),l=1<<r;s[r]=-1,n&=~l}0!==a&&De(e,a,t)}function Zc(){return 0!==(6&hc)||(Od(0,!1),!1)}function ed(){if(null!==xc){if(0===fc)var e=xc.return;else kn=wn=null,ll(e=xc),ir=null,or=0,e=xc;for(;null!==e;)xo(e.alternate,e),e=e.return;xc=null}}function td(e,t){var a=e.timeoutHandle;-1!==a&&(e.timeoutHandle=-1,Nu(a)),null!==(a=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,a()),zc=0,ed(),pc=e,xc=a=Bs(e.current,null),gc=t,fc=0,vc=null,bc=!1,yc=Ee(e,t),jc=!1,Ec=Cc=_c=Sc=kc=wc=0,Ac=Pc=null,Tc=!1,0!==(8&t)&&(t|=32&t);var s=e.entangledLanes;if(0!==s)for(e=e.entanglements,s&=t;0<s;){var n=31-ye(s),r=1<<n;t|=e[n],s&=~r}return Nc=t,Ps(),a}function ad(e,t){qr=null,R.H=pi,t===Jn||t===Zn?(t=rr(),fc=3):t===Xn?(t=rr(),fc=4):fc=t===Ti?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===xc&&(wc=1,_i(e,Ks(t,e.current)))}function sd(){var e=Mr.current;return null===e||((4194048&gc)===gc?null===Dr:((62914560&gc)===gc||0!==(536870912&gc))&&e===Dr)}function nd(){var e=R.H;return R.H=pi,null===e?pi:e}function rd(){var e=R.A;return R.A=uc,e}function ld(){wc=4,bc||(4194048&gc)!==gc&&null!==Mr.current||(yc=!0),0===(134217727&kc)&&0===(134217727&Sc)||null===pc||Xc(pc,gc,Cc,!1)}function id(e,t,a){var s=hc;hc|=2;var n=nd(),r=rd();pc===e&&gc===t||(Ic=null,td(e,t)),t=!1;var l=wc;e:for(;;)try{if(0!==fc&&null!==xc){var i=xc,o=vc;switch(fc){case 8:ed(),l=6;break e;case 3:case 2:case 9:case 6:null===Mr.current&&(t=!0);var c=fc;if(fc=0,vc=null,md(e,i,o,c),a&&yc){l=0;break e}break;default:c=fc,fc=0,vc=null,md(e,i,o,c)}}od(),l=wc;break}catch(d){ad(e,d)}return t&&e.shellSuspendCounter++,kn=wn=null,hc=s,R.H=n,R.A=r,null===xc&&(pc=null,gc=0,Ps()),l}function od(){for(;null!==xc;)dd(xc)}function cd(){for(;null!==xc&&!le();)dd(xc)}function dd(e){var t=ro(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?hd(e):xc=t}function ud(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wi(a,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Wi(a,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:ll(t);default:xo(a,t),t=ro(a,t=xc=zs(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?hd(e):xc=t}function md(e,t,a,s){kn=wn=null,ll(t),ir=null,or=0;var n=t.return;try{if(function(e,t,a,s,n){if(a.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){if(null!==(t=a.alternate)&&Pn(t,a,n,!0),null!==(a=Mr.current)){switch(a.tag){case 31:case 13:return null===Dr?ld():null===a.alternate&&0===wc&&(wc=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===er?a.flags|=16384:(null===(t=a.updateQueue)?a.updateQueue=new Set([s]):t.add(s),kd(e,s,n)),!1;case 22:return a.flags|=65536,s===er?a.flags|=16384:(null===(t=a.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):null===(a=t.retryQueue)?t.retryQueue=new Set([s]):a.add(s),kd(e,s,n)),!1}throw Error(l(435,a.tag))}return kd(e,s,n),ld(),!1}if(un)return null!==(t=Mr.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==pn&&jn(Ks(e=Error(l(422),{cause:s}),a))):(s!==pn&&jn(Ks(t=Error(l(423),{cause:s}),a)),(e=e.current.alternate).flags|=65536,n&=-n,e.lanes|=n,s=Ks(s,a),jr(e,n=Ei(e.stateNode,s,n)),4!==wc&&(wc=2)),!1;var r=Error(l(520),{cause:s});if(r=Ks(r,a),null===Pc?Pc=[r]:Pc.push(r),4!==wc&&(wc=2),null===t)return!0;s=Ks(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,jr(a,e=Ei(a.stateNode,s,e)),!1;case 1:if(t=a.type,r=a.stateNode,0===(128&a.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Oc||!Oc.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,Ai(n=Pi(n),e,a,s),jr(a,n),!1}a=a.return}while(null!==a);return!1}(e,n,t,a,gc))return wc=1,_i(e,Ks(a,e.current)),void(xc=null)}catch(r){if(null!==n)throw xc=n,r;return wc=1,_i(e,Ks(a,e.current)),void(xc=null)}32768&t.flags?(un||1===s?e=!0:yc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=Mr.current)&&13===s.tag&&(s.flags|=16384))),pd(t,e)):hd(t)}function hd(e){var t=e;do{if(0!==(32768&t.flags))return void pd(t,bc);e=t.return;var a=ho(t.alternate,t,Nc);if(null!==a)return void(xc=a);if(null!==(t=t.sibling))return void(xc=t);xc=t=e}while(null!==t);0===wc&&(wc=5)}function pd(e,t){do{var a=po(e.alternate,e);if(null!==a)return a.flags&=32767,void(xc=a);if(null!==(a=e.return)&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&null!==(e=e.sibling))return void(xc=e);xc=e=a}while(null!==e);wc=6,xc=null}function xd(e,t,a,s,n,r,i,o,c){e.cancelPendingCommit=null;do{yd()}while(0!==Lc);if(0!==(6&hc))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(r=t.lanes|t.childLanes,function(e,t,a,s,n,r){var l=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(a=l&~a;0<a;){var d=31-ye(a),u=1<<d;i[d]=0,o[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var h=m[d];null!==h&&(h.lane&=-536870913)}a&=~u}0!==s&&De(e,s,0),0!==r&&0===n&&0!==e.tag&&(e.suspendedLanes|=r&~(l&~t))}(e,a,r|=Es,i,o,c),e===pc&&(xc=pc=null,gc=0),Bc=t,Fc=e,zc=a,Hc=r,qc=n,Uc=s,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ne(me,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||s){s=R.T,R.T=null,n=I.p,I.p=2,i=hc,hc|=4;try{!function(e,t){if(e=e.containerInfo,pu=bm,ss(e=as(e))){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var n=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{a.nodeType,r.nodeType}catch(g){a=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==a||0!==n&&3!==m.nodeType||(o=i+n),m!==r||0!==s&&3!==m.nodeType||(c=i+s),3===m.nodeType&&(i+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===a&&++d===n&&(o=i),h===r&&++u===s&&(c=i),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}a=-1===o||-1===c?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(xu={focusedElem:e,selectionRange:a},bm=!1,Do=t;null!==Do;)if(e=(t=Do).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Do=e;else for(;null!==Do;){switch(r=(t=Do).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(a=0;a<e.length;a++)(n=e[a]).ref.impl=n.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,s=a.stateNode;try{var x=Ni(a.type,n);e=s.getSnapshotBeforeUpdate(x,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(f){wd(a,a.return,f)}}break;case 3:if(0!==(1024&e))if(9===(a=(e=t.stateNode.containerInfo).nodeType))Pu(e);else if(1===a)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Do=e;break}Do=t.return}}(e,t)}finally{hc=i,I.p=n,R.T=s}}Lc=1,gd(),fd(),vd()}}function gd(){if(1===Lc){Lc=0;var e=Fc,t=Bc,a=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||a){a=R.T,R.T=null;var s=I.p;I.p=2;var n=hc;hc|=4;try{Vo(t,e);var r=xu,l=as(e.containerInfo),i=r.focusedElem,o=r.selectionRange;if(l!==i&&i&&i.ownerDocument&&ts(i.ownerDocument.documentElement,i)){if(null!==o&&ss(i)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(d,i.value.length);else{var u=i.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=i.textContent.length,x=Math.min(o.start,p),g=void 0===o.end?x:Math.min(o.end,p);!h.extend&&x>g&&(l=g,g=x,x=l);var f=es(i,x),v=es(i,g);if(f&&v&&(1!==h.rangeCount||h.anchorNode!==f.node||h.anchorOffset!==f.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var b=u.createRange();b.setStart(f.node,f.offset),h.removeAllRanges(),x>g?(h.addRange(b),h.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),h.addRange(b))}}}}for(u=[],h=i;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<u.length;i++){var y=u[i];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}bm=!!pu,xu=pu=null}finally{hc=n,I.p=s,R.T=a}}e.current=t,Lc=2}}function fd(){if(2===Lc){Lc=0;var e=Fc,t=Bc,a=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||a){a=R.T,R.T=null;var s=I.p;I.p=2;var n=hc;hc|=4;try{Ro(e,t.alternate,t)}finally{hc=n,I.p=s,R.T=a}}Lc=3}}function vd(){if(4===Lc||3===Lc){Lc=0,ie();var e=Fc,t=Bc,a=zc,s=Uc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Lc=5:(Lc=0,Bc=Fc=null,bd(e,e.pendingLanes));var n=e.pendingLanes;if(0===n&&(Oc=null),Le(a),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(fe,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==s){t=R.T,n=I.p,I.p=2,R.T=null;try{for(var r=e.onRecoverableError,l=0;l<s.length;l++){var i=s[l];r(i.value,{componentStack:i.stack})}}finally{R.T=t,I.p=n}}0!==(3&zc)&&yd(),Id(e),n=e.pendingLanes,0!==(261930&a)&&0!==(42&n)?e===Vc?Wc++:(Wc=0,Vc=e):Wc=0,Od(0,!1)}}function bd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zn(t)))}function yd(){return gd(),fd(),vd(),jd()}function jd(){if(5!==Lc)return!1;var e=Fc,t=Hc;Hc=0;var a=Le(zc),s=R.T,n=I.p;try{I.p=32>a?32:a,R.T=null,a=qc,qc=null;var r=Fc,i=zc;if(Lc=0,Bc=Fc=null,zc=0,0!==(6&hc))throw Error(l(331));var o=hc;if(hc|=4,oc(r.current),ec(r,r.current,i,a),hc=o,Od(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(fe,r)}catch(c){}return!0}finally{I.p=n,R.T=s,bd(e,t)}}function Nd(e,t,a){t=Ks(a,t),null!==(e=br(e,t=Ei(e.stateNode,t,2),2))&&(Me(e,2),Id(e))}function wd(e,t,a){if(3===e.tag)Nd(e,e,a);else for(;null!==t;){if(3===t.tag){Nd(t,e,a);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Oc||!Oc.has(s))){e=Ks(a,e),null!==(s=br(t,a=Pi(2),2))&&(Ai(a,s,t,e),Me(s,2),Id(s));break}}t=t.return}}function kd(e,t,a){var s=e.pingCache;if(null===s){s=e.pingCache=new mc;var n=new Set;s.set(t,n)}else void 0===(n=s.get(t))&&(n=new Set,s.set(t,n));n.has(a)||(jc=!0,n.add(a),e=Sd.bind(null,e,t,a),t.then(e,e))}function Sd(e,t,a){var s=e.pingCache;null!==s&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,pc===e&&(gc&a)===a&&(4===wc||3===wc&&(62914560&gc)===gc&&300>oe()-Mc?0===(2&hc)&&td(e,0):_c|=a,Ec===gc&&(Ec=0)),Id(e)}function _d(e,t){0===t&&(t=Ae()),null!==(e=Ms(e,t))&&(Me(e,t),Id(e))}function Cd(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),_d(e,a)}function Ed(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;null!==n&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==s&&s.delete(t),_d(e,a)}var Pd=null,Ad=null,Td=!1,Md=!1,Dd=!1,Rd=0;function Id(e){e!==Ad&&null===e.next&&(null===Ad?Pd=Ad=e:Ad=Ad.next=e),Md=!0,Td||(Td=!0,ku(function(){0!==(6&hc)?ne(de,Ld):Fd()}))}function Od(e,t){if(!Dd&&Md){Dd=!0;do{for(var a=!1,s=Pd;null!==s;){if(!t)if(0!==e){var n=s.pendingLanes;if(0===n)var r=0;else{var l=s.suspendedLanes,i=s.pingedLanes;r=(1<<31-ye(42|e)+1)-1,r=201326741&(r&=n&~(l&~i))?201326741&r|1:r?2|r:0}0!==r&&(a=!0,Hd(s,r))}else r=gc,0===(3&(r=Ce(s,s===pc?r:0,null!==s.cancelPendingCommit||-1!==s.timeoutHandle)))||Ee(s,r)||(a=!0,Hd(s,r));s=s.next}}while(a);Dd=!1}}function Ld(){Fd()}function Fd(){Md=Td=!1;var e=0;0!==Rd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==yu&&(yu=e,!0);return yu=null,!1}()&&(e=Rd);for(var t=oe(),a=null,s=Pd;null!==s;){var n=s.next,r=Bd(s,t);0===r?(s.next=null,null===a?Pd=n:a.next=n,null===n&&(Ad=a)):(a=s,(0!==e||0!==(3&r))&&(Md=!0)),s=n}0!==Lc&&5!==Lc||Od(e,!1),0!==Rd&&(Rd=0)}function Bd(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var l=31-ye(r),i=1<<l,o=n[l];-1===o?0!==(i&a)&&0===(i&s)||(n[l]=Pe(i,t)):o<=t&&(e.expiredLanes|=i),r&=~i}if(a=gc,a=Ce(e,e===(t=pc)?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),s=e.callbackNode,0===a||e===t&&(2===fc||9===fc)||null!==e.cancelPendingCommit)return null!==s&&null!==s&&re(s),e.callbackNode=null,e.callbackPriority=0;if(0===(3&a)||Ee(e,a)){if((t=a&-a)===e.callbackPriority)return t;switch(null!==s&&re(s),Le(a)){case 2:case 8:a=ue;break;case 32:default:a=me;break;case 268435456:a=pe}return s=zd.bind(null,e),a=ne(a,s),e.callbackPriority=t,e.callbackNode=a,t}return null!==s&&null!==s&&re(s),e.callbackPriority=2,e.callbackNode=null,2}function zd(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yd()&&e.callbackNode!==a)return null;var s=gc;return 0===(s=Ce(e,e===pc?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,s,t),Bd(e,oe()),null!=e.callbackNode&&e.callbackNode===a?zd.bind(null,e):null)}function Hd(e,t){if(yd())return null;Qc(e,t,!0)}function qd(){if(0===Rd){var e=Un;0===e&&(e=we,0===(261888&(we<<=1))&&(we=256)),Rd=e}return Rd}function Ud(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Wd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}for(var Vd=0;Vd<ws.length;Vd++){var Gd=ws[Vd];ks(Gd.toLowerCase(),"on"+(Gd[0].toUpperCase()+Gd.slice(1)))}ks(xs,"onAnimationEnd"),ks(gs,"onAnimationIteration"),ks(fs,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(vs,"onTransitionRun"),ks(bs,"onTransitionStart"),ks(ys,"onTransitionCancel"),ks(js,"onTransitionEnd"),nt("onMouseEnter",["mouseout","mouseover"]),nt("onMouseLeave",["mouseout","mouseover"]),nt("onPointerEnter",["pointerout","pointerover"]),nt("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kd));function Qd(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var l=s.length-1;0<=l;l--){var i=s[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==r&&n.isPropagationStopped())break e;r=i,n.currentTarget=c;try{r(n)}catch(d){Ss(d)}n.currentTarget=null,r=o}else for(l=0;l<s.length;l++){if(o=(i=s[l]).instance,c=i.currentTarget,i=i.listener,o!==r&&n.isPropagationStopped())break e;r=i,n.currentTarget=c;try{r(n)}catch(d){Ss(d)}n.currentTarget=null,r=o}}}}function $d(e,t){var a=t[We];void 0===a&&(a=t[We]=new Set);var s=e+"__bubble";a.has(s)||(eu(t,e,2,!1),a.add(s))}function Jd(e,t,a){var s=0;t&&(s|=4),eu(a,e,s,t)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Xd]){e[Xd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yd.has(t)||Jd(t,!1,e),Jd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xd]||(t[Xd]=!0,Jd("selectionchange",!1,t))}}function eu(e,t,a,s){switch(_m(t)){case 2:var n=ym;break;case 8:n=jm;break;default:n=Nm}a=n.bind(null,t,a,e),n=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),s?void 0!==n?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):void 0!==n?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function tu(e,t,a,s,n){var r=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var l=s.tag;if(3===l||4===l){var i=s.stateNode.containerInfo;if(i===n)break;if(4===l)for(l=s.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===n)return;l=l.return}for(;null!==i;){if(null===(l=$e(i)))return;if(5===(c=l.tag)||6===c||26===c||27===c){s=r=l;continue e}i=i.parentNode}}s=s.return}Bt(function(){var s=r,n=Rt(a),l=[];e:{var i=Ns.get(e);if(void 0!==i){var c=aa,d=e;switch(e){case"keypress":if(0===Yt(a))break e;case"keydown":case"keyup":c=fa;break;case"focusin":d="focus",c=oa;break;case"focusout":d="blur",c=oa;break;case"beforeblur":case"afterblur":c=oa;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=la;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ia;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=ba;break;case xs:case gs:case fs:c=ca;break;case js:c=ya;break;case"scroll":case"scrollend":c=na;break;case"wheel":c=ja;break;case"copy":case"cut":case"paste":c=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=va;break;case"toggle":case"beforetoggle":c=Na}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),h=u?null!==i?i+"Capture":null:i;u=[];for(var p,x=s;null!==x;){var g=x;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===h||null!=(g=zt(x,h))&&u.push(au(x,g,p)),m)break;x=x.return}0<u.length&&(i=new c(i,d,null,a,n),l.push({event:i,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||a===Dt||!(d=a.relatedTarget||a.fromElement)||!$e(d)&&!d[Ue])&&(c||i)&&(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=s,null!==(d=(d=a.relatedTarget||a.toElement)?$e(d):null)&&(m=o(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=s),c!==d)){if(u=la,g="onMouseLeave",h="onMouseEnter",x="mouse","pointerout"!==e&&"pointerover"!==e||(u=va,g="onPointerLeave",h="onPointerEnter",x="pointer"),m=null==c?i:Xe(c),p=null==d?i:Xe(d),(i=new u(g,x+"leave",c,a,n)).target=m,i.relatedTarget=p,g=null,$e(n)===s&&((u=new u(h,x+"enter",d,a,n)).target=p,u.relatedTarget=m,g=u),m=g,c&&d)e:{for(u=nu,x=d,p=0,g=h=c;g;g=u(g))p++;g=0;for(var f=x;f;f=u(f))g++;for(;0<p-g;)h=u(h),p--;for(;0<g-p;)x=u(x),g--;for(;p--;){if(h===x||null!==x&&h===x.alternate){u=h;break e}h=u(h),x=u(x)}u=null}else u=null;null!==c&&ru(l,i,c,u,!1),null!==d&&null!==m&&ru(l,m,d,u,!0)}if("select"===(c=(i=s?Xe(s):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var v=za;else if(Ra(i))if(Ha)v=$a;else{v=Ya;var b=Ka}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?s&&Et(s.elementType)&&(v=za):v=Qa;switch(v&&(v=v(e,s))?Ia(l,v,a,n):(b&&b(e,i,s),"focusout"===e&&s&&"number"===i.type&&null!=s.memoizedProps.value&&yt(i,"number",i.value)),b=s?Xe(s):window,e){case"focusin":(Ra(b)||"true"===b.contentEditable)&&(rs=b,ls=s,is=null);break;case"focusout":is=ls=rs=null;break;case"mousedown":os=!0;break;case"contextmenu":case"mouseup":case"dragend":os=!1,cs(l,a,n);break;case"selectionchange":if(ns)break;case"keydown":case"keyup":cs(l,a,n)}var y;if(ka)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ma?Aa(e,a)&&(j="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(j="onCompositionStart");j&&(Ca&&"ko"!==a.locale&&(Ma||"onCompositionStart"!==j?"onCompositionEnd"===j&&Ma&&(y=Kt()):(Vt="value"in(Wt=n)?Wt.value:Wt.textContent,Ma=!0)),0<(b=su(s,j)).length&&(j=new ua(j,e,null,a,n),l.push({event:j,listeners:b}),y?j.data=y:null!==(y=Ta(a))&&(j.data=y))),(y=_a?function(e,t){switch(e){case"compositionend":return Ta(t);case"keypress":return 32!==t.which?null:(Pa=!0,Ea);case"textInput":return(e=t.data)===Ea&&Pa?null:e;default:return null}}(e,a):function(e,t){if(Ma)return"compositionend"===e||!ka&&Aa(e,t)?(e=Kt(),Gt=Vt=Wt=null,Ma=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ca&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(j=su(s,"onBeforeInput")).length&&(b=new ua("onBeforeInput","beforeinput",null,a,n),l.push({event:b,listeners:j}),b.data=y)),function(e,t,a,s,n){if("submit"===t&&a&&a.stateNode===n){var r=Ud((n[qe]||null).action),l=s.submitter;l&&null!==(t=(t=l[qe]||null)?Ud(t.formAction):l.getAttribute("formAction"))&&(r=t,l=null);var i=new aa("action","action",null,s,n);e.push({event:i,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(0!==Rd){var e=l?Wd(n,l):new FormData(n);ei(a,{pending:!0,data:e,method:n.method,action:r},null,e)}}else"function"===typeof r&&(i.preventDefault(),e=l?Wd(n,l):new FormData(n),ei(a,{pending:!0,data:e,method:n.method,action:r},r,e))},currentTarget:n}]})}}(l,e,s,a,n)}Qd(l,t)})}function au(e,t,a){return{instance:e,listener:t,currentTarget:a}}function su(e,t){for(var a=t+"Capture",s=[];null!==e;){var n=e,r=n.stateNode;if(5!==(n=n.tag)&&26!==n&&27!==n||null===r||(null!=(n=zt(e,a))&&s.unshift(au(e,n,r)),null!=(n=zt(e,t))&&s.push(au(e,n,r))),3===e.tag)return s;e=e.return}return[]}function nu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ru(e,t,a,s,n){for(var r=t._reactName,l=[];null!==a&&a!==s;){var i=a,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===s)break;5!==i&&26!==i&&27!==i||null===c||(o=c,n?null!=(c=zt(a,r))&&l.unshift(au(a,c,o)):n||null!=(c=zt(a,r))&&l.push(au(a,c,o))),a=a.return}0!==l.length&&e.push({event:t,listeners:l})}var lu=/\r\n?/g,iu=/\u0000|\uFFFD/g;function ou(e){return("string"===typeof e?e:""+e).replace(lu,"\n").replace(iu,"")}function cu(e,t){return t=ou(t),ou(e)===t}function du(e,t,a,s,n,r){switch(a){case"children":"string"===typeof s?"body"===t||"textarea"===t&&""===s||kt(e,s):("number"===typeof s||"bigint"===typeof s)&&"body"!==t&&kt(e,""+s);break;case"className":ct(e,"class",s);break;case"tabIndex":ct(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,a,s);break;case"style":Ct(e,s,r);break;case"data":if("object"!==t){ct(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==a)){e.removeAttribute(a);break}if(null==s||"function"===typeof s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(a);break}s=Tt(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if("function"===typeof s){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===a?("input"!==t&&du(e,t,"name",n.name,n,null),du(e,t,"formEncType",n.formEncType,n,null),du(e,t,"formMethod",n.formMethod,n,null),du(e,t,"formTarget",n.formTarget,n,null)):(du(e,t,"encType",n.encType,n,null),du(e,t,"method",n.method,n,null),du(e,t,"target",n.target,n,null))),null==s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(a);break}s=Tt(""+s),e.setAttribute(a,s);break;case"onClick":null!=s&&(e.onclick=Mt);break;case"onScroll":null!=s&&$d("scroll",e);break;case"onScrollEnd":null!=s&&$d("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(l(61));if(null!=(a=s.__html)){if(null!=n.children)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"muted":e.muted=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"===typeof s||"boolean"===typeof s||"symbol"===typeof s){e.removeAttribute("xlink:href");break}a=Tt(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":!0===s?e.setAttribute(a,""):!1!==s&&null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":null==s||"function"===typeof s||"symbol"===typeof s||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":$d("beforetoggle",e),$d("toggle",e),ot(e,"popover",s);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ot(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||"o"!==a[0]&&"O"!==a[0]||"n"!==a[1]&&"N"!==a[1])&&ot(e,a=Pt.get(a)||a,s)}}function uu(e,t,a,s,n,r){switch(a){case"style":Ct(e,s,r);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(l(61));if(null!=(a=s.__html)){if(null!=n.children)throw Error(l(60));e.innerHTML=a}}break;case"children":"string"===typeof s?kt(e,s):("number"===typeof s||"bigint"===typeof s)&&kt(e,""+s);break;case"onScroll":null!=s&&$d("scroll",e);break;case"onScrollEnd":null!=s&&$d("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Mt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:at.hasOwnProperty(a)||("o"!==a[0]||"n"!==a[1]||(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),"function"===typeof(r=null!=(r=e[qe]||null)?r[a]:null)&&e.removeEventListener(t,r,n),"function"!==typeof s)?a in e?e[a]=s:!0===s?e.setAttribute(a,""):ot(e,a,s):("function"!==typeof r&&null!==r&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n)))}}function mu(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$d("error",e),$d("load",e);var s,n=!1,r=!1;for(s in a)if(a.hasOwnProperty(s)){var i=a[s];if(null!=i)switch(s){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,s,i,a,null)}}return r&&du(e,t,"srcSet",a.srcSet,a,null),void(n&&du(e,t,"src",a.src,a,null));case"input":$d("invalid",e);var o=s=i=r=null,c=null,d=null;for(n in a)if(a.hasOwnProperty(n)){var u=a[n];if(null!=u)switch(n){case"name":r=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":s=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(l(137,t));break;default:du(e,t,n,u,a,null)}}return void bt(e,s,o,c,d,i,r,!1);case"select":for(r in $d("invalid",e),n=i=s=null,a)if(a.hasOwnProperty(r)&&null!=(o=a[r]))switch(r){case"value":s=o;break;case"defaultValue":i=o;break;case"multiple":n=o;default:du(e,t,r,o,a,null)}return t=s,a=i,e.multiple=!!n,void(null!=t?jt(e,!!n,t,!1):null!=a&&jt(e,!!n,a,!0));case"textarea":for(i in $d("invalid",e),s=r=n=null,a)if(a.hasOwnProperty(i)&&null!=(o=a[i]))switch(i){case"value":n=o;break;case"defaultValue":r=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:du(e,t,i,o,a,null)}return void wt(e,n,r,s);case"option":for(c in a)if(a.hasOwnProperty(c)&&null!=(n=a[c]))if("selected"===c)e.selected=n&&"function"!==typeof n&&"symbol"!==typeof n;else du(e,t,c,n,a,null);return;case"dialog":$d("beforetoggle",e),$d("toggle",e),$d("cancel",e),$d("close",e);break;case"iframe":case"object":$d("load",e);break;case"video":case"audio":for(n=0;n<Kd.length;n++)$d(Kd[n],e);break;case"image":$d("error",e),$d("load",e);break;case"details":$d("toggle",e);break;case"embed":case"source":case"link":$d("error",e),$d("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in a)if(a.hasOwnProperty(d)&&null!=(n=a[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,d,n,a,null)}return;default:if(Et(t)){for(u in a)a.hasOwnProperty(u)&&(void 0!==(n=a[u])&&uu(e,t,u,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(null!=(n=a[o])&&du(e,t,o,n,a,null))}function hu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pu=null,xu=null;function gu(e){return 9===e.nodeType?e:e.ownerDocument}function fu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yu=null;var ju="function"===typeof setTimeout?setTimeout:void 0,Nu="function"===typeof clearTimeout?clearTimeout:void 0,wu="function"===typeof Promise?Promise:void 0,ku="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wu?function(e){return wu.resolve(null).then(e).catch(Su)}:ju;function Su(e){setTimeout(function(){throw e})}function _u(e){return"head"===e}function Cu(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&8===n.nodeType)if("/$"===(a=n.data)||"/&"===a){if(0===s)return e.removeChild(n),void Wm(t);s--}else if("$"===a||"$?"===a||"$~"===a||"$!"===a||"&"===a)s++;else if("html"===a)Fu(e.ownerDocument.documentElement);else if("head"===a){Fu(a=e.ownerDocument.head);for(var r=a.firstChild;r;){var l=r.nextSibling,i=r.nodeName;r[Ye]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===r.rel.toLowerCase()||a.removeChild(r),r=l}}else"body"===a&&Fu(e.ownerDocument.body);a=n}while(a);Wm(t)}function Eu(e,t){var a=e;e=0;do{var s=a.nextSibling;if(1===a.nodeType?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",""===a.getAttribute("style")&&a.removeAttribute("style")):3===a.nodeType&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&8===s.nodeType)if("/$"===(a=s.data)){if(0===e)break;e--}else"$"!==a&&"$?"!==a&&"$~"!==a&&"$!"!==a||e++;a=s}while(a)}function Pu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pu(a),Qe(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===a.rel.toLowerCase())continue}e.removeChild(a)}}function Au(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Du(e.nextSibling)))return null}return e}function Tu(e){return"$?"===e.data||"$~"===e.data}function Mu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Du(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ru=null;function Iu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a||"/&"===a){if(0===t)return Du(e.nextSibling);t--}else"$"!==a&&"$!"!==a&&"$?"!==a&&"$~"!==a&&"&"!==a||t++}e=e.nextSibling}return null}function Ou(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a||"$~"===a||"&"===a){if(0===t)return e;t--}else"/$"!==a&&"/&"!==a||t++}e=e.previousSibling}return null}function Lu(e,t,a){switch(t=gu(a),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Fu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Bu=new Map,zu=new Set;function Hu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qu=I.d;I.d={f:function(){var e=qu.f(),t=Zc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ai(t):qu.r(e)},D:function(e){qu.D(e),Wu("dns-prefetch",e,null)},C:function(e,t){qu.C(e,t),Wu("preconnect",e,t)},L:function(e,t,a){qu.L(e,t,a);var s=Uu;if(s&&e&&t){var n='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&a&&a.imageSrcSet?(n+='[imagesrcset="'+ft(a.imageSrcSet)+'"]',"string"===typeof a.imageSizes&&(n+='[imagesizes="'+ft(a.imageSizes)+'"]')):n+='[href="'+ft(e)+'"]';var r=n;switch(t){case"style":r=Gu(e);break;case"script":r=Qu(e)}Bu.has(r)||(e=h({rel:"preload",href:"image"===t&&a&&a.imageSrcSet?void 0:e,as:t},a),Bu.set(r,e),null!==s.querySelector(n)||"style"===t&&s.querySelector(Ku(r))||"script"===t&&s.querySelector($u(r))||(mu(t=s.createElement("link"),"link",e),et(t),s.head.appendChild(t)))}},m:function(e,t){qu.m(e,t);var a=Uu;if(a&&e){var s=t&&"string"===typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+ft(s)+'"][href="'+ft(e)+'"]',r=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Qu(e)}if(!Bu.has(r)&&(e=h({rel:"modulepreload",href:e},t),Bu.set(r,e),null===a.querySelector(n))){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($u(r)))return}mu(s=a.createElement("link"),"link",e),et(s),a.head.appendChild(s)}}},X:function(e,t){qu.X(e,t);var a=Uu;if(a&&e){var s=Ze(a).hoistableScripts,n=Qu(e),r=s.get(n);r||((r=a.querySelector($u(n)))||(e=h({src:e,async:!0},t),(t=Bu.get(n))&&em(e,t),et(r=a.createElement("script")),mu(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}},S:function(e,t,a){qu.S(e,t,a);var s=Uu;if(s&&e){var n=Ze(s).hoistableStyles,r=Gu(e);t=t||"default";var l=n.get(r);if(!l){var i={loading:0,preload:null};if(l=s.querySelector(Ku(r)))i.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Bu.get(r))&&Zu(e,a);var o=l=s.createElement("link");et(o),mu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Xu(l,t,s)}l={type:"stylesheet",instance:l,count:1,state:i},n.set(r,l)}}},M:function(e,t){qu.M(e,t);var a=Uu;if(a&&e){var s=Ze(a).hoistableScripts,n=Qu(e),r=s.get(n);r||((r=a.querySelector($u(n)))||(e=h({src:e,async:!0,type:"module"},t),(t=Bu.get(n))&&em(e,t),et(r=a.createElement("script")),mu(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}};var Uu="undefined"===typeof document?null:document;function Wu(e,t,a){var s=Uu;if(s&&"string"===typeof t&&t){var n=ft(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"===typeof a&&(n+='[crossorigin="'+a+'"]'),zu.has(n)||(zu.add(n),e={rel:e,crossOrigin:a,href:t},null===s.querySelector(n)&&(mu(t=s.createElement("link"),"link",e),et(t),s.head.appendChild(t)))}}function Vu(e,t,a,s){var n,r,i,o,c=(c=G.current)?Hu(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof a.precedence&&"string"===typeof a.href?(t=Gu(a.href),(s=(a=Ze(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===a.rel&&"string"===typeof a.href&&"string"===typeof a.precedence){e=Gu(a.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Ku(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Bu.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bu.set(e,a),d||(n=c,r=e,i=a,o=u.state,n.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=n.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),mu(r,"link",i),et(r),n.head.appendChild(r))))),t&&null===s)throw Error(l(528,""));return u}if(t&&null!==s)throw Error(l(529,""));return null;case"script":return t=a.async,"string"===typeof(a=a.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Qu(a),(s=(a=Ze(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Gu(e){return'href="'+ft(e)+'"'}function Ku(e){return'link[rel="stylesheet"]['+e+"]"}function Yu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Qu(e){return'[src="'+ft(e)+'"]'}function $u(e){return"script[async]"+e}function Ju(e,t,a){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ft(a.href)+'"]');if(s)return t.instance=s,et(s),s;var n=h({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return et(s=(e.ownerDocument||e).createElement("style")),mu(s,"style",n),Xu(s,a.precedence,e),t.instance=s;case"stylesheet":n=Gu(a.href);var r=e.querySelector(Ku(n));if(r)return t.state.loading|=4,t.instance=r,et(r),r;s=Yu(a),(n=Bu.get(n))&&Zu(s,n),et(r=(e.ownerDocument||e).createElement("link"));var i=r;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),mu(r,"link",s),t.state.loading|=4,Xu(r,a.precedence,e),t.instance=r;case"script":return r=Qu(a.src),(n=e.querySelector($u(r)))?(t.instance=n,et(n),n):(s=a,(n=Bu.get(r))&&em(s=h({},a),n),et(n=(e=e.ownerDocument||e).createElement("script")),mu(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,Xu(s,a.precedence,e));return t.instance}function Xu(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,r=n,l=0;l<s.length;l++){var i=s[l];if(i.dataset.precedence===t)r=i;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===a.nodeType?a.head:a).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function em(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tm=null;function am(e,t,a){if(null===tm){var s=new Map,n=tm=new Map;n.set(a,s)}else(s=(n=tm).get(a))||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[Ye]||r[He]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var l=r.getAttribute(t)||"";l=e+l;var i=s.get(l);i?i.push(r):s.set(l,[r])}}return s}function sm(e,t,a){(e=e.ownerDocument||e).head.insertBefore(a,"title"===t?e.querySelector("head > title"):null)}function nm(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var rm=0;function lm(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var im=null;function om(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,im=new Map,t.forEach(cm,e),im=null,lm.call(e))}function cm(e,t){if(!(4&t.state.loading)){var a=im.get(e);if(a)var s=a.get(null);else{a=new Map,im.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var l=n[r];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(a.set(l.dataset.precedence,l),s=l)}s&&a.set(null,s)}l=(n=t.instance).getAttribute("data-precedence"),(r=a.get(l)||s)===s&&a.set(null,n),a.set(l,n),this.count++,s=lm.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),r?r.parentNode.insertBefore(n,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var dm={$$typeof:j,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function um(e,t,a,s,n,r,l,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function mm(e,t,a,s,n,r,l,i,o,c,d,u){return e=new um(e,t,a,l,o,c,d,u,i),t=1,!0===r&&(t|=24),r=Ls(3,null,null,t),e.current=r,r.stateNode=e,(t=Bn()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:a,cache:t},gr(r),e}function hm(e){return e?e=Is:Is}function pm(e,t,a,s,n,r){n=hm(n),null===s.context?s.context=n:s.pendingContext=n,(s=vr(t)).payload={element:a},null!==(r=void 0===r?null:r)&&(s.callback=r),null!==(a=br(e,s,t))&&(Yc(a,0,t),yr(a,e,t))}function xm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function gm(e,t){xm(e,t),(e=e.alternate)&&xm(e,t)}function fm(e){if(13===e.tag||31===e.tag){var t=Ms(e,67108864);null!==t&&Yc(t,0,67108864),gm(e,67108864)}}function vm(e){if(13===e.tag||31===e.tag){var t=Gc(),a=Ms(e,t=Oe(t));null!==a&&Yc(a,0,t),gm(e,t)}}var bm=!0;function ym(e,t,a,s){var n=R.T;R.T=null;var r=I.p;try{I.p=2,Nm(e,t,a,s)}finally{I.p=r,R.T=n}}function jm(e,t,a,s){var n=R.T;R.T=null;var r=I.p;try{I.p=8,Nm(e,t,a,s)}finally{I.p=r,R.T=n}}function Nm(e,t,a,s){if(bm){var n=wm(s);if(null===n)tu(e,t,s,km,a),Im(e,s);else if(function(e,t,a,s,n){switch(t){case"focusin":return Em=Om(Em,e,t,a,s,n),!0;case"dragenter":return Pm=Om(Pm,e,t,a,s,n),!0;case"mouseover":return Am=Om(Am,e,t,a,s,n),!0;case"pointerover":var r=n.pointerId;return Tm.set(r,Om(Tm.get(r)||null,e,t,a,s,n)),!0;case"gotpointercapture":return r=n.pointerId,Mm.set(r,Om(Mm.get(r)||null,e,t,a,s,n)),!0}return!1}(n,e,t,a,s))s.stopPropagation();else if(Im(e,s),4&t&&-1<Rm.indexOf(e)){for(;null!==n;){var r=Je(n);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var l=_e(r.pendingLanes);if(0!==l){var i=r;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var o=1<<31-ye(l);i.entanglements[1]|=o,l&=~o}Id(r),0===(6&hc)&&(Rc=oe()+500,Od(0,!1))}}break;case 31:case 13:null!==(i=Ms(r,2))&&Yc(i,0,2),Zc(),gm(r,2)}if(null===(r=wm(s))&&tu(e,t,s,km,a),r===n)break;n=r}null!==n&&s.stopPropagation()}else tu(e,t,s,null,a)}}function wm(e){return Sm(e=Rt(e))}var km=null;function Sm(e){if(km=null,null!==(e=$e(e))){var t=o(e);if(null===t)e=null;else{var a=t.tag;if(13===a){if(null!==(e=c(t)))return e;e=null}else if(31===a){if(null!==(e=d(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return km=e,null}function _m(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case me:case he:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Cm=!1,Em=null,Pm=null,Am=null,Tm=new Map,Mm=new Map,Dm=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Im(e,t){switch(e){case"focusin":case"focusout":Em=null;break;case"dragenter":case"dragleave":Pm=null;break;case"mouseover":case"mouseout":Am=null;break;case"pointerover":case"pointerout":Tm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mm.delete(t.pointerId)}}function Om(e,t,a,s,n,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:r,targetContainers:[n]},null!==t&&(null!==(t=Je(t))&&fm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Lm(e){var t=$e(e.target);if(null!==t){var a=o(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=c(a)))return e.blockedOn=t,void Be(e.priority,function(){vm(a)})}else if(31===t){if(null!==(t=d(a)))return e.blockedOn=t,void Be(e.priority,function(){vm(a)})}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Fm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=wm(e.nativeEvent);if(null!==a)return null!==(t=Je(a))&&fm(t),e.blockedOn=a,!1;var s=new(a=e.nativeEvent).constructor(a.type,a);Dt=s,a.target.dispatchEvent(s),Dt=null,t.shift()}return!0}function Bm(e,t,a){Fm(e)&&a.delete(t)}function zm(){Cm=!1,null!==Em&&Fm(Em)&&(Em=null),null!==Pm&&Fm(Pm)&&(Pm=null),null!==Am&&Fm(Am)&&(Am=null),Tm.forEach(Bm),Mm.forEach(Bm)}function Hm(e,t){e.blockedOn===t&&(e.blockedOn=null,Cm||(Cm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zm)))}var qm=null;function Um(e){qm!==e&&(qm=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qm===e&&(qm=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if("function"!==typeof s){if(null===Sm(s||a))continue;break}var r=Je(a);null!==r&&(e.splice(t,3),t-=3,ei(r,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function Wm(e){function t(t){return Hm(t,e)}null!==Em&&Hm(Em,e),null!==Pm&&Hm(Pm,e),null!==Am&&Hm(Am,e),Tm.forEach(t),Mm.forEach(t);for(var a=0;a<Dm.length;a++){var s=Dm[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Dm.length&&null===(a=Dm[0]).blockedOn;)Lm(a),null===a.blockedOn&&Dm.shift();if(null!=(a=(e.ownerDocument||e).$$reactFormReplay))for(s=0;s<a.length;s+=3){var n=a[s],r=a[s+1],l=n[qe]||null;if("function"===typeof r)l||Um(a);else if(l){var i=null;if(r&&r.hasAttribute("formAction")){if(n=r,l=r[qe]||null)i=l.formAction;else if(null!==Sm(n))continue}else i=l.action;"function"===typeof i?a[s+1]=i:(a.splice(s,3),s-=3),Um(a)}}}function Vm(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return n=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==n&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==n&&(n(),n=null)}}}function Gm(e){this._internalRoot=e}function Km(e){this._internalRoot=e}Km.prototype.render=Gm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));pm(t.current,Gc(),e,t,null,null)},Km.prototype.unmount=Gm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pm(e.current,2,null,e,null,null),Zc(),t[Ue]=null}},Km.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Dm.length&&0!==t&&t<Dm[a].priority;a++);Dm.splice(a,0,e),0===a&&Lm(e)}};var Ym=n.version;if("19.2.4"!==Ym)throw Error(l(527,Ym,"19.2.4"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(null===n)break;var r=n.alternate;if(null===r){if(null!==(s=n.return)){a=s;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return u(n),e;if(r===s)return u(n),t;r=r.sibling}throw Error(l(188))}if(a.return!==s.return)a=n,s=r;else{for(var i=!1,c=n.child;c;){if(c===a){i=!0,a=n,s=r;break}if(c===s){i=!0,s=n,a=r;break}c=c.sibling}if(!i){for(c=r.child;c;){if(c===a){i=!0,a=r,s=n;break}if(c===s){i=!0,s=r,a=n;break}c=c.sibling}if(!i)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(3!==a.tag)throw Error(l(188));return a.stateNode.current===a?e:t}(t),e=null===(e=null!==e?m(e):null)?null:e.stateNode};var Qm={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{fe=$m.inject(Qm),ve=$m}catch(Xm){}}t.createRoot=function(e,t){if(!i(e))throw Error(l(299));var a=!1,s="",n=wi,r=ki,o=Si;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(n=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=mm(e,1,!1,null,0,a,s,null,n,r,o,Vm),e[Ue]=t.current,Zd(e),new Gm(t)},t.hydrateRoot=function(e,t,a){if(!i(e))throw Error(l(299));var s=!1,n="",r=wi,o=ki,c=Si,d=null;return null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(s=!0),void 0!==a.identifierPrefix&&(n=a.identifierPrefix),void 0!==a.onUncaughtError&&(r=a.onUncaughtError),void 0!==a.onCaughtError&&(o=a.onCaughtError),void 0!==a.onRecoverableError&&(c=a.onRecoverableError),void 0!==a.formState&&(d=a.formState)),(t=mm(e,1,!0,t,0,s,n,d,r,o,c,Vm)).context=hm(null),a=t.current,(n=vr(s=Oe(s=Gc()))).callback=null,br(a,n,s),a=s,t.current.lanes=a,Me(t,a),Id(t),e[Ue]=t.current,Zd(e),new Km(t)},t.version="19.2.4"},863(e,t,a){"use strict";var s=a(950);function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(n(299));return function(e,t,a){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==s?null:""+s,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.flushSync=function(e){var t=o.T,a=l.p;try{if(o.T=null,l.p=2,e)return e()}finally{o.T=t,l.p=a,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var a=t.as,s=c(a,t.crossOrigin),n="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===a?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:s,integrity:n,fetchPriority:r}):"script"===a&&l.d.X(e,{crossOrigin:s,integrity:n,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var a=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var a=t.as,s=c(a,t.crossOrigin);l.d.L(e,a,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var a=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,a){return o.H.useFormState(e,t,a)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.2.4"},352(e,t,a){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(85)},119(e,t,a){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(863)},520(e,t,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,a,s){void 0===s&&(s=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,s,n)}:function(e,t,a,s){void 0===s&&(s=a),e[s]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&s(t,e,a);return n(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useRazorpay=void 0;const i=r(a(950)),o=l(a(540));t.useRazorpay=()=>{const[e,t]=i.useState(!1),[a,s]=i.useState(),n="undefined"!==typeof window;return i.useEffect(()=>{var e;n&&(t(!0),n&&"Razorpay"in window||(e="https://checkout.razorpay.com/v1/checkout.js",new Promise((t,a)=>{const s=window.document.createElement("script");s.src=e,s.onload=function(){t()},s.onerror=function(e){a(e.toString())},document.body.appendChild(s)})).then(()=>{s(void 0)}).catch(e=>{e instanceof Error?s(e.message):s("Unknown Error")}).finally(()=>t(!1)))},[]),{error:a,isLoading:e,Razorpay:o.default}}},540(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.instance=void 0,this.options=e,"undefined"!==typeof window&&(this.instance=new window.Razorpay(this.options))}on(e,t){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.on(e,t)}open(){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.open()}}},418(e,t,a){var s;"undefined"!=typeof self&&self,e.exports=(s=a(950),function(){"use strict";var e={155:function(e){e.exports=s}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,a),r.exports}a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};a.r(n),a.d(n,{useReactToPrint:function(){return x}});var r=a(155);const l="printWindow";function i(e){let{level:t="error",messages:a,suppressErrors:s=!1}=e;s||("error"===t?console.error(a):"warning"===t?console.warn(a):console.debug(a))}function o(e,t){if(t||!e){const e=document.getElementById(l);e&&document.body.removeChild(e)}}function c(e){return e instanceof Error?e:new Error("Unknown Error")}function d(e,t){const{documentTitle:a,onAfterPrint:s,onPrintError:n,preserveAfterPrint:r,print:l,suppressErrors:d}=t;setTimeout(()=>{var t,u;if(e.contentWindow){function m(){null==s||s(),o(r)}if(e.contentWindow.focus(),l)l(e).then(m).catch(e=>{n?n("print",c(e)):i({messages:["An error was thrown by the specified `print` function"],suppressErrors:d})});else{if(e.contentWindow.print){const h=null!==(u=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==u?u:"",p=e.ownerDocument.title;a&&(e.ownerDocument.title=a,e.contentDocument&&(e.contentDocument.title=a)),e.contentWindow.print(),a&&(e.ownerDocument.title=p,e.contentDocument&&(e.contentDocument.title=h))}else i({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:d});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(e=>{var t,a;return(null!==(a=null!==(t=navigator.userAgent)&&void 0!==t?t:navigator.vendor)&&void 0!==a?a:"opera"in window&&window.opera).match(e)})?setTimeout(m,500):m()}}else i({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:d})},500)}function u(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let s=a.nextNode();for(;s;)t.push(s),s=a.nextNode();return t}function m(e,t,a){const s=u(e),n=u(t);if(s.length===n.length)for(let r=0;r<s.length;r++){const e=s[r],t=n[r],l=e.shadowRoot;if(null!==l){const e=t.attachShadow({mode:l.mode});e.innerHTML=l.innerHTML,m(l,e,a)}}else i({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",e,t],suppressErrors:a})}const h='\n    @page {\n        /* Remove browser default header (title) and footer (url) */\n        margin: 0;\n    }\n    @media print {\n        body {\n            /* Tell browsers to print background colors */\n            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */\n            print-color-adjust: exact; /* Firefox/Safari */\n            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\n        }\n    }\n';function p(e,t,a,s){var n,r,l,o,u;const{contentNode:p,clonedContentNode:x,clonedImgNodes:g,clonedVideoNodes:f,numResourcesToLoad:v,originalCanvasNodes:b}=a,{bodyClass:y,fonts:j,ignoreGlobalStyles:N,pageStyle:w,nonce:k,suppressErrors:S,copyShadowRoots:_}=s;e.onload=null;const C=null!==(n=e.contentDocument)&&void 0!==n?n:null===(r=e.contentWindow)||void 0===r?void 0:r.document;if(C){const a=C.body.appendChild(x);_&&m(p,a,!!S),j&&((null===(l=e.contentDocument)||void 0===l?void 0:l.fonts)&&(null===(o=e.contentWindow)||void 0===o?void 0:o.FontFace)?j.forEach(a=>{const s=new FontFace(a.family,a.source,{weight:a.weight,style:a.style});e.contentDocument.fonts.add(s),s.loaded.then(()=>{t(s)}).catch(e=>{t(s,["Failed loading the font:",s,"Load error:",c(e)])})}):(j.forEach(e=>{t(e)}),i({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:S})));const s=null!=w?w:h,n=C.createElement("style");k&&(n.setAttribute("nonce",k),C.head.setAttribute("nonce",k)),n.appendChild(C.createTextNode(s)),C.head.appendChild(n),y&&C.body.classList.add(...y.split(" "));const r=C.querySelectorAll("canvas");for(let e=0;e<b.length;++e){const t=b[e],a=r[e];if(void 0===a){i({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",t],suppressErrors:S});continue}const s=a.getContext("2d");s&&s.drawImage(t,0,0)}for(let e=0;e<g.length;e++){const a=g[e],s=a.getAttribute("src");if(s){const e=new Image;e.onload=()=>{t(a)},e.onerror=(e,s,n,r,l)=>{t(a,["Error loading <img>",a,"Error",l])},e.src=s}else t(a,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',a])}for(let e=0;e<f.length;e++){const a=f[e];a.preload="auto";const s=a.getAttribute("poster");if(s){const e=new Image;e.onload=()=>{t(a)},e.onerror=(e,n,r,l,i)=>{t(a,["Error loading video poster",s,"for video",a,"Error:",i])},e.src=s}else a.readyState>=2?t(a):a.src?(a.onloadeddata=()=>{t(a)},a.onerror=(e,s,n,r,l)=>{t(a,["Error loading video",a,"Error",l])},a.onstalled=()=>{t(a,["Loading video stalled, skipping",a])}):t(a,["Error loading video, `src` is empty",a])}const d="select",v=p.querySelectorAll(d),E=C.querySelectorAll(d);for(let e=0;e<v.length;e++)E[e].value=v[e].value;if(!N){const a=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let s=0,n=a.length;s<n;++s){const n=a[s];if("style"===n.tagName.toLowerCase()){const t=C.createElement(n.tagName),a=n.sheet;if(a){let r="";try{const e=a.cssRules.length;for(let t=0;t<e;++t)"string"==typeof a.cssRules[t].cssText&&(r+="".concat(a.cssRules[t].cssText,"\r\n"))}catch(e){i({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",n,"Original error: ".concat(c(e).message)],level:"warning"})}t.setAttribute("id","react-to-print-".concat(s)),k&&t.setAttribute("nonce",k),t.appendChild(C.createTextNode(r)),C.head.appendChild(t)}}else if(n.getAttribute("href"))if(n.hasAttribute("disabled"))i({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",n],level:"warning"}),t(n);else{const e=C.createElement(n.tagName);for(let t=0,a=n.attributes.length;t<a;++t){const a=n.attributes[t];a&&e.setAttribute(a.nodeName,null!==(u=a.nodeValue)&&void 0!==u?u:"")}e.onload=()=>{t(e)},e.onerror=(a,s,n,r,l)=>{t(e,["Failed to load",e,"Error:",l])},k&&e.setAttribute("nonce",k),C.head.appendChild(e)}else i({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",n],level:"warning"}),t(n)}}}0===v&&d(e,s)}function x(e){let{bodyClass:t,contentRef:a,copyShadowRoots:s,documentTitle:n,fonts:u,ignoreGlobalStyles:m,nonce:h,onAfterPrint:x,onBeforePrint:g,onPrintError:f,pageStyle:v,preserveAfterPrint:b,print:y,printIframeProps:j,suppressErrors:N}=e;const w=(0,r.useCallback)(e=>{function r(){const r={bodyClass:t,contentRef:a,copyShadowRoots:s,documentTitle:n,fonts:u,ignoreGlobalStyles:m,nonce:h,onAfterPrint:x,onBeforePrint:g,onPrintError:f,pageStyle:v,preserveAfterPrint:b,print:y,printIframeProps:j,suppressErrors:N},o=function(e){const t=document.createElement("iframe");return t.width="".concat(document.documentElement.clientWidth,"px"),t.height="".concat(document.documentElement.clientHeight,"px"),t.style.position="absolute",t.style.top="-".concat(document.documentElement.clientHeight+100,"px"),t.style.left="-".concat(document.documentElement.clientWidth+100,"px"),t.id=l,t.srcdoc="<!DOCTYPE html>",e&&(e.allow&&(t.allow=e.allow),void 0!==e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),void 0!==e.sandbox&&(t.sandbox=e.sandbox)),t}(j),c=function(e,t){const{contentRef:a,fonts:s,ignoreGlobalStyles:n,suppressErrors:r}=t,l=function(e){let{contentRef:t,optionalContent:a,suppressErrors:s}=e;return a&&"function"==typeof a?(t&&i({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),a()):t?t.current:void i({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:s})}({contentRef:a,optionalContent:e,suppressErrors:r});if(!l)return;const o=l.cloneNode(!0),c=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),d=o.querySelectorAll("img"),u=o.querySelectorAll("video"),m=s?s.length:0;return{contentNode:l,clonedContentNode:o,clonedImgNodes:d,clonedVideoNodes:u,numResourcesToLoad:(n?0:c.length)+d.length+u.length+m,originalCanvasNodes:l.querySelectorAll("canvas")}}(e,r);if(!c)return void i({messages:["There is nothing to print"],suppressErrors:N});const w=function(e,t,a){const{suppressErrors:s}=e,n=[],r=[];return function(l,o){n.includes(l)?i({level:"debug",messages:["Tried to mark a resource that has already been handled",l],suppressErrors:s}):(o?(i({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...o],suppressErrors:s}),r.push(l)):n.push(l),n.length+r.length===t&&d(a,e))}}(r,c.numResourcesToLoad,o);!function(e,t,a,s){e.onload=()=>{p(e,t,a,s)},document.body.appendChild(e)}(o,w,c,r)}o(b,!0),g?g().then(()=>{r()}).catch(e=>{null==f||f("onBeforePrint",c(e))}):r()},[t,a,s,n,u,m,h,x,g,f,v,b,y,N]);return w}return n}())},916(e,t){"use strict";var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function n(e,t,s){var n=null;if(void 0!==s&&(n=""+s),void 0!==t.key&&(n=""+t.key),"key"in t)for(var r in s={},t)"key"!==r&&(s[r]=t[r]);else s=t;return t=s.ref,{$$typeof:a,type:e,key:n,ref:void 0!==t?t:null,props:s}}t.Fragment=s,t.jsx=n,t.jsxs=n},983(e,t){"use strict";var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,f={};function v(e,t,a){this.props=e,this.context=t,this.refs=f,this.updater=a||x}function b(){}function y(e,t,a){this.props=e,this.context=t,this.refs=f,this.updater=a||x}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var j=y.prototype=new b;j.constructor=y,g(j,v.prototype),j.isPureReactComponent=!0;var N=Array.isArray;function w(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function _(e,t,s){var n=s.ref;return{$$typeof:a,type:e,key:t,ref:void 0!==n?n:null,props:s}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var E=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,n,r,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o,c,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case a:case s:d=!0;break;case m:return A((d=e._init)(e._payload),t,n,r,l)}}if(d)return l=l(e),d=""===r?"."+P(e,0):r,N(l)?(n="",null!=d&&(n=d.replace(E,"$&/")+"/"),A(l,t,n,"",function(e){return e})):null!=l&&(C(l)&&(o=l,c=n+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(E,"$&/")+"/")+d,l=_(o.type,c,o.props)),t.push(l)),1;d=0;var u,h=""===r?".":r+":";if(N(e))for(var x=0;x<e.length;x++)d+=A(r=e[x],t,n,i=h+P(r,x),l);else if("function"===typeof(x=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=x.call(e),x=0;!(r=e.next()).done;)d+=A(r=r.value,t,n,i=h+P(r,x++),l);else if("object"===i){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,r,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function T(e,t,a){if(null==e)return e;var s=[],n=0;return A(e,s,"","",function(e){return t.call(a,e,n++)}),s}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:T,forEach:function(e,t,a){T(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=R,t.Component=v,t.Fragment=n,t.Profiler=l,t.PureComponent=y,t.StrictMode=r,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var s=g({},e.props),n=e.key;if(null!=t)for(r in void 0!==t.key&&(n=""+t.key),t)!S.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(s[r]=t[r]);var r=arguments.length-2;if(1===r)s.children=a;else if(1<r){for(var l=Array(r),i=0;i<r;i++)l[i]=arguments[i+2];s.children=l}return _(e.type,n,s)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,a){var s,n={},r=null;if(null!=t)for(s in void 0!==t.key&&(r=""+t.key),t)S.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&(n[s]=t[s]);var l=arguments.length-2;if(1===l)n.children=a;else if(1<l){for(var i=Array(l),o=0;o<l;o++)i[o]=arguments[o+2];n.children=i}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===n[s]&&(n[s]=l[s]);return _(e,r,n)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,a={};k.T=a;try{var s=e(),n=k.S;null!==n&&n(a,s),"object"===typeof s&&null!==s&&"function"===typeof s.then&&s.then(w,D)}catch(r){D(r)}finally{null!==t&&null!==a.types&&(t.types=a.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,a){return k.H.useActionState(e,t,a)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,a){return k.H.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,a){return k.H.useReducer(e,t,a)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,a){return k.H.useSyncExternalStore(e,t,a)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.4"},950(e,t,a){"use strict";e.exports=a(983)},414(e,t,a){"use strict";e.exports=a(916)},487(e,t){"use strict";function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var s=a-1>>>1,n=e[s];if(!(0<r(n,t)))break e;e[s]=t,e[a]=n,a=s}}function s(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var s=0,n=e.length,l=n>>>1;s<l;){var i=2*(s+1)-1,o=e[i],c=i+1,d=e[c];if(0>r(o,a))c<n&&0>r(d,o)?(e[s]=d,e[c]=a,s=c):(e[s]=o,e[i]=a,s=i);else{if(!(c<n&&0>r(d,a)))break e;e[s]=d,e[c]=a,s=c}}}return t}function r(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,h=3,p=!1,x=!1,g=!1,f=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=s(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,a(c,t)}t=s(d)}}function N(e){if(g=!1,j(e),!x)if(null!==s(c))x=!0,k||(k=!0,w());else{var t=s(d);null!==t&&M(N,t.startTime-e)}}var w,k=!1,S=-1,_=5,C=-1;function E(){return!!f||!(t.unstable_now()-C<_)}function P(){if(f=!1,k){var e=t.unstable_now();C=e;var a=!0;try{e:{x=!1,g&&(g=!1,b(S),S=-1),p=!0;var r=h;try{t:{for(j(e),m=s(c);null!==m&&!(m.expirationTime>e&&E());){var l=m.callback;if("function"===typeof l){m.callback=null,h=m.priorityLevel;var i=l(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){m.callback=i,j(e),a=!0;break t}m===s(c)&&n(c),j(e)}else n(c);m=s(c)}if(null!==m)a=!0;else{var o=s(d);null!==o&&M(N,o.startTime-e),a=!1}}break e}finally{m=null,h=r,p=!1}a=void 0}}finally{a?w():k=!1}}}if("function"===typeof y)w=function(){y(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,T=A.port2;A.port1.onmessage=P,w=function(){T.postMessage(null)}}else w=function(){v(P,0)};function M(e,a){S=v(function(){e(t.unstable_now())},a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var a=h;h=t;try{return e()}finally{h=a}},t.unstable_requestPaint=function(){f=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=h;h=e;try{return t()}finally{h=a}},t.unstable_scheduleCallback=function(e,n,r){var l=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?l+r:l:r=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>l?(e.sortIndex=r,a(d,e),null===s(c)&&e===s(d)&&(g?(b(S),S=-1):g=!0,M(N,r-l))):(e.sortIndex=i,a(c,e),x||p||(x=!0,k||(k=!0,w()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var a=h;h=t;try{return e.apply(this,arguments)}finally{h=a}}}},340(e,t,a){"use strict";e.exports=a(487)},759(e,t,a){"use strict";var s=a(950);var n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},r=s.useState,l=s.useEffect,i=s.useLayoutEffect,o=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!n(e,a)}catch(s){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),s=r({inst:{value:a,getSnapshot:t}}),n=s[0].inst,d=s[1];return i(function(){n.value=a,n.getSnapshot=t,c(n)&&d({inst:n})},[e,a,t]),l(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),o(a),a};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},538(e,t,a){"use strict";e.exports=a(759)},413(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"===typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"===typeof s.then)return s}var r=Object.create(null);a.r(r);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&s;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>s[e]);return l.default=()=>s,a.d(r,l),r}})(),a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0,(()=>{"use strict";var e={};a.r(e),a.d(e,{hasBrowserEnv:()=>kn,hasStandardBrowserEnv:()=>_n,hasStandardBrowserWebWorkerEnv:()=>Cn,navigator:()=>Sn,origin:()=>En});var t=a(950),s=a.t(t,2),n=a(352);function r(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;a[s]=e[s]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)a=r[s],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=l(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function o(e,t,a){return(t=i(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach(function(t){o(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const u=["sri"],m=["page"],h=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],x=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var f="popstate";function v(){return S(function(e,t){let{pathname:a,search:s,hash:n}=e.location;return N("",{pathname:a,search:s,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(a){}}}function j(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:a,key:t&&t.key||s||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:a="",hash:s=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function k(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function S(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:n=document.defaultView,v5Compat:r=!1}=s,l=n.history,i="POP",o=null,c=u();function u(){return(l.state||{idx:null}).idx}function m(){i="POP";let e=u(),t=null==e?null:e-c;c=e,o&&o({action:i,location:p.location,delta:t})}function h(e){return _(e)}null==c&&(c=0,l.replaceState(d(d({},l.state),{},{idx:c}),""));let p={get action(){return i},get location(){return e(n,l)},listen(e){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(f,m),o=e,()=>{n.removeEventListener(f,m),o=null}},createHref:e=>t(n,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i="PUSH";let s=N(p.location,e,t);a&&a(s,e),c=u()+1;let d=j(s,c),m=p.createHref(s);try{l.pushState(d,"",m)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;n.location.assign(m)}r&&o&&o({action:i,location:p.location,delta:1})},replace:function(e,t){i="REPLACE";let s=N(p.location,e,t);a&&a(s,e),c=u();let n=j(s,c),d=p.createHref(s);l.replaceState(n,"",d),r&&o&&o({action:i,location:p.location,delta:0})},go:e=>l.go(e)};return p}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="http://localhost";"undefined"!==typeof window&&(a="null"!==window.location.origin?window.location.origin:window.location.href),b(a,"No window.location.(origin|href) available to create URL");let s="string"===typeof e?e:w(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}new WeakMap;function C(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,a,s){let n=U(("string"===typeof t?k(t):t).pathname||"/",a);if(null==n)return null;let r=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a]);return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let l=null;for(let i=0;null==l&&i<r.length;++i){let e=q(n);l=B(r[i],e,s)}return l}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=function(e,r){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,i=arguments.length>3?arguments[3]:void 0,o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};if(o.relativePath.startsWith("/")){if(!o.relativePath.startsWith(s)&&l)return;b(o.relativePath.startsWith(s),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(s,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(s.length)}let c=$([s,o.relativePath]),d=a.concat(o);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,d,c,l)),(null!=e.path||e.index)&&t.push({path:c,score:F(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var a;if(""!==e.path&&null!==(a=e.path)&&void 0!==a&&a.includes("?"))for(let s of A(e.path))r(e,t,!0,s);else r(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[a,...s]=t,n=a.endsWith("?"),r=a.replace(/\?$/,"");if(0===s.length)return n?[r,""]:[r];let l=A(s.join("/")),i=[];return i.push(...l.map(e=>""===e?r:[r,e].join("/"))),n&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var T=/^:[\w-]+$/,M=3,D=2,R=1,I=10,O=-2,L=e=>"*"===e;function F(e,t){let a=e.split("/"),s=a.length;return a.some(L)&&(s+=O),t&&(s+=D),a.filter(e=>!L(e)).reduce((e,t)=>e+(T.test(t)?M:""===t?R:I),s)}function B(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:s}=e,n={},r="/",l=[];for(let i=0;i<s.length;++i){let e=s[i],o=i===s.length-1,c="/"===r?t:t.slice(r.length)||"/",d=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&a&&!s[s.length-1].route.index&&(d=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),l.push({params:n,pathname:$([r,d.pathname]),pathnameBase:J($([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=$([r,d.pathnameBase]))}return l}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=H(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let r=n[0],l=r.replace(/(.)\/+$/,"$1"),i=n.slice(1),o=s.reduce((e,t,a)=>{let{paramName:s,isOptional:n}=t;if("*"===s){let e=i[a]||"";l=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[a];return e[s]=n&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:o,pathname:r,pathnameBase:l,pattern:e}}function H(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(s.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function q(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=e.charAt(a);return s&&"/"!==s?null:e.slice(a)||"/"}var W=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function V(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}function G(e,t,a,s){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(s),"].  Please separate it out to the `to.").concat(a,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function K(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Y(e){let t=K(e);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,a){let s,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?s=k(e):(s=d({},e),b(!s.pathname||!s.pathname.includes("?"),G("?","pathname","search",s)),b(!s.pathname||!s.pathname.includes("#"),G("#","pathname","hash",s)),b(!s.search||!s.search.includes("#"),G("#","search","hash",s)));let r,l=""===e||""===s.pathname,i=l?"/":s.pathname;if(null==i)r=a;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}r=e>=0?t[e]:"/"}let o=function(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:s,search:n="",hash:r=""}="string"===typeof e?k(e):e;return s?(s=s.replace(/\/\/+/g,"/"),t=s.startsWith("/")?V(s.substring(1),"/"):V(s,a)):t=a,{pathname:t,search:X(n),hash:Z(r)}}(s,r),c=i&&"/"!==i&&i.endsWith("/"),u=(l||"."===i)&&a.endsWith("/");return o.pathname.endsWith("/")||!c&&!u||(o.pathname+="/"),o}var $=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ee=class{constructor(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function te(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function ae(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ne(e,t){let a=e;if("string"!==typeof a||!W.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let s=a,n=!1;if(se)try{let e=new URL(window.location.href),s=a.startsWith("//")?new URL(e.protocol+a):new URL(a),r=U(s.pathname,t);s.origin===e.origin&&null!=r?a=r+s.search+s.hash:n=!0}catch(r){y(!1,'<Link to="'.concat(a,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:s,isExternal:n,to:a}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var re=["POST","PUT","PATCH","DELETE"],le=(new Set(re),["GET",...re]);new Set(le),Symbol("ResetLoaderData");var ie=t.createContext(null);ie.displayName="DataRouter";var oe=t.createContext(null);oe.displayName="DataRouterState";var ce=t.createContext(!1);function de(){return t.useContext(ce)}var ue=t.createContext({isTransitioning:!1});ue.displayName="ViewTransition";var me=t.createContext(new Map);me.displayName="Fetchers";var he=t.createContext(null);he.displayName="Await";var pe=t.createContext(null);pe.displayName="Navigation";var xe=t.createContext(null);xe.displayName="Location";var ge=t.createContext({outlet:null,matches:[],isDataRoute:!1});ge.displayName="Route";var fe=t.createContext(null);fe.displayName="RouteError";var ve="REACT_ROUTER_ERROR";function be(){return null!=t.useContext(xe)}function ye(){return b(be(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(xe).location}var je="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ne(e){t.useContext(pe).static||t.useLayoutEffect(e)}function we(){let{isDataRoute:e}=t.useContext(ge);return e?function(){let{router:e}=Ie("useNavigate"),a=Le("useNavigate"),s=t.useRef(!1);Ne(()=>{s.current=!0});let n=t.useCallback(async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(s.current,je),s.current&&("number"===typeof t?await e.navigate(t):await e.navigate(t,d({fromRouteId:a},n)))},[e,a]);return n}():function(){b(be(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(ie),{basename:a,navigator:s}=t.useContext(pe),{matches:n}=t.useContext(ge),{pathname:r}=ye(),l=JSON.stringify(Y(n)),i=t.useRef(!1);Ne(()=>{i.current=!0});let o=t.useCallback(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(i.current,je),!i.current)return;if("number"===typeof t)return void s.go(t);let o=Q(t,JSON.parse(l),r,"path"===n.relative);null==e&&"/"!==a&&(o.pathname="/"===o.pathname?a:$([a,o.pathname])),(n.replace?s.replace:s.push)(o,n.state,n)},[a,s,l,r,e]);return o}()}var ke=t.createContext(null);function Se(e){let{relative:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:s}=t.useContext(ge),{pathname:n}=ye(),r=JSON.stringify(Y(s));return t.useMemo(()=>Q(e,JSON.parse(r),n,"path"===a),[e,r,n,a])}function _e(e,a,s,n,r){b(be(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=t.useContext(pe),{matches:i}=t.useContext(ge),o=i[i.length-1],c=o?o.params:{},u=o?o.pathname:"/",m=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";ze(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,x=ye();if(a){var g;let e="string"===typeof a?k(a):a;b("/"===m||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(m)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(m,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=x;let f=p.pathname||"/",v=f;if("/"!==m){let e=m.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let j=C(e,{pathname:v});y(h||null!=j,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),y(null==j||void 0!==j[j.length-1].route.element||void 0!==j[j.length-1].route.Component||void 0!==j[j.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let N=De(j&&j.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:$([m,l.encodeLocation?l.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:$([m,l.encodeLocation?l.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),i,s,n,r);return a&&N?t.createElement(xe.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},N):N}function Ce(){let e=Fe(),a=te(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:l},"ErrorBoundary")," or"," ",t.createElement("code",{style:l},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},a),s?t.createElement("pre",{style:r},s):null,i)}var Ee=t.createElement(Ce,null),Pe=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(ve,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ee(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let a=void 0!==e?t.createElement(ge.Provider,{value:this.props.routeContext},t.createElement(fe.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?t.createElement(Te,{error:e},a):a}};Pe.contextType=ce;var Ae=new WeakMap;function Te(e){let{children:a,error:s}=e,{basename:n}=t.useContext(pe);if("object"===typeof s&&s&&"digest"in s&&"string"===typeof s.digest){let e=function(e){if(e.startsWith("".concat(ve,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(s.digest);if(e){let a=Ae.get(s);if(a)throw a;let r=ne(e.location,n);if(se&&!Ae.get(s)){if(!r.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(r.to,{replace:e.replace}));throw Ae.set(s,t),t}window.location.href=r.absoluteURL||r.to}return t.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(r.absoluteURL||r.to)})}}return a}function Me(e){let{routeContext:a,match:s,children:n}=e,r=t.useContext(ie);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),t.createElement(ge.Provider,{value:a},n)}function De(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!s)return null;if(s.errors)e=s.matches;else{if(0!==a.length||s.initialized||!(s.matches.length>0))return null;e=s.matches}}let r=e,l=null===s||void 0===s?void 0:s.errors;if(null!=l){let e=r.findIndex(e=>e.route.id&&void 0!==(null===l||void 0===l?void 0:l[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(l).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let i=!1,o=-1;if(s)for(let t=0;t<r.length;t++){let e=r[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=t),e.route.id){let{loaderData:t,errors:a}=s,n=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||n){i=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}let c=s&&n?(e,t)=>{var a,r;n(e,{location:s.location,params:null!==(a=null===(r=s.matches)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.params)&&void 0!==a?a:{},unstable_pattern:ae(s.matches),errorInfo:t})}:void 0;return r.reduceRight((e,n,d)=>{let u,m=!1,h=null,p=null;s&&(u=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||Ee,i&&(o<0&&0===d?(ze("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,p=null):o===d&&(m=!0,p=n.route.hydrateFallbackElement||null)));let x=a.concat(r.slice(0,d+1)),g=()=>{let a;return a=u?h:m?p:n.route.Component?t.createElement(n.route.Component,null):n.route.element?n.route.element:e,t.createElement(Me,{match:n,routeContext:{outlet:e,matches:x,isDataRoute:null!=s},children:a})};return s&&(n.route.ErrorBoundary||n.route.errorElement||0===d)?t.createElement(Pe,{location:s.location,revalidation:s.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:c}):g()},null)}function Re(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ie(e){let a=t.useContext(ie);return b(a,Re(e)),a}function Oe(e){let a=t.useContext(oe);return b(a,Re(e)),a}function Le(e){let a=function(e){let a=t.useContext(ge);return b(a,Re(e)),a}(e),s=a.matches[a.matches.length-1];return b(s.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),s.route.id}function Fe(){var e;let a=t.useContext(fe),s=Oe("useRouteError"),n=Le("useRouteError");return void 0!==a?a:null===(e=s.errors)||void 0===e?void 0:e[n]}var Be={};function ze(e,t,a){t||Be[e]||(Be[e]=!0,y(!1,a))}var He={};function qe(e,t){e||He[t]||(He[t]=!0,console.warn(t))}s.useOptimistic;t.memo(function(e){let{routes:t,future:a,state:s,onError:n}=e;return _e(t,void 0,s,n,a)});function Ue(e){let{to:a,replace:s,state:n,relative:r}=e;b(be(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=t.useContext(pe);y(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=t.useContext(ge),{pathname:o}=ye(),c=we(),d=Q(a,Y(i),o,"path"===r),u=JSON.stringify(d);return t.useEffect(()=>{c(JSON.parse(u),{replace:s,state:n,relative:r})},[c,u,r,s,n]),null}function We(e){return function(e){let a=t.useContext(ge).outlet;return t.useMemo(()=>a&&t.createElement(ke.Provider,{value:e},a),[a,e])}(e.context)}function Ve(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ge(e){let{basename:a="/",children:s=null,location:n,navigationType:r="POP",navigator:l,static:i=!1,unstable_useTransitions:o}=e;b(!be(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=a.replace(/^\/*/,"/"),d=t.useMemo(()=>({basename:c,navigator:l,static:i,unstable_useTransitions:o,future:{}}),[c,l,i,o]);"string"===typeof n&&(n=k(n));let{pathname:u="/",search:m="",hash:h="",state:p=null,key:x="default"}=n,g=t.useMemo(()=>{let e=U(u,c);return null==e?null:{location:{pathname:e,search:m,hash:h,state:p,key:x},navigationType:r}},[c,u,m,h,p,x,r]);return y(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(u).concat(m).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:t.createElement(pe.Provider,{value:d},t.createElement(xe.Provider,{children:s,value:g}))}function Ke(e){let{children:t,location:a}=e;return _e(Ye(t),a)}t.Component;function Ye(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[];return t.Children.forEach(e,(e,n)=>{if(!t.isValidElement(e))return;let r=[...a,n];if(e.type===t.Fragment)return void s.push.apply(s,Ye(e.props.children,r));b(e.type===Ve,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let l={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=Ye(e.props.children,r)),s.push(l)}),s}var Qe="get",$e="application/x-www-form-urlencoded";function Je(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Xe=null;var Ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function et(e){return null==e||Ze.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat($e,'"')),null)}function tt(e,t){let a,s,n,r,l;if(Je(i=e)&&"form"===i.tagName.toLowerCase()){let l=e.getAttribute("action");s=l?U(l,t):null,a=e.getAttribute("method")||Qe,n=et(e.getAttribute("enctype"))||$e,r=new FormData(e)}else if(function(e){return Je(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Je(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let l=e.form;if(null==l)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||l.getAttribute("action");if(s=i?U(i,t):null,a=e.getAttribute("formmethod")||l.getAttribute("method")||Qe,n=et(e.getAttribute("formenctype"))||et(l.getAttribute("enctype"))||$e,r=new FormData(l,e),!function(){if(null===Xe)try{new FormData(document.createElement("form"),0),Xe=!1}catch(e){Xe=!0}return Xe}()){let{name:t,type:a,value:s}=e;if("image"===a){let e=t?"".concat(t,"."):"";r.append("".concat(e,"x"),"0"),r.append("".concat(e,"y"),"0")}else t&&r.append(t,s)}}else{if(Je(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Qe,s=null,n=$e,l=e}var i;return r&&"text/plain"===n&&(l=r,r=void 0),{action:s,method:a.toLowerCase(),encType:n,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function at(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function st(e,t,a,s){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return a?n.pathname.endsWith("/")?n.pathname="".concat(n.pathname,"_.").concat(s):n.pathname="".concat(n.pathname,".").concat(s):"/"===n.pathname?n.pathname="_root.".concat(s):t&&"/"===U(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(s):n.pathname="".concat(n.pathname.replace(/\/$/,""),".").concat(s),n}async function nt(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rt(e){return null!=e&&"string"===typeof e.page}function lt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function it(e,t,a,s,n,r){let l=(e,t)=>!a[t]||e.route.id!==a[t].route.id,i=(e,t)=>{var s;return a[t].pathname!==e.pathname||(null===(s=a[t].route.path)||void 0===s?void 0:s.endsWith("*"))&&a[t].params["*"]!==e.params["*"]};return"assets"===r?t.filter((e,t)=>l(e,t)||i(e,t)):"data"===r?t.filter((t,r)=>{let o=s.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(l(t,r)||i(t,r))return!0;if(t.route.shouldRevalidate){var c;let s=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:(null===(c=a[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof s)return s}return!0}):[]}function ot(e,t){let{includeHydrateFallback:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s=e.map(e=>{let s=t.routes[e.route.id];if(!s)return[];let n=[s.module];return s.clientActionModule&&(n=n.concat(s.clientActionModule)),s.clientLoaderModule&&(n=n.concat(s.clientLoaderModule)),a&&s.hydrateFallbackModule&&(n=n.concat(s.hydrateFallbackModule)),s.imports&&(n=n.concat(s.imports)),n}).flat(1),[...new Set(s)];var s}function ct(e,t){let a=new Set,s=new Set(t);return e.reduce((e,n)=>{if(t&&!rt(n)&&"script"===n.as&&n.href&&s.has(n.href))return e;let r=JSON.stringify(function(e){let t={},a=Object.keys(e).sort();for(let s of a)t[s]=e[s];return t}(n));return a.has(r)||(a.add(r),e.push({key:r,link:n})),e},[])}function dt(e,t){return"lazy"===e.mode&&!0===t}function ut(){let e=t.useContext(ie);return at(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mt(){let e=t.useContext(oe);return at(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ht=t.createContext(void 0);function pt(){let e=t.useContext(ht);return at(e,"You must render this element inside a <HydratedRouter> element"),e}function xt(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function gt(e,t,a){if(a&&!yt)return[e[0]];if(t){let a=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,a+1)}return e}ht.displayName="FrameworkContext";function ft(e){let{page:a}=e,s=r(e,m),{router:n}=ut(),l=t.useMemo(()=>C(n.routes,a,n.basename),[n.routes,a,n.basename]);return l?t.createElement(bt,d({page:a,matches:l},s)):null}function vt(e){let{manifest:a,routeModules:s}=pt(),[n,r]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,a){return ct((await Promise.all(e.map(async e=>{let s=t.routes[e.route.id];if(s){let e=await nt(s,a);return e.links?e.links():[]}return[]}))).flat(1).filter(lt).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,a,s).then(e=>{t||r(e)}),()=>{t=!0}},[e,a,s]),n}function bt(e){let{page:a,matches:s}=e,n=r(e,h),l=ye(),{future:i,manifest:o,routeModules:c}=pt(),{basename:u}=ut(),{loaderData:m,matches:p}=mt(),x=t.useMemo(()=>it(a,s,p,o,l,"data"),[a,s,p,o,l]),g=t.useMemo(()=>it(a,s,p,o,l,"assets"),[a,s,p,o,l]),f=t.useMemo(()=>{if(a===l.pathname+l.search+l.hash)return[];let e=new Set,t=!1;if(s.forEach(a=>{var s;let n=o.routes[a.route.id];n&&n.hasLoader&&(!x.some(e=>e.route.id===a.route.id)&&a.route.id in m&&null!==(s=c[a.route.id])&&void 0!==s&&s.shouldRevalidate||n.hasClientLoader?t=!0:e.add(a.route.id))}),0===e.size)return[];let n=st(a,u,i.unstable_trailingSlashAwareDataRequests,"data");return t&&e.size>0&&n.searchParams.set("_routes",s.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[n.pathname+n.search]},[u,i.unstable_trailingSlashAwareDataRequests,m,l,o,x,s,a,c]),v=t.useMemo(()=>ot(g,o),[g,o]),b=vt(g);return t.createElement(t.Fragment,null,f.map(e=>t.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},n))),v.map(e=>t.createElement("link",d({key:e,rel:"modulepreload",href:e},n))),b.map(e=>{var a;let{key:s,link:r}=e;return t.createElement("link",d(d({key:s,nonce:n.nonce},r),{},{crossOrigin:null!==(a=r.crossOrigin)&&void 0!==a?a:n.crossOrigin}))}))}var yt=!1;function jt(e){let{manifest:a,serverHandoffString:s,isSpaMode:n,renderMeta:l,routeDiscovery:i,ssr:o}=pt(),{router:c,static:m,staticContext:h}=ut(),{matches:p}=mt(),x=de(),g=dt(i,o);l&&(l.didRenderScripts=!0);let f=gt(p,null,n);t.useEffect(()=>{0},[]);let v=t.useMemo(()=>{var n;if(x)return null;let l=h?"window.__reactRouterContext = ".concat(s,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=m?"".concat(null!==a.hmr&&void 0!==n&&n.runtime?"import ".concat(JSON.stringify(a.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(a.url)),";\n").concat(f.map((e,t)=>{let s="route".concat(t),n=a.routes[e.route.id];at(n,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:r,clientLoaderModule:l,clientMiddlewareModule:i,hydrateFallbackModule:o,module:c}=n,d=[...r?[{module:r,varName:"".concat(s,"_clientAction")}]:[],...l?[{module:l,varName:"".concat(s,"_clientLoader")}]:[],...i?[{module:i,varName:"".concat(s,"_clientMiddleware")}]:[],...o?[{module:o,varName:"".concat(s,"_HydrateFallback")}]:[],{module:c,varName:"".concat(s,"_main")}];return 1===d.length?"import * as ".concat(s," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(s," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:a}=e,s=r(e,u),n=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(l.pop();l.length>0;)i.push("/".concat(l.join("/"))),l.pop();i.forEach(e=>{let a=C(t.routes,e,t.basename);a&&a.forEach(e=>n.add(e.route.id))});let o=[...n].reduce((e,t)=>Object.assign(e,{[t]:s.routes[t]}),{});return d(d({},s),{},{routes:o,sri:!!a||void 0})}(a,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(f.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(a.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),t.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),b=yt||x?[]:(a.entry.imports.concat(ot(f,a,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let j="object"===typeof a.sri?a.sri:{};return qe(!x,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),yt||x?null:t.createElement(t.Fragment,null,"object"===typeof a.sri?t.createElement("script",d(d({},e),{},{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:j})}})):null,g?null:t.createElement("link",{rel:"modulepreload",href:a.url,crossOrigin:e.crossOrigin,integrity:j[a.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:a.entry.module,crossOrigin:e.crossOrigin,integrity:j[a.entry.module],suppressHydrationWarning:!0}),b.map(a=>t.createElement("link",{key:a,rel:"modulepreload",href:a,crossOrigin:e.crossOrigin,integrity:j[a],suppressHydrationWarning:!0})),v)}function Nt(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function wt(e){let{error:a,isOutsideRemixApp:s}=e;console.error(a);let n,r=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(te(a))return t.createElement(kt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},a.status," ",a.statusText),r);if(a instanceof Error)0;else{let e=null==a?"Unknown Error":"object"===typeof a&&"toString"in a?a.toString():JSON.stringify(a);new Error(e)}return t.createElement(kt,{title:"Application Error!",isOutsideRemixApp:s},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),r)}function kt(e){var a;let{title:s,renderScripts:n,isOutsideRemixApp:r,children:l}=e,{routeModules:i}=pt();return null!==i.root&&void 0!==a&&a.Layout&&!r?l:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,s)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},l,n?t.createElement(jt,null):null)))}var St="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{St&&(window.__reactRouterVersion="7.13.0")}catch($k){}function _t(e){let{basename:a,children:s,unstable_useTransitions:n,window:r}=e,l=t.useRef();null==l.current&&(l.current=v({window:r,v5Compat:!0}));let i=l.current,[o,c]=t.useState({action:i.action,location:i.location}),d=t.useCallback(e=>{!1===n?c(e):t.startTransition(()=>c(e))},[n]);return t.useLayoutEffect(()=>i.listen(d),[i,d]),t.createElement(Ge,{basename:a,children:s,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var Ct=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=t.forwardRef(function(e,a){let{onClick:s,discover:n="render",prefetch:l="none",relative:i,reloadDocument:o,replace:c,state:u,target:m,to:h,preventScrollReset:x,viewTransition:g,unstable_defaultShouldRevalidate:f}=e,v=r(e,p),{basename:y,unstable_useTransitions:j}=t.useContext(pe),N="string"===typeof h&&Ct.test(h),k=ne(h,y);h=k.to;let S=function(e){let{relative:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(be(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=t.useContext(pe),{hash:r,pathname:l,search:i}=Se(e,{relative:a}),o=l;return"/"!==s&&(o="/"===l?s:$([s,l])),n.createHref({pathname:o,search:i,hash:r})}(h,{relative:i}),[_,C,E]=function(e,a){let s=t.useContext(ht),[n,r]=t.useState(!1),[l,i]=t.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=a,h=t.useRef(null);t.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(n){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[n]);let p=()=>{r(!0)},x=()=>{r(!1),i(!1)};return s?"intent"!==e?[l,h,{}]:[l,h,{onFocus:xt(o,p),onBlur:xt(c,x),onMouseEnter:xt(d,p),onMouseLeave:xt(u,x),onTouchStart:xt(m,p)}]:[!1,h,{}]}(l,v),P=function(e){let{target:a,replace:s,state:n,preventScrollReset:r,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=we(),u=ye(),m=Se(e,{relative:l});return t.useCallback(h=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(h,a)){h.preventDefault();let a=void 0!==s?s:w(u)===w(m),p=()=>d(e,{replace:a,state:n,preventScrollReset:r,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:o});c?t.startTransition(()=>p()):p()}},[u,d,m,s,n,a,e,r,l,i,o,c])}(h,{replace:c,state:u,target:m,preventScrollReset:x,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:f,unstable_useTransitions:j});let A=t.createElement("a",d(d(d({},v),E),{},{href:k.absoluteURL||S,onClick:k.isExternal||o?s:function(e){s&&s(e),e.defaultPrevented||P(e)},ref:Nt(a,C),target:m,"data-discover":N||"render"!==n?void 0:"true"}));return _&&!N?t.createElement(t.Fragment,null,A,t.createElement(ft,{page:S})):A});Et.displayName="Link";var Pt=t.forwardRef(function(e,a){let{"aria-current":s="page",caseSensitive:n=!1,className:l="",end:i=!1,style:o,to:c,viewTransition:u,children:m}=e,h=r(e,x),p=Se(c,{relative:h.relative}),g=ye(),f=t.useContext(oe),{navigator:v,basename:y}=t.useContext(pe),j=null!=f&&function(e){let{relative:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.useContext(ue);b(null!=s,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Mt("useViewTransitionState"),r=Se(e,{relative:a});if(!s.isTransitioning)return!1;let l=U(s.currentLocation.pathname,n)||s.currentLocation.pathname,i=U(s.nextLocation.pathname,n)||s.nextLocation.pathname;return null!=z(r.pathname,i)||null!=z(r.pathname,l)}(p)&&!0===u,N=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,w=g.pathname,k=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(w=w.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&y&&(k=U(k,y)||k);const S="/"!==N&&N.endsWith("/")?N.length-1:N.length;let _,C=w===N||!i&&w.startsWith(N)&&"/"===w.charAt(S),E=null!=k&&(k===N||!i&&k.startsWith(N)&&"/"===k.charAt(N.length)),P={isActive:C,isPending:E,isTransitioning:j},A=C?s:void 0;_="function"===typeof l?l(P):[l,C?"active":null,E?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof o?o(P):o;return t.createElement(Et,d(d({},h),{},{"aria-current":A,className:_,ref:a,style:T,to:c,viewTransition:u}),"function"===typeof m?m(P):m)});Pt.displayName="NavLink";var At=t.forwardRef((e,a)=>{let{discover:s="render",fetcherKey:n,navigate:l,reloadDocument:i,replace:o,state:c,method:u=Qe,action:m,onSubmit:h,relative:p,preventScrollReset:x,viewTransition:f,unstable_defaultShouldRevalidate:v}=e,y=r(e,g),{unstable_useTransitions:j}=t.useContext(pe),N=It(),k=function(e){let{relative:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:s}=t.useContext(pe),n=t.useContext(ge);b(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),l=d({},Se(e||".",{relative:a})),i=ye();if(null==e){l.search=i.search;let e=new URLSearchParams(l.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let a=e.toString();l.search=a?"?".concat(a):""}}e&&"."!==e||!r.route.index||(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index");"/"!==s&&(l.pathname="/"===l.pathname?s:$([s,l.pathname]));return w(l)}(m,{relative:p}),S="get"===u.toLowerCase()?"get":"post",_="string"===typeof m&&Ct.test(m);return t.createElement("form",d(d({ref:a,method:S,action:k,onSubmit:i?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let a=e.nativeEvent.submitter,s=(null===a||void 0===a?void 0:a.getAttribute("formmethod"))||u,r=()=>N(a||e.currentTarget,{fetcherKey:n,method:s,navigate:l,replace:o,state:c,relative:p,preventScrollReset:x,viewTransition:f,unstable_defaultShouldRevalidate:v});j&&!1!==l?t.startTransition(()=>r()):r()}},y),{},{"data-discover":_||"render"!==s?void 0:"true"}))});function Tt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Mt(e){let a=t.useContext(ie);return b(a,Tt(e)),a}At.displayName="Form";var Dt=0,Rt=()=>"__".concat(String(++Dt),"__");function It(){let{router:e}=Mt("useSubmit"),{basename:a}=t.useContext(pe),s=Le("useRouteId"),n=e.fetch,r=e.navigate;return t.useCallback(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:l,method:i,encType:o,formData:c,body:d}=tt(e,a);if(!1===t.navigate){let e=t.fetcherKey||Rt();await n(e,s,t.action||l,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:d,formMethod:t.method||i,formEncType:t.encType||o,flushSync:t.flushSync})}else await r(t.action||l,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:d,formMethod:t.method||i,formEncType:t.encType||o,replace:t.replace,state:t.state,fromRouteId:s,flushSync:t.flushSync,viewTransition:t.viewTransition})},[n,r,a,s])}var Ot=a(119);const Lt=["message"];const Ft=Array(12).fill(0),Bt=e=>{let{visible:a,className:s}=e;return t.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":a},t.createElement("div",{className:"sonner-spinner"},Ft.map((e,a)=>t.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(a)}))))},zt=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ht=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},t.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qt=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ut=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Wt=t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},t.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let Vt=1;const Gt=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:a}=e,s=r(e,Lt),n="number"===typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Vt++,l=this.toasts.find(e=>e.id===n),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),l?this.toasts=this.toasts.map(t=>t.id===n?(this.publish(d(d(d({},t),e),{},{id:n,title:a})),d(d(d({},t),e),{},{id:n,dismissible:i,title:a})):t):this.addToast(d(d({title:a},s),{},{dismissible:i,id:n})),n},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create(d(d({},t),{},{message:e})),this.error=(e,t)=>this.create(d(d({},t),{},{message:e,type:"error"})),this.success=(e,t)=>this.create(d(d({},t),{},{type:"success",message:e})),this.info=(e,t)=>this.create(d(d({},t),{},{type:"info",message:e})),this.warning=(e,t)=>this.create(d(d({},t),{},{type:"warning",message:e})),this.loading=(e,t)=>this.create(d(d({},t),{},{type:"loading",message:e})),this.promise=(e,a)=>{if(!a)return;let s;void 0!==a.loading&&(s=this.create(d(d({},a),{},{promise:e,type:"loading",message:a.loading,description:"function"!==typeof a.description?a.description:void 0})));const n=Promise.resolve(e instanceof Function?e():e);let r,l=void 0!==s;const i=n.then(async e=>{r=["resolve",e];if(t.isValidElement(e))l=!1,this.create({id:s,type:"default",message:e});else if(Kt(e)&&!e.ok){l=!1;const n="function"===typeof a.error?await a.error("HTTP error! status: ".concat(e.status)):a.error,r="function"===typeof a.description?await a.description("HTTP error! status: ".concat(e.status)):a.description,i="object"===typeof n&&!t.isValidElement(n)?n:{message:n};this.create(d({id:s,type:"error",description:r},i))}else if(e instanceof Error){l=!1;const n="function"===typeof a.error?await a.error(e):a.error,r="function"===typeof a.description?await a.description(e):a.description,i="object"===typeof n&&!t.isValidElement(n)?n:{message:n};this.create(d({id:s,type:"error",description:r},i))}else if(void 0!==a.success){l=!1;const n="function"===typeof a.success?await a.success(e):a.success,r="function"===typeof a.description?await a.description(e):a.description,i="object"===typeof n&&!t.isValidElement(n)?n:{message:n};this.create(d({id:s,type:"success",description:r},i))}}).catch(async e=>{if(r=["reject",e],void 0!==a.error){l=!1;const n="function"===typeof a.error?await a.error(e):a.error,r="function"===typeof a.description?await a.description(e):a.description,i="object"===typeof n&&!t.isValidElement(n)?n:{message:n};this.create(d({id:s,type:"error",description:r},i))}}).finally(()=>{l&&(this.dismiss(s),s=void 0),null==a.finally||a.finally.call(a)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!==typeof s&&"number"!==typeof s?{unwrap:o}:Object.assign(s,{unwrap:o})},this.custom=(e,t)=>{const a=(null==t?void 0:t.id)||Vt++;return this.create(d({jsx:e(a),id:a},t)),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Kt=e=>e&&"object"===typeof e&&"ok"in e&&"boolean"===typeof e.ok&&"status"in e&&"number"===typeof e.status,Yt=(e,t)=>{const a=(null==t?void 0:t.id)||Vt++;return Gt.addToast(d(d({title:e},t),{},{id:a})),a},Qt=Object.assign(Yt,{success:Gt.success,info:Gt.info,warning:Gt.warning,error:Gt.error,custom:Gt.custom,message:Gt.message,promise:Gt.promise,dismiss:Gt.dismiss,loading:Gt.loading},{getHistory:()=>Gt.toasts,getToasts:()=>Gt.getActiveToasts()});function $t(e){return void 0!==e.label}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Jt=3,Xt=14;function Zt(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}const ea=e=>{var a,s,n,r,l,i,o,c,u;const{invert:m,toast:h,unstyled:p,interacting:x,setHeights:g,visibleToasts:f,heights:v,index:b,toasts:y,expanded:j,removeToast:N,defaultRichColors:w,closeButton:k,style:S,cancelButtonStyle:_,actionButtonStyle:C,className:E="",descriptionClassName:P="",duration:A,position:T,gap:M,expandByDefault:D,classNames:R,icons:I,closeButtonAriaLabel:O="Close toast"}=e,[L,F]=t.useState(null),[B,z]=t.useState(null),[H,q]=t.useState(!1),[U,W]=t.useState(!1),[V,G]=t.useState(!1),[K,Y]=t.useState(!1),[Q,$]=t.useState(!1),[J,X]=t.useState(0),[Z,ee]=t.useState(0),te=t.useRef(h.duration||A||4e3),ae=t.useRef(null),se=t.useRef(null),ne=0===b,re=b+1<=f,le=h.type,ie=!1!==h.dismissible,oe=h.className||"",ce=h.descriptionClassName||"",de=t.useMemo(()=>v.findIndex(e=>e.toastId===h.id)||0,[v,h.id]),ue=t.useMemo(()=>{var e;return null!=(e=h.closeButton)?e:k},[h.closeButton,k]),me=t.useMemo(()=>h.duration||A||4e3,[h.duration,A]),he=t.useRef(0),pe=t.useRef(0),xe=t.useRef(0),ge=t.useRef(null),[fe,ve]=T.split("-"),be=t.useMemo(()=>v.reduce((e,t,a)=>a>=de?e:e+t.height,0),[v,de]),ye=(()=>{const[e,a]=t.useState(document.hidden);return t.useEffect(()=>{const e=()=>{a(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),je=h.invert||m,Ne="loading"===le;pe.current=t.useMemo(()=>de*M+be,[de,be]),t.useEffect(()=>{te.current=me},[me]),t.useEffect(()=>{q(!0)},[]),t.useEffect(()=>{const e=se.current;if(e){const t=e.getBoundingClientRect().height;return ee(t),g(e=>[{toastId:h.id,height:t,position:h.position},...e]),()=>g(e=>e.filter(e=>e.toastId!==h.id))}},[g,h.id]),t.useLayoutEffect(()=>{if(!H)return;const e=se.current,t=e.style.height;e.style.height="auto";const a=e.getBoundingClientRect().height;e.style.height=t,ee(a),g(e=>e.find(e=>e.toastId===h.id)?e.map(e=>e.toastId===h.id?d(d({},e),{},{height:a}):e):[{toastId:h.id,height:a,position:h.position},...e])},[H,h.title,h.description,g,h.id,h.jsx,h.action,h.cancel]);const we=t.useCallback(()=>{W(!0),X(pe.current),g(e=>e.filter(e=>e.toastId!==h.id)),setTimeout(()=>{N(h)},200)},[h,N,g,pe]);t.useEffect(()=>{if(h.promise&&"loading"===le||h.duration===1/0||"loading"===h.type)return;let e;return j||x||ye?(()=>{if(xe.current<he.current){const e=(new Date).getTime()-he.current;te.current=te.current-e}xe.current=(new Date).getTime()})():te.current!==1/0&&(he.current=(new Date).getTime(),e=setTimeout(()=>{null==h.onAutoClose||h.onAutoClose.call(h,h),we()},te.current)),()=>clearTimeout(e)},[j,x,h,le,ye,we]),t.useEffect(()=>{h.delete&&(we(),null==h.onDismiss||h.onDismiss.call(h,h))},[we,h.delete]);const ke=h.icon||(null==I?void 0:I[le])||(e=>{switch(e){case"success":return zt;case"info":return qt;case"warning":return Ht;case"error":return Ut;default:return null}})(le);var Se,_e;return t.createElement("li",{tabIndex:0,ref:se,className:Zt(E,oe,null==R?void 0:R.toast,null==h||null==(a=h.classNames)?void 0:a.toast,null==R?void 0:R.default,null==R?void 0:R[le],null==h||null==(s=h.classNames)?void 0:s[le]),"data-sonner-toast":"","data-rich-colors":null!=(Se=h.richColors)?Se:w,"data-styled":!Boolean(h.jsx||h.unstyled||p),"data-mounted":H,"data-promise":Boolean(h.promise),"data-swiped":Q,"data-removed":U,"data-visible":re,"data-y-position":fe,"data-x-position":ve,"data-index":b,"data-front":ne,"data-swiping":V,"data-dismissible":ie,"data-type":le,"data-invert":je,"data-swipe-out":K,"data-swipe-direction":B,"data-expanded":Boolean(j||D&&H),"data-testid":h.testId,style:d(d({"--index":b,"--toasts-before":b,"--z-index":y.length-b,"--offset":"".concat(U?J:pe.current,"px"),"--initial-height":D?"auto":"".concat(Z,"px")},S),h.style),onDragEnd:()=>{G(!1),F(null),ge.current=null},onPointerDown:e=>{2!==e.button&&!Ne&&ie&&(ae.current=new Date,X(pe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(G(!0),ge.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,a;if(K||!ie)return;ge.current=null;const s=Number((null==(e=se.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),n=Number((null==(t=se.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=(new Date).getTime()-(null==(a=ae.current)?void 0:a.getTime()),l="x"===L?s:n,i=Math.abs(l)/r;if(Math.abs(l)>=45||i>.11)return X(pe.current),null==h.onDismiss||h.onDismiss.call(h,h),z("x"===L?s>0?"right":"left":n>0?"down":"up"),we(),void Y(!0);var o,c;null==(o=se.current)||o.style.setProperty("--swipe-amount-x","0px"),null==(c=se.current)||c.style.setProperty("--swipe-amount-y","0px"),$(!1),G(!1),F(null)},onPointerMove:t=>{var a,s,n;if(!ge.current||!ie)return;if((null==(a=window.getSelection())?void 0:a.toString().length)>0)return;const r=t.clientY-ge.current.y,l=t.clientX-ge.current.x;var i;const o=null!=(i=e.swipeDirections)?i:function(e){const[t,a]=e.split("-"),s=[];return t&&s.push(t),a&&s.push(a),s}(T);!L&&(Math.abs(l)>1||Math.abs(r)>1)&&F(Math.abs(l)>Math.abs(r)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===L){if(o.includes("top")||o.includes("bottom"))if(o.includes("top")&&r<0||o.includes("bottom")&&r>0)c.y=r;else{const e=r*d(r);c.y=Math.abs(e)<Math.abs(r)?e:r}}else if("x"===L&&(o.includes("left")||o.includes("right")))if(o.includes("left")&&l<0||o.includes("right")&&l>0)c.x=l;else{const e=l*d(l);c.x=Math.abs(e)<Math.abs(l)?e:l}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&$(!0),null==(s=se.current)||s.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(n=se.current)||n.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},ue&&!h.jsx&&"loading"!==le?t.createElement("button",{"aria-label":O,"data-disabled":Ne,"data-close-button":!0,onClick:Ne||!ie?()=>{}:()=>{we(),null==h.onDismiss||h.onDismiss.call(h,h)},className:Zt(null==R?void 0:R.closeButton,null==h||null==(n=h.classNames)?void 0:n.closeButton)},null!=(_e=null==I?void 0:I.close)?_e:Wt):null,(le||h.icon||h.promise)&&null!==h.icon&&(null!==(null==I?void 0:I[le])||h.icon)?t.createElement("div",{"data-icon":"",className:Zt(null==R?void 0:R.icon,null==h||null==(r=h.classNames)?void 0:r.icon)},h.promise||"loading"===h.type&&!h.icon?h.icon||function(){var e,a;return(null==I?void 0:I.loading)?t.createElement("div",{className:Zt(null==R?void 0:R.loader,null==h||null==(a=h.classNames)?void 0:a.loader,"sonner-loader"),"data-visible":"loading"===le},I.loading):t.createElement(Bt,{className:Zt(null==R?void 0:R.loader,null==h||null==(e=h.classNames)?void 0:e.loader),visible:"loading"===le})}():null,"loading"!==h.type?ke:null):null,t.createElement("div",{"data-content":"",className:Zt(null==R?void 0:R.content,null==h||null==(l=h.classNames)?void 0:l.content)},t.createElement("div",{"data-title":"",className:Zt(null==R?void 0:R.title,null==h||null==(i=h.classNames)?void 0:i.title)},h.jsx?h.jsx:"function"===typeof h.title?h.title():h.title),h.description?t.createElement("div",{"data-description":"",className:Zt(P,ce,null==R?void 0:R.description,null==h||null==(o=h.classNames)?void 0:o.description)},"function"===typeof h.description?h.description():h.description):null),t.isValidElement(h.cancel)?h.cancel:h.cancel&&$t(h.cancel)?t.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||_,onClick:e=>{$t(h.cancel)&&ie&&(null==h.cancel.onClick||h.cancel.onClick.call(h.cancel,e),we())},className:Zt(null==R?void 0:R.cancelButton,null==h||null==(c=h.classNames)?void 0:c.cancelButton)},h.cancel.label):null,t.isValidElement(h.action)?h.action:h.action&&$t(h.action)?t.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:e=>{$t(h.action)&&(null==h.action.onClick||h.action.onClick.call(h.action,e),e.defaultPrevented||we())},className:Zt(null==R?void 0:R.actionButton,null==h||null==(u=h.classNames)?void 0:u.actionButton)},h.action.label):null)};function ta(){if("undefined"===typeof window)return"ltr";if("undefined"===typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function aa(e,t){const a={};return[e,t].forEach((e,t)=>{const s=1===t,n=s?"--mobile-offset":"--offset",r=s?"16px":"24px";function l(e){["top","right","bottom","left"].forEach(t=>{a["".concat(n,"-").concat(t)]="number"===typeof e?"".concat(e,"px"):e})}"number"===typeof e||"string"===typeof e?l(e):"object"===typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?a["".concat(n,"-").concat(t)]=r:a["".concat(n,"-").concat(t)]="number"===typeof e[t]?"".concat(e[t],"px"):e[t]}):l(r)}),a}const sa=t.forwardRef(function(e,a){const{id:s,invert:n,position:r="bottom-right",hotkey:l=["altKey","KeyT"],expand:i,closeButton:o,className:c,offset:u,mobileOffset:m,theme:h="light",richColors:p,duration:x,style:g,visibleToasts:f=Jt,toastOptions:v,dir:b=ta(),gap:y=Xt,icons:j,containerAriaLabel:N="Notifications"}=e,[w,k]=t.useState([]),S=t.useMemo(()=>s?w.filter(e=>e.toasterId===s):w.filter(e=>!e.toasterId),[w,s]),_=t.useMemo(()=>Array.from(new Set([r].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,r]),[C,E]=t.useState([]),[P,A]=t.useState(!1),[T,M]=t.useState(!1),[D,R]=t.useState("system"!==h?h:"undefined"!==typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=t.useRef(null),O=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=t.useRef(null),F=t.useRef(!1),B=t.useCallback(e=>{k(t=>{var a;return(null==(a=t.find(t=>t.id===e.id))?void 0:a.delete)||Gt.dismiss(e.id),t.filter(t=>{let{id:a}=t;return a!==e.id})})},[]);return t.useEffect(()=>Gt.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?d(d({},t),{},{delete:!0}):t))}):setTimeout(()=>{Ot.flushSync(()=>{k(t=>{const a=t.findIndex(t=>t.id===e.id);return-1!==a?[...t.slice(0,a),d(d({},t[a]),e),...t.slice(a+1)]:[e,...t]})})})}),[w]),t.useEffect(()=>{if("system"!==h)return void R(h);if("system"===h&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),"undefined"===typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;R(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{R(t?"dark":"light")}catch($k){console.error($k)}})}},[h]),t.useEffect(()=>{w.length<=1&&A(!1)},[w]),t.useEffect(()=>{const e=e=>{var t;var a;l.every(t=>e[t]||e.code===t)&&(A(!0),null==(a=I.current)||a.focus());"Escape"!==e.code||document.activeElement!==I.current&&!(null==(t=I.current)?void 0:t.contains(document.activeElement))||A(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l]),t.useEffect(()=>{if(I.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,F.current=!1)}},[I.current]),t.createElement("section",{ref:a,"aria-label":"".concat(N," ").concat(O),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((a,s)=>{var r;const[l,h]=a.split("-");return S.length?t.createElement("ol",{key:a,dir:"auto"===b?ta():b,tabIndex:-1,ref:I,className:c,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":l,"data-x-position":h,style:d(d({"--front-toast-height":"".concat((null==(r=C[0])?void 0:r.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(y,"px")},g),aa(u,m)),onBlur:e=>{F.current&&!e.currentTarget.contains(e.relatedTarget)&&(F.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||F.current||(F.current=!0,L.current=e.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{T||A(!1)},onDragEnd:()=>A(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||M(!0)},onPointerUp:()=>M(!1)},S.filter(e=>!e.position&&0===s||e.position===a).map((s,r)=>{var l,c;return t.createElement(ea,{key:s.id,icons:j,index:r,toast:s,defaultRichColors:p,duration:null!=(l=null==v?void 0:v.duration)?l:x,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:f,closeButton:null!=(c=null==v?void 0:v.closeButton)?c:o,interacting:T,position:a,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,closeButtonAriaLabel:null==v?void 0:v.closeButtonAriaLabel,removeToast:B,toasts:S.filter(e=>e.position==s.position),heights:C.filter(e=>e.position==s.position),setHeights:E,expandByDefault:i,gap:y,expanded:P,swipeDirections:e.swipeDirections})})):null}))}),na=e=>"string"===typeof e,ra=()=>{let e,t;const a=new Promise((a,s)=>{e=a,t=s});return a.resolve=e,a.reject=t,a},la=e=>null==e?"":""+e,ia=/###/g,oa=e=>e&&e.indexOf("###")>-1?e.replace(ia,"."):e,ca=e=>!e||na(e),da=(e,t,a)=>{const s=na(t)?t.split("."):t;let n=0;for(;n<s.length-1;){if(ca(e))return{};const t=oa(s[n]);!e[t]&&a&&(e[t]=new a),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++n}return ca(e)?{}:{obj:e,k:oa(s[n])}},ua=(e,t,a)=>{const{obj:s,k:n}=da(e,t,Object);if(void 0!==s||1===t.length)return void(s[n]=a);let r=t[t.length-1],l=t.slice(0,t.length-1),i=da(e,l,Object);for(;void 0===i.obj&&l.length;){var o;r="".concat(l[l.length-1],".").concat(r),l=l.slice(0,l.length-1),i=da(e,l,Object),null!==(o=i)&&void 0!==o&&o.obj&&"undefined"!==typeof i.obj["".concat(i.k,".").concat(r)]&&(i.obj=void 0)}i.obj["".concat(i.k,".").concat(r)]=a},ma=(e,t)=>{const{obj:a,k:s}=da(e,t);if(a&&Object.prototype.hasOwnProperty.call(a,s))return a[s]},ha=(e,t,a)=>{for(const s in t)"__proto__"!==s&&"constructor"!==s&&(s in e?na(e[s])||e[s]instanceof String||na(t[s])||t[s]instanceof String?a&&(e[s]=t[s]):ha(e[s],t[s],a):e[s]=t[s]);return e},pa=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ga=e=>na(e)?e.replace(/[&<>"'\/]/g,e=>xa[e]):e;const fa=[" ",",","?","!",";"],va=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const a=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,a),this.regExpQueue.push(e),a}}(20),ba=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const s=t.split(a);let n=e;for(let r=0;r<s.length;){if(!n||"object"!==typeof n)return;let e,t="";for(let l=r;l<s.length;++l)if(l!==r&&(t+=a),t+=s[l],e=n[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&l<s.length-1)continue;r+=l-r+1;break}n=e}return n},ya=e=>null===e||void 0===e?void 0:e.replace("_","-"),ja={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var a,s;null===(a=console)||void 0===a||null===(a=a[e])||void 0===a||null===(s=a.apply)||void 0===s||s.call(a,console,t)}};class Na{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||ja,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,a,s){return s&&!this.debug?null:(na(e[0])&&(e[0]="".concat(a).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new Na(this.logger,d(d({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Na(this.logger,e)}}var wa=new Na;class ka{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const a=this.observers[e].get(t)||0;this.observers[e].set(t,a+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,s]=e;for(let n=0;n<s;n++)t(...a)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[s,n]=t;for(let r=0;r<n;r++)s.apply(s,[e,...a])})}}}class Sa extends ka{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,a){var s;let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,l=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let i;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],a&&(Array.isArray(a)?i.push(...a):na(a)&&r?i.push(...a.split(r)):i.push(a)));const o=ma(this.data,i);return!o&&!t&&!a&&e.indexOf(".")>-1&&(e=i[0],t=i[1],a=i.slice(2).join(".")),!o&&l&&na(a)?ba(null===(s=this.data)||void 0===s||null===(s=s[e])||void 0===s?void 0:s[t],a,r):o}addResource(e,t,a,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator;let l=[e,t];a&&(l=l.concat(r?a.split(r):a)),e.indexOf(".")>-1&&(l=e.split("."),s=t,t=l[1]),this.addNamespaces(t),ua(this.data,l,s),n.silent||this.emit("added",e,t,a,s)}addResources(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const n in a)(na(a[n])||Array.isArray(a[n]))&&this.addResource(e,t,n,a[n],{silent:!0});s.silent||this.emit("added",e,t,a)}addResourceBundle(e,t,a,s,n){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),s=a,a=t,t=l[1]),this.addNamespaces(t);let i=ma(this.data,l)||{};r.skipCopy||(a=JSON.parse(JSON.stringify(a))),s?ha(i,a,n):i=d(d({},i),a),ua(this.data,l,i),r.silent||this.emit("added",e,t,a)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var _a={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,a,s,n){return e.forEach(e=>{var r,l;t=null!==(r=null===(l=this.processors[e])||void 0===l?void 0:l.process(t,a,s,n))&&void 0!==r?r:t}),t}};const Ca=Symbol("i18next/PATH_KEY");function Ea(e,t){var a;const{[Ca]:s}=e(function(){const e=[],t=Object.create(null);let a;return t.get=(s,n)=>{var r,l;return null===(r=a)||void 0===r||null===(l=r.revoke)||void 0===l||l.call(r),n===Ca?e:(e.push(n),a=Proxy.revocable(s,t),a.proxy)},Proxy.revocable(Object.create(null),t).proxy}());return s.join(null!==(a=null===t||void 0===t?void 0:t.keySeparator)&&void 0!==a?a:".")}const Pa={},Aa=e=>!na(e)&&"boolean"!==typeof e&&"number"!==typeof e;class Ta extends ka{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,a)=>{e.forEach(e=>{t[e]&&(a[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=wa.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const t=d({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;const a=this.resolve(e,t);if(void 0===(null===a||void 0===a?void 0:a.res))return!1;const s=Aa(a.res);return!1!==t.returnObjects||!s}extractFromKey(e,t){let a=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===a&&(a=":");const s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let n=t.ns||this.options.defaultNS||[];const r=a&&e.indexOf(a)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,a)=>{t=t||"",a=a||"";const s=fa.filter(e=>t.indexOf(e)<0&&a.indexOf(e)<0);if(0===s.length)return!0;const n=va.getRegExp("(".concat(s.map(e=>"?"===e?"\\?":e).join("|"),")"));let r=!n.test(e);if(!r){const t=e.indexOf(a);t>0&&!n.test(e.substring(0,t))&&(r=!0)}return r})(e,a,s);if(r&&!l){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:na(n)?[n]:n};const r=e.split(a);(a!==s||a===s&&this.options.ns.indexOf(r[0])>-1)&&(n=r.shift()),e=r.join(s)}return{key:e,namespaces:na(n)?[n]:n}}translate(e,t,a){let s="object"===typeof t?d({},t):t;if("object"!==typeof s&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof s&&(s=d({},s)),s||(s={}),null==e)return"";"function"===typeof e&&(e=Ea(e,d(d({},this.options),s))),Array.isArray(e)||(e=[String(e)]);const n=void 0!==s.returnDetails?s.returnDetails:this.options.returnDetails,r=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,{key:l,namespaces:i}=this.extractFromKey(e[e.length-1],s),o=i[i.length-1];let c=void 0!==s.nsSeparator?s.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const u=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null===u||void 0===u?void 0:u.toLowerCase()))return m?n?{res:"".concat(o).concat(c).concat(l),usedKey:l,exactUsedKey:l,usedLng:u,usedNS:o,usedParams:this.getUsedParamsDetails(s)}:"".concat(o).concat(c).concat(l):n?{res:l,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:o,usedParams:this.getUsedParamsDetails(s)}:l;const h=this.resolve(e,s);let p=null===h||void 0===h?void 0:h.res;const x=(null===h||void 0===h?void 0:h.usedKey)||l,g=(null===h||void 0===h?void 0:h.exactUsedKey)||l,f=void 0!==s.joinArrays?s.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==s.count&&!na(s.count),y=Ta.hasDefaultValue(s),j=b?this.pluralResolver.getSuffix(u,s.count,s):"",N=s.ordinal&&b?this.pluralResolver.getSuffix(u,s.count,{ordinal:!1}):"",w=b&&!s.ordinal&&0===s.count,k=w&&s["defaultValue".concat(this.options.pluralSeparator,"zero")]||s["defaultValue".concat(j)]||s["defaultValue".concat(N)]||s.defaultValue;let S=p;v&&!p&&y&&(S=k);const _=Aa(S),C=Object.prototype.toString.apply(S);if(!(v&&S&&_&&["[object Number]","[object Function]","[object RegExp]"].indexOf(C)<0)||na(f)&&Array.isArray(S))if(v&&na(f)&&Array.isArray(p))p=p.join(f),p&&(p=this.extendTranslation(p,e,s,a));else{let t=!1,n=!1;!this.isValidLookup(p)&&y&&(t=!0,p=k),this.isValidLookup(p)||(n=!0,p=l);const i=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&n?void 0:p,m=y&&k!==p&&this.options.updateMissing;if(n||t||m){if(this.logger.log(m?"updateKey":"missingKey",u,o,l,m?k:p),r){const e=this.resolve(l,d(d({},s),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let s=0;s<t.length;s++)e.push(t[s]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(s.lng||this.language):e.push(s.lng||this.language);const a=(e,t,a)=>{var n;const r=y&&a!==p?a:i;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,t,r,m,s):null!==(n=this.backendConnector)&&void 0!==n&&n.saveMissing&&this.backendConnector.saveMissing(e,o,t,r,m,s),this.emit("missingKey",e,o,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,s);w&&s["defaultValue".concat(this.options.pluralSeparator,"zero")]&&t.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&t.push("".concat(this.options.pluralSeparator,"zero")),t.forEach(t=>{a([e],l+t,s["defaultValue".concat(t)]||k)})}):a(e,l,k))}p=this.extendTranslation(p,e,s,h,a),n&&p===l&&this.options.appendNamespaceToMissingKey&&(p="".concat(o).concat(c).concat(l)),(n||t)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(o).concat(c).concat(l):l,t?p:void 0,s))}else{if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,S,d(d({},s),{},{ns:i})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return n?(h.res=e,h.usedParams=this.getUsedParamsDetails(s),h):e}if(r){const e=Array.isArray(S),t=e?[]:{},a=e?g:x;for(const n in S)if(Object.prototype.hasOwnProperty.call(S,n)){const e="".concat(a).concat(r).concat(n);t[n]=y&&!p?this.translate(e,d(d({},s),{},{defaultValue:Aa(k)?k[n]:void 0},{joinArrays:!1,ns:i})):this.translate(e,d(d({},s),{joinArrays:!1,ns:i})),t[n]===e&&(t[n]=S[n])}p=t}}return n?(h.res=p,h.usedParams=this.getUsedParamsDetails(s),h):p}extendTranslation(e,t,a,s,n){var r,l=this;if(null!==(r=this.i18nFormat)&&void 0!==r&&r.parse)e=this.i18nFormat.parse(e,d(d({},this.options.interpolation.defaultVariables),a),a.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){var i;a.interpolation&&this.interpolator.init(d(d({},a),{interpolation:d(d({},this.options.interpolation),a.interpolation)}));const r=na(e)&&(void 0!==(null===a||void 0===a||null===(i=a.interpolation)||void 0===i?void 0:i.skipOnVariables)?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(r){const t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let c=a.replace&&!na(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(c=d(d({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,a.lng||this.language||s.usedLng,a),r){const t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(a.nest=!1)}!a.lng&&s&&s.res&&(a.lng=this.language||s.usedLng),!1!==a.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(null===n||void 0===n?void 0:n[0])!==s[0]||a.context?l.translate(...s,t):(l.logger.warn("It seems you are nesting recursively key: ".concat(s[0]," in key: ").concat(t[0])),null)},a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,c=na(o)?[o]:o;return null!=e&&null!==c&&void 0!==c&&c.length&&!1!==a.applyPostProcessor&&(e=_a.handle(c,e,t,this.options&&this.options.postProcessPassResolved?d({i18nResolved:d(d({},s),{},{usedParams:this.getUsedParamsDetails(a)})},a):a,this)),e}resolve(e){let t,a,s,n,r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return na(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const i=this.extractFromKey(e,l),o=i.key;a=o;let c=i.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==l.count&&!na(l.count),u=d&&!l.ordinal&&0===l.count,m=void 0!==l.context&&(na(l.context)||"number"===typeof l.context)&&""!==l.context,h=l.lngs?l.lngs:this.languageUtils.toResolveHierarchy(l.lng||this.language,l.fallbackLng);c.forEach(e=>{var i,c;this.isValidLookup(t)||(r=e,Pa["".concat(h[0],"-").concat(e)]||null===(i=this.utils)||void 0===i||!i.hasLoadedNamespace||null!==(c=this.utils)&&void 0!==c&&c.hasLoadedNamespace(r)||(Pa["".concat(h[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(a,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(a=>{var r;if(this.isValidLookup(t))return;n=a;const i=[o];if(null!==(r=this.i18nFormat)&&void 0!==r&&r.addLookupKeys)this.i18nFormat.addLookupKeys(i,o,a,e,l);else{let e;d&&(e=this.pluralResolver.getSuffix(a,l.count,l));const t="".concat(this.options.pluralSeparator,"zero"),s="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(l.ordinal&&0===e.indexOf(s)&&i.push(o+e.replace(s,this.options.pluralSeparator)),i.push(o+e),u&&i.push(o+t)),m){const a="".concat(o).concat(this.options.contextSeparator||"_").concat(l.context);i.push(a),d&&(l.ordinal&&0===e.indexOf(s)&&i.push(a+e.replace(s,this.options.pluralSeparator)),i.push(a+e),u&&i.push(a+t))}}let c;for(;c=i.pop();)this.isValidLookup(t)||(s=c,t=this.getResource(a,e,c,l))}))})}),{res:t,usedKey:a,exactUsedKey:s,usedLng:n,usedNS:r}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,a){var s;let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==(s=this.i18nFormat)&&void 0!==s&&s.getResource?this.i18nFormat.getResource(e,t,a,n):this.resourceStore.getResource(e,t,a,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=e.replace&&!na(e.replace);let s=a?e.replace:e;if(a&&"undefined"!==typeof e.count&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s=d(d({},this.options.interpolation.defaultVariables),s)),!a){s=d({},s);for(const e of t)delete s[e]}return s}static hasDefaultValue(e){const t="defaultValue";for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t===a.substring(0,12)&&void 0!==e[a])return!0;return!1}}class Ma{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=wa.create("languageUtils")}getScriptPartFromCode(e){if(!(e=ya(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=ya(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(na(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch($k){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const a=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(a)||(t=a)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const a=this.getScriptPartFromCode(e);if(this.isSupportedCode(a))return t=a;const s=this.getLanguagePartFromCode(e);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(e=>e===s?e:e.indexOf("-")<0&&s.indexOf("-")<0?void 0:e.indexOf("-")>0&&s.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===s||0===e.indexOf(s)&&s.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),na(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let a=e[t];return a||(a=e[this.getScriptPartFromCode(t)]),a||(a=e[this.formatLanguageCode(t)]),a||(a=e[this.getLanguagePartFromCode(t)]),a||(a=e.default),a||[]}toResolveHierarchy(e,t){const a=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),s=[],n=e=>{e&&(this.isSupportedCode(e)?s.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return na(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):na(e)&&n(this.formatLanguageCode(e)),a.forEach(e=>{s.indexOf(e)<0&&n(this.formatLanguageCode(e))}),s}}const Da={zero:0,one:1,two:2,few:3,many:4,other:5},Ra={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ia{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=wa.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=ya("dev"===e?"en":e),s=t.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:a,type:s});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let r;try{r=new Intl.PluralRules(a,{type:s})}catch(l){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ra;if(!e.match(/-|_/))return Ra;const a=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(a,t)}return this.pluralRulesCache[n]=r,r}needsPlural(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getRule(e,a);return s||(s=this.getRule("dev",a)),(null===(t=s)||void 0===t?void 0:t.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,a).map(e=>"".concat(t).concat(e))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.getRule(e,t);return a||(a=this.getRule("dev",t)),a?a.resolvedOptions().pluralCategories.sort((e,t)=>Da[e]-Da[t]).map(e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e)):[]}getSuffix(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.getRule(e,a);return s?"".concat(this.options.prepend).concat(a.ordinal?"ordinal".concat(this.options.prepend):"").concat(s.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,a))}}const Oa=function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=((e,t,a)=>{const s=ma(e,a);return void 0!==s?s:ma(t,a)})(e,t,a);return!r&&n&&na(a)&&(r=ba(e,a,s),void 0===r&&(r=ba(t,a,s))),r},La=e=>e.replace(/\$/g,"$$$$");class Fa{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=wa.create("interpolator"),this.options=t,this.format=(null===t||void 0===t||null===(e=t.interpolation)||void 0===e?void 0:e.format)||(e=>e),this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:a,useRawValueToEscape:s,prefix:n,prefixEscaped:r,suffix:l,suffixEscaped:i,formatSeparator:o,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:m,nestingSuffix:h,nestingSuffixEscaped:p,nestingOptionsSeparator:x,maxReplaces:g,alwaysFormat:f}=e.interpolation;this.escape=void 0!==t?t:ga,this.escapeValue=void 0===a||a,this.useRawValueToEscape=void 0!==s&&s,this.prefix=n?pa(n):r||"{{",this.suffix=l?pa(l):i||"}}",this.formatSeparator=o||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?pa(u):m||pa("$t("),this.nestingSuffix=h?pa(h):p||pa(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==f&&f,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null===e||void 0===e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\))*?)").concat(this.nestingSuffix))}interpolate(e,t,a,s){var n;let r,l,i;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const n=Oa(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,void 0,a,d(d(d({},s),t),{},{interpolationkey:e})):n}const n=e.split(this.formatSeparator),r=n.shift().trim(),l=n.join(this.formatSeparator).trim();return this.format(Oa(t,o,r,this.options.keySeparator,this.options.ignoreJSONStructure),l,a,d(d(d({},s),t),{},{interpolationkey:r}))};this.resetRegExp();const u=(null===s||void 0===s?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,m=void 0!==(null===s||void 0===s||null===(n=s.interpolation)||void 0===n?void 0:n.skipOnVariables)?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>La(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?La(this.escape(e)):La(e)}].forEach(t=>{for(i=0;r=t.regex.exec(e);){const a=r[1].trim();if(l=c(a),void 0===l)if("function"===typeof u){const t=u(e,r,s);l=na(t)?t:""}else if(s&&Object.prototype.hasOwnProperty.call(s,a))l="";else{if(m){l=r[0];continue}this.logger.warn("missed to pass in variable ".concat(a," for interpolating ").concat(e)),l=""}else na(l)||this.useRawValueToEscape||(l=la(l));const n=t.safeValue(l);if(e=e.replace(r[0],n),m?(t.regex.lastIndex+=l.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,i++,i>=this.maxReplaces)break}}),e}nest(e,t){let a,s,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=(e,t)=>{var a;const s=this.nestingOptionsSeparator;if(e.indexOf(s)<0)return e;const r=e.split(new RegExp("".concat(s,"[ ]*{")));let l="{".concat(r[1]);e=r[0],l=this.interpolate(l,n);const i=l.match(/'/g),o=l.match(/"/g);((null!==(a=null===i||void 0===i?void 0:i.length)&&void 0!==a?a:0)%2===0&&!o||o.length%2!==0)&&(l=l.replace(/'/g,'"'));try{n=JSON.parse(l),t&&(n=d(d({},t),n))}catch($k){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),$k),"".concat(e).concat(s).concat(l)}return n.defaultValue&&n.defaultValue.indexOf(this.prefix)>-1&&delete n.defaultValue,e};for(;a=this.nestingRegexp.exec(e);){let i=[];n=d({},r),n=n.replace&&!na(n.replace)?n.replace:n,n.applyPostProcessor=!1,delete n.defaultValue;const o=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(-1!==o&&(i=a[1].slice(o).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),a[1]=a[1].slice(0,o)),s=t(l.call(this,a[1].trim(),n),n),s&&a[0]===e&&!na(s))return s;na(s)||(s=la(s)),s||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(e)),s=""),i.length&&(s=i.reduce((e,t)=>this.format(e,t,r.lng,d(d({},r),{},{interpolationkey:a[1].trim()})),s.trim())),e=e.replace(a[0],s),this.regexp.lastIndex=0}return e}}const Ba=e=>{const t={};return(a,s,n)=>{let r=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(r=d(d({},r),{},{[n.interpolationkey]:void 0}));const l=s+JSON.stringify(r);let i=t[l];return i||(i=e(ya(s),n),t[l]=i),i(a)}},za=e=>(t,a,s)=>e(ya(a),s)(t);class Ha{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=wa.create("formatter"),this.options=e,this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";const a=t.cacheInBuiltFormats?Ba:za;this.formats={number:a((e,t)=>{const a=new Intl.NumberFormat(e,d({},t));return e=>a.format(e)}),currency:a((e,t)=>{const a=new Intl.NumberFormat(e,d(d({},t),{},{style:"currency"}));return e=>a.format(e)}),datetime:a((e,t)=>{const a=new Intl.DateTimeFormat(e,d({},t));return e=>a.format(e)}),relativetime:a((e,t)=>{const a=new Intl.RelativeTimeFormat(e,d({},t));return e=>a.format(e,t.range||"day")}),list:a((e,t)=>{const a=new Intl.ListFormat(e,d({},t));return e=>a.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Ba(t)}format(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=t.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(e=>e.indexOf(")")>-1)){const e=n.findIndex(e=>e.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,e)].join(this.formatSeparator)}return n.reduce((e,t)=>{const{formatName:n,formatOptions:r}=(e=>{let t=e.toLowerCase().trim();const a={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const n=s[1].substring(0,s[1].length-1);"currency"===t&&n.indexOf(":")<0?a.currency||(a.currency=n.trim()):"relativetime"===t&&n.indexOf(":")<0?a.range||(a.range=n.trim()):n.split(";").forEach(e=>{if(e){const[t,...s]=e.split(":"),n=s.join(":").trim().replace(/^'+|'+$/g,""),r=t.trim();a[r]||(a[r]=n),"false"===n&&(a[r]=!1),"true"===n&&(a[r]=!0),isNaN(n)||(a[r]=parseInt(n,10))}})}return{formatName:t,formatOptions:a}})(t);if(this.formats[n]){let t=e;try{var l;const i=(null===s||void 0===s||null===(l=s.formatParams)||void 0===l?void 0:l[s.interpolationkey])||{},o=i.locale||i.lng||s.locale||s.lng||a;t=this.formats[n](e,o,d(d(d({},r),s),i))}catch(i){this.logger.warn(i)}return t}return this.logger.warn("there was no format function for ".concat(n)),e},e)}}class qa extends ka{constructor(e,t,a){var s,n;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=a,this.languageUtils=a.languageUtils,this.options=r,this.logger=wa.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],null===(s=this.backend)||void 0===s||null===(n=s.init)||void 0===n||n.call(s,a,r.backend,r)}queueLoad(e,t,a,s){const n={},r={},l={},i={};return e.forEach(e=>{let s=!0;t.forEach(t=>{const l="".concat(e,"|").concat(t);!a.reload&&this.store.hasResourceBundle(e,t)?this.state[l]=2:this.state[l]<0||(1===this.state[l]?void 0===r[l]&&(r[l]=!0):(this.state[l]=1,s=!1,void 0===r[l]&&(r[l]=!0),void 0===n[l]&&(n[l]=!0),void 0===i[t]&&(i[t]=!0)))}),s||(l[e]=!0)}),(Object.keys(n).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(n),pending:Object.keys(r),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(i)}}loaded(e,t,a){const s=e.split("|"),n=s[0],r=s[1];t&&this.emit("failedLoading",n,r,t),!t&&a&&this.store.addResourceBundle(n,r,a,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&a&&(this.state[e]=0);const l={};this.queue.forEach(a=>{((e,t,a)=>{const{obj:s,k:n}=da(e,t,Object);s[n]=s[n]||[],s[n].push(a)})(a.loaded,[n],r),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(a,e),t&&a.errors.push(t),0!==a.pendingCount||a.done||(Object.keys(a.loaded).forEach(e=>{l[e]||(l[e]={});const t=a.loaded[e];t.length&&t.forEach(t=>{void 0===l[e][t]&&(l[e][t]=!0)})}),a.done=!0,a.errors.length?a.callback(a.errors):a.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(e=>!e.done)}read(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:a,tried:s,wait:n,callback:r});this.readingCalls++;const l=(l,i)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}l&&i&&s<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,a,s+1,2*n,r)},n):r(l,i)},i=this.backend[a].bind(this.backend);if(2!==i.length)return i(e,t,l);try{const a=i(e,t);a&&"function"===typeof a.then?a.then(e=>l(null,e)).catch(l):l(null,a)}catch(o){l(o)}}prepareLoading(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();na(e)&&(e=this.languageUtils.toResolveHierarchy(e)),na(t)&&(t=[t]);const n=this.queueLoad(e,t,a,s);if(!n.toLoad.length)return n.pending.length||s(),null;n.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,a){this.prepareLoading(e,t,{},a)}reload(e,t,a){this.prepareLoading(e,t,{reload:!0},a)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a=e.split("|"),s=a[0],n=a[1];this.read(s,n,"read",void 0,void 0,(a,r)=>{a&&this.logger.warn("".concat(t,"loading namespace ").concat(n," for language ").concat(s," failed"),a),!a&&r&&this.logger.log("".concat(t,"loaded namespace ").concat(n," for language ").concat(s),r),this.loaded(e,a,r)})}saveMissing(e,t,a,s,n){var r,l,i;let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(null===(r=this.services)||void 0===r||null===(r=r.utils)||void 0===r||!r.hasLoadedNamespace||null!==(l=this.services)&&void 0!==l&&null!==(l=l.utils)&&void 0!==l&&l.hasLoadedNamespace(t)){if(void 0!==a&&null!==a&&""!==a){if(null!==(i=this.backend)&&void 0!==i&&i.create){const r=d(d({},o),{},{isUpdate:n}),l=this.backend.create.bind(this.backend);if(l.length<6)try{let n;n=5===l.length?l(e,t,a,s,r):l(e,t,a,s),n&&"function"===typeof n.then?n.then(e=>c(null,e)).catch(c):c(null,n)}catch(u){c(u)}else l(e,t,a,s,c,r)}e&&e[0]&&this.store.addResource(e[0],t,a,s)}}else this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const Ua=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),na(e[1])&&(t.defaultValue=e[1]),na(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const a=e[3]||e[2];Object.keys(a).forEach(e=>{t[e]=a[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Wa=e=>{var t,a;return na(e.ns)&&(e.ns=[e.ns]),na(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),na(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(t=e.supportedLngs)||void 0===t||null===(a=t.indexOf)||void 0===a?void 0:a.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"===typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},Va=()=>{};class Ga extends ka{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var a;if(super(),this.options=Wa(e),this.services={},this.logger=wa,this.modules={external:[]},a=this,Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(e=>{"function"===typeof a[e]&&(a[e]=a[e].bind(a))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(a=t,t={}),null==t.defaultNS&&t.ns&&(na(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=Ua();this.options=d(d(d({},s),this.options),Wa(t)),this.options.interpolation=d(d({},s.interpolation),this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),"function"!==typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler),!1===this.options.showSupportNotice||(e=>{var t,a,s;return(null===e||void 0===e||null===(t=e.modules)||void 0===t||null===(t=t.backend)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.indexOf("Locize"))>0||(null===e||void 0===e||null===(a=e.modules)||void 0===a||null===(a=a.backend)||void 0===a||null===(a=a.constructor)||void 0===a||null===(a=a.name)||void 0===a?void 0:a.indexOf("Locize"))>0||!(null===e||void 0===e||null===(s=e.options)||void 0===s||null===(s=s.backend)||void 0===s||!s.backends||!e.options.backend.backends.some(e=>{var t,a;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.indexOf("Locize"))>0||(null===e||void 0===e||null===(a=e.constructor)||void 0===a||null===(a=a.name)||void 0===a?void 0:a.indexOf("Locize"))>0}))})(this)||"undefined"!==typeof console&&"undefined"!==typeof console.info&&console.info("\ud83c\udf10 i18next is maintained with support from locize.com \u2014 consider powering your project with managed localization (AI, CDN, integrations): https://locize.com \ud83d\udc99");const n=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?wa.init(n(this.modules.logger),this.options):wa.init(null,this.options),t=this.modules.formatter?this.modules.formatter:Ha;const a=new Ma(this.options);this.store=new Sa(this.options.resources,this.options);const r=this.services;r.logger=wa,r.resourceStore=this.store,r.languageUtils=a,r.pluralResolver=new Ia(a,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!t||this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format||(r.formatter=n(t),r.formatter.init&&r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new Fa(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new qa(n(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",function(t){for(var a=arguments.length,s=new Array(a>1?a-1:0),n=1;n<a;n++)s[n-1]=arguments[n];e.emit(t,...s)}),this.modules.languageDetector&&(r.languageDetector=n(this.modules.languageDetector),r.languageDetector.init&&r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=n(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new Ta(this.services,this.options),this.translator.on("*",function(t){for(var a=arguments.length,s=new Array(a>1?a-1:0),n=1;n<a;n++)s[n-1]=arguments[n];e.emit(t,...s)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,a||(a=Va),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const r=ra(),l=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),r.resolve(t),a(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),r}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Va;const a=na(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){var s,n;if("cimode"===(null===a||void 0===a?void 0:a.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(a)r(a);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>r(e))}null===(s=this.options.preload)||void 0===s||null===(n=s.forEach)||void 0===n||n.call(s,e=>r(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,a){const s=ra();return"function"===typeof e&&(a=e,e=void 0),"function"===typeof t&&(a=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),a||(a=Va),this.services.backendConnector.reload(e,t,e=>{s.resolve(),a(e)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&_a.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var a=this;this.isLanguageChangingTo=e;const s=ra();this.emit("languageChanging",e);const n=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},r=(r,l)=>{l?this.isLanguageChangingTo===e&&(n(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,s.resolve(function(){return a.t(...arguments)}),t&&t(r,function(){return a.t(...arguments)})},l=t=>{e||t||!this.services.languageDetector||(t=[]);const a=na(t)?t:t&&t[0],s=this.store.hasLanguageSomeTranslations(a)?a:this.services.languageUtils.getBestMatchFromCodes(na(t)?[t]:t);var l,i;s&&(this.language||n(s),this.translator.language||this.translator.changeLanguage(s),null===(l=this.services.languageDetector)||void 0===l||null===(i=l.cacheUserLanguage)||void 0===i||i.call(l,s));this.loadResources(s,e=>{r(e,s)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e):l(this.services.languageDetector.detect()),s}getFixedT(e,t,a){var s=this;const n=function(e,t){let r;if("object"!==typeof t){for(var l=arguments.length,i=new Array(l>2?l-2:0),o=2;o<l;o++)i[o-2]=arguments[o];r=s.options.overloadTranslationOptionHandler([e,t].concat(i))}else r=d({},t);r.lng=r.lng||n.lng,r.lngs=r.lngs||n.lngs,r.ns=r.ns||n.ns,""!==r.keyPrefix&&(r.keyPrefix=r.keyPrefix||a||n.keyPrefix);const c=s.options.keySeparator||".";let u;return r.keyPrefix&&Array.isArray(e)?u=e.map(e=>("function"===typeof e&&(e=Ea(e,d(d({},s.options),t))),"".concat(r.keyPrefix).concat(c).concat(e))):("function"===typeof e&&(e=Ea(e,d(d({},s.options),t))),u=r.keyPrefix?"".concat(r.keyPrefix).concat(c).concat(e):e),s.t(u,r)};return na(e)?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=a,n}t(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return null===(e=this.translator)||void 0===e?void 0:e.translate(...a)}exists(){for(var e,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return null===(e=this.translator)||void 0===e?void 0:e.exists(...a)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=t.lng||this.resolvedLanguage||this.languages[0],s=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===a.toLowerCase())return!0;const r=(e,t)=>{const a=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===a||0===a||2===a};if(t.precheck){const e=t.precheck(this,r);if(void 0!==e)return e}return!!this.hasResourceBundle(a,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!r(a,e)||s&&!r(n,e)))}loadNamespaces(e,t){const a=ra();return this.options.ns?(na(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{a.resolve(),t&&t(e)}),a):(t&&t(),Promise.resolve())}loadLanguages(e,t){const a=ra();na(e)&&(e=[e]);const s=this.options.preload||[],n=e.filter(e=>s.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return n.length?(this.options.preload=s.concat(n),this.loadResources(e=>{a.resolve(),t&&t(e)}),a):(t&&t(),Promise.resolve())}dir(e){var t,a;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch($k){}const s=(null===(a=this.services)||void 0===a?void 0:a.languageUtils)||new Ma(Ua());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){const e=new Ga(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0);return e.createInstance=Ga.createInstance,e}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Va;const a=e.forkResourceStore;a&&delete e.forkResourceStore;const s=d(d(d({},this.options),e),{isClone:!0}),n=new Ga(s);void 0===e.debug&&void 0===e.prefix||(n.logger=n.logger.clone(e));if(["store","services","language"].forEach(e=>{n[e]=this[e]}),n.services=d({},this.services),n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},a){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]=d({},this.store.data[t]),e[t]=Object.keys(e[t]).reduce((a,s)=>(a[s]=d({},e[t][s]),a),e[t]),e),{});n.store=new Sa(e,s),n.services.resourceStore=n.store}if(e.interpolation){const t=d(d(d({},Ua().interpolation),this.options.interpolation),e.interpolation),a=d(d({},s),{},{interpolation:t});n.services.interpolator=new Fa(a)}return n.translator=new Ta(n.services,s),n.translator.on("*",function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];n.emit(e,...a)}),n.init(s,t),n.translator.options=s,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ka=Ga.createInstance();Ka.createInstance,Ka.dir,Ka.init,Ka.loadResources,Ka.reloadResources,Ka.use,Ka.changeLanguage,Ka.getFixedT,Ka.t,Ka.exists,Ka.setDefaultNamespace,Ka.hasLoadedNamespace,Ka.loadNamespaces,Ka.loadLanguages;a(413);Object.create(null);const Ya=(e,t,a,s)=>{var n,r,l;const i=[a,d({code:t},s||{})];if(null!==e&&void 0!==e&&null!==(n=e.services)&&void 0!==n&&null!==(n=n.logger)&&void 0!==n&&n.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);es(i[0])&&(i[0]="react-i18next:: ".concat(i[0])),null!==e&&void 0!==e&&null!==(r=e.services)&&void 0!==r&&null!==(r=r.logger)&&void 0!==r&&r.warn?e.services.logger.warn(...i):null!==(l=console)&&void 0!==l&&l.warn&&console.warn(...i)},Qa={},$a=(e,t,a,s)=>{es(a)&&Qa[a]||(es(a)&&(Qa[a]=new Date),Ya(e,t,a,s))},Ja=(e,t)=>()=>{if(e.isInitialized)t();else{const a=()=>{setTimeout(()=>{e.off("initialized",a)},0),t()};e.on("initialized",a)}},Xa=(e,t,a)=>{e.loadNamespaces(t,Ja(e,a))},Za=(e,t,a,s)=>{if(es(a)&&(a=[a]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Xa(e,a,s);a.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,Ja(e,s))},es=e=>"string"===typeof e,ts=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,as={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},ss=e=>as[e];let ns={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(ts,ss),transDefaultProps:void 0};let rs;const ls=()=>rs,is={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ns=d(d({},ns),e)}(e.options.react),(e=>{rs=e})(e)}};const os=(0,t.createContext)();class cs{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}class ds extends Error{constructor(e,t,a){super(e),this.name="TranslationParserError",this.position=t,this.translationString=a,Error.captureStackTrace&&Error.captureStackTrace(this,ds)}}const us={"&nbsp;":"\xa0","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&copy;":"\xa9","&reg;":"\xae","&trade;":"\u2122","&hellip;":"\u2026","&ndash;":"\u2013","&mdash;":"\u2014","&lsquo;":"\u2018","&rsquo;":"\u2019","&sbquo;":"\u201a","&ldquo;":"\u201c","&rdquo;":"\u201d","&bdquo;":"\u201e","&dagger;":"\u2020","&Dagger;":"\u2021","&bull;":"\u2022","&prime;":"\u2032","&Prime;":"\u2033","&lsaquo;":"\u2039","&rsaquo;":"\u203a","&sect;":"\xa7","&para;":"\xb6","&middot;":"\xb7","&ensp;":"\u2002","&emsp;":"\u2003","&thinsp;":"\u2009","&euro;":"\u20ac","&pound;":"\xa3","&yen;":"\xa5","&cent;":"\xa2","&curren;":"\xa4","&times;":"\xd7","&divide;":"\xf7","&minus;":"\u2212","&plusmn;":"\xb1","&ne;":"\u2260","&le;":"\u2264","&ge;":"\u2265","&asymp;":"\u2248","&equiv;":"\u2261","&infin;":"\u221e","&int;":"\u222b","&sum;":"\u2211","&prod;":"\u220f","&radic;":"\u221a","&part;":"\u2202","&permil;":"\u2030","&deg;":"\xb0","&micro;":"\xb5","&larr;":"\u2190","&uarr;":"\u2191","&rarr;":"\u2192","&darr;":"\u2193","&harr;":"\u2194","&crarr;":"\u21b5","&lArr;":"\u21d0","&uArr;":"\u21d1","&rArr;":"\u21d2","&dArr;":"\u21d3","&hArr;":"\u21d4","&alpha;":"\u03b1","&beta;":"\u03b2","&gamma;":"\u03b3","&delta;":"\u03b4","&epsilon;":"\u03b5","&zeta;":"\u03b6","&eta;":"\u03b7","&theta;":"\u03b8","&iota;":"\u03b9","&kappa;":"\u03ba","&lambda;":"\u03bb","&mu;":"\u03bc","&nu;":"\u03bd","&xi;":"\u03be","&omicron;":"\u03bf","&pi;":"\u03c0","&rho;":"\u03c1","&sigma;":"\u03c3","&tau;":"\u03c4","&upsilon;":"\u03c5","&phi;":"\u03c6","&chi;":"\u03c7","&psi;":"\u03c8","&omega;":"\u03c9","&Alpha;":"\u0391","&Beta;":"\u0392","&Gamma;":"\u0393","&Delta;":"\u0394","&Epsilon;":"\u0395","&Zeta;":"\u0396","&Eta;":"\u0397","&Theta;":"\u0398","&Iota;":"\u0399","&Kappa;":"\u039a","&Lambda;":"\u039b","&Mu;":"\u039c","&Nu;":"\u039d","&Xi;":"\u039e","&Omicron;":"\u039f","&Pi;":"\u03a0","&Rho;":"\u03a1","&Sigma;":"\u03a3","&Tau;":"\u03a4","&Upsilon;":"\u03a5","&Phi;":"\u03a6","&Chi;":"\u03a7","&Psi;":"\u03a8","&Omega;":"\u03a9","&Agrave;":"\xc0","&Aacute;":"\xc1","&Acirc;":"\xc2","&Atilde;":"\xc3","&Auml;":"\xc4","&Aring;":"\xc5","&AElig;":"\xc6","&Ccedil;":"\xc7","&Egrave;":"\xc8","&Eacute;":"\xc9","&Ecirc;":"\xca","&Euml;":"\xcb","&Igrave;":"\xcc","&Iacute;":"\xcd","&Icirc;":"\xce","&Iuml;":"\xcf","&ETH;":"\xd0","&Ntilde;":"\xd1","&Ograve;":"\xd2","&Oacute;":"\xd3","&Ocirc;":"\xd4","&Otilde;":"\xd5","&Ouml;":"\xd6","&Oslash;":"\xd8","&Ugrave;":"\xd9","&Uacute;":"\xda","&Ucirc;":"\xdb","&Uuml;":"\xdc","&Yacute;":"\xdd","&THORN;":"\xde","&szlig;":"\xdf","&agrave;":"\xe0","&aacute;":"\xe1","&acirc;":"\xe2","&atilde;":"\xe3","&auml;":"\xe4","&aring;":"\xe5","&aelig;":"\xe6","&ccedil;":"\xe7","&egrave;":"\xe8","&eacute;":"\xe9","&ecirc;":"\xea","&euml;":"\xeb","&igrave;":"\xec","&iacute;":"\xed","&icirc;":"\xee","&iuml;":"\xef","&eth;":"\xf0","&ntilde;":"\xf1","&ograve;":"\xf2","&oacute;":"\xf3","&ocirc;":"\xf4","&otilde;":"\xf5","&ouml;":"\xf6","&oslash;":"\xf8","&ugrave;":"\xf9","&uacute;":"\xfa","&ucirc;":"\xfb","&uuml;":"\xfc","&yacute;":"\xfd","&thorn;":"\xfe","&yuml;":"\xff","&iexcl;":"\xa1","&iquest;":"\xbf","&fnof;":"\u0192","&circ;":"\u02c6","&tilde;":"\u02dc","&OElig;":"\u0152","&oelig;":"\u0153","&Scaron;":"\u0160","&scaron;":"\u0161","&Yuml;":"\u0178","&ordf;":"\xaa","&ordm;":"\xba","&macr;":"\xaf","&acute;":"\xb4","&cedil;":"\xb8","&sup1;":"\xb9","&sup2;":"\xb2","&sup3;":"\xb3","&frac14;":"\xbc","&frac12;":"\xbd","&frac34;":"\xbe","&spades;":"\u2660","&clubs;":"\u2663","&hearts;":"\u2665","&diams;":"\u2666","&loz;":"\u25ca","&oline;":"\u203e","&frasl;":"\u2044","&weierp;":"\u2118","&image;":"\u2111","&real;":"\u211c","&alefsym;":"\u2135"},ms=new RegExp(Object.keys(us).map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),"g"),hs=["children"],ps=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];const s=(e=>{const t=[];let a=0,s="";const n=()=>{s&&(t.push({type:"Text",value:s,position:a-s.length}),s="")};for(;a<e.length;){const r=e[a];if("<"===r){const l=e.slice(a).match(/^<(\d+)>/);if(l)n(),t.push({type:"TagOpen",value:l[0],position:a,tagNumber:parseInt(l[1],10)}),a+=l[0].length;else{const l=e.slice(a).match(/^<\/(\d+)>/);l?(n(),t.push({type:"TagClose",value:l[0],position:a,tagNumber:parseInt(l[1],10)}),a+=l[0].length):(s+=r,a+=1)}}else s+=r,a+=1}return n(),t})(e),n=[],l=[],i=new Set;if(s.forEach(s=>{switch(s.type){case"Text":{const e=s.value.replace(ms,e=>us[e]).replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(parseInt(t,10))).replace(/&#x([0-9a-fA-F]+);/g,(e,t)=>String.fromCharCode(parseInt(t,16)));(l.length>0?l[l.length-1].children:n).push(e)}break;case"TagOpen":{const{tagNumber:e}=s,t=(()=>{var e;if(0===l.length)return a;const t=l[l.length-1];return null!==(e=t.declaration.props)&&void 0!==e&&e.children&&Array.isArray(t.declaration.props.children)?t.declaration.props.children:t.declarations})(),r=t[e];if(!r){i.add(e);const t="<".concat(e,">");(l.length>0?l[l.length-1].children:n).push(t);break}l.push({tagNumber:e,children:[],position:s.position,declaration:r,declarations:t})}break;case"TagClose":{const{tagNumber:a}=s;if(i.has(a)){const e="</".concat(a,">");(l.length>0?l[l.length-1].children:n).push(e),i.delete(a);break}if(0===l.length)throw new ds("Unexpected closing tag </".concat(a,"> at position ").concat(s.position),s.position,e);const o=l.pop();if(o.tagNumber!==a)throw new ds("Mismatched tags: expected </".concat(o.tagNumber,"> but got </").concat(a,"> at position ").concat(s.position),s.position,e);const c=((e,a,s)=>{const{type:n,props:l={}}=e;if(l.children&&Array.isArray(l.children)&&s){const{children:e}=l,s=r(l,hs);return t.createElement(n,s,...a)}return 0===a.length?t.createElement(n,l):1===a.length?t.createElement(n,l,a[0]):t.createElement(n,l,...a)})(o.declaration,o.children,o.declarations);(l.length>0?l[l.length-1].children:n).push(c)}}}),l.length>0){const t=l[l.length-1];throw new ds("Unclosed tag <".concat(t.tagNumber,"> at position ").concat(t.position),t.position,e)}return n};function xs(e){var a,s,n;let{i18nKey:r,defaultTranslation:l,content:i,ns:o,values:c={},i18n:u,t:m}=e;const h=u||ls();if(!h)return $a(h,"NO_I18NEXT_INSTANCE","IcuTrans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),t.createElement(t.Fragment,{},l);const p=m||(null===(a=h.t)||void 0===a?void 0:a.bind(h))||(e=>e);let x=o||p.ns||(null===(s=h.options)||void 0===s?void 0:s.defaultNS);x=es(x)?[x]:x||["translation"];let g=c;null!==(n=h.options)&&void 0!==n&&null!==(n=n.interpolation)&&void 0!==n&&n.defaultVariables&&(g=c&&Object.keys(c).length>0?d(d({},c),h.options.interpolation.defaultVariables):d({},h.options.interpolation.defaultVariables));const f=p(r,d(d({defaultValue:l},g),{},{ns:x}));try{const e=ps(f,i);return t.createElement(t.Fragment,{},...e)}catch(v){return Ya(h,"ICU_TRANS_RENDER_ERROR",'IcuTrans component error for key "'.concat(r,'": ').concat(v.message),{i18nKey:r,error:v}),t.createElement(t.Fragment,{},f)}}xs.displayName="IcuTransWithoutContext";var gs=a(538);const fs={t:(e,t)=>{return es(t)?t:"object"===typeof(a=t)&&null!==a&&es(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var a},ready:!1},vs=()=>()=>{},bs=function(e){var a,s,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:l}=r,{i18n:i,defaultNS:o}=(0,t.useContext)(os)||{},c=l||i||ls();c&&!c.reportNamespaces&&(c.reportNamespaces=new cs),c||$a(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=(0,t.useMemo)(()=>{var e;return d(d(d({},ns),null===c||void 0===c||null===(e=c.options)||void 0===e?void 0:e.react),r)},[c,r]),{useSuspense:m,keyPrefix:h}=u,p=e||o||(null===c||void 0===c||null===(a=c.options)||void 0===a?void 0:a.defaultNS),x=es(p)?[p]:p||["translation"],g=(0,t.useMemo)(()=>x,x);null===c||void 0===c||null===(s=c.reportNamespaces)||void 0===s||null===(n=s.addUsedNamespaces)||void 0===n||n.call(s,g);const f=(0,t.useRef)(0),v=(0,t.useCallback)(e=>{if(!c)return vs;const{bindI18n:t,bindI18nStore:a}=u,s=()=>{f.current+=1,e()};return t&&c.on(t,s),a&&c.store.on(a,s),()=>{t&&t.split(" ").forEach(e=>c.off(e,s)),a&&a.split(" ").forEach(e=>c.store.off(e,s))}},[c,u]),b=(0,t.useRef)(),y=(0,t.useCallback)(()=>{if(!c)return fs;const e=!(!c.isInitialized&&!c.initializedStoreOnce)&&g.every(e=>function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:a.lng,precheck:(t,s)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))return!1}}):($a(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)}(e,c,u)),t=r.lng||c.language,a=f.current,s=b.current;if(s&&s.ready===e&&s.lng===t&&s.keyPrefix===h&&s.revision===a)return s;const n={t:c.getFixedT(t,"fallback"===u.nsMode?g:g[0],h),ready:e,lng:t,keyPrefix:h,revision:a};return b.current=n,n},[c,g,h,u,r.lng]),[j,N]=(0,t.useState)(0),{t:w,ready:k}=(0,gs.useSyncExternalStore)(v,y,y);(0,t.useEffect)(()=>{if(c&&!k&&!m){const e=()=>N(e=>e+1);r.lng?Za(c,r.lng,g,e):Xa(c,g,e)}},[c,r.lng,g,k,m,j]);const S=c||{},_=(0,t.useRef)(null),C=(0,t.useRef)(),E=e=>{const t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;const a=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(a,"__original"))try{Object.defineProperty(a,"__original",{value:e,writable:!1,enumerable:!1,configurable:!1})}catch(s){}return a},P=(0,t.useMemo)(()=>{const e=S,t=null===e||void 0===e?void 0:e.language;let a=e;e&&(_.current&&_.current.__original===e?C.current!==t?(a=E(e),_.current=a,C.current=t):a=_.current:(a=E(e),_.current=a,C.current=t));const s=[w,a,k];return s.t=w,s.i18n=a,s.ready=k,s},[w,S,k,S.resolvedLanguage,S.language,S.languages]);if(c&&m&&!k)throw new Promise(e=>{const t=()=>e();r.lng?Za(c,r.lng,g,t):Xa(c,g,t)});return P};Ka.use(is).init({resources:{en:{translation:{app_name:"Schooltino",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",search:"Search",filter:"Filter",actions:"Actions",status:"Status",loading:"Loading...",no_data:"No data found",success:"Success",error:"Error",confirm:"Confirm",back:"Back",view:"View",download:"Download",print:"Print",this_month:"This Month",quick_actions:"Quick Actions",ai_tools:"AI Tools",infrastructure:"Infrastructure",login:"Login",logout:"Logout",email:"Email",password:"Password",remember_me:"Remember me",forgot_password:"Forgot password?",welcome_back:"Welcome back",login_subtitle:"Sign in to manage your school",dashboard:"Dashboard",home:"Home",director_ai:"Director AI",tino_brain:"Tino Brain",users:"Users",students:"Students",staff:"Staff",classes:"Classes",attendance:"Attendance",leave_management:"Leave",fees:"Fees",notices:"Notices",ai_paper:"AI Paper",ai_content:"AI Content",ai_history:"AI History",voice_assistant:"Voice Assistant",gallery:"Gallery",sms_center:"SMS Center",front_office:"Front Office",transport:"Transport",health_module:"Health",biometric:"Biometric",timetable:"Timetable",cctv_dashboard:"CCTV",cctv_management:"CCTV Management",storage_backup:"Storage & Backup",activity_dashboard:"Activity Dashboard",website_integration:"Website",teachtino:"TeachTino",school_analytics:"Analytics",permissions:"Permissions",zoom_meetings:"Meetings",online_exams:"Online Exams",ai_accountant:"AI Accountant",payment_settings:"Payment Settings",fee_structure:"Fee Structure",previous_year_fees:"Previous Year Fees",salary:"Salary",salary_management:"Salary Management",staff_directory:"Staff Directory",add_school:"Add School",setup_wizard:"Setup Wizard",subscription:"Subscription",settings:"Settings",audit_logs:"Audit Logs",academic:"Academic",good_morning:"Good Morning",good_afternoon:"Good Afternoon",good_evening:"Good Evening",total_students:"Total Students",total_staff:"Total Staff",total_classes:"Total Classes",attendance_today:"Today's Attendance",fee_collected:"Fee Collected",pending_fees:"Pending Fees",recent_notices:"Recent Notices",recent_activities:"Recent Activities",present:"Present",absent:"Absent",late:"Late",add_student:"Add Student",student_name:"Student Name",admission_no:"Admission No.",class_section:"Class/Section",father_name:"Father's Name",mother_name:"Mother's Name",dob:"Date of Birth",gender:"Gender",male:"Male",female:"Female",other:"Other",address:"Address",mobile:"Mobile",blood_group:"Blood Group",add_staff:"Add Staff",employee_id:"Employee ID",designation:"Designation",department:"Department",qualification:"Qualification",joining_date:"Joining Date",salary:"Salary",add_class:"Add Class",class_name:"Class Name",section:"Section",class_teacher:"Class Teacher",student_count:"Student Count",mark_attendance:"Mark Attendance",select_class:"Select Class",select_date:"Select Date",all_present:"Mark All Present",all_absent:"Mark All Absent",attendance_stats:"Attendance Statistics",fee_plans:"Fee Plans",invoices:"Invoices",payments:"Payments",create_invoice:"Create Invoice",record_payment:"Record Payment",amount:"Amount",due_date:"Due Date",paid:"Paid",pending:"Pending",overdue:"Overdue",partial:"Partial",discount:"Discount",payment_mode:"Payment Mode",cash:"Cash",online:"Online",cheque:"Cheque",create_notice:"Create Notice",title:"Title",content:"Content",priority:"Priority",urgent:"Urgent",high:"High",normal:"Normal",low:"Low",target_audience:"Target Audience",all:"All",teachers:"Teachers",parents:"Parents",generate_paper:"Generate Paper",subject:"Subject",chapter:"Chapter/Topic",difficulty:"Difficulty",easy:"Easy",medium:"Medium",hard:"Hard",mixed:"Mixed",question_types:"Question Types",mcq:"Multiple Choice",short_answer:"Short Answer",long_answer:"Long Answer",fill_blanks:"Fill in the Blanks",total_marks:"Total Marks",duration:"Duration (minutes)",generating:"Generating paper...",paper_ready:"Your paper is ready!",user:"User",action:"Action",module:"Module",timestamp:"Timestamp",details:"Details",director:"Director",principal:"Principal",vice_principal:"Vice Principal",teacher:"Teacher",accountant:"Accountant",exam_controller:"Exam Controller",saved_successfully:"Saved successfully",deleted_successfully:"Deleted successfully",something_went_wrong:"Something went wrong",confirm_delete:"Are you sure you want to delete this?",no_permission:"You don't have permission for this action"}},hi:{translation:{app_name:"\u0938\u094d\u0915\u0942\u0932\u091f\u0940\u0928\u094b",save:"\u0938\u0939\u0947\u091c\u0947\u0902",cancel:"\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902",delete:"\u0939\u091f\u093e\u090f\u0902",edit:"\u0938\u0902\u092a\u093e\u0926\u093f\u0924 \u0915\u0930\u0947\u0902",add:"\u091c\u094b\u0921\u093c\u0947\u0902",search:"\u0916\u094b\u091c\u0947\u0902",filter:"\u092b\u093c\u093f\u0932\u094d\u091f\u0930",actions:"\u0915\u093e\u0930\u094d\u0930\u0935\u093e\u0908",status:"\u0938\u094d\u0925\u093f\u0924\u093f",loading:"\u0932\u094b\u0921 \u0939\u094b \u0930\u0939\u093e \u0939\u0948...",no_data:"\u0915\u094b\u0908 \u0921\u0947\u091f\u093e \u0928\u0939\u0940\u0902 \u092e\u093f\u0932\u093e",success:"\u0938\u092b\u0932",error:"\u0924\u094d\u0930\u0941\u091f\u093f",confirm:"\u092a\u0941\u0937\u094d\u091f\u093f \u0915\u0930\u0947\u0902",back:"\u0935\u093e\u092a\u0938",view:"\u0926\u0947\u0916\u0947\u0902",download:"\u0921\u093e\u0909\u0928\u0932\u094b\u0921",print:"\u092a\u094d\u0930\u093f\u0902\u091f",this_month:"\u0907\u0938 \u092e\u0939\u0940\u0928\u0947",quick_actions:"\u0924\u094d\u0935\u0930\u093f\u0924 \u0915\u093e\u0930\u094d\u092f",ai_tools:"AI \u091f\u0942\u0932\u094d\u0938",infrastructure:"\u0907\u0902\u092b\u094d\u0930\u093e\u0938\u094d\u091f\u094d\u0930\u0915\u094d\u091a\u0930",login:"\u0932\u0949\u0917\u093f\u0928",logout:"\u0932\u0949\u0917\u0906\u0909\u091f",email:"\u0908\u092e\u0947\u0932",password:"\u092a\u093e\u0938\u0935\u0930\u094d\u0921",remember_me:"\u092e\u0941\u091d\u0947 \u092f\u093e\u0926 \u0930\u0916\u0947\u0902",forgot_password:"\u092a\u093e\u0938\u0935\u0930\u094d\u0921 \u092d\u0942\u0932 \u0917\u090f?",welcome_back:"\u0935\u093e\u092a\u0938\u0940 \u092a\u0930 \u0938\u094d\u0935\u093e\u0917\u0924 \u0939\u0948",login_subtitle:"\u0905\u092a\u0928\u0947 \u0938\u094d\u0915\u0942\u0932 \u0915\u094b \u092a\u094d\u0930\u092c\u0902\u0927\u093f\u0924 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0938\u093e\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902",dashboard:"\u0921\u0948\u0936\u092c\u094b\u0930\u094d\u0921",home:"\u0939\u094b\u092e",director_ai:"\u0921\u093e\u092f\u0930\u0947\u0915\u094d\u091f\u0930 AI",tino_brain:"\u091f\u0940\u0928\u094b \u092c\u094d\u0930\u0947\u0928",users:"\u092f\u0942\u091c\u0930\u094d\u0938",students:"\u091b\u093e\u0924\u094d\u0930",staff:"\u0915\u0930\u094d\u092e\u091a\u093e\u0930\u0940",classes:"\u0915\u0915\u094d\u0937\u093e\u090f\u0902",attendance:"\u0909\u092a\u0938\u094d\u0925\u093f\u0924\u093f",leave_management:"\u091b\u0941\u091f\u094d\u091f\u0940",fees:"\u0936\u0941\u0932\u094d\u0915",notices:"\u0938\u0942\u091a\u0928\u093e\u090f\u0902",ai_paper:"AI \u092a\u0947\u092a\u0930",ai_content:"AI \u0915\u0902\u091f\u0947\u0902\u091f",ai_history:"AI \u0939\u093f\u0938\u094d\u091f\u094d\u0930\u0940",voice_assistant:"\u0935\u0949\u0907\u0938 \u0905\u0938\u093f\u0938\u094d\u091f\u0947\u0902\u091f",gallery:"\u0917\u0948\u0932\u0930\u0940",sms_center:"SMS \u0938\u0947\u0902\u091f\u0930",front_office:"\u092b\u094d\u0930\u0902\u091f \u0911\u092b\u093f\u0938",transport:"\u091f\u094d\u0930\u093e\u0902\u0938\u092a\u094b\u0930\u094d\u091f",health_module:"\u0939\u0947\u0932\u094d\u0925",biometric:"\u092c\u093e\u092f\u094b\u092e\u0947\u091f\u094d\u0930\u093f\u0915",timetable:"\u091f\u093e\u0907\u092e\u091f\u0947\u092c\u0932",cctv_dashboard:"CCTV",cctv_management:"CCTV \u092a\u094d\u0930\u092c\u0902\u0927\u0928",storage_backup:"\u0938\u094d\u091f\u094b\u0930\u0947\u091c \u0914\u0930 \u092c\u0948\u0915\u0905\u092a",activity_dashboard:"\u090f\u0915\u094d\u091f\u093f\u0935\u093f\u091f\u0940",website_integration:"\u0935\u0947\u092c\u0938\u093e\u0907\u091f",teachtino:"\u091f\u0940\u091a\u091f\u0940\u0928\u094b",school_analytics:"\u090f\u0928\u093e\u0932\u093f\u091f\u093f\u0915\u094d\u0938",permissions:"\u0905\u0928\u0941\u092e\u0924\u093f\u092f\u093e\u0902",zoom_meetings:"\u092e\u0940\u091f\u093f\u0902\u0917\u094d\u0938",online_exams:"\u0911\u0928\u0932\u093e\u0907\u0928 \u092a\u0930\u0940\u0915\u094d\u0937\u093e",ai_accountant:"AI \u0905\u0915\u093e\u0909\u0902\u091f\u0947\u0902\u091f",payment_settings:"\u092a\u0947\u092e\u0947\u0902\u091f \u0938\u0947\u091f\u093f\u0902\u0917\u094d\u0938",fee_structure:"\u092b\u0940\u0938 \u0938\u094d\u091f\u094d\u0930\u0915\u094d\u091a\u0930",previous_year_fees:"\u092a\u093f\u091b\u0932\u0947 \u0938\u093e\u0932 \u0915\u0940 \u092b\u0940\u0938",salary:"\u0938\u0948\u0932\u0930\u0940",salary_management:"\u0938\u0948\u0932\u0930\u0940 \u091f\u094d\u0930\u0948\u0915\u093f\u0902\u0917",staff_directory:"\u0938\u094d\u091f\u093e\u092b \u0921\u093e\u092f\u0930\u0947\u0915\u094d\u091f\u0930\u0940",add_school:"\u0938\u094d\u0915\u0942\u0932 \u091c\u094b\u0921\u093c\u0947\u0902",setup_wizard:"\u0938\u0947\u091f\u0905\u092a \u0935\u093f\u091c\u093c\u093e\u0930\u094d\u0921",subscription:"\u0938\u092c\u094d\u0938\u0915\u094d\u0930\u093f\u092a\u094d\u0936\u0928",settings:"\u0938\u0947\u091f\u093f\u0902\u0917\u094d\u0938",audit_logs:"\u0911\u0921\u093f\u091f \u0932\u0949\u0917",academic:"\u092a\u0922\u093c\u093e\u0908",good_morning:"\u0938\u0941\u092a\u094d\u0930\u092d\u093e\u0924",good_afternoon:"\u0928\u092e\u0938\u094d\u0924\u0947",good_evening:"\u0936\u0941\u092d \u0938\u0902\u0927\u094d\u092f\u093e",total_students:"\u0915\u0941\u0932 \u091b\u093e\u0924\u094d\u0930",total_staff:"\u0915\u0941\u0932 \u0915\u0930\u094d\u092e\u091a\u093e\u0930\u0940",total_classes:"\u0915\u0941\u0932 \u0915\u0915\u094d\u0937\u093e\u090f\u0902",attendance_today:"\u0906\u091c \u0915\u0940 \u0909\u092a\u0938\u094d\u0925\u093f\u0924\u093f",fee_collected:"\u0935\u0938\u0942\u0932 \u0936\u0941\u0932\u094d\u0915",pending_fees:"\u092c\u0915\u093e\u092f\u093e \u0936\u0941\u0932\u094d\u0915",recent_notices:"\u0939\u093e\u0932 \u0915\u0940 \u0938\u0942\u091a\u0928\u093e\u090f\u0902",recent_activities:"\u0939\u093e\u0932 \u0915\u0940 \u0917\u0924\u093f\u0935\u093f\u0927\u093f\u092f\u093e\u0902",present:"\u0909\u092a\u0938\u094d\u0925\u093f\u0924",absent:"\u0905\u0928\u0941\u092a\u0938\u094d\u0925\u093f\u0924",late:"\u0926\u0947\u0930 \u0938\u0947",add_student:"\u091b\u093e\u0924\u094d\u0930 \u091c\u094b\u0921\u093c\u0947\u0902",student_name:"\u091b\u093e\u0924\u094d\u0930 \u0915\u093e \u0928\u093e\u092e",admission_no:"\u092a\u094d\u0930\u0935\u0947\u0936 \u0938\u0902\u0916\u094d\u092f\u093e",class_section:"\u0915\u0915\u094d\u0937\u093e/\u0905\u0928\u0941\u092d\u093e\u0917",father_name:"\u092a\u093f\u0924\u093e \u0915\u093e \u0928\u093e\u092e",mother_name:"\u092e\u093e\u0924\u093e \u0915\u093e \u0928\u093e\u092e",dob:"\u091c\u0928\u094d\u092e \u0924\u093f\u0925\u093f",gender:"\u0932\u093f\u0902\u0917",male:"\u092a\u0941\u0930\u0941\u0937",female:"\u092e\u0939\u093f\u0932\u093e",other:"\u0905\u0928\u094d\u092f",address:"\u092a\u0924\u093e",mobile:"\u092e\u094b\u092c\u093e\u0907\u0932",blood_group:"\u0930\u0915\u094d\u0924 \u0938\u092e\u0942\u0939",add_staff:"\u0915\u0930\u094d\u092e\u091a\u093e\u0930\u0940 \u091c\u094b\u0921\u093c\u0947\u0902",employee_id:"\u0915\u0930\u094d\u092e\u091a\u093e\u0930\u0940 \u0906\u0908\u0921\u0940",designation:"\u092a\u0926\u0928\u093e\u092e",department:"\u0935\u093f\u092d\u093e\u0917",qualification:"\u092f\u094b\u0917\u094d\u092f\u0924\u093e",joining_date:"\u0936\u093e\u092e\u093f\u0932 \u0939\u094b\u0928\u0947 \u0915\u0940 \u0924\u093e\u0930\u0940\u0916",salary:"\u0935\u0947\u0924\u0928",add_class:"\u0915\u0915\u094d\u0937\u093e \u091c\u094b\u0921\u093c\u0947\u0902",class_name:"\u0915\u0915\u094d\u0937\u093e \u0915\u093e \u0928\u093e\u092e",section:"\u0905\u0928\u0941\u092d\u093e\u0917",class_teacher:"\u0915\u094d\u0932\u093e\u0938 \u091f\u0940\u091a\u0930",student_count:"\u091b\u093e\u0924\u094d\u0930 \u0938\u0902\u0916\u094d\u092f\u093e",mark_attendance:"\u0909\u092a\u0938\u094d\u0925\u093f\u0924\u093f \u0926\u0930\u094d\u091c \u0915\u0930\u0947\u0902",select_class:"\u0915\u0915\u094d\u0937\u093e \u091a\u0941\u0928\u0947\u0902",select_date:"\u0924\u093e\u0930\u0940\u0916 \u091a\u0941\u0928\u0947\u0902",all_present:"\u0938\u092d\u0940 \u0909\u092a\u0938\u094d\u0925\u093f\u0924",all_absent:"\u0938\u092d\u0940 \u0905\u0928\u0941\u092a\u0938\u094d\u0925\u093f\u0924",attendance_stats:"\u0909\u092a\u0938\u094d\u0925\u093f\u0924\u093f \u0906\u0902\u0915\u0921\u093c\u0947",fee_plans:"\u0936\u0941\u0932\u094d\u0915 \u092f\u094b\u091c\u0928\u093e\u090f\u0902",invoices:"\u092c\u093f\u0932",payments:"\u092d\u0941\u0917\u0924\u093e\u0928",create_invoice:"\u092c\u093f\u0932 \u092c\u0928\u093e\u090f\u0902",record_payment:"\u092d\u0941\u0917\u0924\u093e\u0928 \u0926\u0930\u094d\u091c \u0915\u0930\u0947\u0902",amount:"\u0930\u093e\u0936\u093f",due_date:"\u0926\u0947\u092f \u0924\u093f\u0925\u093f",paid:"\u092d\u0941\u0917\u0924\u093e\u0928",pending:"\u092c\u0915\u093e\u092f\u093e",overdue:"\u0905\u0924\u093f\u0926\u0947\u092f",partial:"\u0906\u0902\u0936\u093f\u0915",discount:"\u091b\u0942\u091f",payment_mode:"\u092d\u0941\u0917\u0924\u093e\u0928 \u092e\u094b\u0921",cash:"\u0928\u0915\u0926",online:"\u0911\u0928\u0932\u093e\u0907\u0928",cheque:"\u091a\u0947\u0915",create_notice:"\u0938\u0942\u091a\u0928\u093e \u092c\u0928\u093e\u090f\u0902",title:"\u0936\u0940\u0930\u094d\u0937\u0915",content:"\u0938\u093e\u092e\u0917\u094d\u0930\u0940",priority:"\u092a\u094d\u0930\u093e\u0925\u092e\u093f\u0915\u0924\u093e",urgent:"\u0905\u0924\u094d\u092f\u093e\u0935\u0936\u094d\u092f\u0915",high:"\u0909\u091a\u094d\u091a",normal:"\u0938\u093e\u092e\u093e\u0928\u094d\u092f",low:"\u0928\u093f\u092e\u094d\u0928",target_audience:"\u0932\u0915\u094d\u0937\u093f\u0924 \u0926\u0930\u094d\u0936\u0915",all:"\u0938\u092d\u0940",teachers:"\u0936\u093f\u0915\u094d\u0937\u0915",parents:"\u0905\u092d\u093f\u092d\u093e\u0935\u0915",generate_paper:"\u092a\u0947\u092a\u0930 \u092c\u0928\u093e\u090f\u0902",subject:"\u0935\u093f\u0937\u092f",chapter:"\u0905\u0927\u094d\u092f\u093e\u092f/\u091f\u0949\u092a\u093f\u0915",difficulty:"\u0915\u0920\u093f\u0928\u093e\u0908 \u0938\u094d\u0924\u0930",easy:"\u0906\u0938\u093e\u0928",medium:"\u092e\u0927\u094d\u092f\u092e",hard:"\u0915\u0920\u093f\u0928",mixed:"\u092e\u093f\u0936\u094d\u0930\u093f\u0924",question_types:"\u092a\u094d\u0930\u0936\u094d\u0928 \u092a\u094d\u0930\u0915\u093e\u0930",mcq:"\u092c\u0939\u0941\u0935\u093f\u0915\u0932\u094d\u092a\u0940",short_answer:"\u0932\u0918\u0941 \u0909\u0924\u094d\u0924\u0930",long_answer:"\u0926\u0940\u0930\u094d\u0918 \u0909\u0924\u094d\u0924\u0930",fill_blanks:"\u0930\u093f\u0915\u094d\u0924 \u0938\u094d\u0925\u093e\u0928 \u092d\u0930\u0947\u0902",total_marks:"\u0915\u0941\u0932 \u0905\u0902\u0915",duration:"\u0938\u092e\u092f (\u092e\u093f\u0928\u091f)",generating:"\u092a\u0947\u092a\u0930 \u092c\u0928 \u0930\u0939\u093e \u0939\u0948...",paper_ready:"\u0906\u092a\u0915\u093e \u092a\u0947\u092a\u0930 \u0924\u0948\u092f\u093e\u0930 \u0939\u0948!",user:"\u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e",action:"\u0915\u093e\u0930\u094d\u0930\u0935\u093e\u0908",module:"\u092e\u0949\u0921\u094d\u092f\u0942\u0932",timestamp:"\u0938\u092e\u092f",details:"\u0935\u093f\u0935\u0930\u0923",director:"\u0928\u093f\u0926\u0947\u0936\u0915",principal:"\u092a\u094d\u0930\u093e\u091a\u093e\u0930\u094d\u092f",vice_principal:"\u0909\u092a \u092a\u094d\u0930\u093e\u091a\u093e\u0930\u094d\u092f",teacher:"\u0936\u093f\u0915\u094d\u0937\u0915",accountant:"\u0932\u0947\u0916\u093e\u0915\u093e\u0930",exam_controller:"\u092a\u0930\u0940\u0915\u094d\u0937\u093e \u0928\u093f\u092f\u0902\u0924\u094d\u0930\u0915",saved_successfully:"\u0938\u092b\u0932\u0924\u093e\u092a\u0942\u0930\u094d\u0935\u0915 \u0938\u0939\u0947\u091c\u093e \u0917\u092f\u093e",deleted_successfully:"\u0938\u092b\u0932\u0924\u093e\u092a\u0942\u0930\u094d\u0935\u0915 \u0939\u091f\u093e\u092f\u093e \u0917\u092f\u093e",something_went_wrong:"\u0915\u0941\u091b \u0917\u0932\u0924 \u0939\u094b \u0917\u092f\u093e",confirm_delete:"\u0915\u094d\u092f\u093e \u0906\u092a \u0907\u0938\u0947 \u0939\u091f\u093e\u0928\u093e \u091a\u093e\u0939\u0924\u0947 \u0939\u0948\u0902?",no_permission:"\u0907\u0938 \u0915\u093e\u0930\u094d\u0930\u0935\u093e\u0908 \u0915\u0947 \u0932\u093f\u090f \u0905\u0928\u0941\u092e\u0924\u093f \u0928\u0939\u0940\u0902 \u0939\u0948"}},hinglish:{translation:{app_name:"Schooltino",save:"Save karo",cancel:"Cancel",delete:"Delete karo",edit:"Edit karo",add:"Add karo",search:"Search karo",filter:"Filter",actions:"Actions",status:"Status",loading:"Load ho raha hai...",no_data:"Koi data nahi mila",success:"Ho gaya!",error:"Error aa gaya",confirm:"Confirm karo",back:"Back jao",view:"Dekho",download:"Download karo",print:"Print karo",login:"Login karo",logout:"Logout",email:"Email",password:"Password",remember_me:"Mujhe yaad rakho",forgot_password:"Password bhul gaye?",welcome_back:"Wapas aane par swagat hai",login_subtitle:"Apne school ko manage karo",dashboard:"Dashboard",home:"Home",director_ai:"Director AI",tino_brain:"Tino Brain",users:"Users",students:"Students",staff:"Staff",classes:"Classes",attendance:"Attendance",leave_management:"Leave",fees:"Fees",notices:"Notices",ai_paper:"AI Paper",ai_content:"AI Content",ai_history:"AI History",voice_assistant:"Voice Assistant",gallery:"Gallery",sms_center:"SMS Center",front_office:"Front Office",transport:"Transport",health_module:"Health",biometric:"Biometric",timetable:"Timetable",cctv_dashboard:"CCTV",settings:"Settings",school_analytics:"Analytics",permissions:"Permissions",website_integration:"Website",zoom_meetings:"Meetings",ai_accountant:"AI Accountant",fee_structure:"Fee Structure",salary:"Salary",academic:"Academic",good_morning:"Good Morning",good_afternoon:"Good Afternoon",good_evening:"Good Evening",total_students:"Total Students",total_staff:"Total Staff",total_classes:"Total Classes",attendance_today:"Aaj ki Attendance",fee_collected:"Fee Collect",pending_fees:"Pending Fees",recent_notices:"Recent Notices",present:"Present",absent:"Absent",late:"Late",add_student:"Student add karo",student_name:"Student ka naam",admission_no:"Admission No.",class_section:"Class/Section",father_name:"Father ka naam",mother_name:"Mother ka naam",dob:"Date of Birth",gender:"Gender",male:"Male",female:"Female",other:"Other",address:"Address",mobile:"Mobile",add_staff:"Staff add karo",employee_id:"Employee ID",designation:"Designation",department:"Department",joining_date:"Joining Date",salary:"Salary",add_class:"Class add karo",class_name:"Class ka naam",section:"Section",class_teacher:"Class Teacher",student_count:"Students",mark_attendance:"Attendance lagao",select_class:"Class chuno",select_date:"Date chuno",all_present:"Sab Present",all_absent:"Sab Absent",fee_plans:"Fee Plans",invoices:"Invoices",payments:"Payments",create_invoice:"Invoice banao",record_payment:"Payment likho",amount:"Amount",due_date:"Due Date",paid:"Paid",pending:"Pending",overdue:"Overdue",discount:"Discount",create_notice:"Notice banao",title:"Title",content:"Content",priority:"Priority",urgent:"Urgent",high:"High",normal:"Normal",low:"Low",all:"Sab",teachers:"Teachers",parents:"Parents",generate_paper:"Paper banao",subject:"Subject",chapter:"Chapter",difficulty:"Difficulty",easy:"Easy",medium:"Medium",hard:"Hard",mixed:"Mixed",question_types:"Question Types",mcq:"MCQ",short_answer:"Short Answer",long_answer:"Long Answer",fill_blanks:"Fill Blanks",total_marks:"Total Marks",duration:"Time (minutes)",generating:"Paper ban raha hai...",paper_ready:"Paper ready hai!",director:"Director",principal:"Principal",vice_principal:"Vice Principal",teacher:"Teacher",accountant:"Accountant",saved_successfully:"Save ho gaya",deleted_successfully:"Delete ho gaya",something_went_wrong:"Kuch gadbad ho gayi",confirm_delete:"Kya aap ise delete karna chahte ho?",no_permission:"Permission nahi hai"}}},lng:localStorage.getItem("language")||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});function ys(e,t){return function(){return e.apply(t,arguments)}}const{toString:js}=Object.prototype,{getPrototypeOf:Ns}=Object,{iterator:ws,toStringTag:ks}=Symbol,Ss=(_s=Object.create(null),e=>{const t=js.call(e);return _s[t]||(_s[t]=t.slice(8,-1).toLowerCase())});var _s;const Cs=e=>(e=e.toLowerCase(),t=>Ss(t)===e),Es=e=>t=>typeof t===e,{isArray:Ps}=Array,As=Es("undefined");function Ts(e){return null!==e&&!As(e)&&null!==e.constructor&&!As(e.constructor)&&Rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ms=Cs("ArrayBuffer");const Ds=Es("string"),Rs=Es("function"),Is=Es("number"),Os=e=>null!==e&&"object"===typeof e,Ls=e=>{if("object"!==Ss(e))return!1;const t=Ns(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ks in e)&&!(ws in e)},Fs=Cs("Date"),Bs=Cs("File"),zs=Cs("Blob"),Hs=Cs("FileList"),qs=Cs("URLSearchParams"),[Us,Ws,Vs,Gs]=["ReadableStream","Request","Response","Headers"].map(Cs);function Ks(e,t){let a,s,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ps(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(Ts(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),r=s.length;let l;for(a=0;a<r;a++)l=s[a],t.call(null,e[l],l,e)}}function Ys(e,t){if(Ts(e))return null;t=t.toLowerCase();const a=Object.keys(e);let s,n=a.length;for(;n-- >0;)if(s=a[n],t===s.toLowerCase())return s;return null}const Qs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:a.g,$s=e=>!As(e)&&e!==Qs;const Js=(Xs="undefined"!==typeof Uint8Array&&Ns(Uint8Array),e=>Xs&&e instanceof Xs);var Xs;const Zs=Cs("HTMLFormElement"),en=(e=>{let{hasOwnProperty:t}=e;return(e,a)=>t.call(e,a)})(Object.prototype),tn=Cs("RegExp"),an=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),s={};Ks(a,(a,n)=>{let r;!1!==(r=t(a,n,e))&&(s[n]=r||a)}),Object.defineProperties(e,s)};const sn=Cs("AsyncFunction"),nn=((e,t)=>{return e?setImmediate:t?(a="axios@".concat(Math.random()),s=[],Qs.addEventListener("message",e=>{let{source:t,data:n}=e;t===Qs&&n===a&&s.length&&s.shift()()},!1),e=>{s.push(e),Qs.postMessage(a,"*")}):e=>setTimeout(e);var a,s})("function"===typeof setImmediate,Rs(Qs.postMessage)),rn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Qs):"undefined"!==typeof process&&process.nextTick||nn,ln={isArray:Ps,isArrayBuffer:Ms,isBuffer:Ts,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Rs(e.append)&&("formdata"===(t=Ss(e))||"object"===t&&Rs(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ms(e.buffer),t},isString:Ds,isNumber:Is,isBoolean:e=>!0===e||!1===e,isObject:Os,isPlainObject:Ls,isEmptyObject:e=>{if(!Os(e)||Ts(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch($k){return!1}},isReadableStream:Us,isRequest:Ws,isResponse:Vs,isHeaders:Gs,isUndefined:As,isDate:Fs,isFile:Bs,isBlob:zs,isRegExp:tn,isFunction:Rs,isStream:e=>Os(e)&&Rs(e.pipe),isURLSearchParams:qs,isTypedArray:Js,isFileList:Hs,forEach:Ks,merge:function e(){const{caseless:t,skipUndefined:a}=$s(this)&&this||{},s={},n=(n,r)=>{const l=t&&Ys(s,r)||r;Ls(s[l])&&Ls(n)?s[l]=e(s[l],n):Ls(n)?s[l]=e({},n):Ps(n)?s[l]=n.slice():a&&As(n)||(s[l]=n)};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&Ks(arguments[r],n);return s},extend:function(e,t,a){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ks(t,(t,s)=>{a&&Rs(t)?Object.defineProperty(e,s,{value:ys(t,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,s,{value:t,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,s)=>{e.prototype=Object.create(t.prototype,s),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,s)=>{let n,r,l;const i={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),r=n.length;r-- >0;)l=n[r],s&&!s(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==a&&Ns(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:Ss,kindOfTest:Cs,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const s=e.indexOf(t,a);return-1!==s&&s===a},toArray:e=>{if(!e)return null;if(Ps(e))return e;let t=e.length;if(!Is(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[ws]).call(e);let s;for(;(s=a.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const s=[];for(;null!==(a=e.exec(t));)s.push(a);return s},isHTMLForm:Zs,hasOwnProperty:en,hasOwnProp:en,reduceDescriptors:an,freezeMethods:e=>{an(e,(t,a)=>{if(Rs(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const s=e[a];Rs(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))})},toObjectSet:(e,t)=>{const a={},s=e=>{e.forEach(e=>{a[e]=!0})};return Ps(e)?s(e):s(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,a){return t.toUpperCase()+a}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ys,global:Qs,isContextDefined:$s,isSpecCompliantForm:function(e){return!!(e&&Rs(e.append)&&"FormData"===e[ks]&&e[ws])},toJSONObject:e=>{const t=new Array(10),a=(e,s)=>{if(Os(e)){if(t.indexOf(e)>=0)return;if(Ts(e))return e;if(!("toJSON"in e)){t[s]=e;const n=Ps(e)?[]:{};return Ks(e,(e,t)=>{const r=a(e,s+1);!As(r)&&(n[t]=r)}),t[s]=void 0,n}}return e};return a(e,0)},isAsyncFn:sn,isThenable:e=>e&&(Os(e)||Rs(e))&&Rs(e.then)&&Rs(e.catch),setImmediate:nn,asap:rn,isIterable:e=>null!=e&&Rs(e[ws])};class on extends Error{static from(e,t,a,s,n,r){const l=new on(e.message,t||e.code,a,s,n);return l.cause=e,l.name=e.name,r&&Object.assign(l,r),l}constructor(e,t,a,s,n){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),a&&(this.config=a),s&&(this.request=s),n&&(this.response=n,this.status=n.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ln.toJSONObject(this.config),code:this.code,status:this.status}}}on.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",on.ERR_BAD_OPTION="ERR_BAD_OPTION",on.ECONNABORTED="ECONNABORTED",on.ETIMEDOUT="ETIMEDOUT",on.ERR_NETWORK="ERR_NETWORK",on.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",on.ERR_DEPRECATED="ERR_DEPRECATED",on.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",on.ERR_BAD_REQUEST="ERR_BAD_REQUEST",on.ERR_CANCELED="ERR_CANCELED",on.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",on.ERR_INVALID_URL="ERR_INVALID_URL";const cn=on;function dn(e){return ln.isPlainObject(e)||ln.isArray(e)}function un(e){return ln.endsWith(e,"[]")?e.slice(0,-2):e}function mn(e,t,a){return e?e.concat(t).map(function(e,t){return e=un(e),!a&&t?"["+e+"]":e}).join(a?".":""):t}const hn=ln.toFlatObject(ln,{},null,function(e){return/^is[A-Z]/.test(e)});const pn=function(e,t,a){if(!ln.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(a=ln.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ln.isUndefined(t[e])})).metaTokens,n=a.visitor||c,r=a.dots,l=a.indexes,i=(a.Blob||"undefined"!==typeof Blob&&Blob)&&ln.isSpecCompliantForm(t);if(!ln.isFunction(n))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(ln.isDate(e))return e.toISOString();if(ln.isBoolean(e))return e.toString();if(!i&&ln.isBlob(e))throw new cn("Blob is not supported. Use a Buffer instead.");return ln.isArrayBuffer(e)||ln.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,n){let i=e;if(e&&!n&&"object"===typeof e)if(ln.endsWith(a,"{}"))a=s?a:a.slice(0,-2),e=JSON.stringify(e);else if(ln.isArray(e)&&function(e){return ln.isArray(e)&&!e.some(dn)}(e)||(ln.isFileList(e)||ln.endsWith(a,"[]"))&&(i=ln.toArray(e)))return a=un(a),i.forEach(function(e,s){!ln.isUndefined(e)&&null!==e&&t.append(!0===l?mn([a],s,r):null===l?a:a+"[]",o(e))}),!1;return!!dn(e)||(t.append(mn(n,a,r),o(e)),!1)}const d=[],u=Object.assign(hn,{defaultVisitor:c,convertValue:o,isVisitable:dn});if(!ln.isObject(e))throw new TypeError("data must be an object");return function e(a,s){if(!ln.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+s.join("."));d.push(a),ln.forEach(a,function(a,r){!0===(!(ln.isUndefined(a)||null===a)&&n.call(t,a,ln.isString(r)?r.trim():r,s,u))&&e(a,s?s.concat(r):[r])}),d.pop()}}(e),t};function xn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function gn(e,t){this._pairs=[],e&&pn(e,this,t)}const fn=gn.prototype;fn.append=function(e,t){this._pairs.push([e,t])},fn.toString=function(e){const t=e?function(t){return e.call(this,t,xn)}:xn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const vn=gn;function bn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yn(e,t,a){if(!t)return e;const s=a&&a.encode||bn,n=ln.isFunction(a)?{serialize:a}:a,r=n&&n.serialize;let l;if(l=r?r(t,n):ln.isURLSearchParams(t)?t.toString():new vn(t,n).toString(s),l){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+l}return e}const jn=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ln.forEach(this.handlers,function(t){null!==t&&e(t)})}},Nn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:vn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},kn="undefined"!==typeof window&&"undefined"!==typeof document,Sn="object"===typeof navigator&&navigator||void 0,_n=kn&&(!Sn||["ReactNative","NativeScript","NS"].indexOf(Sn.product)<0),Cn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,En=kn&&window.location.href||"http://localhost",Pn=d(d({},e),wn);const An=function(e){function t(e,a,s,n){let r=e[n++];if("__proto__"===r)return!0;const l=Number.isFinite(+r),i=n>=e.length;if(r=!r&&ln.isArray(s)?s.length:r,i)return ln.hasOwnProp(s,r)?s[r]=[s[r],a]:s[r]=a,!l;s[r]&&ln.isObject(s[r])||(s[r]=[]);return t(e,a,s[r],n)&&ln.isArray(s[r])&&(s[r]=function(e){const t={},a=Object.keys(e);let s;const n=a.length;let r;for(s=0;s<n;s++)r=a[s],t[r]=e[r];return t}(s[r])),!l}if(ln.isFormData(e)&&ln.isFunction(e.entries)){const a={};return ln.forEachEntry(e,(e,s)=>{t(function(e){return ln.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),s,a,0)}),a}return null};const Tn={transitional:Nn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",s=a.indexOf("application/json")>-1,n=ln.isObject(e);n&&ln.isHTMLForm(e)&&(e=new FormData(e));if(ln.isFormData(e))return s?JSON.stringify(An(e)):e;if(ln.isArrayBuffer(e)||ln.isBuffer(e)||ln.isStream(e)||ln.isFile(e)||ln.isBlob(e)||ln.isReadableStream(e))return e;if(ln.isArrayBufferView(e))return e.buffer;if(ln.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(n){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return pn(e,new Pn.classes.URLSearchParams,d({visitor:function(e,t,a,s){return Pn.isNode&&ln.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=ln.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return pn(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||s?(t.setContentType("application/json",!1),function(e,t,a){if(ln.isString(e))try{return(t||JSON.parse)(e),ln.trim(e)}catch($k){if("SyntaxError"!==$k.name)throw $k}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Tn.transitional,a=t&&t.forcedJSONParsing,s="json"===this.responseType;if(ln.isResponse(e)||ln.isReadableStream(e))return e;if(e&&ln.isString(e)&&(a&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch($k){if(a){if("SyntaxError"===$k.name)throw cn.from($k,cn.ERR_BAD_RESPONSE,this,null,this.response);throw $k}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ln.forEach(["delete","get","head","post","put","patch"],e=>{Tn.headers[e]={}});const Mn=Tn,Dn=ln.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rn=Symbol("internals");function In(e){return e&&String(e).trim().toLowerCase()}function On(e){return!1===e||null==e?e:ln.isArray(e)?e.map(On):String(e)}function Ln(e,t,a,s,n){return ln.isFunction(s)?s.call(this,t,a):(n&&(t=a),ln.isString(t)?ln.isString(s)?-1!==t.indexOf(s):ln.isRegExp(s)?s.test(t):void 0:void 0)}class Fn{constructor(e){e&&this.set(e)}set(e,t,a){const s=this;function n(e,t,a){const n=In(t);if(!n)throw new Error("header name must be a non-empty string");const r=ln.findKey(s,n);(!r||void 0===s[r]||!0===a||void 0===a&&!1!==s[r])&&(s[r||t]=On(e))}const r=(e,t)=>ln.forEach(e,(e,a)=>n(e,a,t));if(ln.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(ln.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let a,s,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),a=e.substring(0,n).trim().toLowerCase(),s=e.substring(n+1).trim(),!a||t[a]&&Dn[a]||("set-cookie"===a?t[a]?t[a].push(s):t[a]=[s]:t[a]=t[a]?t[a]+", "+s:s)}),t})(e),t);else if(ln.isObject(e)&&ln.isIterable(e)){let a,s,n={};for(const t of e){if(!ln.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[s=t[0]]=(a=n[s])?ln.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}r(n,t)}else null!=e&&n(t,e,a);return this}get(e,t){if(e=In(e)){const a=ln.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)t[s[1]]=s[2];return t}(e);if(ln.isFunction(t))return t.call(this,e,a);if(ln.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=In(e)){const a=ln.findKey(this,e);return!(!a||void 0===this[a]||t&&!Ln(0,this[a],a,t))}return!1}delete(e,t){const a=this;let s=!1;function n(e){if(e=In(e)){const n=ln.findKey(a,e);!n||t&&!Ln(0,a[n],n,t)||(delete a[n],s=!0)}}return ln.isArray(e)?e.forEach(n):n(e),s}clear(e){const t=Object.keys(this);let a=t.length,s=!1;for(;a--;){const n=t[a];e&&!Ln(0,this[n],n,e,!0)||(delete this[n],s=!0)}return s}normalize(e){const t=this,a={};return ln.forEach(this,(s,n)=>{const r=ln.findKey(a,n);if(r)return t[r]=On(s),void delete t[n];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}(n):String(n).trim();l!==n&&delete t[n],t[l]=On(s),a[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ln.forEach(this,(a,s)=>{null!=a&&!1!==a&&(t[s]=e&&ln.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,a]=e;return t+": "+a}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var a=arguments.length,s=new Array(a>1?a-1:0),n=1;n<a;n++)s[n-1]=arguments[n];return s.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Rn]=this[Rn]={accessors:{}}).accessors,a=this.prototype;function s(e){const s=In(e);t[s]||(!function(e,t){const a=ln.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+a,{value:function(e,a,n){return this[s].call(this,t,e,a,n)},configurable:!0})})}(a,e),t[s]=!0)}return ln.isArray(e)?e.forEach(s):s(e),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ln.reduceDescriptors(Fn.prototype,(e,t)=>{let{value:a}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(e){this[s]=e}}}),ln.freezeMethods(Fn);const Bn=Fn;function zn(e,t){const a=this||Mn,s=t||a,n=Bn.from(s.headers);let r=s.data;return ln.forEach(e,function(e){r=e.call(a,r,n.normalize(),t?t.status:void 0)}),n.normalize(),r}function Hn(e){return!(!e||!e.__CANCEL__)}const qn=class extends cn{constructor(e,t,a){super(null==e?"canceled":e,cn.ERR_CANCELED,t,a),this.name="CanceledError",this.__CANCEL__=!0}};function Un(e,t,a){const s=a.config.validateStatus;a.status&&s&&!s(a.status)?t(new cn("Request failed with status code "+a.status,[cn.ERR_BAD_REQUEST,cn.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const Wn=function(e,t){e=e||10;const a=new Array(e),s=new Array(e);let n,r=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=s[l];n||(n=o),a[r]=i,s[r]=o;let d=l,u=0;for(;d!==r;)u+=a[d++],d%=e;if(r=(r+1)%e,r===l&&(l=(l+1)%e),o-n<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Vn=function(e,t){let a,s,n=0,r=1e3/t;const l=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=r,a=null,s&&(clearTimeout(s),s=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=r?l(o,e):(a=o,s||(s=setTimeout(()=>{s=null,l(a)},r-t)))},()=>a&&l(a)]},Gn=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const n=Wn(50,250);return Vn(a=>{const r=a.loaded,l=a.lengthComputable?a.total:void 0,i=r-s,o=n(i);s=r;e({loaded:r,total:l,progress:l?r/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&r<=l?(l-r)/o:void 0,event:a,lengthComputable:null!=l,[t?"download":"upload"]:!0})},a)},Kn=(e,t)=>{const a=null!=e;return[s=>t[0]({lengthComputable:a,total:e,loaded:s}),t[1]]},Yn=e=>function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return ln.asap(()=>e(...a))},Qn=Pn.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,Pn.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(Pn.origin),Pn.navigator&&/(msie|trident)/i.test(Pn.navigator.userAgent)):()=>!0,$n=Pn.hasStandardBrowserEnv?{write(e,t,a,s,n,r,l){if("undefined"===typeof document)return;const i=["".concat(e,"=").concat(encodeURIComponent(t))];ln.isNumber(a)&&i.push("expires=".concat(new Date(a).toUTCString())),ln.isString(s)&&i.push("path=".concat(s)),ln.isString(n)&&i.push("domain=".concat(n)),!0===r&&i.push("secure"),ln.isString(l)&&i.push("SameSite=".concat(l)),document.cookie=i.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Jn(e,t,a){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Xn=e=>e instanceof Bn?d({},e):e;function Zn(e,t){t=t||{};const a={};function s(e,t,a,s){return ln.isPlainObject(e)&&ln.isPlainObject(t)?ln.merge.call({caseless:s},e,t):ln.isPlainObject(t)?ln.merge({},t):ln.isArray(t)?t.slice():t}function n(e,t,a,n){return ln.isUndefined(t)?ln.isUndefined(e)?void 0:s(void 0,e,0,n):s(e,t,0,n)}function r(e,t){if(!ln.isUndefined(t))return s(void 0,t)}function l(e,t){return ln.isUndefined(t)?ln.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function i(a,n,r){return r in t?s(a,n):r in e?s(void 0,a):void 0}const o={url:r,method:r,data:r,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,a)=>n(Xn(e),Xn(t),0,!0)};return ln.forEach(Object.keys(d(d({},e),t)),function(s){const r=o[s]||n,l=r(e[s],t[s],s);ln.isUndefined(l)&&r!==i||(a[s]=l)}),a}const er=e=>{const t=Zn({},e);let{data:a,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:r,headers:l,auth:i}=t;if(t.headers=l=Bn.from(l),t.url=yn(Jn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),ln.isFormData(a))if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ln.isFunction(a.getHeaders)){const e=a.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[a,s]=e;t.includes(a.toLowerCase())&&l.set(a,s)})}if(Pn.hasStandardBrowserEnv&&(s&&ln.isFunction(s)&&(s=s(t)),s||!1!==s&&Qn(t.url))){const e=n&&r&&$n.read(r);e&&l.set(n,e)}return t},tr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,a){const s=er(e);let n=s.data;const r=Bn.from(s.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=s;function p(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let x=new XMLHttpRequest;function g(){if(!x)return;const s=Bn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());Un(function(e){t(e),p()},function(e){a(e),p()},{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:s,config:e,request:x}),x=null}x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout,"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(g)},x.onabort=function(){x&&(a(new cn("Request aborted",cn.ECONNABORTED,e,x)),x=null)},x.onerror=function(t){const s=t&&t.message?t.message:"Network Error",n=new cn(s,cn.ERR_NETWORK,e,x);n.event=t||null,a(n),x=null},x.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const n=s.transitional||Nn;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),a(new cn(t,n.clarifyTimeoutError?cn.ETIMEDOUT:cn.ECONNABORTED,e,x)),x=null},void 0===n&&r.setContentType(null),"setRequestHeader"in x&&ln.forEach(r.toJSON(),function(e,t){x.setRequestHeader(t,e)}),ln.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),u&&"json"!==u&&(x.responseType=s.responseType),h&&([o,d]=Gn(h,!0),x.addEventListener("progress",o)),m&&x.upload&&([i,c]=Gn(m),x.upload.addEventListener("progress",i),x.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(l=t=>{x&&(a(!t||t.type?new qn(null,e,x):t),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);f&&-1===Pn.protocols.indexOf(f)?a(new cn("Unsupported protocol "+f+":",cn.ERR_BAD_REQUEST,e)):x.send(n||null)})},ar=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,s=new AbortController;const n=function(e){if(!a){a=!0,l();const t=e instanceof Error?e:this.reason;s.abort(t instanceof cn?t:new qn(t instanceof Error?t.message:t))}};let r=t&&setTimeout(()=>{r=null,n(new cn("timeout of ".concat(t,"ms exceeded"),cn.ETIMEDOUT))},t);const l=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:i}=s;return i.unsubscribe=()=>ln.asap(l),i}};function sr(e,t){this.v=e,this.k=t}function nr(e){return function(){return new rr(e.apply(this,arguments))}}function rr(e){var t,a;function s(t,a){try{var r=e[t](a),l=r.value,i=l instanceof sr;Promise.resolve(i?l.v:l).then(function(a){if(i){var o="return"===t?"return":"next";if(!l.k||a.done)return s(o,a);a=e[o](a).value}n(r.done?"return":"normal",a)},function(e){s("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?s(t.key,t.arg):a=null}this._invoke=function(e,n){return new Promise(function(r,l){var i={key:e,arg:n,resolve:r,reject:l,next:null};a?a=a.next=i:(t=a=i,s(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function lr(e){return new sr(e,0)}function ir(e){var t={},a=!1;function s(t,s){return a=!0,s=new Promise(function(a){a(e[t](s))}),{done:!1,value:new sr(s,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return a?(a=!1,e):s("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(a)throw a=!1,e;return s("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return a?(a=!1,e):s("return",e)}),t}function or(e){var t,a,s,n=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,s=Symbol.iterator);n--;){if(a&&null!=(t=e[a]))return t.call(e);if(s&&null!=(t=e[s]))return new cr(t.call(e));a="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function cr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return cr=function(e){this.s=e,this.n=e.next},cr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):t(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):t(a.apply(this.s,arguments))}},new cr(e)}rr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},rr.prototype.next=function(e){return this._invoke("next",e)},rr.prototype.throw=function(e){return this._invoke("throw",e)},rr.prototype.return=function(e){return this._invoke("return",e)};const dr=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let s,n=0;for(;n<a;)s=n+t,yield e.slice(n,s),n=s},ur=function(){var e=nr(function*(e,t){var a,s=!1,n=!1;try{for(var r,l=or(mr(e));s=!(r=yield lr(l.next())).done;s=!1){const e=r.value;yield*ir(or(dr(e,t)))}}catch(i){n=!0,a=i}finally{try{s&&null!=l.return&&(yield lr(l.return()))}finally{if(n)throw a}}});return function(t,a){return e.apply(this,arguments)}}(),mr=function(){var e=nr(function*(e){if(e[Symbol.asyncIterator])return void(yield*ir(or(e)));const t=e.getReader();try{for(;;){const{done:e,value:a}=yield lr(t.read());if(e)break;yield a}}finally{yield lr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),hr=(e,t,a,s)=>{const n=ur(e,t);let r,l=0,i=e=>{r||(r=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await n.next();if(t)return i(),void e.close();let r=s.byteLength;if(a){let e=l+=r;a(e)}e.enqueue(new Uint8Array(s))}catch(t){throw i(t),t}},cancel:e=>(i(e),n.return())},{highWaterMark:2})},{isFunction:pr}=ln,xr=(e=>{let{Request:t,Response:a}=e;return{Request:t,Response:a}})(ln.global),{ReadableStream:gr,TextEncoder:fr}=ln.global,vr=function(e){try{for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return!!e(...a)}catch($k){return!1}},br=e=>{e=ln.merge.call({skipUndefined:!0},xr,e);const{fetch:t,Request:a,Response:s}=e,n=t?pr(t):"function"===typeof fetch,r=pr(a),l=pr(s);if(!n)return!1;const i=n&&pr(gr),o=n&&("function"===typeof fr?(c=new fr,e=>c.encode(e)):async e=>new Uint8Array(await new a(e).arrayBuffer()));var c;const u=r&&i&&vr(()=>{let e=!1;const t=new a(Pn.origin,{body:new gr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),m=l&&i&&vr(()=>ln.isReadableStream(new s("").body)),h={stream:m&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,a)=>{let s=t&&t[e];if(s)return s.call(t);throw new cn("Response type '".concat(e,"' is not supported"),cn.ERR_NOT_SUPPORT,a)})});const p=async(e,t)=>{const s=ln.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(ln.isBlob(e))return e.size;if(ln.isSpecCompliantForm(e)){const t=new a(Pn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ln.isArrayBufferView(e)||ln.isArrayBuffer(e)?e.byteLength:(ln.isURLSearchParams(e)&&(e+=""),ln.isString(e)?(await o(e)).byteLength:void 0)})(t):s};return async e=>{let{url:n,method:l,data:i,signal:o,cancelToken:c,timeout:x,onDownloadProgress:g,onUploadProgress:f,responseType:v,headers:b,withCredentials:y="same-origin",fetchOptions:j}=er(e),N=t||fetch;v=v?(v+"").toLowerCase():"text";let w=ar([o,c&&c.toAbortSignal()],x),k=null;const S=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let _;try{if(f&&u&&"get"!==l&&"head"!==l&&0!==(_=await p(b,i))){let e,t=new a(n,{method:"POST",body:i,duplex:"half"});if(ln.isFormData(i)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,a]=Kn(_,Gn(Yn(f)));i=hr(t.body,65536,e,a)}}ln.isString(y)||(y=y?"include":"omit");const t=r&&"credentials"in a.prototype,o=d(d({},j),{},{signal:w,method:l.toUpperCase(),headers:b.normalize().toJSON(),body:i,duplex:"half",credentials:t?y:void 0});k=r&&new a(n,o);let c=await(r?N(k,j):N(n,o));const x=m&&("stream"===v||"response"===v);if(m&&(g||x&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=ln.toFiniteNumber(c.headers.get("content-length")),[a,n]=g&&Kn(t,Gn(Yn(g),!0))||[];c=new s(hr(c.body,65536,a,()=>{n&&n(),S&&S()}),e)}v=v||"text";let C=await h[ln.findKey(h,v)||"text"](c,e);return!x&&S&&S(),await new Promise((t,a)=>{Un(t,a,{data:C,headers:Bn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(C){if(S&&S(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new cn("Network Error",cn.ERR_NETWORK,e,k),{cause:C.cause||C});throw cn.from(C,C&&C.code,e,k)}}},yr=new Map,jr=e=>{let t=e&&e.env||{};const{fetch:a,Request:s,Response:n}=t,r=[s,n,a];let l,i,o=r.length,c=yr;for(;o--;)l=r[o],i=c.get(l),void 0===i&&c.set(l,i=o?new Map:br(t)),c=i;return i},Nr=(jr(),{http:null,xhr:tr,fetch:{get:jr}});ln.forEach(Nr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch($k){}Object.defineProperty(e,"adapterName",{value:t})}});const wr=e=>"- ".concat(e),kr=e=>ln.isFunction(e)||null===e||!1===e;const Sr={getAdapter:function(e,t){e=ln.isArray(e)?e:[e];const{length:a}=e;let s,n;const r={};for(let l=0;l<a;l++){let a;if(s=e[l],n=s,!kr(s)&&(n=Nr[(a=String(s)).toLowerCase()],void 0===n))throw new cn("Unknown adapter '".concat(a,"'"));if(n&&(ln.isFunction(n)||(n=n.get(t))))break;r[a||"#"+l]=n}if(!n){const e=Object.entries(r).map(e=>{let[t,a]=e;return"adapter ".concat(t," ")+(!1===a?"is not supported by the environment":"is not available in the build")});let t=a?e.length>1?"since :\n"+e.map(wr).join("\n"):" "+wr(e[0]):"as no adapter specified";throw new cn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return n},adapters:Nr};function _r(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qn(null,e)}function Cr(e){_r(e),e.headers=Bn.from(e.headers),e.data=zn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Sr.getAdapter(e.adapter||Mn.adapter,e)(e).then(function(t){return _r(e),t.data=zn.call(e,e.transformResponse,t),t.headers=Bn.from(t.headers),t},function(t){return Hn(t)||(_r(e),t&&t.response&&(t.response.data=zn.call(e,e.transformResponse,t.response),t.response.headers=Bn.from(t.response.headers))),Promise.reject(t)})}const Er="1.13.4",Pr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Pr[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Ar={};Pr.transitional=function(e,t,a){function s(e,t){return"[Axios v"+Er+"] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,n,r)=>{if(!1===e)throw new cn(s(n," has been removed"+(t?" in "+t:"")),cn.ERR_DEPRECATED);return t&&!Ar[n]&&(Ar[n]=!0,console.warn(s(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,n,r)}},Pr.spelling=function(e){return(t,a)=>(console.warn("".concat(a," is likely a misspelling of ").concat(e)),!0)};const Tr={assertOptions:function(e,t,a){if("object"!==typeof e)throw new cn("options must be an object",cn.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const r=s[n],l=t[r];if(l){const t=e[r],a=void 0===t||l(t,r,e);if(!0!==a)throw new cn("option "+r+" must be "+a,cn.ERR_BAD_OPTION_VALUE);continue}if(!0!==a)throw new cn("Unknown option "+r,cn.ERR_BAD_OPTION)}},validators:Pr},Mr=Tr.validators;class Dr{constructor(e){this.defaults=e||{},this.interceptors={request:new jn,response:new jn}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch($k){}}throw a}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Zn(this.defaults,t);const{transitional:a,paramsSerializer:s,headers:n}=t;void 0!==a&&Tr.assertOptions(a,{silentJSONParsing:Mr.transitional(Mr.boolean),forcedJSONParsing:Mr.transitional(Mr.boolean),clarifyTimeoutError:Mr.transitional(Mr.boolean)},!1),null!=s&&(ln.isFunction(s)?t.paramsSerializer={serialize:s}:Tr.assertOptions(s,{encode:Mr.function,serialize:Mr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Tr.assertOptions(t,{baseUrl:Mr.spelling("baseURL"),withXsrfToken:Mr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=n&&ln.merge(n.common,n[t.method]);n&&ln.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=Bn.concat(r,n);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[Cr.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Cr.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return yn(Jn((e=Zn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ln.forEach(["delete","get","head","options"],function(e){Dr.prototype[e]=function(t,a){return this.request(Zn(a||{},{method:e,url:t,data:(a||{}).data}))}}),ln.forEach(["post","put","patch"],function(e){function t(t){return function(a,s,n){return this.request(Zn(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Dr.prototype[e]=t(),Dr.prototype[e+"Form"]=t(!0)});const Rr=Dr;class Ir{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const a=this;this.promise.then(e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null}),this.promise.then=e=>{let t;const s=new Promise(e=>{a.subscribe(e),t=e}).then(e);return s.cancel=function(){a.unsubscribe(t)},s},e(function(e,s,n){a.reason||(a.reason=new qn(e,s,n),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Ir(function(t){e=t});return{token:t,cancel:e}}}const Or=Ir;const Lr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Lr).forEach(e=>{let[t,a]=e;Lr[a]=t});const Fr=Lr;const Br=function e(t){const a=new Rr(t),s=ys(Rr.prototype.request,a);return ln.extend(s,Rr.prototype,a,{allOwnKeys:!0}),ln.extend(s,a,null,{allOwnKeys:!0}),s.create=function(a){return e(Zn(t,a))},s}(Mn);Br.Axios=Rr,Br.CanceledError=qn,Br.CancelToken=Or,Br.isCancel=Hn,Br.VERSION=Er,Br.toFormData=pn,Br.AxiosError=cn,Br.Cancel=Br.CanceledError,Br.all=function(e){return Promise.all(e)},Br.spread=function(e){return function(t){return e.apply(null,t)}},Br.isAxiosError=function(e){return ln.isObject(e)&&!0===e.isAxiosError},Br.mergeConfig=Zn,Br.AxiosHeaders=Bn,Br.formToJSON=e=>An(ln.isHTMLForm(e)?new FormData(e):e),Br.getAdapter=Sr.getAdapter,Br.HttpStatusCode=Fr,Br.default=Br;const zr=Br;var Hr=a(414);const qr=(0,t.createContext)(null),Ur="".concat("","/api"),Wr=e=>{let{children:a}=e;const[s,n]=(0,t.useState)(null),[r,l]=(0,t.useState)(localStorage.getItem("token")),[i,o]=(0,t.useState)(!0),[c,u]=(0,t.useState)(localStorage.getItem("schoolId")||null),[m,h]=(0,t.useState)(null);(0,t.useEffect)(()=>{r?(zr.defaults.headers.common.Authorization="Bearer ".concat(r),p()):o(!1)},[r]);const p=async()=>{try{const e=await zr.get("".concat(Ur,"/auth/me"));if(n(e.data),e.data.school_id){u(e.data.school_id),localStorage.setItem("schoolId",e.data.school_id);try{const t=await zr.get("".concat(Ur,"/schools/").concat(e.data.school_id));h(t.data)}catch($k){console.error("Failed to fetch school data:",$k)}}}catch(e){console.error("Failed to fetch user:",e),x()}finally{o(!1)}},x=()=>{localStorage.removeItem("token"),localStorage.removeItem("schoolId"),delete zr.defaults.headers.common.Authorization,l(null),n(null),u(null)};return(0,Hr.jsx)(qr.Provider,{value:{user:s,setUser:n,token:r,setToken:l,loading:i,schoolId:c,schoolData:m,login:async(e,t)=>{try{console.log("Making login request to:","".concat(Ur,"/auth/login"));const a=await zr.post("".concat(Ur,"/auth/login"),{email:e,password:t});console.log("Login response:",a.status);const{access_token:s,user:r}=a.data;if(localStorage.setItem("token",s),zr.defaults.headers.common.Authorization="Bearer ".concat(s),l(s),n(r),r.school_id){u(r.school_id),localStorage.setItem("schoolId",r.school_id);try{const e=await zr.get("".concat(Ur,"/schools/").concat(r.school_id));h(e.data)}catch($k){console.error("Failed to fetch school data:",$k)}}return r}catch(r){var a,s;throw console.error("Login API error:",r.message,null===(a=r.response)||void 0===a?void 0:a.status,null===(s=r.response)||void 0===s?void 0:s.data),r}},studentLogin:async(e,t)=>{const a=await zr.post("".concat(Ur,"/students/login?student_id=").concat(encodeURIComponent(e),"&password=").concat(encodeURIComponent(t))),{access_token:s,student:r}=a.data;localStorage.setItem("token",s),zr.defaults.headers.common.Authorization="Bearer ".concat(s);const i=d(d({},r),{},{role:"student"});if(l(s),n(i),r.school_id){u(r.school_id),localStorage.setItem("schoolId",r.school_id);try{const e=await zr.get("".concat(Ur,"/schools/").concat(r.school_id));h(e.data)}catch($k){console.error("Failed to fetch school data:",$k)}}return i},setupDirector:async e=>{const t=await zr.post("".concat(Ur,"/auth/setup-director"),e),{access_token:a,user:s}=t.data;return localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),zr.defaults.headers.common.Authorization="Bearer ".concat(a),l(a),n(s),s},logout:x,selectSchool:e=>{u(e),localStorage.setItem("schoolId",e)},hasPermission:e=>!!s&&e.includes(s.role),isAuthenticated:!!r&&!!s},children:a})},Vr=()=>{const e=(0,t.useContext)(qr);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Gr=(0,t.createContext)(null),Kr=e=>{let{children:a}=e;const{i18n:s}=bs(),[n,r]=(0,t.useState)(localStorage.getItem("language")||"en"),l=e=>{s.changeLanguage(e),r(e),localStorage.setItem("language",e)};return(0,Hr.jsx)(Gr.Provider,{value:{language:n,changeLanguage:l,toggleLanguage:()=>{l("en"===n?"hi":"en")},isHindi:"hi"===n},children:a})},Yr=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Qr=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var $r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jr=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Xr=(0,t.forwardRef)((e,a)=>{let{color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u}=e,m=r(e,Jr);return(0,t.createElement)("svg",d(d(d({ref:a},$r),{},{width:n,height:n,stroke:s,strokeWidth:i?24*Number(l)/Number(n):l,className:Qr("lucide",o)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...u.map(e=>{let[a,s]=e;return(0,t.createElement)(a,s)}),...Array.isArray(c)?c:[c]])}),Zr=["className"],el=(e,a)=>{const s=(0,t.forwardRef)((s,n)=>{let{className:l}=s,i=r(s,Zr);return(0,t.createElement)(Xr,d({ref:n,iconNode:a,className:Qr("lucide-".concat((o=Yr(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),l)},i));var o});return s.displayName=Yr(e),s},tl=el("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),al=el("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),sl=el("fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]),nl=el("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),rl=el("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ll=el("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),il=el("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),ol=el("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),cl=el("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),dl=el("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),ul=el("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ml=el("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),hl=el("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),pl=el("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),xl=el("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gl=el("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),fl=el("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vl=el("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),bl=el("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),yl=el("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),jl=[{id:"enrollment",label:"Enrollment Conversion",icon:tl},{id:"admissions",label:"Amplify Admissions",icon:al},{id:"attendance",label:"Digitalise Attendance",icon:sl},{id:"finance",label:"Paperless Finance",icon:nl},{id:"website",label:"No-Code Website",icon:rl},{id:"dashboard",label:"Unified Dashboard",icon:ll},{id:"testbuilder",label:"AI-driven Test Builder",icon:il},{id:"assignment",label:"Smart Assignment",icon:ol},{id:"edtech",label:"EdTech Tools",icon:cl},{id:"content",label:"Interactive Content",icon:dl}],Nl={enrollment:{title:"Online Admissions. Streamlined from Enquiry to Enrollment.",desc:"Create & analyse campaigns anytime to complete admissions faster \u2014 all from one centralised dashboard.",bullets:["24/7 online admission forms - accessible from anywhere","Ensure safety with OTP security for both walk-in & online enquiries","Record & track prospective enrollments through a smart follow-up mechanism","Simplify with a fully configurable multi-tier process","Hassle-free fee collection with integrated payment gateways"],gradient:"from-blue-500 to-cyan-400",bgGradient:"from-blue-50 to-cyan-50"},admissions:{title:"Boost Admissions with Built-In SEO & Smart Digital Campaign Tools",desc:"Launch impactful digital campaigns with a comprehensive dashboard, built-in SEO tools and real-time prospect tracking.",bullets:["Create & launch custom campaigns instantly","Auto-capture leads from every channel & campaign","Boost reach with bulk campaign blasts","Track leads in real time with follow-up insights"],gradient:"from-purple-500 to-pink-400",bgGradient:"from-purple-50 to-pink-50"},attendance:{title:"Smarter Attendance. Safer Campus.",desc:"Accurately mark attendance with location and face verification \u2014 without hardware, without hassle.",bullets:["Mobile-based geo-facial recognition","No RFID or biometric devices required","Geo-fencing for authentic check-ins","Auto-synced & secure attendance logs"],gradient:"from-teal-500 to-emerald-400",bgGradient:"from-teal-50 to-emerald-50"},finance:{title:"Smart Fees Collection & Tally Integrated Accounting",desc:"Simplify collections with configurable setups, flexible concessions, digital payments, and features that are easy & transparent.",bullets:["Online & walk-in payment support","Customizable fee heads & categories","Fully tailored fee reports","Smart pay with auto sibling concessions"],gradient:"from-orange-500 to-amber-400",bgGradient:"from-orange-50 to-amber-50"},website:{title:"Personalise Templates That Fit Your Brand.",desc:"Build a unique, SEO-ready website and social media assets that showcase your institute's identity.",bullets:["Use customizable, ready-made templates \u2014 no coding needed","Launch a professional, SEO-optimised site in minutes","Custom banners for promotions & lead capture","Social media-ready posts with designer templates"],gradient:"from-indigo-500 to-blue-400",bgGradient:"from-indigo-50 to-blue-50"},dashboard:{title:"Attendance. Performance. Discipline. 360\xb0 Student Analytics",desc:"Get a complete overview of every student, from academics to attendance, and soft skills \u2014 all in one place.",bullets:["Gain a 360\xb0 view of student information at a glance","Monitor student attributes & discipline records","Access & compare examination performance across the years","Track attendance trends and spot irregularities instantly"],gradient:"from-pink-500 to-rose-400",bgGradient:"from-pink-50 to-rose-50"},testbuilder:{title:"Assess Smarter. Adapt Better. Perform Higher.",desc:"Create personalised, intelligent assessments in minutes \u2014 designed for next gen classrooms.",bullets:["650,000+ question bank organised by difficulty, depth & Bloom's Taxonomy levels","AI-powered proctoring for secure online exams","Instantly generate question papers for online, offline, or hybrid examinations"],gradient:"from-emerald-500 to-green-400",bgGradient:"from-emerald-50 to-green-50"},assignment:{title:"Homework Reinvented. Feedback Made Easy.",desc:"Streamline homework & classwork effortlessly. Monitor submissions, keep parents informed, & provide feedback.",bullets:["Assign tasks with attachments, notes, and deadlines","Enable real-time parent notifications",'Track statuses like "Turned In", "Returned" or "Feedback Given"',"Evaluate and grade online with helpful feedback tools"],gradient:"from-violet-500 to-purple-400",bgGradient:"from-violet-50 to-purple-50"},edtech:{title:"Curriculum-Aligned Digital Learning Tools",desc:"From immersive labs to art rooms \u2014 equip students with tools that turn complex lessons into memorable learning experiences.",bullets:["Use simulations for Maths, Science, English & Social Studies","Explore the Organism Encyclopedia and Periodic Table interactively","Access tools like the 2D Graph Plotter, Log Table, and Abacus","Teach art and creativity with drawing & painting tools"],gradient:"from-sky-500 to-blue-400",bgGradient:"from-sky-50 to-blue-50"},content:{title:"Personalised Learning Paths for Every Student",desc:"Tailor digital learning to meet the needs of diverse learners. With immersive learning tools make every classroom experience impactful.",bullets:["Customise lessons by learning level or style","Interactive content keeps students engaged","Track progress with real-time analytics","AI-powered recommendations for each student"],gradient:"from-rose-500 to-pink-400",bgGradient:"from-rose-50 to-pink-50"}},wl=[{value:"21,000+",label:"Institutions Empowered",icon:cl},{value:"300+",label:"Support Engineers",icon:tl},{value:"200+",label:"R&D and Tech Experts",icon:il},{value:"150+",label:"Awards",icon:al}];function kl(){const e=we(),{login:a,setUser:s,setToken:n}=Vr(),[r,l]=(0,t.useState)(!1),[i,o]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),[p,x]=(0,t.useState)(!0),[g,f]=(0,t.useState)("admin"),[v,b]=(0,t.useState)(0),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)({email:"",password:""}),[k,S]=(0,t.useState)(!1),[_,C]=(0,t.useState)({email:"",password:"",name:""}),[E,P]=(0,t.useState)({student_id:"",password:"",mobile:"",dob:""}),[A,T]=(0,t.useState)("id"),[M,D]=(0,t.useState)("enrollment");(0,t.useEffect)(()=>{R()},[]);const R=async()=>{try{const e=await zr.get("".concat("","/api/auth/check-setup"));h(e.data.setup_required)}catch(e){console.error("Setup check failed")}finally{x(!1)}},I=e=>C(t=>d(d({},t),{},{[e.target.name]:e.target.value})),O=e=>P(t=>d(d({},t),{},{[e.target.name]:e.target.value}));if(p)return(0,Hr.jsx)("div",{className:"min-h-screen flex items-center justify-center gradient-hero",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-white"})});return(0,Hr.jsxs)("div",{className:"min-h-screen flex flex-col bg-white",children:[y&&(0,Hr.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,Hr.jsxs)("div",{className:"bg-gray-900 p-8 rounded-2xl w-full max-w-sm shadow-2xl",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-6 justify-center",children:[(0,Hr.jsx)(ml,{className:"w-6 h-6 text-amber-400"}),(0,Hr.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Platform Owner"})]}),(0,Hr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),S(!0),o("");try{const t=await zr.post("".concat("","/api/owner-console-x7k9m2/login"),N);localStorage.setItem("ownerToken",t.data.access_token),e("/owner-x7k9m2")}catch(a){o("Invalid credentials")}finally{S(!1)}},className:"space-y-4",children:[(0,Hr.jsx)("input",{type:"email",placeholder:"Email",value:N.email,onChange:e=>w(d(d({},N),{},{email:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white text-sm"}),(0,Hr.jsx)("input",{type:"password",placeholder:"Password",value:N.password,onChange:e=>w(d(d({},N),{},{password:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white text-sm"}),i&&(0,Hr.jsx)("p",{className:"text-red-400 text-sm text-center",children:i}),(0,Hr.jsx)("button",{type:"submit",className:"w-full py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-xl text-sm font-semibold",disabled:k,children:k?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mx-auto"}):"Access"}),(0,Hr.jsx)("button",{type:"button",className:"w-full py-2 text-gray-400 hover:text-white text-sm",onClick:()=>{j(!1),o("")},children:"Cancel"})]})]})}),(0,Hr.jsxs)("div",{className:"gradient-hero text-white relative overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Hr.jsx)("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400 rounded-full filter blur-3xl"}),(0,Hr.jsx)("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-purple-400 rounded-full filter blur-3xl"})]}),(0,Hr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[(0,Hr.jsxs)("nav",{className:"flex items-center justify-between py-5",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>{const e=v+1;b(e),e>=5&&(j(!0),b(0)),setTimeout(()=>b(0),3e3)},children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/10 backdrop-blur flex items-center justify-center",children:(0,Hr.jsx)(cl,{className:"w-6 h-6 text-white"})}),(0,Hr.jsx)("span",{className:"text-xl font-bold",children:"Schooltino"})]}),(0,Hr.jsxs)("div",{className:"hidden md:flex items-center gap-6 text-sm text-white/70",children:[(0,Hr.jsx)("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"}),(0,Hr.jsx)("a",{href:"/teachtino",className:"hover:text-white transition-colors",children:"TeachTino"}),(0,Hr.jsx)("a",{href:"/studytino",className:"hover:text-white transition-colors",children:"StudyTino"}),(0,Hr.jsx)("a",{href:"#login",className:"px-5 py-2 bg-white/10 backdrop-blur rounded-lg hover:bg-white/20 transition-colors border border-white/20 text-white",children:"Request Demo"})]})]}),(0,Hr.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center py-16 lg:py-24",children:[(0,Hr.jsxs)("div",{className:"animate-fade-in",children:[(0,Hr.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/10 backdrop-blur text-sm text-blue-200 mb-6 border border-white/10",children:[(0,Hr.jsx)(_l,{})," Cloud-Based School ERP"]}),(0,Hr.jsxs)("h1",{className:"text-4xl lg:text-6xl font-extrabold leading-tight mb-6",children:["The Launchpad of"," ",(0,Hr.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-cyan-300",children:"21st-Century Skills."}),(0,Hr.jsx)("br",{}),"The Takeoff for"," ",(0,Hr.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-300 to-pink-300",children:"Smart Future."})]}),(0,Hr.jsx)("p",{className:"text-lg text-white/70 leading-relaxed mb-8 max-w-lg",children:"Reboot schools with advanced K-12 Suite. Boost school's real potential by automating finance, academic, administrative, management, human resource, inventory, transport, and operational requirements."}),(0,Hr.jsx)("p",{className:"text-sm font-semibold text-white/50 mb-6",children:"Schooltino \xb7 TeachTino \xb7 StudyTino \u2014 One Platform, All Connected."}),(0,Hr.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Hr.jsxs)("a",{href:"#login",className:"px-8 py-3.5 bg-white text-gray-900 rounded-xl font-semibold text-sm hover:bg-gray-100 transition-all shadow-lg shadow-white/10 flex items-center gap-2",children:["Get Started ",(0,Hr.jsx)(hl,{className:"w-4 h-4"})]}),(0,Hr.jsx)("a",{href:"#features",className:"px-8 py-3.5 bg-white/10 backdrop-blur text-white rounded-xl font-semibold text-sm hover:bg-white/20 transition-all border border-white/20",children:"See Features"})]})]}),(0,Hr.jsx)("div",{id:"login",className:"animate-slide-up",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-auto lg:ml-auto relative",children:[(0,Hr.jsx)("div",{className:"absolute -top-3 -right-3 w-20 h-20 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full blur-xl"}),m?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Initial Setup"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Create your Director account"}),i&&(0,Hr.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:i}),(0,Hr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(""),l(!0);try{const t=await zr.post("".concat("","/api/auth/setup-director"),{email:_.email,password:_.password,name:_.name,role:"director"});localStorage.setItem("token",t.data.access_token),localStorage.setItem("user",JSON.stringify(t.data.user)),n(t.data.access_token),s(t.data.user),zr.defaults.headers.common.Authorization="Bearer ".concat(t.data.access_token),e("/dashboard")}catch(i){var a,r;o((null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||"Setup failed")}finally{l(!1)}},className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Full Name"}),(0,Hr.jsx)("input",{name:"name",value:_.name,onChange:I,placeholder:"Director Name",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Email"}),(0,Hr.jsx)("input",{name:"email",type:"email",value:_.email,onChange:I,placeholder:"director@school.com",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Password"}),(0,Hr.jsx)("input",{name:"password",type:"password",value:_.password,onChange:I,placeholder:"Create password",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,Hr.jsx)("button",{type:"submit",className:"w-full py-3 btn-primary",disabled:r,children:r?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mx-auto"}):"Create Account"})]})]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Welcome Back"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Sign in to your account"}),(0,Hr.jsx)("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-6",children:[{id:"admin",label:"Admin",icon:"/icon-schooltino-192.png"},{id:"teacher",label:"Teacher",icon:"/icon-teachtino-192.png"},{id:"student",label:"Student",icon:"/icon-studytino-192.png"}].map(e=>(0,Hr.jsxs)("button",{onClick:()=>{f(e.id),o("")},className:"flex-1 py-2.5 text-sm font-semibold rounded-lg transition-all flex items-center justify-center gap-1.5 ".concat(g===e.id?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"),children:[(0,Hr.jsx)("img",{src:e.icon,alt:"",className:"w-5 h-5 rounded"}),e.label]},e.id))}),i&&(0,Hr.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:i}),"student"!==g?(0,Hr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(""),l(!0);try{const t=await a(_.email,_.password);e((e=>{switch(e){case"teacher":case"admission_staff":case"clerk":case"staff":return"/teacher-dashboard";case"student":return"/student-dashboard";default:return"/dashboard"}})(t.role))}catch(r){var s,n;o((null===(s=r.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.detail)||"Login failed. Check credentials.")}finally{l(!1)}},className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Email"}),(0,Hr.jsx)("input",{name:"email",type:"email",value:_.email,onChange:I,placeholder:"teacher"===g?"teacher@school.com":"admin@school.com",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Password"}),(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)("input",{name:"password",type:c?"text":"password",value:_.password,onChange:I,placeholder:"Enter password",required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"}),(0,Hr.jsx)("button",{type:"button",onClick:()=>u(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?(0,Hr.jsx)(pl,{className:"w-4 h-4"}):(0,Hr.jsx)(xl,{className:"w-4 h-4"})})]})]}),(0,Hr.jsx)("button",{type:"submit",className:"w-full py-3 btn-primary",disabled:r,children:r?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mx-auto"}):"Sign in"})]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-4",children:[(0,Hr.jsx)("button",{onClick:()=>T("id"),className:"flex-1 py-2 text-xs font-semibold rounded-md transition-all ".concat("id"===A?"bg-white shadow-sm text-blue-600":"text-gray-500"),children:"Student ID"}),(0,Hr.jsx)("button",{onClick:()=>T("mobile"),className:"flex-1 py-2 text-xs font-semibold rounded-md transition-all ".concat("mobile"===A?"bg-white shadow-sm text-blue-600":"text-gray-500"),children:"Mobile + DOB"})]}),(0,Hr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(""),l(!0);try{let t="id"===A?{student_id:E.student_id,password:E.password}:{mobile:E.mobile,dob:E.dob};const a=await zr.post("".concat("","/api/students/login"),null,{params:t});localStorage.setItem("token",a.data.access_token),localStorage.setItem("user",JSON.stringify(d(d({},a.data.student),{},{role:"student"}))),n(a.data.access_token),s(d(d({},a.data.student),{},{role:"student"})),zr.defaults.headers.common.Authorization="Bearer ".concat(a.data.access_token),e("/student-dashboard")}catch(i){var a,r;o((null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||"Login failed")}finally{l(!1)}},className:"space-y-4",children:["id"===A?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Student ID"}),(0,Hr.jsx)("input",{name:"student_id",value:E.student_id,onChange:O,placeholder:"STD-2025-XXXXXX",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Password"}),(0,Hr.jsx)("input",{name:"password",type:"password",value:E.password,onChange:O,placeholder:"Enter password",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]})]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Mobile Number"}),(0,Hr.jsx)("input",{name:"mobile",value:E.mobile,onChange:O,placeholder:"Parent mobile number",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Date of Birth"}),(0,Hr.jsx)("input",{name:"dob",type:"date",value:E.dob,onChange:O,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]})]}),(0,Hr.jsx)("button",{type:"submit",className:"w-full py-3 btn-primary",disabled:r,children:r?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mx-auto"}):"Sign in"})]})]})]})]})})]})]})]}),(0,Hr.jsx)("div",{id:"stats",className:"py-16 bg-gradient-to-b from-gray-50 to-white",children:(0,Hr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Hr.jsxs)("div",{className:"text-center mb-12",children:[(0,Hr.jsx)("p",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"Perseverance Personified"}),(0,Hr.jsx)("h2",{className:"text-3xl lg:text-4xl font-extrabold text-gray-900",children:"Next-Gen EdTech Starts Here"})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:wl.map((e,t)=>(0,Hr.jsxs)("div",{className:"text-center p-8 rounded-2xl bg-white shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[(0,Hr.jsx)("div",{className:"w-14 h-14 mx-auto mb-4 rounded-2xl flex items-center justify-center ".concat(0===t?"gradient-card-blue":1===t?"gradient-card-teal":2===t?"gradient-card-purple":"gradient-card-orange"),children:(0,Hr.jsx)(e.icon,{className:"w-7 h-7 text-white"})}),(0,Hr.jsx)("div",{className:"text-3xl lg:text-4xl font-extrabold text-gray-900 mb-1",children:e.value}),(0,Hr.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:e.label})]},t))})]})}),(0,Hr.jsx)("div",{className:"py-16 bg-gradient-to-b from-white to-gray-50",children:(0,Hr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Hr.jsx)("div",{className:"text-center mb-8",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:(0,Hr.jsx)(gl,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Secure & Integrated"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center",children:(0,Hr.jsx)(fl,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"User-friendly"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-violet-500 flex items-center justify-center",children:(0,Hr.jsx)(vl,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Cloud-first"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center",children:(0,Hr.jsx)(bl,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"AI-enabled"})]})]})})})}),(0,Hr.jsx)("div",{id:"features",className:"py-20 bg-white",children:(0,Hr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Hr.jsxs)("div",{className:"text-center mb-10",children:[(0,Hr.jsx)("p",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider mb-2",children:"Be Your Own Pilot"}),(0,Hr.jsx)("h2",{className:"text-3xl lg:text-4xl font-extrabold text-gray-900",children:"Navigate Your Space Station"}),(0,Hr.jsx)("p",{className:"text-gray-500 mt-3 max-w-2xl mx-auto text-lg",children:"360\xb0 aerial view with AI-powered tools for full throttle school management."})]}),(0,Hr.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-12 bg-gray-50 rounded-2xl p-3 border border-gray-100",children:jl.map(e=>(0,Hr.jsxs)("button",{onClick:()=>D(e.id),className:"flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all ".concat(M===e.id?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/25":"text-gray-600 hover:bg-white hover:shadow-sm"),children:[(0,Hr.jsx)(e.icon,{className:"w-4 h-4"}),(0,Hr.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id))}),(()=>{const e=Nl[M],t=jl.find(e=>e.id===M);return(0,Hr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-10 lg:gap-16 items-center animate-fade-in",children:[(0,Hr.jsx)("div",{className:"flex-1 w-full",children:(0,Hr.jsxs)("div",{className:"relative rounded-3xl overflow-hidden bg-gradient-to-br ".concat(e.bgGradient," p-8 lg:p-12 aspect-[4/3] flex items-center justify-center"),children:[(0,Hr.jsxs)("div",{className:"absolute inset-0 opacity-5",children:[(0,Hr.jsx)("div",{className:"absolute top-6 right-6 w-32 h-32 bg-gradient-to-br ".concat(e.gradient," rounded-full blur-2xl")}),(0,Hr.jsx)("div",{className:"absolute bottom-6 left-6 w-40 h-40 bg-gradient-to-br ".concat(e.gradient," rounded-full blur-3xl")})]}),(0,Hr.jsx)("div",{className:"relative z-10 w-full",children:(0,Hr.jsx)(Sl,{tabId:M})})]})}),(0,Hr.jsxs)("div",{className:"flex-1 w-full",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r ".concat(e.gradient," flex items-center justify-center mb-5 shadow-lg"),children:t&&(0,Hr.jsx)(t.icon,{className:"w-6 h-6 text-white"})}),(0,Hr.jsx)("h3",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-3",children:e.title}),(0,Hr.jsx)("p",{className:"text-gray-600 leading-relaxed mb-6 text-lg",children:e.desc}),(0,Hr.jsx)("ul",{className:"space-y-3 mb-8",children:e.bullets.map((e,t)=>(0,Hr.jsxs)("li",{className:"flex items-start gap-3",children:[(0,Hr.jsx)(yl,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),(0,Hr.jsx)("span",{className:"text-gray-600",children:e})]},t))}),(0,Hr.jsxs)("a",{href:"#login",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold text-sm hover:shadow-lg transition-all group",children:["Learn more ",(0,Hr.jsx)(hl,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})})()]})}),(0,Hr.jsx)("div",{className:"py-16 gradient-hero text-white",children:(0,Hr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Hr.jsx)("h2",{className:"text-3xl lg:text-4xl font-extrabold mb-4",children:"Ready to Transform Your School?"}),(0,Hr.jsx)("p",{className:"text-white/70 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of institutions already using our platform to simplify school management."}),(0,Hr.jsxs)("div",{className:"flex flex-wrap justify-center gap-4",children:[(0,Hr.jsxs)("a",{href:"#login",className:"px-8 py-3.5 bg-white text-gray-900 rounded-xl font-semibold text-sm hover:bg-gray-100 transition-all shadow-lg flex items-center gap-2",children:["Get Started Free ",(0,Hr.jsx)(hl,{className:"w-4 h-4"})]}),(0,Hr.jsx)("a",{href:"#features",className:"px-8 py-3.5 bg-white/10 backdrop-blur text-white rounded-xl font-semibold text-sm hover:bg-white/20 transition-all border border-white/20",children:"View All Features"})]})]})}),(0,Hr.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,Hr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Hr.jsxs)("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Hr.jsx)("div",{className:"w-8 h-8 rounded-lg gradient-card-blue flex items-center justify-center",children:(0,Hr.jsx)(cl,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("span",{className:"font-bold text-lg",children:"Schooltino"})]}),(0,Hr.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Smart School Management System. Built for today. Ready for tomorrow."})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h4",{className:"font-semibold mb-3 text-sm uppercase tracking-wider text-gray-300",children:"Product Suite"}),(0,Hr.jsxs)("ul",{className:"space-y-2 text-sm text-gray-400",children:[(0,Hr.jsx)("li",{children:(0,Hr.jsx)("a",{href:"#login",className:"hover:text-white transition-colors",children:"Schooltino (Admin)"})}),(0,Hr.jsx)("li",{children:(0,Hr.jsx)("a",{href:"/teachtino",className:"hover:text-white transition-colors",children:"TeachTino (Teachers)"})}),(0,Hr.jsx)("li",{children:(0,Hr.jsx)("a",{href:"/studytino",className:"hover:text-white transition-colors",children:"StudyTino (Students & Parents)"})}),(0,Hr.jsx)("li",{children:(0,Hr.jsx)("a",{href:"#features",className:"hover:text-white transition-colors",children:"K-12 Suite"})})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h4",{className:"font-semibold mb-3 text-sm uppercase tracking-wider text-gray-300",children:"Modules"}),(0,Hr.jsxs)("ul",{className:"space-y-2 text-sm text-gray-400",children:[(0,Hr.jsx)("li",{children:"Admissions & Enrollment"}),(0,Hr.jsx)("li",{children:"Fee Management & Razorpay"}),(0,Hr.jsx)("li",{children:"AI Attendance & Exams"}),(0,Hr.jsx)("li",{children:"Transport & GPS Tracking"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h4",{className:"font-semibold mb-3 text-sm uppercase tracking-wider text-gray-300",children:"Support"}),(0,Hr.jsxs)("ul",{className:"space-y-2 text-sm text-gray-400",children:[(0,Hr.jsx)("li",{children:"Help Center"}),(0,Hr.jsx)("li",{children:"Documentation"}),(0,Hr.jsx)("li",{children:"Contact Us"})]})]})]}),(0,Hr.jsx)("div",{className:"border-t border-gray-800 pt-8 text-center text-gray-500 text-sm",children:(0,Hr.jsx)("p",{children:"Schooltino \u2014 Smart School Management System"})})]})})]})}function Sl(e){let{tabId:t}=e;const a={enrollment:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"Online Admissions"}),(0,Hr.jsx)("div",{className:"space-y-2 mb-3",children:["Enquiry Received","Form Submitted","Fee Paid","Enrolled"].map((e,t)=>(0,Hr.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-blue-50",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-[10px] font-bold ".concat(t<3?"bg-blue-500":"bg-gray-300"),children:t+1}),(0,Hr.jsx)("span",{className:"text-xs text-gray-700",children:e}),t<3&&(0,Hr.jsx)(yl,{className:"w-3.5 h-3.5 text-green-500 ml-auto"})]},t))}),(0,Hr.jsx)("div",{className:"text-center text-[10px] text-blue-600 font-medium",children:"4 Steps to Complete Admission"})]}),admissions:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"Campaign Dashboard"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,Hr.jsxs)("div",{className:"bg-purple-50 rounded-xl p-3 text-center",children:[(0,Hr.jsx)("div",{className:"text-lg font-bold text-purple-700",children:"1,247"}),(0,Hr.jsx)("div",{className:"text-[10px] text-purple-500",children:"Total Leads"})]}),(0,Hr.jsxs)("div",{className:"bg-pink-50 rounded-xl p-3 text-center",children:[(0,Hr.jsx)("div",{className:"text-lg font-bold text-pink-700",children:"89%"}),(0,Hr.jsx)("div",{className:"text-[10px] text-pink-500",children:"Conversion"})]})]}),(0,Hr.jsx)("div",{className:"h-16 bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl flex items-end px-2 pb-2 gap-1",children:[40,60,45,80,65,90,75].map((e,t)=>(0,Hr.jsx)("div",{className:"flex-1 bg-gradient-to-t from-purple-500 to-pink-400 rounded-t",style:{height:"".concat(e,"%")}},t))})]}),attendance:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"Smart Attendance"}),(0,Hr.jsx)("div",{className:"space-y-3",children:["Rahul S.","Priya M.","Amit K."].map((e,t)=>(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold ".concat(["bg-teal-500","bg-emerald-500","bg-green-500"][t]),children:e[0]}),(0,Hr.jsx)("span",{className:"text-xs font-medium text-gray-700",children:e})]}),(0,Hr.jsx)("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Present"})]},t))}),(0,Hr.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-[10px] text-teal-600",children:[(0,Hr.jsx)(sl,{className:"w-3.5 h-3.5"})," Geo-facial verified"]})]}),finance:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"Fee Collection"}),(0,Hr.jsx)("div",{className:"text-2xl font-extrabold text-gray-900 mb-1",children:"\u20b912,45,000"}),(0,Hr.jsx)("div",{className:"text-xs text-gray-400 mb-3",children:"Total Collected This Month"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Hr.jsxs)("div",{className:"bg-orange-50 rounded-xl p-3 text-center",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-orange-700",children:"\u20b98.5L"}),(0,Hr.jsx)("div",{className:"text-[10px] text-orange-500",children:"Online"})]}),(0,Hr.jsxs)("div",{className:"bg-amber-50 rounded-xl p-3 text-center",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-amber-700",children:"\u20b93.9L"}),(0,Hr.jsx)("div",{className:"text-[10px] text-amber-500",children:"Walk-in"})]})]})]}),website:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"Website Builder"}),(0,Hr.jsxs)("div",{className:"bg-indigo-50 rounded-xl p-4 mb-3 text-center",children:[(0,Hr.jsx)(rl,{className:"w-8 h-8 text-indigo-500 mx-auto mb-2"}),(0,Hr.jsx)("div",{className:"text-xs font-semibold text-indigo-700",children:"www.yourschool.edu"}),(0,Hr.jsx)("div",{className:"text-[10px] text-indigo-500 mt-1",children:"SEO Optimized & Live"})]}),(0,Hr.jsx)("div",{className:"flex gap-2",children:["Home","About","Admissions","Gallery"].map((e,t)=>(0,Hr.jsx)("div",{className:"flex-1 bg-gray-50 rounded-lg p-1.5 text-center text-[9px] text-gray-600",children:e},t))})]}),dashboard:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"Student 360\xb0"}),(0,Hr.jsx)("div",{className:"space-y-2",children:[["Mathematics","A+",95],["Science","A",88],["English","A+",92]].map((e,t)=>{let[a,s,n]=e;return(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50",children:[(0,Hr.jsx)("span",{className:"text-xs text-gray-700",children:a}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("span",{className:"text-xs text-pink-600 font-bold",children:s}),(0,Hr.jsx)("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,Hr.jsx)("div",{className:"h-full bg-gradient-to-r from-pink-500 to-rose-400 rounded-full",style:{width:"".concat(n,"%")}})})]})]},t)})}),(0,Hr.jsx)("div",{className:"mt-3 text-center text-[10px] text-gray-500",children:"Attendance: 94% | Discipline: Excellent"})]}),testbuilder:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"AI Test Builder"}),(0,Hr.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-3 mb-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Hr.jsx)(il,{className:"w-4 h-4 text-emerald-500"}),(0,Hr.jsx)("span",{className:"text-xs font-semibold text-emerald-700",children:"650,000+ Questions"})]}),(0,Hr.jsx)("div",{className:"flex gap-1",children:["Easy","Medium","Hard"].map((e,t)=>(0,Hr.jsx)("span",{className:"text-[9px] px-2 py-0.5 rounded-full ".concat(["bg-green-100 text-green-600","bg-yellow-100 text-yellow-600","bg-red-100 text-red-600"][t]),children:e},t))})]}),(0,Hr.jsx)("div",{className:"space-y-1.5",children:["Class 10 - Maths Final","Class 8 - Science Mid-Term"].map((e,t)=>(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50",children:[(0,Hr.jsx)("span",{className:"text-[10px] text-gray-700",children:e}),(0,Hr.jsx)("span",{className:"text-[9px] bg-emerald-100 text-emerald-600 px-1.5 py-0.5 rounded",children:"Ready"})]},t))})]}),assignment:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"Homework Tracker"}),(0,Hr.jsx)("div",{className:"space-y-2",children:[["Math Worksheet","Turned In","green"],["Science Lab","Pending","amber"],["English Essay","Feedback Given","blue"]].map((e,t)=>{let[a,s,n]=e;return(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-gray-50",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(ol,{className:"w-4 h-4 text-".concat(n,"-500")}),(0,Hr.jsx)("span",{className:"text-xs text-gray-700",children:a})]}),(0,Hr.jsx)("span",{className:"text-[9px] bg-".concat(n,"-100 text-").concat(n,"-600 px-2 py-0.5 rounded-full"),children:s})]},t)})})]}),edtech:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"Digital Learning"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[["Virtual Lab","bg-sky-50 text-sky-600"],["Periodic Table","bg-blue-50 text-blue-600"],["Graph Plotter","bg-cyan-50 text-cyan-600"],["Art Studio","bg-teal-50 text-teal-600"]].map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"rounded-xl p-3 text-center ".concat(s),children:[(0,Hr.jsx)(cl,{className:"w-5 h-5 mx-auto mb-1"}),(0,Hr.jsx)("div",{className:"text-[10px] font-bold",children:a})]},t)})})]}),content:()=>(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-5 max-w-xs mx-auto",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-gray-800 mb-3",children:"Learning Paths"}),(0,Hr.jsx)("div",{className:"space-y-2",children:[["Adaptive Math",85,"rose"],["Science Explorer",72,"pink"],["Language Arts",90,"fuchsia"]].map((e,t)=>{let[a,s,n]=e;return(0,Hr.jsxs)("div",{className:"p-2.5 rounded-lg bg-gray-50",children:[(0,Hr.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Hr.jsx)("span",{className:"text-xs text-gray-700",children:a}),(0,Hr.jsxs)("span",{className:"text-[10px] text-gray-500",children:[s,"%"]})]}),(0,Hr.jsx)("div",{className:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,Hr.jsx)("div",{className:"h-full bg-gradient-to-r from-".concat(n,"-500 to-pink-400 rounded-full"),style:{width:"".concat(s,"%")}})})]},t)})})]})},s=a[t]||a.enrollment;return(0,Hr.jsx)(s,{})}function _l(){return(0,Hr.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Hr.jsx)("path",{d:"M10 2l1.5 4.5L16 8l-4.5 1.5L10 14l-1.5-4.5L4 8l4.5-1.5z"})})}const Cl=el("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),El=el("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Pl=el("indian-rupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]),Al=el("calendar-check",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),Tl=el("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ml=el("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Dl=el("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Rl=el("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Il=el("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ol=el("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),Ll=el("tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]),Fl=el("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Bl=el("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),zl=el("bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]),Hl=el("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),ql=el("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Ul=el("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Wl=el("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Vl=el("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),Gl=el("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Kl=el("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Yl=el("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ql="".concat("","/api");function $l(){var e,a;const s=we(),{schoolId:n,user:r,schoolData:l}=Vr(),[i,o]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{n?u():d(!1)},[n]);const u=async()=>{try{const e=await zr.get("".concat(Ql,"/dashboard/stats?school_id=").concat(n));o(e.data)}catch(e){console.error("Failed to fetch stats:",e)}finally{d(!1)}};if(c)return(0,Hr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-blue-500"})});if(!n)return(0,Hr.jsxs)("div",{className:"text-center py-20",children:[(0,Hr.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:(0,Hr.jsx)(cl,{className:"w-10 h-10 text-white"})}),(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Welcome to SchoolTino"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Set up your school to get started."}),(0,Hr.jsxs)("button",{onClick:()=>s("/app/settings"),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium text-sm hover:bg-blue-700 inline-flex items-center gap-2",children:[(0,Hr.jsx)(Cl,{className:"w-4 h-4"}),"Get Started"]})]});const m=[{label:"Total Students",value:(null===i||void 0===i?void 0:i.total_students)||0,icon:tl,gradient:"from-blue-500 to-blue-600",trend:"+12%",trendUp:!0},{label:"Total Staff",value:(null===i||void 0===i?void 0:i.total_staff)||0,icon:El,gradient:"from-purple-500 to-purple-600",trend:"+5%",trendUp:!0},{label:"Fee Collected",value:"\u20b9".concat((((null===i||void 0===i?void 0:i.fee_collection_month)||0)/1e3).toFixed(0),"K"),icon:Pl,gradient:"from-emerald-500 to-teal-600",trend:"+18%",trendUp:!0},{label:"Attendance Today",value:"".concat((null===i||void 0===i||null===(e=i.attendance_today)||void 0===e?void 0:e.present)||0,"%"),icon:Al,gradient:"from-orange-500 to-amber-600",trend:"+2%",trendUp:!0},{label:"Pending Fees",value:"\u20b9".concat((((null===i||void 0===i?void 0:i.pending_fees)||0)/1e3).toFixed(0),"K"),icon:nl,gradient:"from-red-500 to-rose-600",trend:"-8%",trendUp:!1}],h=[{icon:Tl,label:"New Admission",path:"/app/students",color:"bg-blue-500",lightBg:"bg-blue-50",textColor:"text-blue-600"},{icon:Al,label:"Mark Attendance",path:"/app/attendance",color:"bg-purple-500",lightBg:"bg-purple-50",textColor:"text-purple-600"},{icon:Pl,label:"Collect Fee",path:"/app/fees",color:"bg-emerald-500",lightBg:"bg-emerald-50",textColor:"text-emerald-600"},{icon:Ml,label:"Send Notice",path:"/app/communication",color:"bg-orange-500",lightBg:"bg-orange-50",textColor:"text-orange-600"},{icon:Dl,label:"Create Exam",path:"/app/exams",color:"bg-pink-500",lightBg:"bg-pink-50",textColor:"text-pink-600"},{icon:il,label:"AI Tools",path:"/app/ai-tools",color:"bg-indigo-500",lightBg:"bg-indigo-50",textColor:"text-indigo-600"}],[p,x]=(0,t.useState)({}),g=(0,t.useCallback)(()=>{try{const e=localStorage.getItem("module_visibility_settings");e&&x(JSON.parse(e))}catch(e){}},[]);(0,t.useEffect)(()=>{g();const e=()=>g();return window.addEventListener("module_visibility_changed",e),()=>window.removeEventListener("module_visibility_changed",e)},[g]);const f=[{icon:tl,label:"Students",desc:"Student records & profiles",path:"/app/students",gradient:"from-blue-500 to-blue-600",mk:"students"},{icon:El,label:"Staff",desc:"Employee management",path:"/app/staff",gradient:"from-purple-500 to-violet-500",mk:"staff"},{icon:cl,label:"Classes",desc:"Class management",path:"/app/classes",gradient:"from-cyan-500 to-blue-500",mk:"classes"},{icon:Al,label:"Attendance",desc:"Track attendance",path:"/app/attendance",gradient:"from-teal-500 to-emerald-500",mk:"attendance"},{icon:Pl,label:"Fees",desc:"Fee management",path:"/app/fees",gradient:"from-emerald-500 to-green-500",mk:"fee_management"},{icon:Rl,label:"Admissions",desc:"Admission & CRM",path:"/app/admissions",gradient:"from-cyan-500 to-blue-500"},{icon:Dl,label:"Exams",desc:"Exam & reports",path:"/app/exams",gradient:"from-pink-500 to-rose-500",mk:"exams_reports"},{icon:Il,label:"Timetable",desc:"Schedule classes",path:"/app/timetable",gradient:"from-indigo-500 to-blue-500",mk:"timetable"},{icon:ol,label:"Library",desc:"Digital library",path:"/app/library",gradient:"from-purple-500 to-fuchsia-500",mk:"digital_library"},{icon:Ol,label:"Homework",desc:"Assignments",path:"/app/homework",gradient:"from-amber-500 to-orange-500",mk:"homework"},{icon:Ll,label:"Live Classes",desc:"Online teaching",path:"/app/live-classes",gradient:"from-red-500 to-rose-500",mk:"live_classes"},{icon:Fl,label:"Communication",desc:"SMS & WhatsApp",path:"/app/communication",gradient:"from-sky-500 to-cyan-500",mk:"communication_hub"},{icon:Bl,label:"Front Office",desc:"Visitor management",path:"/app/front-office",gradient:"from-teal-500 to-cyan-500"},{icon:zl,label:"Transport",desc:"Routes & GPS",path:"/app/transport",gradient:"from-orange-500 to-red-500",mk:"transport"},{icon:Hl,label:"Calendar",desc:"Events & schedule",path:"/app/calendar",gradient:"from-emerald-500 to-teal-500",mk:"calendar"},{icon:al,label:"Analytics",desc:"Reports & insights",path:"/app/analytics",gradient:"from-blue-500 to-indigo-500",mk:"analytics"},{icon:il,label:"AI Tools",desc:"Paper, Events, Calendar",path:"/app/ai-tools",gradient:"from-purple-500 to-pink-500",mk:"ai_tools"},{icon:ql,label:"CCTV",desc:"Camera monitoring",path:"/app/cctv",gradient:"from-red-500 to-rose-500",mk:"cctv"},{icon:Ul,label:"Inventory",desc:"Stock management",path:"/app/inventory",gradient:"from-slate-500 to-zinc-600",mk:"inventory"},{icon:Wl,label:"Multi-Branch",desc:"Branch management",path:"/app/multi-branch",gradient:"from-blue-500 to-indigo-500"}].filter(e=>{return!(t=e.mk)||!p[t]||!1!==p[t].schooltino;var t}),v=(new Date).getHours(),b=v<12?"Good Morning":v<17?"Good Afternoon":"Good Evening";return(0,Hr.jsxs)("div",{className:"space-y-8 max-w-7xl",children:[(0,Hr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:b}),(0,Hr.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:(null===r||void 0===r||null===(a=r.name)||void 0===a?void 0:a.split(" ")[0])||"Admin"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-400 mt-0.5",children:(null===l||void 0===l?void 0:l.name)||"Dashboard"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsxs)("button",{onClick:()=>s("/app/analytics"),className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white border border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-all shadow-sm",children:[(0,Hr.jsx)(al,{className:"w-4 h-4 text-blue-500"}),(0,Hr.jsx)("span",{className:"hidden sm:inline",children:"Analytics"})]}),(0,Hr.jsxs)("button",{onClick:()=>s("/app/settings"),className:"inline-flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl text-sm font-medium hover:bg-blue-700 transition-all shadow-sm",children:[(0,Hr.jsx)(Cl,{className:"w-4 h-4"}),(0,Hr.jsx)("span",{className:"hidden sm:inline",children:"Settings"})]})]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:m.map((e,t)=>(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br ".concat(e.gradient," flex items-center justify-center"),children:(0,Hr.jsx)(e.icon,{className:"w-5 h-5 text-white"})}),(0,Hr.jsxs)("div",{className:"flex items-center gap-1 text-xs font-semibold px-2 py-1 rounded-full ".concat(e.trendUp?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-500"),children:[e.trendUp?(0,Hr.jsx)(Vl,{className:"w-3 h-3"}):(0,Hr.jsx)(Gl,{className:"w-3 h-3"}),e.trend]})]}),(0,Hr.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-0.5",children:e.value}),(0,Hr.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:e.label})]},t))}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,Hr.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:h.map((e,t)=>(0,Hr.jsxs)("button",{onClick:()=>s(e.path),className:"flex flex-col items-center gap-2.5 p-4 ".concat(e.lightBg," rounded-xl hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 border border-transparent hover:border-gray-200"),children:[(0,Hr.jsx)("div",{className:"w-10 h-10 ".concat(e.color," rounded-xl flex items-center justify-center shadow-sm"),children:(0,Hr.jsx)(e.icon,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("span",{className:"text-xs font-semibold ".concat(e.textColor),children:e.label})]},t))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"All Modules"}),(0,Hr.jsxs)("span",{className:"text-xs text-gray-400 font-medium",children:[f.length," modules"]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 gap-4",children:f.map((e,t)=>(0,Hr.jsxs)("button",{onClick:()=>s(e.path),className:"flex flex-col items-center gap-3 p-5 bg-white rounded-xl border border-gray-100 shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-200 group",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br ".concat(e.gradient," rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform duration-200"),children:(0,Hr.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("span",{className:"text-xs font-semibold text-gray-800 block",children:e.label}),(0,Hr.jsx)("span",{className:"text-[10px] text-gray-400",children:e.desc})]})]},t))})]}),(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-6 text-white",children:(0,Hr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold mb-1",children:"Need Help Setting Up?"}),(0,Hr.jsx)("p",{className:"text-white/70 text-sm",children:"Use Setup Wizard to configure your school quickly."})]}),(0,Hr.jsxs)("button",{onClick:()=>s("/app/setup-wizard"),className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-blue-600 rounded-xl font-semibold text-sm hover:bg-blue-50 transition-all shadow-lg",children:[(0,Hr.jsx)(Kl,{className:"w-4 h-4"}),"Setup Wizard",(0,Hr.jsx)(Yl,{className:"w-4 h-4"})]})]})})]})}function Jl(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Xl(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{let a=!1;const s=t.map(t=>{const s=Jl(t,e);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let e=0;e<s.length;e++){const a=s[e];"function"==typeof a?a():Jl(t[e],null)}}}}function Zl(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return t.useCallback(Xl(...a),a)}const ei=["children"],ti=["children"];var ai=Symbol.for("react.lazy"),si=s[" use ".trim().toString()];function ni(e){return null!=e&&"object"===typeof e&&"$$typeof"in e&&e.$$typeof===ai&&"_payload"in e&&("object"===typeof(t=e._payload)&&null!==t&&"then"in t);var t}function ri(e){const a=ii(e),s=t.forwardRef((e,s)=>{let{children:n}=e,l=r(e,ei);ni(n)&&"function"===typeof si&&(n=si(n._payload));const i=t.Children.toArray(n),o=i.find(ci);if(o){const e=o.props.children,n=i.map(a=>a===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:a);return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null}))}return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:n}))});return s.displayName="".concat(e,".Slot"),s}var li=ri("Slot");function ii(e){const a=t.forwardRef((e,a)=>{let{children:s}=e,n=r(e,ti);if(ni(s)&&"function"===typeof si&&(s=si(s._payload)),t.isValidElement(s)){const e=function(e){var t,a;let s=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,n=s&&"isReactWarning"in s&&s.isReactWarning;if(n)return e.ref;if(s=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(s),r=function(e,t){const a=d({},t);for(const s in t){const n=e[s],r=t[s];/^on[A-Z]/.test(s)?n&&r?a[s]=function(){const e=r(...arguments);return n(...arguments),e}:n&&(a[s]=n):"style"===s?a[s]=d(d({},n),r):"className"===s&&(a[s]=[n,r].filter(Boolean).join(" "))}return d(d({},e),a)}(n,s.props);return s.type!==t.Fragment&&(r.ref=a?Xl(a,e):e),t.cloneElement(s,r)}return t.Children.count(s)>1?t.Children.only(null):null});return a.displayName="".concat(e,".SlotClone"),a}var oi=Symbol("radix.slottable");function ci(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===oi}function di(e){var t,a,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=di(e[t]))&&(s&&(s+=" "),s+=a)}else for(a in e)e[a]&&(s&&(s+=" "),s+=a);return s}function ui(){for(var e,t,a=0,s="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=di(e))&&(s&&(s+=" "),s+=t);return s}const mi=["class","className"],hi=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,pi=ui,xi=(e,t)=>a=>{var s;if(null==(null===t||void 0===t?void 0:t.variants))return pi(e,null===a||void 0===a?void 0:a.class,null===a||void 0===a?void 0:a.className);const{variants:n,defaultVariants:l}=t,i=Object.keys(n).map(e=>{const t=null===a||void 0===a?void 0:a[e],s=null===l||void 0===l?void 0:l[e];if(null===t)return null;const r=hi(t)||hi(s);return n[e][r]}),o=a&&Object.entries(a).reduce((e,t)=>{let[a,s]=t;return void 0===s||(e[a]=s),e},{}),c=null===t||void 0===t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:a,className:s}=t,n=r(t,mi);return Object.entries(n).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes(d(d({},l),o)[t]):d(d({},l),o)[t]===a})?[...e,a,s]:e},[]);return pi(e,i,c,null===a||void 0===a?void 0:a.class,null===a||void 0===a?void 0:a.className)},gi=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},fi="-",vi=[],bi=e=>{const t=Ni(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return ji(e);const a=e.split(fi),s=""===a[0]&&a.length>1?1:0;return yi(a,s,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=s[e],n=a[e];return t?n?((e,t)=>{const a=new Array(e.length+t.length);for(let s=0;s<e.length;s++)a[s]=e[s];for(let s=0;s<t.length;s++)a[e.length+s]=t[s];return a})(n,t):t:n||vi}return a[e]||vi}}},yi=(e,t,a)=>{if(0===e.length-t)return a.classGroupId;const s=e[t],n=a.nextPart.get(s);if(n){const a=yi(e,t+1,n);if(a)return a}const r=a.validators;if(null===r)return;const l=0===t?e.join(fi):e.slice(t).join(fi),i=r.length;for(let o=0;o<i;o++){const e=r[o];if(e.validator(l))return e.classGroupId}},ji=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),a=t.indexOf(":"),s=t.slice(0,a);return s?"arbitrary.."+s:void 0})(),Ni=e=>{const{theme:t,classGroups:a}=e;return wi(a,t)},wi=(e,t)=>{const a=gi();for(const s in e){const n=e[s];ki(n,a,s,t)}return a},ki=(e,t,a,s)=>{const n=e.length;for(let r=0;r<n;r++){const n=e[r];Si(n,t,a,s)}},Si=(e,t,a,s)=>{"string"!==typeof e?"function"!==typeof e?Ei(e,t,a,s):Ci(e,t,a,s):_i(e,t,a)},_i=(e,t,a)=>{(""===e?t:Pi(t,e)).classGroupId=a},Ci=(e,t,a,s)=>{Ai(e)?ki(e(s),t,a,s):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(a,e)))},Ei=(e,t,a,s)=>{const n=Object.entries(e),r=n.length;for(let l=0;l<r;l++){const[e,r]=n[l];ki(r,Pi(t,e),a,s)}},Pi=(e,t)=>{let a=e;const s=t.split(fi),n=s.length;for(let r=0;r<n;r++){const e=s[r];let t=a.nextPart.get(e);t||(t=gi(),a.nextPart.set(e,t)),a=t}return a},Ai=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,Ti=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,a=Object.create(null),s=Object.create(null);const n=(n,r)=>{a[n]=r,t++,t>e&&(t=0,s=a,a=Object.create(null))};return{get(e){let t=a[e];return void 0!==t?t:void 0!==(t=s[e])?(n(e,t),t):void 0},set(e,t){e in a?a[e]=t:n(e,t)}}},Mi=[],Di=(e,t,a,s,n)=>({modifiers:e,hasImportantModifier:t,baseClassName:a,maybePostfixModifierPosition:s,isExternal:n}),Ri=e=>{const{prefix:t,experimentalParseClassName:a}=e;let s=e=>{const t=[];let a,s=0,n=0,r=0;const l=e.length;for(let d=0;d<l;d++){const l=e[d];if(0===s&&0===n){if(":"===l){t.push(e.slice(r,d)),r=d+1;continue}if("/"===l){a=d;continue}}"["===l?s++:"]"===l?s--:"("===l?n++:")"===l&&n--}const i=0===t.length?e:e.slice(r);let o=i,c=!1;i.endsWith("!")?(o=i.slice(0,-1),c=!0):i.startsWith("!")&&(o=i.slice(1),c=!0);return Di(t,c,o,a&&a>r?a-r:void 0)};if(t){const e=t+":",a=s;s=t=>t.startsWith(e)?a(t.slice(e.length)):Di(Mi,!1,t,void 0,!0)}if(a){const e=s;s=t=>a({className:t,parseClassName:e})}return s},Ii=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,a)=>{t.set(e,1e6+a)}),e=>{const a=[];let s=[];for(let n=0;n<e.length;n++){const r=e[n],l="["===r[0],i=t.has(r);l||i?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(r)):s.push(r)}return s.length>0&&(s.sort(),a.push(...s)),a}},Oi=/\s+/,Li=e=>{if("string"===typeof e)return e;let t,a="";for(let s=0;s<e.length;s++)e[s]&&(t=Li(e[s]))&&(a&&(a+=" "),a+=t);return a},Fi=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];let n,r,l,i;const o=e=>{const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:a,getClassGroupId:s,getConflictingClassGroupIds:n,sortModifiers:r}=t,l=[],i=e.trim().split(Oi);let o="";for(let c=i.length-1;c>=0;c-=1){const e=i[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:h}=a(e);if(t){o=e+(o.length>0?" "+o:o);continue}let p=!!h,x=s(p?m.substring(0,h):m);if(!x){if(!p){o=e+(o.length>0?" "+o:o);continue}if(x=s(m),!x){o=e+(o.length>0?" "+o:o);continue}p=!1}const g=0===d.length?"":1===d.length?d[0]:r(d).join(":"),f=u?g+"!":g,v=f+x;if(l.indexOf(v)>-1)continue;l.push(v);const b=n(x,p);for(let a=0;a<b.length;++a){const e=b[a];l.push(f+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return l(e,a),a};return i=t=>{const s=a.reduce((e,t)=>t(e),e());return n=(e=>d({cache:Ti(e.cacheSize),parseClassName:Ri(e),sortModifiers:Ii(e)},bi(e)))(s),r=n.cache.get,l=n.cache.set,i=o,o(t)},function(){return i(function(){let e,t,a=0,s="";for(;a<arguments.length;){var n;(e=(n=a++)<0||arguments.length<=n?void 0:arguments[n])&&(t=Li(e))&&(s&&(s+=" "),s+=t)}return s}(...arguments))}},Bi=[],zi=e=>{const t=t=>t[e]||Bi;return t.isThemeGetter=!0,t},Hi=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qi=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ui=/^\d+\/\d+$/,Wi=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vi=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gi=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ki=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yi=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qi=e=>Ui.test(e),$i=e=>!!e&&!Number.isNaN(Number(e)),Ji=e=>!!e&&Number.isInteger(Number(e)),Xi=e=>e.endsWith("%")&&$i(e.slice(0,-1)),Zi=e=>Wi.test(e),eo=()=>!0,to=e=>Vi.test(e)&&!Gi.test(e),ao=()=>!1,so=e=>Ki.test(e),no=e=>Yi.test(e),ro=e=>!io(e)&&!po(e),lo=e=>jo(e,So,ao),io=e=>Hi.test(e),oo=e=>jo(e,_o,to),co=e=>jo(e,Co,$i),uo=e=>jo(e,wo,ao),mo=e=>jo(e,ko,no),ho=e=>jo(e,Po,so),po=e=>qi.test(e),xo=e=>No(e,_o),go=e=>No(e,Eo),fo=e=>No(e,wo),vo=e=>No(e,So),bo=e=>No(e,ko),yo=e=>No(e,Po,!0),jo=(e,t,a)=>{const s=Hi.exec(e);return!!s&&(s[1]?t(s[1]):a(s[2]))},No=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=qi.exec(e);return!!s&&(s[1]?t(s[1]):a)},wo=e=>"position"===e||"percentage"===e,ko=e=>"image"===e||"url"===e,So=e=>"length"===e||"size"===e||"bg-size"===e,_o=e=>"length"===e,Co=e=>"number"===e,Eo=e=>"family-name"===e,Po=e=>"shadow"===e,Ao=(Symbol.toStringTag,()=>{const e=zi("color"),t=zi("font"),a=zi("text"),s=zi("font-weight"),n=zi("tracking"),r=zi("leading"),l=zi("breakpoint"),i=zi("container"),o=zi("spacing"),c=zi("radius"),d=zi("shadow"),u=zi("inset-shadow"),m=zi("text-shadow"),h=zi("drop-shadow"),p=zi("blur"),x=zi("perspective"),g=zi("aspect"),f=zi("ease"),v=zi("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",po,io],y=()=>[po,io,o],j=()=>[Qi,"full","auto",...y()],N=()=>[Ji,"none","subgrid",po,io],w=()=>["auto",{span:["full",Ji,po,io]},Ji,po,io],k=()=>[Ji,"auto",po,io],S=()=>["auto","min","max","fr",po,io],_=()=>["auto",...y()],C=()=>[Qi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],E=()=>[e,po,io],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",fo,uo,{position:[po,io]}],A=()=>["auto","cover","contain",vo,lo,{size:[po,io]}],T=()=>[Xi,xo,oo],M=()=>["","none","full",c,po,io],D=()=>["",$i,xo,oo],R=()=>[$i,Xi,fo,uo],I=()=>["","none",p,po,io],O=()=>["none",$i,po,io],L=()=>["none",$i,po,io],F=()=>[$i,po,io],B=()=>[Qi,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zi],breakpoint:[Zi],color:[eo],container:[Zi],"drop-shadow":[Zi],ease:["in","out","in-out"],font:[ro],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zi],shadow:[Zi],spacing:["px",$i],text:[Zi],"text-shadow":[Zi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qi,io,po,g]}],container:["container"],columns:[{columns:[$i,io,po,i]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Ji,"auto",po,io]}],basis:[{basis:[Qi,"full","auto",i,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$i,Qi,"auto","initial","none",io]}],grow:[{grow:["",$i,po,io]}],shrink:[{shrink:["",$i,po,io]}],order:[{order:[Ji,"first","last","none",po,io]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:w()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:w()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[i,"screen",...C()]}],"min-w":[{"min-w":[i,"screen","none",...C()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[l]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",a,xo,oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,po,co]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xi,io]}],"font-family":[{font:[go,io,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,po,io]}],"line-clamp":[{"line-clamp":[$i,"none",po,co]}],leading:[{leading:[r,...y()]}],"list-image":[{"list-image":["none",po,io]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",po,io]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[$i,"from-font","auto",po,oo]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[$i,"auto",po,io]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",po,io]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",po,io]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ji,po,io],radial:["",po,io],conic:[Ji,po,io]},bo,mo]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[$i,po,io]}],"outline-w":[{outline:["",$i,xo,oo]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,yo,ho]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,yo,ho]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[$i,oo]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",m,yo,ho]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[$i,po,io]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$i]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[po,io]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[$i]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",po,io]}],filter:[{filter:["","none",po,io]}],blur:[{blur:I()}],brightness:[{brightness:[$i,po,io]}],contrast:[{contrast:[$i,po,io]}],"drop-shadow":[{"drop-shadow":["","none",h,yo,ho]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",$i,po,io]}],"hue-rotate":[{"hue-rotate":[$i,po,io]}],invert:[{invert:["",$i,po,io]}],saturate:[{saturate:[$i,po,io]}],sepia:[{sepia:["",$i,po,io]}],"backdrop-filter":[{"backdrop-filter":["","none",po,io]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[$i,po,io]}],"backdrop-contrast":[{"backdrop-contrast":[$i,po,io]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$i,po,io]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$i,po,io]}],"backdrop-invert":[{"backdrop-invert":["",$i,po,io]}],"backdrop-opacity":[{"backdrop-opacity":[$i,po,io]}],"backdrop-saturate":[{"backdrop-saturate":[$i,po,io]}],"backdrop-sepia":[{"backdrop-sepia":["",$i,po,io]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",po,io]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$i,"initial",po,io]}],ease:[{ease:["linear","initial",f,po,io]}],delay:[{delay:[$i,po,io]}],animate:[{animate:["none",v,po,io]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,po,io]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[po,io,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:B()}],"translate-x":[{"translate-x":B()}],"translate-y":[{"translate-y":B()}],"translate-z":[{"translate-z":B()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",po,io]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",po,io]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[$i,xo,oo,co]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),To=Fi(Ao);function Mo(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return To(ui(t))}const Do=["className","variant","size","asChild"],Ro=xi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-500 text-white shadow-sm hover:bg-blue-600 rounded-lg",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-gray-200 bg-white shadow-sm hover:bg-gray-50 text-gray-700 rounded-lg",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Io=t.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:l=!1}=e,i=r(e,Do);const o=l?li:"button";return(0,Hr.jsx)(o,d({className:Mo(Ro({variant:s,size:n,className:a})),ref:t},i))});Io.displayName="Button";const Oo=["className","type"],Lo=t.forwardRef((e,t)=>{let{className:a,type:s}=e,n=r(e,Oo);return(0,Hr.jsx)("input",d({type:s,className:Mo("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},n))});Lo.displayName="Input";const Fo=["asChild"];var Bo=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{const s=ri("Primitive.".concat(a)),n=t.forwardRef((e,t)=>{const{asChild:n}=e,l=r(e,Fo),i=n?s:a;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Hr.jsx)(i,d(d({},l),{},{ref:t}))});return n.displayName="Primitive.".concat(a),d(d({},e),{},{[a]:n})},{});var zo=t.forwardRef((e,t)=>(0,Hr.jsx)(Bo.label,d(d({},e),{},{ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));zo.displayName="Label";var Ho=zo;const qo=["className"],Uo=xi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wo=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,qo);return(0,Hr.jsx)(Ho,d({ref:t,className:Mo(Uo(),a)},s))});Wo.displayName=Ho.displayName;"undefined"===typeof window||!window.document||window.document.createElement;function Vo(e,t){let{checkForDefaultPrevented:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(s){if(null===e||void 0===e||e(s),!1===a||!s.defaultPrevented)return null===t||void 0===t?void 0:t(s)}}const Go=["children"],Ko=["scope","children"];function Yo(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[];const n=()=>{const a=s.map(e=>t.createContext(e));return function(s){const n=(null===s||void 0===s?void 0:s[e])||a;return t.useMemo(()=>({["__scope".concat(e)]:d(d({},s),{},{[e]:n})}),[s,n])}};return n.scopeName=e,[function(a,n){const l=t.createContext(n),i=s.length;s=[...s,n];const o=a=>{var s;const{scope:n,children:o}=a,c=r(a,Ko),d=(null===n||void 0===n||null===(s=n[e])||void 0===s?void 0:s[i])||l,u=t.useMemo(()=>c,Object.values(c));return(0,Hr.jsx)(d.Provider,{value:u,children:o})};return o.displayName=a+"Provider",[o,function(s,r){var o;const c=(null===r||void 0===r||null===(o=r[e])||void 0===o?void 0:o[i])||l,d=t.useContext(c);if(d)return d;if(void 0!==n)return n;throw new Error("`".concat(s,"` must be used within `").concat(a,"`"))}]},Qo(n,...a)]}function Qo(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];const n=a[0];if(1===a.length)return n;const r=()=>{const e=a.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(a){const s=e.reduce((e,t)=>{let{useScope:s,scopeName:n}=t;const r=s(a)["__scope".concat(n)];return d(d({},e),r)},{});return t.useMemo(()=>({["__scope".concat(n.scopeName)]:s}),[s])}};return r.scopeName=n.scopeName,r}var $o=null!==globalThis&&void 0!==globalThis&&globalThis.document?t.useLayoutEffect:()=>{},Jo=s[" useId ".trim().toString()]||(()=>{}),Xo=0;function Zo(e){const[a,s]=t.useState(Jo());return $o(()=>{e||s(e=>null!==e&&void 0!==e?e:String(Xo++))},[e]),e||(a?"radix-".concat(a):"")}var ec=s[" useInsertionEffect ".trim().toString()]||$o;function tc(e){let{prop:a,defaultProp:s,onChange:n=()=>{},caller:r}=e;const[l,i,o]=function(e){let{defaultProp:a,onChange:s}=e;const[n,r]=t.useState(a),l=t.useRef(n),i=t.useRef(s);return ec(()=>{i.current=s},[s]),t.useEffect(()=>{var e;l.current!==n&&(null===(e=i.current)||void 0===e||e.call(i,n),l.current=n)},[n,l]),[n,r,i]}({defaultProp:s,onChange:n}),c=void 0!==a,d=c?a:l;{const e=t.useRef(void 0!==a);t.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",a=c?"controlled":"uncontrolled";console.warn("".concat(r," is changing from ").concat(e," to ").concat(a,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,r])}const u=t.useCallback(e=>{if(c){const s=function(e){return"function"===typeof e}(e)?e(a):e;var t;if(s!==a)null===(t=o.current)||void 0===t||t.call(o,s)}else i(e)},[c,a,i,o]);return[d,u]}Symbol("RADIX:SYNC_STATE");const ac=["children"],sc=["children"];function nc(e){const a=rc(e),s=t.forwardRef((e,s)=>{const{children:n}=e,l=r(e,ac),i=t.Children.toArray(n),o=i.find(ic);if(o){const e=o.props.children,n=i.map(a=>a===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:a);return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null}))}return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:n}))});return s.displayName="".concat(e,".Slot"),s}function rc(e){const a=t.forwardRef((e,a)=>{const{children:s}=e,n=r(e,sc);if(t.isValidElement(s)){const e=function(e){var t,a;let s=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,n=s&&"isReactWarning"in s&&s.isReactWarning;if(n)return e.ref;if(s=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(s),r=function(e,t){const a=d({},t);for(const s in t){const n=e[s],r=t[s];/^on[A-Z]/.test(s)?n&&r?a[s]=function(){const e=r(...arguments);return n(...arguments),e}:n&&(a[s]=n):"style"===s?a[s]=d(d({},n),r):"className"===s&&(a[s]=[n,r].filter(Boolean).join(" "))}return d(d({},e),a)}(n,s.props);return s.type!==t.Fragment&&(r.ref=a?Xl(a,e):e),t.cloneElement(s,r)}return t.Children.count(s)>1?t.Children.only(null):null});return a.displayName="".concat(e,".SlotClone"),a}var lc=Symbol("radix.slottable");function ic(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===lc}const oc=["asChild"];var cc=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{const s=nc("Primitive.".concat(a)),n=t.forwardRef((e,t)=>{const{asChild:n}=e,l=r(e,oc),i=n?s:a;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Hr.jsx)(i,d(d({},l),{},{ref:t}))});return n.displayName="Primitive.".concat(a),d(d({},e),{},{[a]:n})},{});function dc(e,t){e&&Ot.flushSync(()=>e.dispatchEvent(t))}function uc(e){const a=t.useRef(e);return t.useEffect(()=>{a.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return null===(e=a.current)||void 0===e?void 0:e.call(a,...s)},[])}const mc=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var hc,pc="dismissableLayer.update",xc="dismissableLayer.pointerDownOutside",gc="dismissableLayer.focusOutside",fc=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vc=t.forwardRef((e,a)=>{var s;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:u}=e,m=r(e,mc),h=t.useContext(fc),[p,x]=t.useState(null),g=null!==(s=null===p||void 0===p?void 0:p.ownerDocument)&&void 0!==s?s:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,f]=t.useState({}),v=Zl(a,e=>x(e)),b=Array.from(h.layers),[y]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(y),N=p?b.indexOf(p):-1,w=h.layersWithOutsidePointerEventsDisabled.size>0,k=N>=j,S=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const s=uc(e),n=t.useRef(!1),r=t.useRef(()=>{});return t.useEffect(()=>{const e=e=>{if(e.target&&!n.current){let t=function(){jc(xc,s,n,{discrete:!0})};const n={originalEvent:e};"touch"===e.pointerType?(a.removeEventListener("click",r.current),r.current=t,a.addEventListener("click",r.current,{once:!0})):t()}else a.removeEventListener("click",r.current);n.current=!1},t=window.setTimeout(()=>{a.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),a.removeEventListener("pointerdown",e),a.removeEventListener("click",r.current)}},[a,s]),{onPointerDownCapture:()=>n.current=!0}}(e=>{const t=e.target,a=[...h.branches].some(e=>e.contains(t));k&&!a&&(null===i||void 0===i||i(e),null===c||void 0===c||c(e),e.defaultPrevented||null===u||void 0===u||u())},g),_=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const s=uc(e),n=t.useRef(!1);return t.useEffect(()=>{const e=e=>{if(e.target&&!n.current){jc(gc,s,{originalEvent:e},{discrete:!1})}};return a.addEventListener("focusin",e),()=>a.removeEventListener("focusin",e)},[a,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{const t=e.target;[...h.branches].some(e=>e.contains(t))||(null===o||void 0===o||o(e),null===c||void 0===c||c(e),e.defaultPrevented||null===u||void 0===u||u())},g);return function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const s=uc(e);t.useEffect(()=>{const e=e=>{"Escape"===e.key&&s(e)};return a.addEventListener("keydown",e,{capture:!0}),()=>a.removeEventListener("keydown",e,{capture:!0})},[s,a])}(e=>{N===h.layers.size-1&&(null===l||void 0===l||l(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))},g),t.useEffect(()=>{if(p)return n&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(hc=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),yc(),()=>{n&&1===h.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=hc)}},[p,g,n,h]),t.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),yc())},[p,h]),t.useEffect(()=>{const e=()=>f({});return document.addEventListener(pc,e),()=>document.removeEventListener(pc,e)},[]),(0,Hr.jsx)(cc.div,d(d({},m),{},{ref:v,style:d({pointerEvents:w?k?"auto":"none":void 0},e.style),onFocusCapture:Vo(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Vo(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Vo(e.onPointerDownCapture,S.onPointerDownCapture)}))});vc.displayName="DismissableLayer";var bc=t.forwardRef((e,a)=>{const s=t.useContext(fc),n=t.useRef(null),r=Zl(a,n);return t.useEffect(()=>{const e=n.current;if(e)return s.branches.add(e),()=>{s.branches.delete(e)}},[s.branches]),(0,Hr.jsx)(cc.div,d(d({},e),{},{ref:r}))});function yc(){const e=new CustomEvent(pc);document.dispatchEvent(e)}function jc(e,t,a,s){let{discrete:n}=s;const r=a.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:a});t&&r.addEventListener(e,t,{once:!0}),n?dc(r,l):r.dispatchEvent(l)}bc.displayName="DismissableLayerBranch";const Nc=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var wc="focusScope.autoFocusOnMount",kc="focusScope.autoFocusOnUnmount",Sc={bubbles:!1,cancelable:!0},_c=t.forwardRef((e,a)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:l,onUnmountAutoFocus:i}=e,o=r(e,Nc),[c,u]=t.useState(null),m=uc(l),h=uc(i),p=t.useRef(null),x=Zl(a,e=>u(e)),g=t.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;t.useEffect(()=>{if(n){let e=function(e){if(g.paused||!c)return;const t=e.target;c.contains(t)?p.current=t:Ac(p.current,{select:!0})},t=function(e){if(g.paused||!c)return;const t=e.relatedTarget;null!==t&&(c.contains(t)||Ac(p.current,{select:!0}))},a=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Ac(c)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const s=new MutationObserver(a);return c&&s.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),s.disconnect()}}},[n,c,g.paused]),t.useEffect(()=>{if(c){Tc.add(g);const t=document.activeElement;if(!c.contains(t)){const a=new CustomEvent(wc,Sc);c.addEventListener(wc,m),c.dispatchEvent(a),a.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=document.activeElement;for(const s of e)if(Ac(s,{select:t}),document.activeElement!==a)return}((e=Cc(c),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&Ac(c))}return()=>{c.removeEventListener(wc,m),setTimeout(()=>{const e=new CustomEvent(kc,Sc);c.addEventListener(kc,h),c.dispatchEvent(e),e.defaultPrevented||Ac(null!==t&&void 0!==t?t:document.body,{select:!0}),c.removeEventListener(kc,h),Tc.remove(g)},0)}}var e},[c,m,h,g]);const f=t.useCallback(e=>{if(!s&&!n)return;if(g.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,a=document.activeElement;if(t&&a){const t=e.currentTarget,[n,r]=function(e){const t=Cc(e),a=Ec(t,e),s=Ec(t.reverse(),e);return[a,s]}(t);n&&r?e.shiftKey||a!==r?e.shiftKey&&a===n&&(e.preventDefault(),s&&Ac(r,{select:!0})):(e.preventDefault(),s&&Ac(n,{select:!0})):a===t&&e.preventDefault()}},[s,n,g.paused]);return(0,Hr.jsx)(cc.div,d(d({tabIndex:-1},o),{},{ref:x,onKeyDown:f}))});function Cc(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function Ec(e,t){for(const a of e)if(!Pc(a,{upTo:t}))return a}function Pc(e,t){let{upTo:a}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==a&&e===a)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Ac(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}_c.displayName="FocusScope";var Tc=function(){let e=[];return{add(t){const a=e[0];t!==a&&(null===a||void 0===a||a.pause()),e=Mc(e,t),e.unshift(t)},remove(t){var a;e=Mc(e,t),null===(a=e[0])||void 0===a||a.resume()}}}();function Mc(e,t){const a=[...e],s=a.indexOf(t);return-1!==s&&a.splice(s,1),a}const Dc=["container"];var Rc=t.forwardRef((e,a)=>{var s;const{container:n}=e,l=r(e,Dc),[i,o]=t.useState(!1);$o(()=>o(!0),[]);const c=n||i&&(null===globalThis||void 0===globalThis||null===(s=globalThis.document)||void 0===s?void 0:s.body);return c?Ot.createPortal((0,Hr.jsx)(cc.div,d(d({},l),{},{ref:a})),c):null});Rc.displayName="Portal";var Ic=e=>{const{present:a,children:s}=e,n=function(e){const[a,s]=t.useState(),n=t.useRef(null),r=t.useRef(e),l=t.useRef("none"),i=e?"mounted":"unmounted",[o,c]=function(e,a){return t.useReducer((e,t)=>{const s=a[e][t];return null!==s&&void 0!==s?s:e},e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{const e=Oc(n.current);l.current="mounted"===o?e:"none"},[o]),$o(()=>{const t=n.current,a=r.current;if(a!==e){const s=l.current,n=Oc(t);if(e)c("MOUNT");else if("none"===n||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(a&&s!==n?"ANIMATION_OUT":"UNMOUNT")}r.current=e}},[e,c]),$o(()=>{if(a){var e;let t;const s=null!==(e=a.ownerDocument.defaultView)&&void 0!==e?e:window,i=e=>{const l=Oc(n.current).includes(CSS.escape(e.animationName));if(e.target===a&&l&&(c("ANIMATION_END"),!r.current)){const e=a.style.animationFillMode;a.style.animationFillMode="forwards",t=s.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=e)})}},o=e=>{e.target===a&&(l.current=Oc(n.current))};return a.addEventListener("animationstart",o),a.addEventListener("animationcancel",i),a.addEventListener("animationend",i),()=>{s.clearTimeout(t),a.removeEventListener("animationstart",o),a.removeEventListener("animationcancel",i),a.removeEventListener("animationend",i)}}c("ANIMATION_END")},[a,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:t.useCallback(e=>{n.current=e?getComputedStyle(e):null,s(e)},[])}}(a),r="function"===typeof s?s({present:n.isPresent}):t.Children.only(s),l=Zl(n.ref,function(e){var t,a;let s=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,n=s&&"isReactWarning"in s&&s.isReactWarning;if(n)return e.ref;if(s=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r));return"function"===typeof s||n.isPresent?t.cloneElement(r,{ref:l}):null};function Oc(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}Ic.displayName="Presence";var Lc=0;function Fc(){t.useEffect(()=>{var e,t;const a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=a[0])&&void 0!==e?e:Bc()),document.body.insertAdjacentElement("beforeend",null!==(t=a[1])&&void 0!==t?t:Bc()),Lc++,()=>{1===Lc&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lc--}},[])}function Bc(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zc=function(){return zc=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},zc.apply(this,arguments)};function Hc(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(a[s[n]]=e[s[n]])}return a}Object.create;function qc(e,t,a){if(a||2===arguments.length)for(var s,n=0,r=t.length;n<r;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Uc="right-scroll-bar-position",Wc="width-before-scroll-bar";function Vc(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var Gc="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Kc=new WeakMap;function Yc(e,a){var s=function(e,a){var s=(0,t.useState)(function(){return{value:e,callback:a,facade:{get current(){return s.value},set current(e){var t=s.value;t!==e&&(s.value=e,s.callback(e,t))}}}})[0];return s.callback=a,s.facade}(a||null,function(t){return e.forEach(function(e){return Vc(e,t)})});return Gc(function(){var t=Kc.get(s);if(t){var a=new Set(t),n=new Set(e),r=s.current;a.forEach(function(e){n.has(e)||Vc(e,null)}),n.forEach(function(e){a.has(e)||Vc(e,r)})}Kc.set(s,e)},[e]),s}function Qc(e){return e}function $c(e,t){void 0===t&&(t=Qc);var a=[],s=!1,n={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(e){var n=t(e,s);return a.push(n),function(){a=a.filter(function(e){return e!==n})}},assignSyncMedium:function(e){for(s=!0;a.length;){var t=a;a=[],t.forEach(e)}a={push:function(t){return e(t)},filter:function(){return a}}},assignMedium:function(e){s=!0;var t=[];if(a.length){var n=a;a=[],n.forEach(e),t=a}var r=function(){var a=t;t=[],a.forEach(e)},l=function(){return Promise.resolve().then(r)};l(),a={push:function(e){t.push(e),l()},filter:function(e){return t=t.filter(e),a}}}};return n}var Jc=function(e){void 0===e&&(e={});var t=$c(null);return t.options=zc({async:!0,ssr:!1},e),t}(),Xc=function(){},Zc=t.forwardRef(function(e,a){var s=t.useRef(null),n=t.useState({onScrollCapture:Xc,onWheelCapture:Xc,onTouchMoveCapture:Xc}),r=n[0],l=n[1],i=e.forwardProps,o=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,f=e.allowPinchZoom,v=e.as,b=void 0===v?"div":v,y=e.gapMode,j=Hc(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,w=Yc([s,a]),k=zc(zc({},j),r);return t.createElement(t.Fragment,null,u&&t.createElement(N,{sideCar:Jc,removeScrollBar:d,shards:m,noRelative:p,noIsolation:x,inert:g,setCallbacks:l,allowPinchZoom:!!f,lockRef:s,gapMode:y}),i?t.cloneElement(t.Children.only(o),zc(zc({},k),{ref:w})):t.createElement(b,zc({},k,{className:c,ref:w}),o))});Zc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Zc.classNames={fullWidth:Wc,zeroRight:Uc};var ed,td=function(e){var a=e.sideCar,s=Hc(e,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=a.read();if(!n)throw new Error("Sidecar medium not found");return t.createElement(n,zc({},s))};td.isSideCarExport=!0;function ad(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ed||a.nc;return t&&e.setAttribute("nonce",t),e}var sd=function(){var e=0,t=null;return{add:function(a){var s,n;0==e&&(t=ad())&&(n=a,(s=t).styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nd=function(){var e=function(){var e=sd();return function(a,s){t.useEffect(function(){return e.add(a),function(){e.remove()}},[a&&s])}}();return function(t){var a=t.styles,s=t.dynamic;return e(a,s),null}},rd={left:0,top:0,right:0,gap:0},ld=function(e){return parseInt(e||"",10)||0},id=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return rd;var t=function(e){var t=window.getComputedStyle(document.body),a=t["padding"===e?"paddingLeft":"marginLeft"],s=t["padding"===e?"paddingTop":"marginTop"],n=t["padding"===e?"paddingRight":"marginRight"];return[ld(a),ld(s),ld(n)]}(e),a=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-a+t[2]-t[0])}},od=nd(),cd="data-scroll-locked",dd=function(e,t,a,s){var n=e.left,r=e.top,l=e.right,i=e.gap;return void 0===a&&(a="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(s,";\n   padding-right: ").concat(i,"px ").concat(s,";\n  }\n  body[").concat(cd,"] {\n    overflow: hidden ").concat(s,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(s,";"),"margin"===a&&"\n    padding-left: ".concat(n,"px;\n    padding-top: ").concat(r,"px;\n    padding-right: ").concat(l,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(i,"px ").concat(s,";\n    "),"padding"===a&&"padding-right: ".concat(i,"px ").concat(s,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Uc," {\n    right: ").concat(i,"px ").concat(s,";\n  }\n  \n  .").concat(Wc," {\n    margin-right: ").concat(i,"px ").concat(s,";\n  }\n  \n  .").concat(Uc," .").concat(Uc," {\n    right: 0 ").concat(s,";\n  }\n  \n  .").concat(Wc," .").concat(Wc," {\n    margin-right: 0 ").concat(s,";\n  }\n  \n  body[").concat(cd,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(i,"px;\n  }\n")},ud=function(){var e=parseInt(document.body.getAttribute(cd)||"0",10);return isFinite(e)?e:0},md=function(e){var a=e.noRelative,s=e.noImportant,n=e.gapMode,r=void 0===n?"margin":n;t.useEffect(function(){return document.body.setAttribute(cd,(ud()+1).toString()),function(){var e=ud()-1;e<=0?document.body.removeAttribute(cd):document.body.setAttribute(cd,e.toString())}},[]);var l=t.useMemo(function(){return id(r)},[r]);return t.createElement(od,{styles:dd(l,!a,r,s?"":"!important")})},hd=!1;if("undefined"!==typeof window)try{var pd=Object.defineProperty({},"passive",{get:function(){return hd=!0,!0}});window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch(Jk){hd=!1}var xd=!!hd&&{passive:!1},gd=function(e,t){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return"hidden"!==a[t]&&!(a.overflowY===a.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===a[t])},fd=function(e,t){var a=t.ownerDocument,s=t;do{if("undefined"!==typeof ShadowRoot&&s instanceof ShadowRoot&&(s=s.host),vd(e,s)){var n=bd(e,s);if(n[1]>n[2])return!0}s=s.parentNode}while(s&&s!==a.body);return!1},vd=function(e,t){return"v"===e?function(e){return gd(e,"overflowY")}(t):function(e){return gd(e,"overflowX")}(t)},bd=function(e,t){return"v"===e?[(a=t).scrollTop,a.scrollHeight,a.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var a},yd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jd=function(e){return[e.deltaX,e.deltaY]},Nd=function(e){return e&&"current"in e?e.current:e},wd=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},kd=0,Sd=[];function _d(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Cd=(Ed=function(e){var a=t.useRef([]),s=t.useRef([0,0]),n=t.useRef(),r=t.useState(kd++)[0],l=t.useState(nd)[0],i=t.useRef(e);t.useEffect(function(){i.current=e},[e]),t.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=qc([e.lockRef.current],(e.shards||[]).map(Nd),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var o=t.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var a,r=yd(e),l=s.current,o="deltaX"in e?e.deltaX:l[0]-r[0],c="deltaY"in e?e.deltaY:l[1]-r[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=window.getSelection(),h=m&&m.anchorNode;if(h&&(h===d||h.contains(d)))return!1;var p=fd(u,d);if(!p)return!0;if(p?a=u:(a="v"===u?"h":"v",p=fd(u,d)),!p)return!1;if(!n.current&&"changedTouches"in e&&(o||c)&&(n.current=a),!a)return!0;var x=n.current||a;return function(e,t,a,s,n){var r=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),l=r*s,i=a.target,o=t.contains(i),c=!1,d=l>0,u=0,m=0;do{if(!i)break;var h=bd(e,i),p=h[0],x=h[1]-h[2]-r*p;(p||x)&&vd(e,i)&&(u+=x,m+=p);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!o&&i!==document.body||o&&(t.contains(i)||t===i));return(d&&(n&&Math.abs(u)<1||!n&&l>u)||!d&&(n&&Math.abs(m)<1||!n&&-l>m))&&(c=!0),c}(x,t,e,"h"===x?o:c,!0)},[]),c=t.useCallback(function(e){var t=e;if(Sd.length&&Sd[Sd.length-1]===l){var s="deltaY"in t?jd(t):yd(t),n=a.current.filter(function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(a=e.delta,n=s,a[0]===n[0]&&a[1]===n[1]);var a,n})[0];if(n&&n.should)t.cancelable&&t.preventDefault();else if(!n){var r=(i.current.shards||[]).map(Nd).filter(Boolean).filter(function(e){return e.contains(t.target)});(r.length>0?o(t,r[0]):!i.current.noIsolation)&&t.cancelable&&t.preventDefault()}}},[]),d=t.useCallback(function(e,t,s,n){var r={name:e,delta:t,target:s,should:n,shadowParent:_d(s)};a.current.push(r),setTimeout(function(){a.current=a.current.filter(function(e){return e!==r})},1)},[]),u=t.useCallback(function(e){s.current=yd(e),n.current=void 0},[]),m=t.useCallback(function(t){d(t.type,jd(t),t.target,o(t,e.lockRef.current))},[]),h=t.useCallback(function(t){d(t.type,yd(t),t.target,o(t,e.lockRef.current))},[]);t.useEffect(function(){return Sd.push(l),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,xd),document.addEventListener("touchmove",c,xd),document.addEventListener("touchstart",u,xd),function(){Sd=Sd.filter(function(e){return e!==l}),document.removeEventListener("wheel",c,xd),document.removeEventListener("touchmove",c,xd),document.removeEventListener("touchstart",u,xd)}},[]);var p=e.removeScrollBar,x=e.inert;return t.createElement(t.Fragment,null,x?t.createElement(l,{styles:wd(r)}):null,p?t.createElement(md,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Jc.useMedium(Ed),td);var Ed,Pd=t.forwardRef(function(e,a){return t.createElement(Zc,zc({},e,{ref:a,sideCar:Cd}))});Pd.classNames=Zc.classNames;const Ad=Pd;var Td=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},Md=new WeakMap,Dd=new WeakMap,Rd={},Id=0,Od=function(e){return e&&(e.host||Od(e.parentNode))},Ld=function(e,t,a,s){var n=function(e,t){return t.map(function(t){if(e.contains(t))return t;var a=Od(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Rd[a]||(Rd[a]=new WeakMap);var r=Rd[a],l=[],i=new Set,o=new Set(n),c=function(e){e&&!i.has(e)&&(i.add(e),c(e.parentNode))};n.forEach(c);var d=function(e){e&&!o.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(i.has(e))d(e);else try{var t=e.getAttribute(s),n=null!==t&&"false"!==t,o=(Md.get(e)||0)+1,c=(r.get(e)||0)+1;Md.set(e,o),r.set(e,c),l.push(e),1===o&&n&&Dd.set(e,!0),1===c&&e.setAttribute(a,"true"),n||e.setAttribute(s,"true")}catch($k){console.error("aria-hidden: cannot operate on ",e,$k)}})};return d(t),i.clear(),Id++,function(){l.forEach(function(e){var t=Md.get(e)-1,n=r.get(e)-1;Md.set(e,t),r.set(e,n),t||(Dd.has(e)||e.removeAttribute(s),Dd.delete(e)),n||e.removeAttribute(a)}),--Id||(Md=new WeakMap,Md=new WeakMap,Dd=new WeakMap,Rd={})}},Fd=function(e,t,a){void 0===a&&(a="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),n=t||Td(e);return n?(s.push.apply(s,Array.from(n.querySelectorAll("[aria-live], script"))),Ld(s,n,a,"aria-hidden")):function(){return null}};const Bd=["children"],zd=["children"];function Hd(e){const a=qd(e),s=t.forwardRef((e,s)=>{const{children:n}=e,l=r(e,Bd),i=t.Children.toArray(n),o=i.find(Wd);if(o){const e=o.props.children,n=i.map(a=>a===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:a);return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null}))}return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:n}))});return s.displayName="".concat(e,".Slot"),s}function qd(e){const a=t.forwardRef((e,a)=>{const{children:s}=e,n=r(e,zd);if(t.isValidElement(s)){const e=function(e){var t,a;let s=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,n=s&&"isReactWarning"in s&&s.isReactWarning;if(n)return e.ref;if(s=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(s),r=function(e,t){const a=d({},t);for(const s in t){const n=e[s],r=t[s];/^on[A-Z]/.test(s)?n&&r?a[s]=function(){const e=r(...arguments);return n(...arguments),e}:n&&(a[s]=n):"style"===s?a[s]=d(d({},n),r):"className"===s&&(a[s]=[n,r].filter(Boolean).join(" "))}return d(d({},e),a)}(n,s.props);return s.type!==t.Fragment&&(r.ref=a?Xl(a,e):e),t.cloneElement(s,r)}return t.Children.count(s)>1?t.Children.only(null):null});return a.displayName="".concat(e,".SlotClone"),a}var Ud=Symbol("radix.slottable");function Wd(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Ud}const Vd=["__scopeDialog"],Gd=["forceMount"],Kd=["__scopeDialog"],Yd=["forceMount"],Qd=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],$d=["__scopeDialog"],Jd=["__scopeDialog"],Xd=["__scopeDialog"];var Zd="Dialog",[eu,tu]=Yo(Zd),[au,su]=eu(Zd),nu=e=>{const{__scopeDialog:a,children:s,open:n,defaultOpen:r,onOpenChange:l,modal:i=!0}=e,o=t.useRef(null),c=t.useRef(null),[d,u]=tc({prop:n,defaultProp:null!==r&&void 0!==r&&r,onChange:l,caller:Zd});return(0,Hr.jsx)(au,{scope:a,triggerRef:o,contentRef:c,contentId:Zo(),titleId:Zo(),descriptionId:Zo(),open:d,onOpenChange:u,onOpenToggle:t.useCallback(()=>u(e=>!e),[u]),modal:i,children:s})};nu.displayName=Zd;var ru="DialogTrigger",lu=t.forwardRef((e,t)=>{const{__scopeDialog:a}=e,s=r(e,Vd),n=su(ru,a),l=Zl(t,n.triggerRef);return(0,Hr.jsx)(cc.button,d(d({type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":_u(n.open)},s),{},{ref:l,onClick:Vo(e.onClick,n.onOpenToggle)}))});lu.displayName=ru;var iu="DialogPortal",[ou,cu]=eu(iu,{forceMount:void 0}),du=e=>{const{__scopeDialog:a,forceMount:s,children:n,container:r}=e,l=su(iu,a);return(0,Hr.jsx)(ou,{scope:a,forceMount:s,children:t.Children.map(n,e=>(0,Hr.jsx)(Ic,{present:s||l.open,children:(0,Hr.jsx)(Rc,{asChild:!0,container:r,children:e})}))})};du.displayName=iu;var uu="DialogOverlay",mu=t.forwardRef((e,t)=>{const a=cu(uu,e.__scopeDialog),{forceMount:s=a.forceMount}=e,n=r(e,Gd),l=su(uu,e.__scopeDialog);return l.modal?(0,Hr.jsx)(Ic,{present:s||l.open,children:(0,Hr.jsx)(pu,d(d({},n),{},{ref:t}))}):null});mu.displayName=uu;var hu=Hd("DialogOverlay.RemoveScroll"),pu=t.forwardRef((e,t)=>{const{__scopeDialog:a}=e,s=r(e,Kd),n=su(uu,a);return(0,Hr.jsx)(Ad,{as:hu,allowPinchZoom:!0,shards:[n.contentRef],children:(0,Hr.jsx)(cc.div,d(d({"data-state":_u(n.open)},s),{},{ref:t,style:d({pointerEvents:"auto"},s.style)}))})}),xu="DialogContent",gu=t.forwardRef((e,t)=>{const a=cu(xu,e.__scopeDialog),{forceMount:s=a.forceMount}=e,n=r(e,Yd),l=su(xu,e.__scopeDialog);return(0,Hr.jsx)(Ic,{present:s||l.open,children:l.modal?(0,Hr.jsx)(fu,d(d({},n),{},{ref:t})):(0,Hr.jsx)(vu,d(d({},n),{},{ref:t}))})});gu.displayName=xu;var fu=t.forwardRef((e,a)=>{const s=su(xu,e.__scopeDialog),n=t.useRef(null),r=Zl(a,s.contentRef,n);return t.useEffect(()=>{const e=n.current;if(e)return Fd(e)},[]),(0,Hr.jsx)(bu,d(d({},e),{},{ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vo(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=s.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:Vo(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:Vo(e.onFocusOutside,e=>e.preventDefault())}))}),vu=t.forwardRef((e,a)=>{const s=su(xu,e.__scopeDialog),n=t.useRef(!1),r=t.useRef(!1);return(0,Hr.jsx)(bu,d(d({},e),{},{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,l;(null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented)||(n.current||null===(l=s.triggerRef.current)||void 0===l||l.focus(),t.preventDefault());n.current=!1,r.current=!1},onInteractOutside:t=>{var a,l;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));const i=t.target;(null===(l=s.triggerRef.current)||void 0===l?void 0:l.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}}))}),bu=t.forwardRef((e,a)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:l,onCloseAutoFocus:i}=e,o=r(e,Qd),c=su(xu,s),u=t.useRef(null),m=Zl(a,u);return Fc(),(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(_c,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:l,onUnmountAutoFocus:i,children:(0,Hr.jsx)(vc,d(d({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":_u(c.open)},o),{},{ref:m,onDismiss:()=>c.onOpenChange(!1)}))}),(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Au,{titleId:c.titleId}),(0,Hr.jsx)(Tu,{contentRef:u,descriptionId:c.descriptionId})]})]})}),yu="DialogTitle",ju=t.forwardRef((e,t)=>{const{__scopeDialog:a}=e,s=r(e,$d),n=su(yu,a);return(0,Hr.jsx)(cc.h2,d(d({id:n.titleId},s),{},{ref:t}))});ju.displayName=yu;var Nu="DialogDescription",wu=t.forwardRef((e,t)=>{const{__scopeDialog:a}=e,s=r(e,Jd),n=su(Nu,a);return(0,Hr.jsx)(cc.p,d(d({id:n.descriptionId},s),{},{ref:t}))});wu.displayName=Nu;var ku="DialogClose",Su=t.forwardRef((e,t)=>{const{__scopeDialog:a}=e,s=r(e,Xd),n=su(ku,a);return(0,Hr.jsx)(cc.button,d(d({type:"button"},s),{},{ref:t,onClick:Vo(e.onClick,()=>n.onOpenChange(!1))}))});function _u(e){return e?"open":"closed"}Su.displayName=ku;var Cu="DialogTitleWarning",[Eu,Pu]=function(e,a){const s=t.createContext(a),n=e=>{const{children:a}=e,n=r(e,Go),l=t.useMemo(()=>n,Object.values(n));return(0,Hr.jsx)(s.Provider,{value:l,children:a})};return n.displayName=e+"Provider",[n,function(n){const r=t.useContext(s);if(r)return r;if(void 0!==a)return a;throw new Error("`".concat(n,"` must be used within `").concat(e,"`"))}]}(Cu,{contentName:xu,titleName:yu,docsSlug:"dialog"}),Au=e=>{let{titleId:a}=e;const s=Pu(Cu),n="`".concat(s.contentName,"` requires a `").concat(s.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(s.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(s.docsSlug);return t.useEffect(()=>{if(a){document.getElementById(a)||console.error(n)}},[n,a]),null},Tu=e=>{let{contentRef:a,descriptionId:s}=e;const n=Pu("DialogDescriptionWarning"),r="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return t.useEffect(()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(s&&t){document.getElementById(s)||console.warn(r)}},[r,a,s]),null},Mu=nu,Du=lu,Ru=du,Iu=mu,Ou=gu,Lu=ju,Fu=wu,Bu=Su;const zu=el("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Hu=["className"],qu=["className","children"],Uu=["className"],Wu=["className"],Vu=["className"],Gu=Mu,Ku=Du,Yu=Ru,Qu=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,Hu);return(0,Hr.jsx)(Iu,d({ref:t,className:Mo("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},s))});Qu.displayName=Iu.displayName;const $u=t.forwardRef((e,t)=>{let{className:a,children:s}=e,n=r(e,qu);return(0,Hr.jsxs)(Yu,{children:[(0,Hr.jsx)(Qu,{}),(0,Hr.jsxs)(Ou,d(d({ref:t,className:Mo("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},n),{},{children:[s,(0,Hr.jsxs)(Bu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,Hr.jsx)(zu,{className:"h-4 w-4"}),(0,Hr.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});$u.displayName=Ou.displayName;const Ju=e=>{let{className:t}=e,a=r(e,Uu);return(0,Hr.jsx)("div",d({className:Mo("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};Ju.displayName="DialogHeader";const Xu=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,Wu);return(0,Hr.jsx)(Lu,d({ref:t,className:Mo("text-lg font-semibold leading-none tracking-tight",a)},s))});Xu.displayName=Lu.displayName;const Zu=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,Vu);return(0,Hr.jsx)(Fu,d({ref:t,className:Mo("text-sm text-muted-foreground",a)},s))});Zu.displayName=Fu.displayName;const em=["className"],tm=["className"],am=["className"],sm=["className"],nm=["className"],rm=["className"],lm=["className"],im=["className"],om=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,em);return(0,Hr.jsx)("div",{className:"relative w-full overflow-auto rounded-xl border border-gray-200 bg-white overflow-hidden",children:(0,Hr.jsx)("table",d({ref:t,className:Mo("w-full caption-bottom text-sm",a)},s))})});om.displayName="Table";const cm=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,tm);return(0,Hr.jsx)("thead",d({ref:t,className:Mo("[&_tr]:border-b bg-gray-50/80",a)},s))});cm.displayName="TableHeader";const dm=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,am);return(0,Hr.jsx)("tbody",d({ref:t,className:Mo("[&_tr:last-child]:border-0",a)},s))});dm.displayName="TableBody";t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,sm);return(0,Hr.jsx)("tfoot",d({ref:t,className:Mo("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a)},s))}).displayName="TableFooter";const um=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,nm);return(0,Hr.jsx)("tr",d({ref:t,className:Mo("border-b transition-colors hover:bg-blue-50/40 data-[state=selected]:bg-muted",a)},s))});um.displayName="TableRow";const mm=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,rm);return(0,Hr.jsx)("th",d({ref:t,className:Mo("h-11 px-4 text-xs uppercase tracking-wider text-left align-middle font-medium text-gray-600 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a)},s))});mm.displayName="TableHead";const hm=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,lm);return(0,Hr.jsx)("td",d({ref:t,className:Mo("px-4 py-3 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a)},s))});hm.displayName="TableCell";function pm(e,t,a){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,a)}function xm(e,t,a){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:a;throw new TypeError("Private element is not present on this object")}function gm(e,t){return e.get(xm(e,t))}function fm(e,t,a){return e.set(xm(e,t),a),a}t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,im);return(0,Hr.jsx)("caption",d({ref:t,className:Mo("mt-4 text-sm text-muted-foreground",a)},s))}).displayName="TableCaption";const vm=["children"],bm=["children"];function ym(e){const a=jm(e),s=t.forwardRef((e,s)=>{const{children:n}=e,l=r(e,vm),i=t.Children.toArray(n),o=i.find(km);if(o){const e=o.props.children,n=i.map(a=>a===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:a);return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null}))}return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:n}))});return s.displayName="".concat(e,".Slot"),s}function jm(e){const a=t.forwardRef((e,a)=>{const{children:s}=e,n=r(e,bm);if(t.isValidElement(s)){const e=function(e){var t,a;let s=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,n=s&&"isReactWarning"in s&&s.isReactWarning;if(n)return e.ref;if(s=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(s),r=function(e,t){const a=d({},t);for(const s in t){const n=e[s],r=t[s];/^on[A-Z]/.test(s)?n&&r?a[s]=function(){const e=r(...arguments);return n(...arguments),e}:n&&(a[s]=n):"style"===s?a[s]=d(d({},n),r):"className"===s&&(a[s]=[n,r].filter(Boolean).join(" "))}return d(d({},e),a)}(n,s.props);return s.type!==t.Fragment&&(r.ref=a?Xl(a,e):e),t.cloneElement(s,r)}return t.Children.count(s)>1?t.Children.only(null):null});return a.displayName="".concat(e,".SlotClone"),a}var Nm=Symbol("radix.slottable");var wm;function km(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Nm}const Sm=["scope","children"];function _m(e){const a=e+"CollectionProvider",[s,n]=Yo(a),[l,i]=s(a,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:a,children:s}=e,n=t.useRef(null),r=t.useRef(new Map).current;return(0,Hr.jsx)(l,{scope:a,itemMap:r,collectionRef:n,children:s})};o.displayName=a;const c=e+"CollectionSlot",u=ym(c),m=t.forwardRef((e,t)=>{const{scope:a,children:s}=e,n=Zl(t,i(c,a).collectionRef);return(0,Hr.jsx)(u,{ref:n,children:s})});m.displayName=c;const h=e+"CollectionItemSlot",p="data-radix-collection-item",x=ym(h),g=t.forwardRef((e,a)=>{const{scope:s,children:n}=e,l=r(e,Sm),o=t.useRef(null),c=Zl(a,o),u=i(h,s);return t.useEffect(()=>(u.itemMap.set(o,d({ref:o},l)),()=>{u.itemMap.delete(o)})),(0,Hr.jsx)(x,d(d({},{[p]:""}),{},{ref:c,children:n}))});return g.displayName=h,[{Provider:o,Slot:m,ItemSlot:g},function(a){const s=i(e+"CollectionConsumer",a),n=t.useCallback(()=>{const e=s.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(p,"]"))),a=Array.from(s.itemMap.values()).sort((e,a)=>t.indexOf(e.ref.current)-t.indexOf(a.ref.current));return a},[s.collectionRef,s.itemMap]);return n},n]}var Cm=new WeakMap;wm=new WeakMap,Map;function Em(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const a=function(e,t){const a=e.length,s=Pm(t),n=s>=0?s:a+s;return n<0||n>=a?-1:n}(e,t);return-1===a?void 0:e[a]}function Pm(e){return e!==e||0===e?0:Math.trunc(e)}var Am=t.createContext(void 0);function Tm(e){const a=t.useContext(Am);return e||a||"ltr"}const Mm=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],Dm=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var Rm="rovingFocusGroup.onEntryFocus",Im={bubbles:!1,cancelable:!0},Om="RovingFocusGroup",[Lm,Fm,Bm]=_m(Om),[zm,Hm]=Yo(Om,[Bm]),[qm,Um]=zm(Om),Wm=t.forwardRef((e,t)=>(0,Hr.jsx)(Lm.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,Hr.jsx)(Lm.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,Hr.jsx)(Vm,d(d({},e),{},{ref:t}))})}));Wm.displayName=Om;var Vm=t.forwardRef((e,a)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:l=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:m,preventScrollOnEntryFocus:h=!1}=e,p=r(e,Mm),x=t.useRef(null),g=Zl(a,x),f=Tm(i),[v,b]=tc({prop:o,defaultProp:null!==c&&void 0!==c?c:null,onChange:u,caller:Om}),[y,j]=t.useState(!1),N=uc(m),w=Fm(s),k=t.useRef(!1),[S,_]=t.useState(0);return t.useEffect(()=>{const e=x.current;if(e)return e.addEventListener(Rm,N),()=>e.removeEventListener(Rm,N)},[N]),(0,Hr.jsx)(qm,{scope:s,orientation:n,dir:f,loop:l,currentTabStopId:v,onItemFocus:t.useCallback(e=>b(e),[b]),onItemShiftTab:t.useCallback(()=>j(!0),[]),onFocusableItemAdd:t.useCallback(()=>_(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>_(e=>e-1),[]),children:(0,Hr.jsx)(cc.div,d(d({tabIndex:y||0===S?-1:0,"data-orientation":n},p),{},{ref:g,style:d({outline:"none"},e.style),onMouseDown:Vo(e.onMouseDown,()=>{k.current=!0}),onFocus:Vo(e.onFocus,e=>{const t=!k.current;if(e.target===e.currentTarget&&t&&!y){const t=new CustomEvent(Rm,Im);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=w().filter(e=>e.focusable);Qm([e.find(e=>e.active),e.find(e=>e.id===v),...e].filter(Boolean).map(e=>e.ref.current),h)}}k.current=!1}),onBlur:Vo(e.onBlur,()=>j(!1))}))})}),Gm="RovingFocusGroupItem",Km=t.forwardRef((e,a)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:l=!1,tabStopId:i,children:o}=e,c=r(e,Dm),u=Zo(),m=i||u,h=Um(Gm,s),p=h.currentTabStopId===m,x=Fm(s),{onFocusableItemAdd:g,onFocusableItemRemove:f,currentTabStopId:v}=h;return t.useEffect(()=>{if(n)return g(),()=>f()},[n,g,f]),(0,Hr.jsx)(Lm.ItemSlot,{scope:s,id:m,focusable:n,active:l,children:(0,Hr.jsx)(cc.span,d(d({tabIndex:p?0:-1,"data-orientation":h.orientation},c),{},{ref:a,onMouseDown:Vo(e.onMouseDown,e=>{n?h.onItemFocus(m):e.preventDefault()}),onFocus:Vo(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:Vo(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,a){const s=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,a);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(s)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)?void 0:Ym[s]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=x().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){"prev"===t&&n.reverse();const r=n.indexOf(e.currentTarget);n=h.loop?(s=r+1,(a=n).map((e,t)=>a[(s+t)%a.length])):n.slice(r+1)}setTimeout(()=>Qm(n))}var a,s}),children:"function"===typeof o?o({isCurrentTabStop:p,hasTabStop:null!=v}):o}))})});Km.displayName=Gm;var Ym={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=document.activeElement;for(const s of e){if(s===a)return;if(s.focus({preventScroll:t}),document.activeElement!==a)return}}var $m=Wm,Jm=Km;const Xm=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],Zm=["__scopeTabs","loop"],eh=["__scopeTabs","value","disabled"],th=["__scopeTabs","value","forceMount","children"];var ah="Tabs",[sh,nh]=Yo(ah,[Hm]),rh=Hm(),[lh,ih]=sh(ah),oh=t.forwardRef((e,t)=>{const{__scopeTabs:a,value:s,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:o,activationMode:c="automatic"}=e,u=r(e,Xm),m=Tm(o),[h,p]=tc({prop:s,onChange:n,defaultProp:null!==l&&void 0!==l?l:"",caller:ah});return(0,Hr.jsx)(lh,{scope:a,baseId:Zo(),value:h,onValueChange:p,orientation:i,dir:m,activationMode:c,children:(0,Hr.jsx)(cc.div,d(d({dir:m,"data-orientation":i},u),{},{ref:t}))})});oh.displayName=ah;var ch="TabsList",dh=t.forwardRef((e,t)=>{const{__scopeTabs:a,loop:s=!0}=e,n=r(e,Zm),l=ih(ch,a),i=rh(a);return(0,Hr.jsx)($m,d(d({asChild:!0},i),{},{orientation:l.orientation,dir:l.dir,loop:s,children:(0,Hr.jsx)(cc.div,d(d({role:"tablist","aria-orientation":l.orientation},n),{},{ref:t}))}))});dh.displayName=ch;var uh="TabsTrigger",mh=t.forwardRef((e,t)=>{const{__scopeTabs:a,value:s,disabled:n=!1}=e,l=r(e,eh),i=ih(uh,a),o=rh(a),c=xh(i.baseId,s),u=gh(i.baseId,s),m=s===i.value;return(0,Hr.jsx)(Jm,d(d({asChild:!0},o),{},{focusable:!n,active:m,children:(0,Hr.jsx)(cc.button,d(d({type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c},l),{},{ref:t,onMouseDown:Vo(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(s)}),onKeyDown:Vo(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(s)}),onFocus:Vo(e.onFocus,()=>{const e="manual"!==i.activationMode;m||n||!e||i.onValueChange(s)})}))}))});mh.displayName=uh;var hh="TabsContent",ph=t.forwardRef((e,a)=>{const{__scopeTabs:s,value:n,forceMount:l,children:i}=e,o=r(e,th),c=ih(hh,s),u=xh(c.baseId,n),m=gh(c.baseId,n),h=n===c.value,p=t.useRef(h);return t.useEffect(()=>{const e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,Hr.jsx)(Ic,{present:l||h,children:t=>{let{present:s}=t;return(0,Hr.jsx)(cc.div,d(d({"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:m,tabIndex:0},o),{},{ref:a,style:d(d({},e.style),{},{animationDuration:p.current?"0s":void 0}),children:s&&i}))}})});function xh(e,t){return"".concat(e,"-trigger-").concat(t)}function gh(e,t){return"".concat(e,"-content-").concat(t)}ph.displayName=hh;var fh=dh,vh=mh,bh=ph;const yh=["className"],jh=["className"],Nh=["className"],wh=oh,kh=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,yh);return(0,Hr.jsx)(fh,d({ref:t,className:Mo("inline-flex h-9 items-center justify-center rounded-lg bg-gray-100 border border-gray-200 p-1 text-muted-foreground",a)},s))});kh.displayName=fh.displayName;const Sh=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,jh);return(0,Hr.jsx)(vh,d({ref:t,className:Mo("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:border-b-2 data-[state=active]:border-blue-500",a)},s))});Sh.displayName=vh.displayName;const _h=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,Nh);return(0,Hr.jsx)(bh,d({ref:t,className:Mo("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a)},s))});_h.displayName=bh.displayName;const Ch=el("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),Eh=el("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ph=el("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ah=el("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Th=el("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Mh=el("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Dh=el("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Rh=el("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ih=el("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),Oh=el("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Lh=el("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Fh=el("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Bh=el("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),zh=el("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Hh=el("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),qh=el("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Uh=el("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),Wh=["top","right","bottom","left"],Vh=Math.min,Gh=Math.max,Kh=Math.round,Yh=Math.floor,Qh=e=>({x:e,y:e}),$h={left:"right",right:"left",bottom:"top",top:"bottom"},Jh={start:"end",end:"start"};function Xh(e,t,a){return Gh(e,Vh(t,a))}function Zh(e,t){return"function"===typeof e?e(t):e}function ep(e){return e.split("-")[0]}function tp(e){return e.split("-")[1]}function ap(e){return"x"===e?"y":"x"}function sp(e){return"y"===e?"height":"width"}const np=new Set(["top","bottom"]);function rp(e){return np.has(ep(e))?"y":"x"}function lp(e){return ap(rp(e))}function ip(e){return e.replace(/start|end/g,e=>Jh[e])}const op=["left","right"],cp=["right","left"],dp=["top","bottom"],up=["bottom","top"];function mp(e,t,a,s){const n=tp(e);let r=function(e,t,a){switch(e){case"top":case"bottom":return a?t?cp:op:t?op:cp;case"left":case"right":return t?dp:up;default:return[]}}(ep(e),"start"===a,s);return n&&(r=r.map(e=>e+"-"+n),t&&(r=r.concat(r.map(ip)))),r}function hp(e){return e.replace(/left|right|bottom|top/g,e=>$h[e])}function pp(e){return"number"!==typeof e?function(e){return d({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function xp(e){const{x:t,y:a,width:s,height:n}=e;return{width:s,height:n,top:a,left:t,right:t+s,bottom:a+n,x:t,y:a}}const gp=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],fp=["strategy"],vp=["mainAxis","crossAxis","limiter"],bp=["apply"];function yp(e,t,a){let{reference:s,floating:n}=e;const r=rp(t),l=lp(t),i=sp(l),o=ep(t),c="y"===r,d=s.x+s.width/2-n.width/2,u=s.y+s.height/2-n.height/2,m=s[i]/2-n[i]/2;let h;switch(o){case"top":h={x:d,y:s.y-n.height};break;case"bottom":h={x:d,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:u};break;case"left":h={x:s.x-n.width,y:u};break;default:h={x:s.x,y:s.y}}switch(tp(t)){case"start":h[l]-=m*(a&&c?-1:1);break;case"end":h[l]+=m*(a&&c?-1:1)}return h}async function jp(e,t){var a;void 0===t&&(t={});const{x:s,y:n,platform:r,rects:l,elements:i,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:h=0}=Zh(t,e),p=pp(h),x=i[m?"floating"===u?"reference":"floating":u],g=xp(await r.getClippingRect({element:null==(a=await(null==r.isElement?void 0:r.isElement(x)))||a?x:x.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:o})),f="floating"===u?{x:s,y:n,width:l.floating.width,height:l.floating.height}:l.reference,v=await(null==r.getOffsetParent?void 0:r.getOffsetParent(i.floating)),b=await(null==r.isElement?void 0:r.isElement(v))&&await(null==r.getScale?void 0:r.getScale(v))||{x:1,y:1},y=xp(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:f,offsetParent:v,strategy:o}):f);return{top:(g.top-y.top+p.top)/b.y,bottom:(y.bottom-g.bottom+p.bottom)/b.y,left:(g.left-y.left+p.left)/b.x,right:(y.right-g.right+p.right)/b.x}}function Np(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wp(e){return Wh.some(t=>e[t]>=0)}const kp=new Set(["left","top"]);function Sp(){return"undefined"!==typeof window}function _p(e){return Pp(e)?(e.nodeName||"").toLowerCase():"#document"}function Cp(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ep(e){var t;return null==(t=(Pp(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Pp(e){return!!Sp()&&(e instanceof Node||e instanceof Cp(e).Node)}function Ap(e){return!!Sp()&&(e instanceof Element||e instanceof Cp(e).Element)}function Tp(e){return!!Sp()&&(e instanceof HTMLElement||e instanceof Cp(e).HTMLElement)}function Mp(e){return!(!Sp()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Cp(e).ShadowRoot)}const Dp=new Set(["inline","contents"]);function Rp(e){const{overflow:t,overflowX:a,overflowY:s,display:n}=Gp(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+a)&&!Dp.has(n)}const Ip=new Set(["table","td","th"]);function Op(e){return Ip.has(_p(e))}const Lp=[":popover-open",":modal"];function Fp(e){return Lp.some(t=>{try{return e.matches(t)}catch(a){return!1}})}const Bp=["transform","translate","scale","rotate","perspective"],zp=["transform","translate","scale","rotate","perspective","filter"],Hp=["paint","layout","strict","content"];function qp(e){const t=Up(),a=Ap(e)?Gp(e):e;return Bp.some(e=>!!a[e]&&"none"!==a[e])||!!a.containerType&&"normal"!==a.containerType||!t&&!!a.backdropFilter&&"none"!==a.backdropFilter||!t&&!!a.filter&&"none"!==a.filter||zp.some(e=>(a.willChange||"").includes(e))||Hp.some(e=>(a.contain||"").includes(e))}function Up(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Wp=new Set(["html","body","#document"]);function Vp(e){return Wp.has(_p(e))}function Gp(e){return Cp(e).getComputedStyle(e)}function Kp(e){return Ap(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yp(e){if("html"===_p(e))return e;const t=e.assignedSlot||e.parentNode||Mp(e)&&e.host||Ep(e);return Mp(t)?t.host:t}function Qp(e){const t=Yp(e);return Vp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tp(t)&&Rp(t)?t:Qp(t)}function $p(e,t,a){var s;void 0===t&&(t=[]),void 0===a&&(a=!0);const n=Qp(e),r=n===(null==(s=e.ownerDocument)?void 0:s.body),l=Cp(n);if(r){const e=Jp(l);return t.concat(l,l.visualViewport||[],Rp(n)?n:[],e&&a?$p(e):[])}return t.concat(n,$p(n,[],a))}function Jp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xp(e){const t=Gp(e);let a=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const n=Tp(e),r=n?e.offsetWidth:a,l=n?e.offsetHeight:s,i=Kh(a)!==r||Kh(s)!==l;return i&&(a=r,s=l),{width:a,height:s,$:i}}function Zp(e){return Ap(e)?e:e.contextElement}function ex(e){const t=Zp(e);if(!Tp(t))return Qh(1);const a=t.getBoundingClientRect(),{width:s,height:n,$:r}=Xp(t);let l=(r?Kh(a.width):a.width)/s,i=(r?Kh(a.height):a.height)/n;return l&&Number.isFinite(l)||(l=1),i&&Number.isFinite(i)||(i=1),{x:l,y:i}}const tx=Qh(0);function ax(e){const t=Cp(e);return Up()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:tx}function sx(e,t,a,s){void 0===t&&(t=!1),void 0===a&&(a=!1);const n=e.getBoundingClientRect(),r=Zp(e);let l=Qh(1);t&&(s?Ap(s)&&(l=ex(s)):l=ex(e));const i=function(e,t,a){return void 0===t&&(t=!1),!(!a||t&&a!==Cp(e))&&t}(r,a,s)?ax(r):Qh(0);let o=(n.left+i.x)/l.x,c=(n.top+i.y)/l.y,d=n.width/l.x,u=n.height/l.y;if(r){const e=Cp(r),t=s&&Ap(s)?Cp(s):s;let a=e,n=Jp(a);for(;n&&s&&t!==a;){const e=ex(n),t=n.getBoundingClientRect(),s=Gp(n),r=t.left+(n.clientLeft+parseFloat(s.paddingLeft))*e.x,l=t.top+(n.clientTop+parseFloat(s.paddingTop))*e.y;o*=e.x,c*=e.y,d*=e.x,u*=e.y,o+=r,c+=l,a=Cp(n),n=Jp(a)}}return xp({width:d,height:u,x:o,y:c})}function nx(e,t){const a=Kp(e).scrollLeft;return t?t.left+a:sx(Ep(e)).left+a}function rx(e,t){const a=e.getBoundingClientRect();return{x:a.left+t.scrollLeft-nx(e,a),y:a.top+t.scrollTop}}const lx=new Set(["absolute","fixed"]);function ix(e,t,a){let s;if("viewport"===t)s=function(e,t){const a=Cp(e),s=Ep(e),n=a.visualViewport;let r=s.clientWidth,l=s.clientHeight,i=0,o=0;if(n){r=n.width,l=n.height;const e=Up();(!e||e&&"fixed"===t)&&(i=n.offsetLeft,o=n.offsetTop)}const c=nx(s);if(c<=0){const e=s.ownerDocument,t=e.body,a=getComputedStyle(t),n="CSS1Compat"===e.compatMode&&parseFloat(a.marginLeft)+parseFloat(a.marginRight)||0,l=Math.abs(s.clientWidth-t.clientWidth-n);l<=25&&(r-=l)}else c<=25&&(r+=c);return{width:r,height:l,x:i,y:o}}(e,a);else if("document"===t)s=function(e){const t=Ep(e),a=Kp(e),s=e.ownerDocument.body,n=Gh(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),r=Gh(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-a.scrollLeft+nx(e);const i=-a.scrollTop;return"rtl"===Gp(s).direction&&(l+=Gh(t.clientWidth,s.clientWidth)-n),{width:n,height:r,x:l,y:i}}(Ep(e));else if(Ap(t))s=function(e,t){const a=sx(e,!0,"fixed"===t),s=a.top+e.clientTop,n=a.left+e.clientLeft,r=Tp(e)?ex(e):Qh(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:n*r.x,y:s*r.y}}(t,a);else{const a=ax(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return xp(s)}function ox(e,t){const a=Yp(e);return!(a===t||!Ap(a)||Vp(a))&&("fixed"===Gp(a).position||ox(a,t))}function cx(e,t,a){const s=Tp(t),n=Ep(t),r="fixed"===a,l=sx(e,!0,r,t);let i={scrollLeft:0,scrollTop:0};const o=Qh(0);function c(){o.x=nx(n)}if(s||!s&&!r)if(("body"!==_p(t)||Rp(n))&&(i=Kp(t)),s){const e=sx(t,!0,r,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else n&&c();r&&!s&&n&&c();const d=!n||s||r?Qh(0):rx(n,i);return{x:l.left+i.scrollLeft-o.x-d.x,y:l.top+i.scrollTop-o.y-d.y,width:l.width,height:l.height}}function dx(e){return"static"===Gp(e).position}function ux(e,t){if(!Tp(e)||"fixed"===Gp(e).position)return null;if(t)return t(e);let a=e.offsetParent;return Ep(e)===a&&(a=a.ownerDocument.body),a}function mx(e,t){const a=Cp(e);if(Fp(e))return a;if(!Tp(e)){let t=Yp(e);for(;t&&!Vp(t);){if(Ap(t)&&!dx(t))return t;t=Yp(t)}return a}let s=ux(e,t);for(;s&&Op(s)&&dx(s);)s=ux(s,t);return s&&Vp(s)&&dx(s)&&!qp(s)?a:s||function(e){let t=Yp(e);for(;Tp(t)&&!Vp(t);){if(qp(t))return t;if(Fp(t))return null;t=Yp(t)}return null}(e)||a}const hx={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:a,offsetParent:s,strategy:n}=e;const r="fixed"===n,l=Ep(s),i=!!t&&Fp(t.floating);if(s===l||i&&r)return a;let o={scrollLeft:0,scrollTop:0},c=Qh(1);const d=Qh(0),u=Tp(s);if((u||!u&&!r)&&(("body"!==_p(s)||Rp(l))&&(o=Kp(s)),Tp(s))){const e=sx(s);c=ex(s),d.x=e.x+s.clientLeft,d.y=e.y+s.clientTop}const m=!l||u||r?Qh(0):rx(l,o);return{width:a.width*c.x,height:a.height*c.y,x:a.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:a.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:Ep,getClippingRect:function(e){let{element:t,boundary:a,rootBoundary:s,strategy:n}=e;const r="clippingAncestors"===a?Fp(t)?[]:function(e,t){const a=t.get(e);if(a)return a;let s=$p(e,[],!1).filter(e=>Ap(e)&&"body"!==_p(e)),n=null;const r="fixed"===Gp(e).position;let l=r?Yp(e):e;for(;Ap(l)&&!Vp(l);){const t=Gp(l),a=qp(l);a||"fixed"!==t.position||(n=null),(r?!a&&!n:!a&&"static"===t.position&&n&&lx.has(n.position)||Rp(l)&&!a&&ox(e,l))?s=s.filter(e=>e!==l):n=t,l=Yp(l)}return t.set(e,s),s}(t,this._c):[].concat(a),l=[...r,s],i=l[0],o=l.reduce((e,a)=>{const s=ix(t,a,n);return e.top=Gh(s.top,e.top),e.right=Vh(s.right,e.right),e.bottom=Vh(s.bottom,e.bottom),e.left=Gh(s.left,e.left),e},ix(t,i,n));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:mx,getElementRects:async function(e){const t=this.getOffsetParent||mx,a=this.getDimensions,s=await a(e.floating);return{reference:cx(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:a}=Xp(e);return{width:t,height:a}},getScale:ex,isElement:Ap,isRTL:function(e){return"rtl"===Gp(e).direction}};function px(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function xx(e,t,a,s){void 0===s&&(s={});const{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:l="function"===typeof ResizeObserver,layoutShift:i="function"===typeof IntersectionObserver,animationFrame:o=!1}=s,c=Zp(e),u=n||r?[...c?$p(c):[],...$p(t)]:[];u.forEach(e=>{n&&e.addEventListener("scroll",a,{passive:!0}),r&&e.addEventListener("resize",a)});const m=c&&i?function(e,t){let a,s=null;const n=Ep(e);function r(){var e;clearTimeout(a),null==(e=s)||e.disconnect(),s=null}return function l(i,o){void 0===i&&(i=!1),void 0===o&&(o=1),r();const c=e.getBoundingClientRect(),{left:u,top:m,width:h,height:p}=c;if(i||t(),!h||!p)return;const x={rootMargin:-Yh(m)+"px "+-Yh(n.clientWidth-(u+h))+"px "+-Yh(n.clientHeight-(m+p))+"px "+-Yh(u)+"px",threshold:Gh(0,Vh(1,o))||1};let g=!0;function f(t){const s=t[0].intersectionRatio;if(s!==o){if(!g)return l();s?l(!1,s):a=setTimeout(()=>{l(!1,1e-7)},1e3)}1!==s||px(c,e.getBoundingClientRect())||l(),g=!1}try{s=new IntersectionObserver(f,d(d({},x),{},{root:n.ownerDocument}))}catch(v){s=new IntersectionObserver(f,x)}s.observe(e)}(!0),r}(c,a):null;let h,p=-1,x=null;l&&(x=new ResizeObserver(e=>{let[s]=e;s&&s.target===c&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=x)||e.observe(t)})),a()}),c&&!o&&x.observe(c),x.observe(t));let g=o?sx(e):null;return o&&function t(){const s=sx(e);g&&!px(g,s)&&a();g=s,h=requestAnimationFrame(t)}(),a(),()=>{var e;u.forEach(e=>{n&&e.removeEventListener("scroll",a),r&&e.removeEventListener("resize",a)}),null==m||m(),null==(e=x)||e.disconnect(),x=null,o&&cancelAnimationFrame(h)}}const gx=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var a,s;const{x:n,y:r,placement:l,middlewareData:i}=t,o=await async function(e,t){const{placement:a,platform:s,elements:n}=e,r=await(null==s.isRTL?void 0:s.isRTL(n.floating)),l=ep(a),i=tp(a),o="y"===rp(a),c=kp.has(l)?-1:1,d=r&&o?-1:1,u=Zh(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:p}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&"number"===typeof p&&(h="end"===i?-1*p:p),o?{x:h*d,y:m*c}:{x:m*c,y:h*d}}(t,e);return l===(null==(a=i.offset)?void 0:a.placement)&&null!=(s=i.arrow)&&s.alignmentOffset?{}:{x:n+o.x,y:r+o.y,data:d(d({},o),{},{placement:l})}}}},fx=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:a,y:s,placement:n,platform:l}=t,i=Zh(e,t),{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:e=>{let{x:t,y:a}=e;return{x:t,y:a}}}}=i,m=r(i,vp),h={x:a,y:s},p=await l.detectOverflow(t,m),x=rp(ep(n)),g=ap(x);let f=h[g],v=h[x];if(o){const e="y"===g?"bottom":"right";f=Xh(f+p["y"===g?"top":"left"],f,f-p[e])}if(c){const e="y"===x?"bottom":"right";v=Xh(v+p["y"===x?"top":"left"],v,v-p[e])}const b=u.fn(d(d({},t),{},{[g]:f,[x]:v}));return d(d({},b),{},{data:{x:b.x-a,y:b.y-s,enabled:{[g]:o,[x]:c}}})}}},vx=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var a,s;const{placement:n,middlewareData:l,rects:i,initialPlacement:o,platform:c,elements:d}=t,u=Zh(e,t),{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0}=u,v=r(u,gp);if(null!=(a=l.arrow)&&a.alignmentOffset)return{};const b=ep(n),y=rp(o),j=ep(o)===o,N=await(null==c.isRTL?void 0:c.isRTL(d.floating)),w=p||(j||!f?[hp(o)]:function(e){const t=hp(e);return[ip(e),t,ip(t)]}(o)),k="none"!==g;!p&&k&&w.push(...mp(o,f,g,N));const S=[o,...w],_=await c.detectOverflow(t,v),C=[];let E=(null==(s=l.flip)?void 0:s.overflows)||[];if(m&&C.push(_[b]),h){const e=function(e,t,a){void 0===a&&(a=!1);const s=tp(e),n=lp(e),r=sp(n);let l="x"===n?s===(a?"end":"start")?"right":"left":"start"===s?"bottom":"top";return t.reference[r]>t.floating[r]&&(l=hp(l)),[l,hp(l)]}(n,i,N);C.push(_[e[0]],_[e[1]])}if(E=[...E,{placement:n,overflows:C}],!C.every(e=>e<=0)){var P,A;const e=((null==(P=l.flip)?void 0:P.index)||0)+1,t=S[e];if(t){if(!("alignment"===h&&y!==rp(t))||E.every(e=>rp(e.placement)!==y||e.overflows[0]>0))return{data:{index:e,overflows:E},reset:{placement:t}}}let a=null==(A=E.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:A.placement;if(!a)switch(x){case"bestFit":{var T;const e=null==(T=E.filter(e=>{if(k){const t=rp(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:T[0];e&&(a=e);break}case"initialPlacement":a=o}if(n!==a)return{reset:{placement:a}}}return{}}}},bx=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var a,s;const{placement:n,rects:l,platform:i,elements:o}=t,c=Zh(e,t),{apply:u=()=>{}}=c,m=r(c,bp),h=await i.detectOverflow(t,m),p=ep(n),x=tp(n),g="y"===rp(n),{width:f,height:v}=l.floating;let b,y;"top"===p||"bottom"===p?(b=p,y=x===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(y=p,b="end"===x?"top":"bottom");const j=v-h.top-h.bottom,N=f-h.left-h.right,w=Vh(v-h[b],j),k=Vh(f-h[y],N),S=!t.middlewareData.shift;let _=w,C=k;if(null!=(a=t.middlewareData.shift)&&a.enabled.x&&(C=N),null!=(s=t.middlewareData.shift)&&s.enabled.y&&(_=j),S&&!x){const e=Gh(h.left,0),t=Gh(h.right,0),a=Gh(h.top,0),s=Gh(h.bottom,0);g?C=f-2*(0!==e||0!==t?e+t:Gh(h.left,h.right)):_=v-2*(0!==a||0!==s?a+s:Gh(h.top,h.bottom))}await u(d(d({},t),{},{availableWidth:C,availableHeight:_}));const E=await i.getDimensions(o.floating);return f!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}},yx=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:a,platform:s}=t,n=Zh(e,t),{strategy:l="referenceHidden"}=n,i=r(n,fp);switch(l){case"referenceHidden":{const e=Np(await s.detectOverflow(t,d(d({},i),{},{elementContext:"reference"})),a.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:wp(e)}}}case"escaped":{const e=Np(await s.detectOverflow(t,d(d({},i),{},{altBoundary:!0})),a.floating);return{data:{escapedOffsets:e,escaped:wp(e)}}}default:return{}}}}},jx=e=>({name:"arrow",options:e,async fn(t){const{x:a,y:s,placement:n,rects:r,platform:l,elements:i,middlewareData:o}=t,{element:c,padding:u=0}=Zh(e,t)||{};if(null==c)return{};const m=pp(u),h={x:a,y:s},p=lp(n),x=sp(p),g=await l.getDimensions(c),f="y"===p,v=f?"top":"left",b=f?"bottom":"right",y=f?"clientHeight":"clientWidth",j=r.reference[x]+r.reference[p]-h[p]-r.floating[x],N=h[p]-r.reference[p],w=await(null==l.getOffsetParent?void 0:l.getOffsetParent(c));let k=w?w[y]:0;k&&await(null==l.isElement?void 0:l.isElement(w))||(k=i.floating[y]||r.floating[x]);const S=j/2-N/2,_=k/2-g[x]/2-1,C=Vh(m[v],_),E=Vh(m[b],_),P=C,A=k-g[x]-E,T=k/2-g[x]/2+S,M=Xh(P,T,A),D=!o.arrow&&null!=tp(n)&&T!==M&&r.reference[x]/2-(T<P?C:E)-g[x]/2<0,R=D?T<P?T-P:T-A:0;return{[p]:h[p]+R,data:d({[p]:M,centerOffset:T-M-R},D&&{alignmentOffset:R}),reset:D}}}),Nx=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:a,y:s,placement:n,rects:r,middlewareData:l}=t,{offset:i=0,mainAxis:o=!0,crossAxis:c=!0}=Zh(e,t),u={x:a,y:s},m=rp(n),h=ap(m);let p=u[h],x=u[m];const g=Zh(i,t),f="number"===typeof g?{mainAxis:g,crossAxis:0}:d({mainAxis:0,crossAxis:0},g);if(o){const e="y"===h?"height":"width",t=r.reference[h]-r.floating[e]+f.mainAxis,a=r.reference[h]+r.reference[e]-f.mainAxis;p<t?p=t:p>a&&(p=a)}if(c){var v,b;const e="y"===h?"width":"height",t=kp.has(ep(n)),a=r.reference[m]-r.floating[e]+(t&&(null==(v=l.offset)?void 0:v[m])||0)+(t?0:f.crossAxis),s=r.reference[m]+r.reference[e]+(t?0:(null==(b=l.offset)?void 0:b[m])||0)-(t?f.crossAxis:0);x<a?x=a:x>s&&(x=s)}return{[h]:p,[m]:x}}}},wx=(e,t,a)=>{const s=new Map,n=d({platform:hx},a),r=d(d({},n.platform),{},{_c:s});return(async(e,t,a)=>{const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:l}=a,i=r.filter(Boolean),o=await(null==l.isRTL?void 0:l.isRTL(t));let c=await l.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:m}=yp(c,s,o),h=s,p={},x=0;for(let f=0;f<i.length;f++){var g;const{name:a,fn:r}=i[f],{x:v,y:b,data:y,reset:j}=await r({x:u,y:m,initialPlacement:s,placement:h,strategy:n,middlewareData:p,rects:c,platform:d(d({},l),{},{detectOverflow:null!=(g=l.detectOverflow)?g:jp}),elements:{reference:e,floating:t}});u=null!=v?v:u,m=null!=b?b:m,p=d(d({},p),{},{[a]:d(d({},p[a]),y)}),j&&x<=50&&(x++,"object"===typeof j&&(j.placement&&(h=j.placement),j.rects&&(c=!0===j.rects?await l.getElementRects({reference:e,floating:t,strategy:n}):j.rects),({x:u,y:m}=yp(c,h,o))),f=-1)}return{x:u,y:m,placement:h,strategy:n,middlewareData:p}})(e,t,d(d({},n),{},{platform:r}))};var kx="undefined"!==typeof document?t.useLayoutEffect:function(){};function Sx(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let a,s,n;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(a=e.length,a!==t.length)return!1;for(s=a;0!==s--;)if(!Sx(e[s],t[s]))return!1;return!0}if(n=Object.keys(e),a=n.length,a!==Object.keys(t).length)return!1;for(s=a;0!==s--;)if(!{}.hasOwnProperty.call(t,n[s]))return!1;for(s=a;0!==s--;){const a=n[s];if(("_owner"!==a||!e.$$typeof)&&!Sx(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function _x(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Cx(e,t){const a=_x(e);return Math.round(t*a)/a}function Ex(e){const a=t.useRef(e);return kx(()=>{a.current=e}),a}const Px=(e,t)=>d(d({},gx(e)),{},{options:[e,t]}),Ax=(e,t)=>d(d({},fx(e)),{},{options:[e,t]}),Tx=(e,t)=>d(d({},Nx(e)),{},{options:[e,t]}),Mx=(e,t)=>d(d({},vx(e)),{},{options:[e,t]}),Dx=(e,t)=>d(d({},bx(e)),{},{options:[e,t]}),Rx=(e,t)=>d(d({},yx(e)),{},{options:[e,t]}),Ix=(e,t)=>d(d({},(e=>({name:"arrow",options:e,fn(t){const{element:a,padding:s}="function"===typeof e?e(t):e;return a&&(n=a,{}.hasOwnProperty.call(n,"current"))?null!=a.current?jx({element:a.current,padding:s}).fn(t):{}:a?jx({element:a,padding:s}).fn(t):{};var n}}))(e)),{},{options:[e,t]}),Ox=["children","width","height"];var Lx=t.forwardRef((e,t)=>{const{children:a,width:s=10,height:n=5}=e,l=r(e,Ox);return(0,Hr.jsx)(cc.svg,d(d({},l),{},{ref:t,width:s,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?a:(0,Hr.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});Lx.displayName="Arrow";var Fx=Lx;function Bx(e){const[a,s]=t.useState(void 0);return $o(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const a=t[0];let n,r;if("borderBoxSize"in a){const e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,r=t.blockSize}else n=e.offsetWidth,r=e.offsetHeight;s({width:n,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),a}const zx=["__scopePopper","virtualRef"],Hx=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],qx=["__scopePopper"];var Ux="Popper",[Wx,Vx]=Yo(Ux),[Gx,Kx]=Wx(Ux),Yx=e=>{const{__scopePopper:a,children:s}=e,[n,r]=t.useState(null);return(0,Hr.jsx)(Gx,{scope:a,anchor:n,onAnchorChange:r,children:s})};Yx.displayName=Ux;var Qx="PopperAnchor",$x=t.forwardRef((e,a)=>{const{__scopePopper:s,virtualRef:n}=e,l=r(e,zx),i=Kx(Qx,s),o=t.useRef(null),c=Zl(a,o),u=t.useRef(null);return t.useEffect(()=>{const e=u.current;u.current=(null===n||void 0===n?void 0:n.current)||o.current,e!==u.current&&i.onAnchorChange(u.current)}),n?null:(0,Hr.jsx)(cc.div,d(d({},l),{},{ref:c}))});$x.displayName=Qx;var Jx="PopperContent",[Xx,Zx]=Wx(Jx),eg=t.forwardRef((e,a)=>{var s,n,l,i,o,c,u,m;const{__scopePopper:h,side:p="bottom",sideOffset:x=0,align:g="center",alignOffset:f=0,arrowPadding:v=0,avoidCollisions:b=!0,collisionBoundary:y=[],collisionPadding:j=0,sticky:N="partial",hideWhenDetached:w=!1,updatePositionStrategy:k="optimized",onPlaced:S}=e,_=r(e,Hx),C=Kx(Jx,h),[E,P]=t.useState(null),A=Zl(a,e=>P(e)),[T,M]=t.useState(null),D=Bx(T),R=null!==(s=null===D||void 0===D?void 0:D.width)&&void 0!==s?s:0,I=null!==(n=null===D||void 0===D?void 0:D.height)&&void 0!==n?n:0,O=p+("center"!==g?"-"+g:""),L="number"===typeof j?j:d({top:0,right:0,bottom:0,left:0},j),F=Array.isArray(y)?y:[y],B=F.length>0,z={padding:L,boundary:F.filter(ng),altBoundary:B},{refs:H,floatingStyles:q,placement:U,isPositioned:W,middlewareData:V}=function(e){void 0===e&&(e={});const{placement:a="bottom",strategy:s="absolute",middleware:n=[],platform:r,elements:{reference:l,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[m,h]=t.useState({x:0,y:0,strategy:s,placement:a,middlewareData:{},isPositioned:!1}),[p,x]=t.useState(n);Sx(p,n)||x(n);const[g,f]=t.useState(null),[v,b]=t.useState(null),y=t.useCallback(e=>{e!==k.current&&(k.current=e,f(e))},[]),j=t.useCallback(e=>{e!==S.current&&(S.current=e,b(e))},[]),N=l||g,w=i||v,k=t.useRef(null),S=t.useRef(null),_=t.useRef(m),C=null!=c,E=Ex(c),P=Ex(r),A=Ex(u),T=t.useCallback(()=>{if(!k.current||!S.current)return;const e={placement:a,strategy:s,middleware:p};P.current&&(e.platform=P.current),wx(k.current,S.current,e).then(e=>{const t=d(d({},e),{},{isPositioned:!1!==A.current});M.current&&!Sx(_.current,t)&&(_.current=t,Ot.flushSync(()=>{h(t)}))})},[p,a,s,P,A]);kx(()=>{!1===u&&_.current.isPositioned&&(_.current.isPositioned=!1,h(e=>d(d({},e),{},{isPositioned:!1})))},[u]);const M=t.useRef(!1);kx(()=>(M.current=!0,()=>{M.current=!1}),[]),kx(()=>{if(N&&(k.current=N),w&&(S.current=w),N&&w){if(E.current)return E.current(N,w,T);T()}},[N,w,T,E,C]);const D=t.useMemo(()=>({reference:k,floating:S,setReference:y,setFloating:j}),[y,j]),R=t.useMemo(()=>({reference:N,floating:w}),[N,w]),I=t.useMemo(()=>{const e={position:s,left:0,top:0};if(!R.floating)return e;const t=Cx(R.floating,m.x),a=Cx(R.floating,m.y);return o?d(d({},e),{},{transform:"translate("+t+"px, "+a+"px)"},_x(R.floating)>=1.5&&{willChange:"transform"}):{position:s,left:t,top:a}},[s,o,R.floating,m.x,m.y]);return t.useMemo(()=>d(d({},m),{},{update:T,refs:D,elements:R,floatingStyles:I}),[m,T,D,R,I])}({strategy:"fixed",placement:O,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return xx(...t,{animationFrame:"always"===k})},elements:{reference:C.anchor},middleware:[Px({mainAxis:x+I,alignmentAxis:f}),b&&Ax(d({mainAxis:!0,crossAxis:!1,limiter:"partial"===N?Tx():void 0},z)),b&&Mx(d({},z)),Dx(d(d({},z),{},{apply:e=>{let{elements:t,rects:a,availableWidth:s,availableHeight:n}=e;const{width:r,height:l}=a.reference,i=t.floating.style;i.setProperty("--radix-popper-available-width","".concat(s,"px")),i.setProperty("--radix-popper-available-height","".concat(n,"px")),i.setProperty("--radix-popper-anchor-width","".concat(r,"px")),i.setProperty("--radix-popper-anchor-height","".concat(l,"px"))}})),T&&Ix({element:T,padding:v}),rg({arrowWidth:R,arrowHeight:I}),w&&Rx(d({strategy:"referenceHidden"},z))]}),[G,K]=lg(U),Y=uc(S);$o(()=>{W&&(null===Y||void 0===Y||Y())},[W,Y]);const Q=null===(l=V.arrow)||void 0===l?void 0:l.x,$=null===(i=V.arrow)||void 0===i?void 0:i.y,J=0!==(null===(o=V.arrow)||void 0===o?void 0:o.centerOffset),[X,Z]=t.useState();return $o(()=>{E&&Z(window.getComputedStyle(E).zIndex)},[E]),(0,Hr.jsx)("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:d(d({},q),{},{transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[null===(c=V.transformOrigin)||void 0===c?void 0:c.x,null===(u=V.transformOrigin)||void 0===u?void 0:u.y].join(" ")},(null===(m=V.hide)||void 0===m?void 0:m.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,Hr.jsx)(Xx,{scope:h,placedSide:G,onArrowChange:M,arrowX:Q,arrowY:$,shouldHideArrow:J,children:(0,Hr.jsx)(cc.div,d(d({"data-side":G,"data-align":K},_),{},{ref:A,style:d(d({},_.style),{},{animation:W?void 0:"none"})}))})})});eg.displayName=Jx;var tg="PopperArrow",ag={top:"bottom",right:"left",bottom:"top",left:"right"},sg=t.forwardRef(function(e,t){const{__scopePopper:a}=e,s=r(e,qx),n=Zx(tg,a),l=ag[n.placedSide];return(0,Hr.jsx)("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.shouldHideArrow?"hidden":void 0},children:(0,Hr.jsx)(Fx,d(d({},s),{},{ref:t,style:d(d({},s.style),{},{display:"block"})}))})});function ng(e){return null!==e}sg.displayName=tg;var rg=e=>({name:"transformOrigin",options:e,fn(t){var a,s,n,r,l;const{placement:i,rects:o,middlewareData:c}=t,d=0!==(null===(a=c.arrow)||void 0===a?void 0:a.centerOffset),u=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[h,p]=lg(i),x={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(s=null===(n=c.arrow)||void 0===n?void 0:n.x)&&void 0!==s?s:0)+u/2,f=(null!==(r=null===(l=c.arrow)||void 0===l?void 0:l.y)&&void 0!==r?r:0)+m/2;let v="",b="";return"bottom"===h?(v=d?x:"".concat(g,"px"),b="".concat(-m,"px")):"top"===h?(v=d?x:"".concat(g,"px"),b="".concat(o.floating.height+m,"px")):"right"===h?(v="".concat(-m,"px"),b=d?x:"".concat(f,"px")):"left"===h&&(v="".concat(o.floating.width+m,"px"),b=d?x:"".concat(f,"px")),{data:{x:v,y:b}}}});function lg(e){const[t,a="center"]=e.split("-");return[t,a]}var ig=Yx,og=$x,cg=eg,dg=sg;const ug=["children"],mg=["children"];function hg(e){const a=pg(e),s=t.forwardRef((e,s)=>{const{children:n}=e,l=r(e,ug),i=t.Children.toArray(n),o=i.find(gg);if(o){const e=o.props.children,n=i.map(a=>a===o?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:a);return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null}))}return(0,Hr.jsx)(a,d(d({},l),{},{ref:s,children:n}))});return s.displayName="".concat(e,".Slot"),s}function pg(e){const a=t.forwardRef((e,a)=>{const{children:s}=e,n=r(e,mg);if(t.isValidElement(s)){const e=function(e){var t,a;let s=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,n=s&&"isReactWarning"in s&&s.isReactWarning;if(n)return e.ref;if(s=null===(a=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===a?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(s),r=function(e,t){const a=d({},t);for(const s in t){const n=e[s],r=t[s];/^on[A-Z]/.test(s)?n&&r?a[s]=function(){const e=r(...arguments);return n(...arguments),e}:n&&(a[s]=n):"style"===s?a[s]=d(d({},n),r):"className"===s&&(a[s]=[n,r].filter(Boolean).join(" "))}return d(d({},e),a)}(n,s.props);return s.type!==t.Fragment&&(r.ref=a?Xl(a,e):e),t.cloneElement(s,r)}return t.Children.count(s)>1?t.Children.only(null):null});return a.displayName="".concat(e,".SlotClone"),a}var xg=Symbol("radix.slottable");function gg(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===xg}const fg=["__scopeMenu"],vg=["forceMount"],bg=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"],yg=["__scopeMenu"],jg=["__scopeMenu"],Ng=["disabled","onSelect"],wg=["__scopeMenu","disabled","textValue"],kg=["checked","onCheckedChange"],Sg=["value","onValueChange"],_g=["value"],Cg=["__scopeMenu","forceMount"],Eg=["__scopeMenu"],Pg=["__scopeMenu"],Ag=["forceMount"];var Tg=["Enter"," "],Mg=["ArrowUp","PageDown","End"],Dg=["ArrowDown","PageUp","Home",...Mg],Rg={ltr:[...Tg,"ArrowRight"],rtl:[...Tg,"ArrowLeft"]},Ig={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Og="Menu",[Lg,Fg,Bg]=_m(Og),[zg,Hg]=Yo(Og,[Bg,Vx,Hm]),qg=Vx(),Ug=Hm(),[Wg,Vg]=zg(Og),[Gg,Kg]=zg(Og),Yg=e=>{const{__scopeMenu:a,open:s=!1,children:n,dir:r,onOpenChange:l,modal:i=!0}=e,o=qg(a),[c,u]=t.useState(null),m=t.useRef(!1),h=uc(l),p=Tm(r);return t.useEffect(()=>{const e=()=>{m.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>m.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,Hr.jsx)(ig,d(d({},o),{},{children:(0,Hr.jsx)(Wg,{scope:a,open:s,onOpenChange:h,content:c,onContentChange:u,children:(0,Hr.jsx)(Gg,{scope:a,onClose:t.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:p,modal:i,children:n})})}))};Yg.displayName=Og;var Qg=t.forwardRef((e,t)=>{const{__scopeMenu:a}=e,s=r(e,fg),n=qg(a);return(0,Hr.jsx)(og,d(d(d({},n),s),{},{ref:t}))});Qg.displayName="MenuAnchor";var $g="MenuPortal",[Jg,Xg]=zg($g,{forceMount:void 0}),Zg=e=>{const{__scopeMenu:t,forceMount:a,children:s,container:n}=e,r=Vg($g,t);return(0,Hr.jsx)(Jg,{scope:t,forceMount:a,children:(0,Hr.jsx)(Ic,{present:a||r.open,children:(0,Hr.jsx)(Rc,{asChild:!0,container:n,children:s})})})};Zg.displayName=$g;var ef="MenuContent",[tf,af]=zg(ef),sf=t.forwardRef((e,t)=>{const a=Xg(ef,e.__scopeMenu),{forceMount:s=a.forceMount}=e,n=r(e,vg),l=Vg(ef,e.__scopeMenu),i=Kg(ef,e.__scopeMenu);return(0,Hr.jsx)(Lg.Provider,{scope:e.__scopeMenu,children:(0,Hr.jsx)(Ic,{present:s||l.open,children:(0,Hr.jsx)(Lg.Slot,{scope:e.__scopeMenu,children:i.modal?(0,Hr.jsx)(nf,d(d({},n),{},{ref:t})):(0,Hr.jsx)(rf,d(d({},n),{},{ref:t}))})})})}),nf=t.forwardRef((e,a)=>{const s=Vg(ef,e.__scopeMenu),n=t.useRef(null),r=Zl(a,n);return t.useEffect(()=>{const e=n.current;if(e)return Fd(e)},[]),(0,Hr.jsx)(of,d(d({},e),{},{ref:r,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Vo(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)}))}),rf=t.forwardRef((e,t)=>{const a=Vg(ef,e.__scopeMenu);return(0,Hr.jsx)(of,d(d({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)}))}),lf=hg("MenuContent.ScrollLock"),of=t.forwardRef((e,a)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:l,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:x,onDismiss:g,disableOutsideScroll:f}=e,v=r(e,bg),b=Vg(ef,s),y=Kg(ef,s),j=qg(s),N=Ug(s),w=Fg(s),[k,S]=t.useState(null),_=t.useRef(null),C=Zl(a,_,b.onContentChange),E=t.useRef(0),P=t.useRef(""),A=t.useRef(0),T=t.useRef(null),M=t.useRef("right"),D=t.useRef(0),R=f?Ad:t.Fragment,I=f?{as:lf,allowPinchZoom:!0}:void 0,O=e=>{var t,a;const s=P.current+e,n=w().filter(e=>!e.disabled),r=document.activeElement,l=null===(t=n.find(e=>e.ref.current===r))||void 0===t?void 0:t.textValue,i=function(e,t,a){const s=t.length>1&&Array.from(t).every(e=>e===t[0]),n=s?t[0]:t,r=a?e.indexOf(a):-1;let l=(i=e,o=Math.max(r,0),i.map((e,t)=>i[(o+t)%i.length]));var i,o;1===n.length&&(l=l.filter(e=>e!==a));const c=l.find(e=>e.toLowerCase().startsWith(n.toLowerCase()));return c!==a?c:void 0}(n.map(e=>e.textValue),s,l),o=null===(a=n.find(e=>e.textValue===i))||void 0===a?void 0:a.ref.current;!function e(t){P.current=t,window.clearTimeout(E.current),""!==t&&(E.current=window.setTimeout(()=>e(""),1e3))}(s),o&&setTimeout(()=>o.focus())};t.useEffect(()=>()=>window.clearTimeout(E.current),[]),Fc();const L=t.useCallback(e=>{var t,a;return M.current===(null===(t=T.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;const a={x:e.clientX,y:e.clientY};return function(e,t){const{x:a,y:s}=e;let n=!1;for(let r=0,l=t.length-1;r<t.length;l=r++){const e=t[r],i=t[l],o=e.x,c=e.y,d=i.x,u=i.y;c>s!==u>s&&a<(d-o)*(s-c)/(u-c)+o&&(n=!n)}return n}(a,t)}(e,null===(a=T.current)||void 0===a?void 0:a.area)},[]);return(0,Hr.jsx)(tf,{scope:s,searchRef:P,onItemEnter:t.useCallback(e=>{L(e)&&e.preventDefault()},[L]),onItemLeave:t.useCallback(e=>{var t;L(e)||(null===(t=_.current)||void 0===t||t.focus(),S(null))},[L]),onTriggerLeave:t.useCallback(e=>{L(e)&&e.preventDefault()},[L]),pointerGraceTimerRef:A,onPointerGraceIntentChange:t.useCallback(e=>{T.current=e},[]),children:(0,Hr.jsx)(R,d(d({},I),{},{children:(0,Hr.jsx)(_c,{asChild:!0,trapped:l,onMountAutoFocus:Vo(i,e=>{var t;e.preventDefault(),null===(t=_.current)||void 0===t||t.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:(0,Hr.jsx)(vc,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:x,onDismiss:g,children:(0,Hr.jsx)($m,d(d({asChild:!0},N),{},{dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:S,onEntryFocus:Vo(u,e=>{y.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,Hr.jsx)(cg,d(d(d({role:"menu","aria-orientation":"vertical","data-state":Of(b.open),"data-radix-menu-content":"",dir:y.dir},j),v),{},{ref:C,style:d({outline:"none"},v.style),onKeyDown:Vo(v.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,a=e.ctrlKey||e.altKey||e.metaKey,s=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!a&&s&&O(e.key));const n=_.current;if(e.target!==n)return;if(!Dg.includes(e.key))return;e.preventDefault();const r=w().filter(e=>!e.disabled).map(e=>e.ref.current);Mg.includes(e.key)&&r.reverse(),function(e){const t=document.activeElement;for(const a of e){if(a===t)return;if(a.focus(),document.activeElement!==t)return}}(r)}),onBlur:Vo(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:Vo(e.onPointerMove,Bf(e=>{const t=e.target,a=D.current!==e.clientX;if(e.currentTarget.contains(t)&&a){const t=e.clientX>D.current?"right":"left";M.current=t,D.current=e.clientX}}))}))}))})})}))})});sf.displayName=ef;var cf=t.forwardRef((e,t)=>{const{__scopeMenu:a}=e,s=r(e,yg);return(0,Hr.jsx)(cc.div,d(d({role:"group"},s),{},{ref:t}))});cf.displayName="MenuGroup";var df=t.forwardRef((e,t)=>{const{__scopeMenu:a}=e,s=r(e,jg);return(0,Hr.jsx)(cc.div,d(d({},s),{},{ref:t}))});df.displayName="MenuLabel";var uf="MenuItem",mf="menu.itemSelect",hf=t.forwardRef((e,a)=>{const{disabled:s=!1,onSelect:n}=e,l=r(e,Ng),i=t.useRef(null),o=Kg(uf,e.__scopeMenu),c=af(uf,e.__scopeMenu),u=Zl(a,i),m=t.useRef(!1);return(0,Hr.jsx)(pf,d(d({},l),{},{ref:u,disabled:s,onClick:Vo(e.onClick,()=>{const e=i.current;if(!s&&e){const t=new CustomEvent(mf,{bubbles:!0,cancelable:!0});e.addEventListener(mf,e=>null===n||void 0===n?void 0:n(e),{once:!0}),dc(e,t),t.defaultPrevented?m.current=!1:o.onClose()}}),onPointerDown:t=>{var a;null===(a=e.onPointerDown)||void 0===a||a.call(e,t),m.current=!0},onPointerUp:Vo(e.onPointerUp,e=>{var t;m.current||null===(t=e.currentTarget)||void 0===t||t.click()}),onKeyDown:Vo(e.onKeyDown,e=>{const t=""!==c.searchRef.current;s||t&&" "===e.key||Tg.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))});hf.displayName=uf;var pf=t.forwardRef((e,a)=>{const{__scopeMenu:s,disabled:n=!1,textValue:l}=e,i=r(e,wg),o=af(uf,s),c=Ug(s),u=t.useRef(null),m=Zl(a,u),[h,p]=t.useState(!1),[x,g]=t.useState("");return t.useEffect(()=>{const e=u.current;var t;e&&g((null!==(t=e.textContent)&&void 0!==t?t:"").trim())},[i.children]),(0,Hr.jsx)(Lg.ItemSlot,{scope:s,disabled:n,textValue:null!==l&&void 0!==l?l:x,children:(0,Hr.jsx)(Jm,d(d({asChild:!0},c),{},{focusable:!n,children:(0,Hr.jsx)(cc.div,d(d({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0},i),{},{ref:m,onPointerMove:Vo(e.onPointerMove,Bf(e=>{if(n)o.onItemLeave(e);else if(o.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:Vo(e.onPointerLeave,Bf(e=>o.onItemLeave(e))),onFocus:Vo(e.onFocus,()=>p(!0)),onBlur:Vo(e.onBlur,()=>p(!1))}))}))})}),xf=t.forwardRef((e,t)=>{const{checked:a=!1,onCheckedChange:s}=e,n=r(e,kg);return(0,Hr.jsx)(wf,{scope:e.__scopeMenu,checked:a,children:(0,Hr.jsx)(hf,d(d({role:"menuitemcheckbox","aria-checked":Lf(a)?"mixed":a},n),{},{ref:t,"data-state":Ff(a),onSelect:Vo(n.onSelect,()=>null===s||void 0===s?void 0:s(!!Lf(a)||!a),{checkForDefaultPrevented:!1})}))})});xf.displayName="MenuCheckboxItem";var gf="MenuRadioGroup",[ff,vf]=zg(gf,{value:void 0,onValueChange:()=>{}}),bf=t.forwardRef((e,t)=>{const{value:a,onValueChange:s}=e,n=r(e,Sg),l=uc(s);return(0,Hr.jsx)(ff,{scope:e.__scopeMenu,value:a,onValueChange:l,children:(0,Hr.jsx)(cf,d(d({},n),{},{ref:t}))})});bf.displayName=gf;var yf="MenuRadioItem",jf=t.forwardRef((e,t)=>{const{value:a}=e,s=r(e,_g),n=vf(yf,e.__scopeMenu),l=a===n.value;return(0,Hr.jsx)(wf,{scope:e.__scopeMenu,checked:l,children:(0,Hr.jsx)(hf,d(d({role:"menuitemradio","aria-checked":l},s),{},{ref:t,"data-state":Ff(l),onSelect:Vo(s.onSelect,()=>{var e;return null===(e=n.onValueChange)||void 0===e?void 0:e.call(n,a)},{checkForDefaultPrevented:!1})}))})});jf.displayName=yf;var Nf="MenuItemIndicator",[wf,kf]=zg(Nf,{checked:!1}),Sf=t.forwardRef((e,t)=>{const{__scopeMenu:a,forceMount:s}=e,n=r(e,Cg),l=kf(Nf,a);return(0,Hr.jsx)(Ic,{present:s||Lf(l.checked)||!0===l.checked,children:(0,Hr.jsx)(cc.span,d(d({},n),{},{ref:t,"data-state":Ff(l.checked)}))})});Sf.displayName=Nf;var _f=t.forwardRef((e,t)=>{const{__scopeMenu:a}=e,s=r(e,Eg);return(0,Hr.jsx)(cc.div,d(d({role:"separator","aria-orientation":"horizontal"},s),{},{ref:t}))});_f.displayName="MenuSeparator";var Cf=t.forwardRef((e,t)=>{const{__scopeMenu:a}=e,s=r(e,Pg),n=qg(a);return(0,Hr.jsx)(dg,d(d(d({},n),s),{},{ref:t}))});Cf.displayName="MenuArrow";var Ef="MenuSub",[Pf,Af]=zg(Ef),Tf=e=>{const{__scopeMenu:a,children:s,open:n=!1,onOpenChange:r}=e,l=Vg(Ef,a),i=qg(a),[o,c]=t.useState(null),[u,m]=t.useState(null),h=uc(r);return t.useEffect(()=>(!1===l.open&&h(!1),()=>h(!1)),[l.open,h]),(0,Hr.jsx)(ig,d(d({},i),{},{children:(0,Hr.jsx)(Wg,{scope:a,open:n,onOpenChange:h,content:u,onContentChange:m,children:(0,Hr.jsx)(Pf,{scope:a,contentId:Zo(),triggerId:Zo(),trigger:o,onTriggerChange:c,children:s})})}))};Tf.displayName=Ef;var Mf="MenuSubTrigger",Df=t.forwardRef((e,a)=>{const s=Vg(Mf,e.__scopeMenu),n=Kg(Mf,e.__scopeMenu),r=Af(Mf,e.__scopeMenu),l=af(Mf,e.__scopeMenu),i=t.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=l,u={__scopeMenu:e.__scopeMenu},m=t.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return t.useEffect(()=>m,[m]),t.useEffect(()=>{const e=o.current;return()=>{window.clearTimeout(e),c(null)}},[o,c]),(0,Hr.jsx)(Qg,d(d({asChild:!0},u),{},{children:(0,Hr.jsx)(pf,d(d({id:r.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":r.contentId,"data-state":Of(s.open)},e),{},{ref:Xl(a,r.onTriggerChange),onClick:t=>{var a;null===(a=e.onClick)||void 0===a||a.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Vo(e.onPointerMove,Bf(t=>{l.onItemEnter(t),t.defaultPrevented||e.disabled||s.open||i.current||(l.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),m()},100))})),onPointerLeave:Vo(e.onPointerLeave,Bf(e=>{var t;m();const a=null===(t=s.content)||void 0===t?void 0:t.getBoundingClientRect();if(a){var n;const t=null===(n=s.content)||void 0===n?void 0:n.dataset.side,r="right"===t,i=r?-5:5,c=a[r?"left":"right"],d=a[r?"right":"left"];l.onPointerGraceIntentChange({area:[{x:e.clientX+i,y:e.clientY},{x:c,y:a.top},{x:d,y:a.top},{x:d,y:a.bottom},{x:c,y:a.bottom}],side:t}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(e),e.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Vo(e.onKeyDown,t=>{const a=""!==l.searchRef.current;var r;e.disabled||a&&" "===t.key||Rg[n.dir].includes(t.key)&&(s.onOpenChange(!0),null===(r=s.content)||void 0===r||r.focus(),t.preventDefault())})}))}))});Df.displayName=Mf;var Rf="MenuSubContent",If=t.forwardRef((e,a)=>{const s=Xg(ef,e.__scopeMenu),{forceMount:n=s.forceMount}=e,l=r(e,Ag),i=Vg(ef,e.__scopeMenu),o=Kg(ef,e.__scopeMenu),c=Af(Rf,e.__scopeMenu),u=t.useRef(null),m=Zl(a,u);return(0,Hr.jsx)(Lg.Provider,{scope:e.__scopeMenu,children:(0,Hr.jsx)(Ic,{present:n||i.open,children:(0,Hr.jsx)(Lg.Slot,{scope:e.__scopeMenu,children:(0,Hr.jsx)(of,d(d({id:c.contentId,"aria-labelledby":c.triggerId},l),{},{ref:m,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;o.isUsingKeyboardRef.current&&(null===(t=u.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:Vo(e.onFocusOutside,e=>{e.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Vo(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:Vo(e.onKeyDown,e=>{const t=e.currentTarget.contains(e.target),a=Ig[o.dir].includes(e.key);var s;t&&a&&(i.onOpenChange(!1),null===(s=c.trigger)||void 0===s||s.focus(),e.preventDefault())})}))})})})});function Of(e){return e?"open":"closed"}function Lf(e){return"indeterminate"===e}function Ff(e){return Lf(e)?"indeterminate":e?"checked":"unchecked"}function Bf(e){return t=>"mouse"===t.pointerType?e(t):void 0}If.displayName=Rf;var zf=Yg,Hf=Qg,qf=Zg,Uf=sf,Wf=cf,Vf=df,Gf=hf,Kf=xf,Yf=bf,Qf=jf,$f=Sf,Jf=_f,Xf=Cf,Zf=Df,ev=If;const tv=["__scopeDropdownMenu","disabled"],av=["__scopeDropdownMenu"],sv=["__scopeDropdownMenu"],nv=["__scopeDropdownMenu"],rv=["__scopeDropdownMenu"],lv=["__scopeDropdownMenu"],iv=["__scopeDropdownMenu"],ov=["__scopeDropdownMenu"],cv=["__scopeDropdownMenu"],dv=["__scopeDropdownMenu"],uv=["__scopeDropdownMenu"],mv=["__scopeDropdownMenu"],hv=["__scopeDropdownMenu"],pv=["__scopeDropdownMenu"];var xv="DropdownMenu",[gv,fv]=Yo(xv,[Hg]),vv=Hg(),[bv,yv]=gv(xv),jv=e=>{const{__scopeDropdownMenu:a,children:s,dir:n,open:r,defaultOpen:l,onOpenChange:i,modal:o=!0}=e,c=vv(a),u=t.useRef(null),[m,h]=tc({prop:r,defaultProp:null!==l&&void 0!==l&&l,onChange:i,caller:xv});return(0,Hr.jsx)(bv,{scope:a,triggerId:Zo(),triggerRef:u,contentId:Zo(),open:m,onOpenChange:h,onOpenToggle:t.useCallback(()=>h(e=>!e),[h]),modal:o,children:(0,Hr.jsx)(zf,d(d({},c),{},{open:m,onOpenChange:h,dir:n,modal:o,children:s}))})};jv.displayName=xv;var Nv="DropdownMenuTrigger",wv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a,disabled:s=!1}=e,n=r(e,tv),l=yv(Nv,a),i=vv(a);return(0,Hr.jsx)(Hf,d(d({asChild:!0},i),{},{children:(0,Hr.jsx)(cc.button,d(d({type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":s?"":void 0,disabled:s},n),{},{ref:Xl(t,l.triggerRef),onPointerDown:Vo(e.onPointerDown,e=>{s||0!==e.button||!1!==e.ctrlKey||(l.onOpenToggle(),l.open||e.preventDefault())}),onKeyDown:Vo(e.onKeyDown,e=>{s||(["Enter"," "].includes(e.key)&&l.onOpenToggle(),"ArrowDown"===e.key&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})}))}))});wv.displayName=Nv;var kv=e=>{const{__scopeDropdownMenu:t}=e,a=r(e,av),s=vv(t);return(0,Hr.jsx)(qf,d(d({},s),a))};kv.displayName="DropdownMenuPortal";var Sv="DropdownMenuContent",_v=t.forwardRef((e,a)=>{const{__scopeDropdownMenu:s}=e,n=r(e,sv),l=yv(Sv,s),i=vv(s),o=t.useRef(!1);return(0,Hr.jsx)(Uf,d(d(d({id:l.contentId,"aria-labelledby":l.triggerId},i),n),{},{ref:a,onCloseAutoFocus:Vo(e.onCloseAutoFocus,e=>{var t;o.current||null===(t=l.triggerRef.current)||void 0===t||t.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:Vo(e.onInteractOutside,e=>{const t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey,s=2===t.button||a;l.modal&&!s||(o.current=!0)}),style:d(d({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});_v.displayName=Sv;var Cv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,nv),n=vv(a);return(0,Hr.jsx)(Wf,d(d(d({},n),s),{},{ref:t}))});Cv.displayName="DropdownMenuGroup";var Ev=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,rv),n=vv(a);return(0,Hr.jsx)(Vf,d(d(d({},n),s),{},{ref:t}))});Ev.displayName="DropdownMenuLabel";var Pv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,lv),n=vv(a);return(0,Hr.jsx)(Gf,d(d(d({},n),s),{},{ref:t}))});Pv.displayName="DropdownMenuItem";var Av=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,iv),n=vv(a);return(0,Hr.jsx)(Kf,d(d(d({},n),s),{},{ref:t}))});Av.displayName="DropdownMenuCheckboxItem";var Tv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,ov),n=vv(a);return(0,Hr.jsx)(Yf,d(d(d({},n),s),{},{ref:t}))});Tv.displayName="DropdownMenuRadioGroup";var Mv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,cv),n=vv(a);return(0,Hr.jsx)(Qf,d(d(d({},n),s),{},{ref:t}))});Mv.displayName="DropdownMenuRadioItem";var Dv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,dv),n=vv(a);return(0,Hr.jsx)($f,d(d(d({},n),s),{},{ref:t}))});Dv.displayName="DropdownMenuItemIndicator";var Rv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,uv),n=vv(a);return(0,Hr.jsx)(Jf,d(d(d({},n),s),{},{ref:t}))});Rv.displayName="DropdownMenuSeparator";var Iv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,mv),n=vv(a);return(0,Hr.jsx)(Xf,d(d(d({},n),s),{},{ref:t}))});Iv.displayName="DropdownMenuArrow";var Ov=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,hv),n=vv(a);return(0,Hr.jsx)(Zf,d(d(d({},n),s),{},{ref:t}))});Ov.displayName="DropdownMenuSubTrigger";var Lv=t.forwardRef((e,t)=>{const{__scopeDropdownMenu:a}=e,s=r(e,pv),n=vv(a);return(0,Hr.jsx)(ev,d(d(d({},n),s),{},{ref:t,style:d(d({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});Lv.displayName="DropdownMenuSubContent";var Fv=jv,Bv=wv,zv=kv,Hv=_v,qv=Ev,Uv=Pv,Wv=Av,Vv=Mv,Gv=Dv,Kv=Rv,Yv=Ov,Qv=Lv;const $v=el("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Jv=["className","inset","children"],Xv=["className"],Zv=["className","sideOffset"],eb=["className","inset"],tb=["className","children","checked"],ab=["className","children"],sb=["className","inset"],nb=["className"],rb=Fv,lb=Bv;t.forwardRef((e,t)=>{let{className:a,inset:s,children:n}=e,l=r(e,Jv);return(0,Hr.jsxs)(Yv,d(d({ref:t,className:Mo("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a)},l),{},{children:[n,(0,Hr.jsx)(Yl,{className:"ml-auto"})]}))}).displayName=Yv.displayName;t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,Xv);return(0,Hr.jsx)(Qv,d({ref:t,className:Mo("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a)},s))}).displayName=Qv.displayName;const ib=t.forwardRef((e,t)=>{let{className:a,sideOffset:s=4}=e,n=r(e,Zv);return(0,Hr.jsx)(zv,{children:(0,Hr.jsx)(Hv,d({ref:t,sideOffset:s,className:Mo("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a)},n))})});ib.displayName=Hv.displayName;const ob=t.forwardRef((e,t)=>{let{className:a,inset:s}=e,n=r(e,eb);return(0,Hr.jsx)(Uv,d({ref:t,className:Mo("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",a)},n))});ob.displayName=Uv.displayName;t.forwardRef((e,t)=>{let{className:a,children:s,checked:n}=e,l=r(e,tb);return(0,Hr.jsxs)(Wv,d(d({ref:t,className:Mo("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n},l),{},{children:[(0,Hr.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Hr.jsx)(Gv,{children:(0,Hr.jsx)(Ah,{className:"h-4 w-4"})})}),s]}))}).displayName=Wv.displayName;t.forwardRef((e,t)=>{let{className:a,children:s}=e,n=r(e,ab);return(0,Hr.jsxs)(Vv,d(d({ref:t,className:Mo("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},n),{},{children:[(0,Hr.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Hr.jsx)(Gv,{children:(0,Hr.jsx)($v,{className:"h-2 w-2 fill-current"})})}),s]}))}).displayName=Vv.displayName;t.forwardRef((e,t)=>{let{className:a,inset:s}=e,n=r(e,sb);return(0,Hr.jsx)(qv,d({ref:t,className:Mo("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a)},n))}).displayName=qv.displayName;const cb=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,nb);return(0,Hr.jsx)(Kv,d({ref:t,className:Mo("-mx-1 my-1 h-px bg-muted",a)},s))});cb.displayName=Kv.displayName;const db=["className"],ub=["className"],mb=["className"],hb=["className"],pb=["className"],xb=["className"],gb=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,db);return(0,Hr.jsx)("div",d({ref:t,className:Mo("rounded-xl border border-gray-200 bg-white text-gray-900 shadow-sm",a)},s))});gb.displayName="Card";const fb=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,ub);return(0,Hr.jsx)("div",d({ref:t,className:Mo("flex flex-col space-y-1.5 p-5",a)},s))});fb.displayName="CardHeader";const vb=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,mb);return(0,Hr.jsx)("div",d({ref:t,className:Mo("font-semibold leading-none tracking-tight",a)},s))});vb.displayName="CardTitle";const bb=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,hb);return(0,Hr.jsx)("div",d({ref:t,className:Mo("text-sm text-muted-foreground",a)},s))});bb.displayName="CardDescription";const yb=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,pb);return(0,Hr.jsx)("div",d({ref:t,className:Mo("p-5 pt-0",a)},s))});yb.displayName="CardContent";t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,xb);return(0,Hr.jsx)("div",d({ref:t,className:Mo("flex items-center p-5 pt-0",a)},s))}).displayName="CardFooter";const jb=["scope","children"];function Nb(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];const n=a[0];if(1===a.length)return n;const r=()=>{const e=a.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(a){const s=e.reduce((e,t)=>{let{useScope:s,scopeName:n}=t;const r=s(a)["__scope".concat(n)];return d(d({},e),r)},{});return t.useMemo(()=>({["__scope".concat(n.scopeName)]:s}),[s])}};return r.scopeName=n.scopeName,r}const wb=["asChild"];var kb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{const s=ri("Primitive.".concat(a)),n=t.forwardRef((e,t)=>{const{asChild:n}=e,l=r(e,wb),i=n?s:a;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Hr.jsx)(i,d(d({},l),{},{ref:t}))});return n.displayName="Primitive.".concat(a),d(d({},e),{},{[a]:n})},{});const Sb=["__scopeProgress","value","max","getValueLabel"],_b=["__scopeProgress"];var Cb="Progress",Eb=100,[Pb,Ab]=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[];const n=()=>{const a=s.map(e=>t.createContext(e));return function(s){const n=(null===s||void 0===s?void 0:s[e])||a;return t.useMemo(()=>({["__scope".concat(e)]:d(d({},s),{},{[e]:n})}),[s,n])}};return n.scopeName=e,[function(a,n){const l=t.createContext(n);l.displayName=a+"Context";const i=s.length;s=[...s,n];const o=a=>{var s;const{scope:n,children:o}=a,c=r(a,jb),d=(null===n||void 0===n||null===(s=n[e])||void 0===s?void 0:s[i])||l,u=t.useMemo(()=>c,Object.values(c));return(0,Hr.jsx)(d.Provider,{value:u,children:o})};return o.displayName=a+"Provider",[o,function(s,r){var o;const c=(null===r||void 0===r||null===(o=r[e])||void 0===o?void 0:o[i])||l,d=t.useContext(c);if(d)return d;if(void 0!==n)return n;throw new Error("`".concat(s,"` must be used within `").concat(a,"`"))}]},Nb(n,...a)]}(Cb),[Tb,Mb]=Pb(Cb),Db=t.forwardRef((e,t)=>{const{__scopeProgress:a,value:s=null,max:n,getValueLabel:l=Ob}=e,i=r(e,Sb);var o,c;!n&&0!==n||Bb(n)||console.error((o="".concat(n),c="Progress","Invalid prop `max` of value `".concat(o,"` supplied to `").concat(c,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(Eb,"`.")));const u=Bb(n)?n:Eb;null===s||zb(s,u)||console.error(function(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(Eb," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}("".concat(s),"Progress"));const m=zb(s,u)?s:null,h=Fb(m)?l(m,u):void 0;return(0,Hr.jsx)(Tb,{scope:a,value:m,max:u,children:(0,Hr.jsx)(kb.div,d(d({"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Fb(m)?m:void 0,"aria-valuetext":h,role:"progressbar","data-state":Lb(m,u),"data-value":null!==m&&void 0!==m?m:void 0,"data-max":u},i),{},{ref:t}))})});Db.displayName=Cb;var Rb="ProgressIndicator",Ib=t.forwardRef((e,t)=>{var a;const{__scopeProgress:s}=e,n=r(e,_b),l=Mb(Rb,s);return(0,Hr.jsx)(kb.div,d(d({"data-state":Lb(l.value,l.max),"data-value":null!==(a=l.value)&&void 0!==a?a:void 0,"data-max":l.max},n),{},{ref:t}))});function Ob(e,t){return"".concat(Math.round(e/t*100),"%")}function Lb(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function Fb(e){return"number"===typeof e}function Bb(e){return Fb(e)&&!isNaN(e)&&e>0}function zb(e,t){return Fb(e)&&!isNaN(e)&&e<=t&&e>=0}Ib.displayName=Rb;var Hb=Db,qb=Ib;const Ub=["className","value"],Wb=t.forwardRef((e,t)=>{let{className:a,value:s}=e,n=r(e,Ub);return(0,Hr.jsx)(Hb,d(d({ref:t,className:Mo("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a)},n),{},{children:(0,Hr.jsx)(qb,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})}))});Wb.displayName=Hb.displayName;const Vb=el("scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Gb=el("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Kb=el("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Yb=el("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Qb=[{id:"passport",label:"Passport Photo",icon:Rh,description:"Front facing, neutral expression",required:!0},{id:"front",label:"Front View",icon:xl,description:"Direct front view",required:!1},{id:"left",label:"Left Profile",icon:Rh,description:"Left side (30-45\xb0)",required:!1},{id:"right",label:"Right Profile",icon:Rh,description:"Right side (30-45\xb0)",required:!1},{id:"full_body",label:"Full Body",icon:Rh,description:"Full body with face visible",required:!1}];function $b(e){var a,s,n,r,l,i,o;let{studentId:c,schoolId:u,studentName:m,onComplete:h,onSkip:p,isOpen:x,onClose:g}=e;const[f,v]=(0,t.useState)("passport"),[b,y]=(0,t.useState)({}),[j,N]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),[S,_]=(0,t.useState)(!1),[C,E]=(0,t.useState)("camera"),[P,A]=(0,t.useState)(null),[T,M]=(0,t.useState)(null),[D,R]=(0,t.useState)(null),I=(0,t.useRef)(null),O=(0,t.useRef)(null),L=(0,t.useRef)(null),F=(0,t.useRef)(null);(0,t.useEffect)(()=>{c&&x&&B()},[c,x]),(0,t.useEffect)(()=>()=>{H()},[]);const B=async()=>{try{const t=await fetch("".concat("","/api/face-recognition/enrollment-status/").concat(c));if(t.ok){var e;const a=await t.json();R(a);const s={};null===(e=a.photos_uploaded)||void 0===e||e.forEach(e=>{s[e]={uploaded:!0}}),y(s)}}catch(t){console.error("Error fetching enrollment status:",t)}},z=async()=>{try{const e={video:{width:{ideal:1920},height:{ideal:1080},facingMode:"user"}},t=await navigator.mediaDevices.getUserMedia(e);F.current=t,I.current&&(I.current.srcObject=t,await I.current.play()),_(!0),Qt.success("Camera started! Position your face properly.")}catch(e){console.error("Camera error:",e),Qt.error("Camera access denied. Please allow camera permission or upload photos."),E("upload")}},H=()=>{F.current&&(F.current.getTracks().forEach(e=>e.stop()),F.current=null),_(!1)},q=async e=>{k(!0),A(null);try{const t=await fetch("".concat("","/api/face-recognition/upload-photo"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({student_id:c,school_id:u,photo_base64:e,photo_type:f,capture_device:"camera"===C?"webcam":"upload"})}),a=await t.json();if(a.success){Qt.success(a.message||"Photo uploaded successfully!"),A(a.analysis),y(e=>d(d({},e),{},{[f]:{uploaded:!0,quality:a.quality_score,photoId:a.photo_id}}));const e=Qb.findIndex(e=>e.id===f);e<Qb.length-1&&v(Qb[e+1].id),B()}else"TWIN_OR_SIBLING_DETECTED"===a.warning?M({type:"twin",similar_student:a.similar_student,similarity:a.similarity,message:a.message}):(Qt.error(a.error||"Failed to upload photo"),A(a.analysis))}catch(t){console.error("Upload error:",t),Qt.error("Failed to upload photo. Please try again.")}finally{k(!1)}},U=Object.keys(b).filter(e=>{var t;return null===(t=b[e])||void 0===t?void 0:t.uploaded}).length,W=U/3*100,V=(null===(a=b.passport)||void 0===a?void 0:a.uploaded)&&U>=2;return(0,Hr.jsx)(Gu,{open:x,onOpenChange:g,children:(0,Hr.jsxs)($u,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Vb,{className:"w-6 h-6 text-indigo-600"}),"AI Face Enrollment - ",m]}),(0,Hr.jsx)(Zu,{children:"4-5 photos chahiye (1 passport + angles) for accurate face recognition"})]}),(0,Hr.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mt-4",children:[(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Hr.jsx)("span",{className:"text-sm font-medium",children:"Progress"}),(0,Hr.jsxs)("span",{className:"text-sm text-slate-500",children:[U,"/5 photos"]})]}),(0,Hr.jsx)(Wb,{value:W,className:"h-2 mb-4"}),Qb.map(e=>{var t;const a=(e=>{var t;return null!==(t=b[e])&&void 0!==t&&t.uploaded?"complete":e===f?"current":"pending"})(e.id);return(0,Hr.jsx)("button",{onClick:()=>v(e.id),className:"w-full p-3 rounded-lg border-2 text-left transition-all ".concat("complete"===a?"border-emerald-300 bg-emerald-50":"current"===a?"border-indigo-400 bg-indigo-50":"border-slate-200 bg-white hover:border-slate-300"),"data-testid":"photo-type-".concat(e.id),children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("complete"===a?"bg-emerald-500":"current"===a?"bg-indigo-500":"bg-slate-200"),children:"complete"===a?(0,Hr.jsx)(Gb,{className:"w-5 h-5 text-white"}):(0,Hr.jsx)(e.icon,{className:"w-4 h-4 ".concat("current"===a?"text-white":"text-slate-500")})}),(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsxs)("p",{className:"font-medium text-sm ".concat("complete"===a?"text-emerald-700":"text-slate-900"),children:[e.label," ",e.required&&(0,Hr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:e.description})]}),"complete"===a&&(null===(t=b[e.id])||void 0===t?void 0:t.quality)&&(0,Hr.jsxs)("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded",children:[b[e.id].quality,"%"]})]})},e.id)})]}),(0,Hr.jsxs)("div",{className:"md:col-span-2 space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{variant:"camera"===C?"default":"outline",onClick:()=>{E("camera"),S||z()},className:"flex-1",children:[(0,Hr.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Camera"]}),(0,Hr.jsxs)(Io,{variant:"upload"===C?"default":"outline",onClick:()=>{E("upload"),H()},className:"flex-1",children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4 mr-2"}),"Upload"]})]}),"camera"===C&&(0,Hr.jsx)(gb,{className:"overflow-hidden",children:(0,Hr.jsxs)(yb,{className:"p-0",children:[(0,Hr.jsxs)("div",{className:"relative aspect-[4/3] bg-slate-900",children:[(0,Hr.jsx)("video",{ref:I,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,Hr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,Hr.jsx)("div",{className:"border-4 border-dashed rounded-full w-48 h-64 ".concat("full_body"===f?"w-32 h-80":""," ").concat(S?"border-white/50":"border-slate-500")})}),(0,Hr.jsx)("div",{className:"absolute top-4 left-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm",children:null===(s=Qb.find(e=>e.id===f))||void 0===s?void 0:s.label}),!S&&(0,Hr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900/80",children:(0,Hr.jsxs)(Io,{onClick:z,size:"lg",children:[(0,Hr.jsx)(Eh,{className:"w-5 h-5 mr-2"}),"Start Camera"]})})]}),S&&(0,Hr.jsxs)("div",{className:"p-4 bg-slate-100 flex justify-center gap-4",children:[(0,Hr.jsxs)(Io,{size:"lg",onClick:async()=>{if(!I.current||!O.current)return;N(!0);const e=I.current,t=O.current,a=t.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,a.drawImage(e,0,0);const s=t.toDataURL("image/jpeg",.9).split(",")[1];await q(s),N(!1)},disabled:j||w,className:"bg-red-600 hover:bg-red-700","data-testid":"capture-photo-btn",children:[j||w?(0,Hr.jsx)(ul,{className:"w-5 h-5 animate-spin mr-2"}):(0,Hr.jsx)(Eh,{className:"w-5 h-5 mr-2"}),w?"Analyzing...":"Capture Photo"]}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:H,children:[(0,Hr.jsx)(Kb,{className:"w-4 h-4 mr-2"}),"Stop"]})]})]})}),"upload"===C&&(0,Hr.jsx)(gb,{className:"border-2 border-dashed border-slate-300 hover:border-indigo-400 transition-colors",children:(0,Hr.jsx)(yb,{className:"p-8",children:(0,Hr.jsxs)("div",{className:"flex flex-col items-center justify-center cursor-pointer",onClick:()=>{var e;return null===(e=L.current)||void 0===e?void 0:e.click()},children:[(0,Hr.jsx)(Ph,{className:"w-12 h-12 text-slate-400 mb-4"}),(0,Hr.jsxs)("p",{className:"text-lg font-medium text-slate-700",children:["Click to upload ",null===(n=Qb.find(e=>e.id===f))||void 0===n?void 0:n.label]}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"JPG, PNG up to 10MB - High resolution recommended"}),(0,Hr.jsx)("input",{ref:L,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/"))return void Qt.error("Please upload an image file");if(t.size>10485760)return void Qt.error("File size too large. Max 10MB allowed.");const a=new FileReader;a.onloadend=async()=>{const e=a.result.split(",")[1];await q(e)},a.readAsDataURL(t)},className:"hidden","data-testid":"photo-upload-input"}),w&&(0,Hr.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-indigo-600",children:[(0,Hr.jsx)(ul,{className:"w-5 h-5 animate-spin"}),(0,Hr.jsx)("span",{children:"AI analyzing photo..."})]})]})})}),P&&(0,Hr.jsx)(gb,{className:"".concat(P.quality_score>=80?"border-emerald-300 bg-emerald-50":P.quality_score>=60?"border-amber-300 bg-amber-50":"border-red-300 bg-red-50"),children:(0,Hr.jsx)(yb,{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-start gap-3",children:[P.quality_score>=80?(0,Hr.jsx)(Gb,{className:"w-6 h-6 text-emerald-600 flex-shrink-0"}):P.quality_score>=60?(0,Hr.jsx)(Th,{className:"w-6 h-6 text-amber-600 flex-shrink-0"}):(0,Hr.jsx)(Kb,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Hr.jsxs)("span",{className:"font-semibold",children:["Quality Score: ",P.quality_score,"/100"]}),P.face_detected&&(0,Hr.jsx)("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded",children:"Face Detected"})]}),(null===(r=P.issues)||void 0===r?void 0:r.length)>0&&(0,Hr.jsxs)("div",{className:"text-sm text-slate-600",children:[(0,Hr.jsx)("strong",{children:"Issues:"})," ",P.issues.join(", ")]}),(null===(l=P.recommendations)||void 0===l?void 0:l.length)>0&&(0,Hr.jsxs)("div",{className:"text-sm text-slate-600 mt-1",children:[(0,Hr.jsx)("strong",{children:"Tips:"})," ",P.recommendations.join(", ")]})]})]})})}),(0,Hr.jsx)("canvas",{ref:O,className:"hidden"})]})]}),"twin"===(null===T||void 0===T?void 0:T.type)&&(0,Hr.jsx)("div",{className:"mt-4 p-4 bg-amber-50 border-2 border-amber-300 rounded-lg",children:(0,Hr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Hr.jsx)(Th,{className:"w-6 h-6 text-amber-600 flex-shrink-0"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h4",{className:"font-bold text-amber-800",children:"\u26a0\ufe0f Similar Face Detected!"}),(0,Hr.jsxs)("p",{className:"text-sm text-amber-700 mt-1",children:["This face is ",T.similarity,"% similar to: ",(0,Hr.jsx)("strong",{children:null===(i=T.similar_student)||void 0===i?void 0:i.name}),(null===(o=T.similar_student)||void 0===o?void 0:o.class)&&" (Class ".concat(T.similar_student.class,")")]}),(0,Hr.jsxs)("p",{className:"text-sm text-amber-700 mt-2",children:[(0,Hr.jsx)("strong",{children:"Kya ye student twin/sibling hai?"})," Please verify carefully before proceeding."]}),(0,Hr.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,Hr.jsx)(Io,{size:"sm",variant:"outline",onClick:()=>M(null),children:"Re-take Photo"}),(0,Hr.jsx)(Io,{size:"sm",className:"bg-amber-600 hover:bg-amber-700",onClick:()=>{M(null),Qt.success("Verified as different person. Continue enrollment.")},children:"Yes, Different Person - Continue"})]})]})]})}),(0,Hr.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[(0,Hr.jsx)(Io,{variant:"ghost",onClick:async()=>{try{(await fetch("".concat("","/api/face-recognition/skip-enrollment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({student_id:c,school_id:u,skip_face:!0,skip_biometric:!0,reason:"Skipped during admission - will complete later"})})).ok&&(Qt.info("Face enrollment skipped. Can be completed later."),null===p||void 0===p||p(),null===g||void 0===g||g())}catch(e){console.error("Skip error:",e)}},className:"text-slate-500",children:"Skip for now"}),(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:g,children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:()=>{H(),null===h||void 0===h||h(),null===g||void 0===g||g()},disabled:!V,className:"bg-emerald-600 hover:bg-emerald-700","data-testid":"complete-enrollment-btn",children:[(0,Hr.jsx)(Gb,{className:"w-4 h-4 mr-2"}),"Complete Enrollment"]})]})]}),(0,Hr.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg flex items-start gap-2",children:[(0,Hr.jsx)(Yb,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Hr.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,Hr.jsx)("strong",{children:"Tips for best results:"}),(0,Hr.jsxs)("ul",{className:"list-disc ml-4 mt-1",children:[(0,Hr.jsx)("li",{children:"Good lighting - face clearly visible"}),(0,Hr.jsx)("li",{children:"Remove glasses if possible"}),(0,Hr.jsx)("li",{children:"Neutral expression for passport photo"}),(0,Hr.jsx)("li",{children:"Different angles help AI identify student accurately"}),(0,Hr.jsx)("li",{children:"Full body photo helps even if face is partially visible"})]})]})]})]})})}const Jb=el("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function Xb(e){var a;let{personId:s,personType:n="student",schoolId:r,isOpen:l,onClose:i}=e;const[o,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[m,h]=(0,t.useState)(!1),p=(0,t.useRef)();(0,t.useEffect)(()=>{s&&l&&x()},[s,l]);const x=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=await fetch("".concat("","/api/id-card/generate/").concat(n,"/").concat(s),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();u(e)}else Qt.error("ID card generate nahi ho saka")}catch(e){console.error("Error:",e),Qt.error("Error loading ID card")}finally{c(!1)}};if(!l)return null;const g=null===d||void 0===d?void 0:d.id_card,f=null===d||void 0===d?void 0:d.school,v=null===d||void 0===d?void 0:d.photo,b=(null===g||void 0===g?void 0:g.role_color)||"#1e40af",y=(null===g||void 0===g?void 0:g.is_higher_authority)||!1,j=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){const t={"#b91c1c":"linear-gradient(135deg, #7f1d1d 0%, #b91c1c 30%, #dc2626 50%, #b91c1c 70%, #7f1d1d 100%)","#dc2626":"linear-gradient(135deg, #991b1b 0%, #dc2626 30%, #ef4444 50%, #dc2626 70%, #991b1b 100%)","#ea580c":"linear-gradient(135deg, #c2410c 0%, #ea580c 30%, #f97316 50%, #ea580c 70%, #c2410c 100%)","#9333ea":"linear-gradient(135deg, #7e22ce 0%, #9333ea 30%, #a855f7 50%, #9333ea 70%, #7e22ce 100%)"};return t[e]||t["#b91c1c"]}return{"#b91c1c":"linear-gradient(135deg, #b91c1c 0%, #dc2626 50%, #b91c1c 100%)","#dc2626":"linear-gradient(135deg, #dc2626 0%, #ef4444 50%, #dc2626 100%)","#ea580c":"linear-gradient(135deg, #ea580c 0%, #f97316 50%, #ea580c 100%)","#9333ea":"linear-gradient(135deg, #9333ea 0%, #a855f7 50%, #9333ea 100%)","#047857":"linear-gradient(135deg, #047857 0%, #059669 50%, #047857 100%)","#1e40af":"linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #1e40af 100%)","#059669":"linear-gradient(135deg, #059669 0%, #10b981 50%, #059669 100%)","#0891b2":"linear-gradient(135deg, #0891b2 0%, #06b6d4 50%, #0891b2 100%)","#4f46e5":"linear-gradient(135deg, #4f46e5 0%, #6366f1 50%, #4f46e5 100%)","#64748b":"linear-gradient(135deg, #64748b 0%, #94a3b8 50%, #64748b 100%)","#ca8a04":"linear-gradient(135deg, #ca8a04 0%, #eab308 50%, #ca8a04 100%)","#374151":"linear-gradient(135deg, #374151 0%, #6b7280 50%, #374151 100%)","#78716c":"linear-gradient(135deg, #78716c 0%, #a8a29e 50%, #78716c 100%)","#a16207":"linear-gradient(135deg, #a16207 0%, #ca8a04 50%, #a16207 100%)"}[e]||"linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #1e40af 100%)"}(b,y);return(0,Hr.jsx)(Gu,{open:l,onOpenChange:i,children:(0,Hr.jsxs)($u,{className:"max-w-md","data-testid":"id-card-dialog",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("span",{children:["student"===n?"Student":"Employee"," ID Card Preview"]}),(0,Hr.jsx)("span",{className:"text-xs px-2 py-1 rounded-full",style:{background:b,color:"white",border:y?"2px solid #fbbf24":"none"},children:(null===g||void 0===g||null===(a=g.card_type)||void 0===a?void 0:a.replace(" ID CARD",""))||n})]})}),o?(0,Hr.jsx)("div",{className:"flex items-center justify-center py-10",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-indigo-600"})}):d?(0,Hr.jsxs)("div",{ref:p,children:[(0,Hr.jsx)("div",{className:"flex justify-center mb-3",children:(0,Hr.jsxs)("div",{className:"inline-flex bg-slate-100 rounded-lg p-1",children:[(0,Hr.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-1.5 rounded-md text-sm font-medium transition-all ".concat(m?"text-slate-600 hover:text-slate-900":"bg-white shadow text-indigo-700"),children:"Front Side"}),(0,Hr.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-1.5 rounded-md text-sm font-medium transition-all ".concat(m?"bg-white shadow text-indigo-700":"text-slate-600 hover:text-slate-900"),children:"Back Side"})]})}),!m&&(0,Hr.jsxs)("div",{className:"mx-auto rounded-xl overflow-hidden shadow-xl relative",style:{width:"340px",height:"215px",background:j,padding:"12px",color:"white",border:y?"3px solid #fbbf24":"none"},"data-testid":"id-card-preview",children:[(null===f||void 0===f?void 0:f.logo_url)&&(0,Hr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:.12,zIndex:0},"data-testid":"id-card-watermark",children:(0,Hr.jsx)("img",{src:f.logo_url,alt:"",className:"w-36 h-36 object-contain",style:{mixBlendMode:"luminosity",filter:"drop-shadow(0 0 0 transparent)"}})}),(0,Hr.jsxs)("div",{className:"relative z-10 h-full flex flex-col",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-white/30 mb-2",children:[(null===f||void 0===f?void 0:f.logo_url)&&(0,Hr.jsx)("div",{className:"w-9 h-9 bg-white rounded-full p-0.5 flex-shrink-0","data-testid":"id-card-header-logo",children:(0,Hr.jsx)("img",{src:f.logo_url,alt:"",className:"w-full h-full object-contain rounded-full"})}),(0,Hr.jsxs)("div",{className:"flex-1 text-center",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold uppercase tracking-wide","data-testid":"id-card-school-name",children:(null===f||void 0===f?void 0:f.name)||"School Name"}),(null===f||void 0===f?void 0:f.address)&&(0,Hr.jsx)("div",{className:"text-[9px] opacity-80",children:f.address}),(0,Hr.jsx)("div",{className:"text-[8px] inline-block px-2 py-0.5 rounded-full mt-1 font-bold",style:{background:y?"rgba(251,191,36,0.3)":"rgba(255,255,255,0.25)",border:y?"1px solid rgba(251,191,36,0.5)":"none"},"data-testid":"id-card-type",children:(null===g||void 0===g?void 0:g.card_type)||"ID CARD"})]})]}),(0,Hr.jsxs)("div",{className:"flex gap-3 flex-1",children:[(0,Hr.jsx)("div",{className:"w-[70px] flex-shrink-0",children:(0,Hr.jsx)("div",{className:"w-[70px] h-[85px] bg-white rounded-lg overflow-hidden flex items-center justify-center",children:v?(0,Hr.jsx)("img",{src:v,alt:null===g||void 0===g?void 0:g.name,className:"w-full h-full object-cover"}):(0,Hr.jsx)("span",{className:"text-gray-400 text-xs",children:"Photo"})})}),(0,Hr.jsxs)("div",{className:"flex-1 text-[9px]",children:[(0,Hr.jsx)("div",{className:"text-sm font-bold text-yellow-200 mb-1","data-testid":"id-card-name",children:null===g||void 0===g?void 0:g.name}),"student"===n?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)("div",{className:"mb-0.5","data-testid":"id-card-class",children:[(0,Hr.jsx)("span",{className:"opacity-70 w-16 inline-block",children:"Class:"}),(0,Hr.jsx)("span",{className:"font-semibold",children:null===g||void 0===g?void 0:g.class})]}),(null===g||void 0===g?void 0:g.roll_no)&&(0,Hr.jsxs)("div",{className:"mb-0.5",children:[(0,Hr.jsx)("span",{className:"opacity-70 w-16 inline-block",children:"Roll No:"}),(0,Hr.jsx)("span",{className:"font-semibold",children:g.roll_no})]}),(null===g||void 0===g?void 0:g.father_name)&&(0,Hr.jsxs)("div",{className:"mb-0.5",children:[(0,Hr.jsx)("span",{className:"opacity-70 w-16 inline-block",children:"Father:"}),(0,Hr.jsx)("span",{className:"font-semibold",children:g.father_name})]}),(null===g||void 0===g?void 0:g.show_samgra_id)&&(null===g||void 0===g?void 0:g.samgra_id)&&(0,Hr.jsxs)("div",{className:"mb-0.5","data-testid":"id-card-samgra-id",children:[(0,Hr.jsx)("span",{className:"opacity-70 w-16 inline-block",children:"Samgra ID:"}),(0,Hr.jsx)("span",{className:"font-semibold",children:g.samgra_id})]}),(null===g||void 0===g?void 0:g.blood_group)&&(0,Hr.jsxs)("div",{className:"mb-0.5",children:[(0,Hr.jsx)("span",{className:"opacity-70 w-16 inline-block",children:"Blood:"}),(0,Hr.jsx)("span",{className:"font-semibold",children:g.blood_group})]}),((null===g||void 0===g?void 0:g.parent_phone)||(null===g||void 0===g?void 0:g.phone))&&(0,Hr.jsxs)("div",{className:"mt-1.5 bg-white/20 rounded px-1.5 py-1 text-[8px]","data-testid":"id-card-parent-phone",children:[(0,Hr.jsx)("span",{className:"text-red-200 font-bold",children:"\ud83d\udcde Parent: "}),(0,Hr.jsx)("span",{className:"font-bold",children:g.parent_phone||g.phone})]})]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)("div",{className:"mb-0.5","data-testid":"id-card-designation",children:[(0,Hr.jsx)("span",{className:"opacity-70 w-16 inline-block",children:"Designation:"}),(0,Hr.jsxs)("span",{className:"font-semibold",children:[null===g||void 0===g?void 0:g.designation,(null===g||void 0===g?void 0:g.designation_hindi)&&(0,Hr.jsxs)("span",{className:"opacity-80",children:[" / ",g.designation_hindi]})]})]}),(null===g||void 0===g?void 0:g.department)&&(0,Hr.jsxs)("div",{className:"mb-0.5",children:[(0,Hr.jsx)("span",{className:"opacity-70 w-16 inline-block",children:"Dept:"}),(0,Hr.jsx)("span",{className:"font-semibold",children:g.department})]}),(null===g||void 0===g?void 0:g.id_number)&&(0,Hr.jsxs)("div",{className:"mb-0.5",children:[(0,Hr.jsx)("span",{className:"opacity-70 w-16 inline-block",children:"Emp ID:"}),(0,Hr.jsx)("span",{className:"font-semibold",children:g.id_number})]}),(null===g||void 0===g?void 0:g.blood_group)&&(0,Hr.jsxs)("div",{className:"mb-0.5",children:[(0,Hr.jsx)("span",{className:"opacity-70 w-16 inline-block",children:"Blood:"}),(0,Hr.jsx)("span",{className:"font-semibold",children:g.blood_group})]}),(null===g||void 0===g?void 0:g.phone)&&(0,Hr.jsxs)("div",{className:"mt-1.5 bg-white/20 rounded px-1.5 py-1 text-[8px]","data-testid":"id-card-phone",children:[(0,Hr.jsx)("span",{className:"text-green-200 font-bold",children:"\ud83d\udcde Self: "}),(0,Hr.jsx)("span",{className:"font-bold",children:g.phone})]}),(null===g||void 0===g?void 0:g.emergency_contact)&&(0,Hr.jsxs)("div",{className:"mt-1 bg-white/20 rounded px-1.5 py-1 text-[8px]","data-testid":"id-card-emergency",children:[(0,Hr.jsx)("span",{className:"text-red-200 font-bold",children:"\ud83c\udd98 Emergency: "}),(0,Hr.jsx)("span",{className:"font-bold",children:g.emergency_contact})]})]})]})]}),(0,Hr.jsxs)("div",{className:"flex justify-between items-end text-[7px] opacity-70 mt-auto pt-1",children:[(0,Hr.jsx)("span",{children:(null===f||void 0===f?void 0:f.phone)&&"\ud83d\udcde ".concat(f.phone)}),(0,Hr.jsxs)("span",{children:["Valid: ",(null===g||void 0===g?void 0:g.valid_until)||"".concat((new Date).getFullYear()+1)]})]})]})]}),m&&(0,Hr.jsxs)("div",{className:"mx-auto rounded-xl overflow-hidden shadow-xl relative",style:{width:"340px",height:"215px",background:"student"===n?"linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #1e40af 100%)":j,padding:"12px",color:"white",border:y?"3px solid #fbbf24":"none"},"data-testid":"id-card-back-preview",children:[(null===f||void 0===f?void 0:f.logo_url)&&(0,Hr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{opacity:.15,zIndex:0},children:(0,Hr.jsx)("img",{src:f.logo_url,alt:"",className:"w-44 h-44 object-contain",style:{mixBlendMode:"luminosity",filter:"drop-shadow(0 0 0 transparent)"}})}),(0,Hr.jsxs)("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-center",children:["student"===n?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)("div",{className:"text-3xl font-bold tracking-wider mb-3 drop-shadow-lg",children:"STUDENT OF"}),(0,Hr.jsx)("div",{className:"text-lg font-semibold uppercase px-4 leading-tight",children:(null===f||void 0===f?void 0:f.name)||"School Name"}),(null===f||void 0===f?void 0:f.address)&&(0,Hr.jsx)("div",{className:"text-[10px] mt-3 opacity-80 max-w-[80%]",children:f.address})]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)("div",{className:"text-2xl font-bold tracking-wider mb-2 drop-shadow-lg uppercase",children:(null===g||void 0===g?void 0:g.designation)||"Employee"}),(null===g||void 0===g?void 0:g.designation_hindi)&&(0,Hr.jsx)("div",{className:"text-sm font-medium mb-2 opacity-90",children:g.designation_hindi}),(0,Hr.jsx)("div",{className:"text-xs tracking-widest opacity-80 mb-2",children:"OF"}),(0,Hr.jsx)("div",{className:"text-lg font-bold uppercase px-4 leading-tight",children:(null===f||void 0===f?void 0:f.name)||"School Name"}),(null===f||void 0===f?void 0:f.address)&&(0,Hr.jsx)("div",{className:"text-[9px] mt-2 opacity-70 max-w-[90%]",children:f.address}),(null===f||void 0===f?void 0:f.phone)&&(0,Hr.jsxs)("div",{className:"text-[10px] mt-2 opacity-80",children:["\ud83d\udcde ",f.phone]})]}),(0,Hr.jsx)("div",{className:"absolute bottom-3 left-0 right-0 text-center",children:(0,Hr.jsx)("div",{className:"text-[8px] opacity-70",children:"If found, please return to school"})})]})]}),(0,Hr.jsxs)("div",{className:"flex justify-center gap-3 mt-4",children:[(0,Hr.jsxs)(Io,{onClick:()=>{const e=window.open("","_blank"),t=null===d||void 0===d?void 0:d.id_card,a=null===d||void 0===d?void 0:d.school,s=null===d||void 0===d?void 0:d.photo,r=(null===t||void 0===t?void 0:t.role_color)||"#1e40af",l=(null===t||void 0===t?void 0:t.is_higher_authority)||!1,i={"#b91c1c":l?"linear-gradient(135deg, #7f1d1d 0%, #b91c1c 30%, #dc2626 50%, #b91c1c 70%, #7f1d1d 100%)":"linear-gradient(135deg, #b91c1c 0%, #dc2626 50%, #b91c1c 100%)","#dc2626":l?"linear-gradient(135deg, #991b1b 0%, #dc2626 30%, #ef4444 50%, #dc2626 70%, #991b1b 100%)":"linear-gradient(135deg, #dc2626 0%, #ef4444 50%, #dc2626 100%)","#ea580c":"linear-gradient(135deg, #ea580c 0%, #f97316 50%, #ea580c 100%)","#9333ea":"linear-gradient(135deg, #9333ea 0%, #a855f7 50%, #9333ea 100%)","#047857":"linear-gradient(135deg, #047857 0%, #059669 50%, #047857 100%)","#1e40af":"linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #1e40af 100%)","#059669":"linear-gradient(135deg, #059669 0%, #10b981 50%, #059669 100%)","#0891b2":"linear-gradient(135deg, #0891b2 0%, #06b6d4 50%, #0891b2 100%)","#4f46e5":"linear-gradient(135deg, #4f46e5 0%, #6366f1 50%, #4f46e5 100%)","#64748b":"linear-gradient(135deg, #64748b 0%, #94a3b8 50%, #64748b 100%)","#ca8a04":"linear-gradient(135deg, #ca8a04 0%, #eab308 50%, #ca8a04 100%)","#374151":"linear-gradient(135deg, #374151 0%, #6b7280 50%, #374151 100%)"},o=i[r]||i["#1e40af"],c=l?"2px solid #fbbf24":"none";e.document.write("\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>ID Card - ".concat((null===t||void 0===t?void 0:t.name)||"Print","</title>\n          <style>\n            @page { size: 85.6mm 54mm; margin: 0; }\n            * { margin: 0; padding: 0; box-sizing: border-box; }\n            body { \n              font-family: Arial, sans-serif; \n              display: flex; \n              justify-content: center; \n              align-items: center; \n              min-height: 100vh;\n              background: #f0f0f0;\n              -webkit-print-color-adjust: exact;\n              print-color-adjust: exact;\n            }\n            .id-card {\n              width: 85.6mm;\n              height: 54mm;\n              background: ").concat(o,";\n              border-radius: 8px;\n              overflow: hidden;\n              position: relative;\n              color: white;\n              padding: 3mm;\n              border: ").concat(c,";\n            }\n            .watermark {\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              opacity: 0.15;\n              width: 30mm;\n              height: 30mm;\n              z-index: 0;\n            }\n            .watermark img { width: 100%; height: 100%; object-fit: contain; }\n            .content { position: relative; z-index: 1; height: 100%; display: flex; flex-direction: column; }\n            .header {\n              display: flex;\n              align-items: center;\n              gap: 2mm;\n              padding-bottom: 2mm;\n              border-bottom: 0.3mm solid rgba(255,255,255,0.3);\n              margin-bottom: 2mm;\n            }\n            .header-logo {\n              width: 8mm;\n              height: 8mm;\n              background: white;\n              border-radius: 50%;\n              padding: 0.5mm;\n              flex-shrink: 0;\n            }\n            .header-logo img { width: 100%; height: 100%; object-fit: contain; border-radius: 50%; }\n            .header-text { flex: 1; text-align: center; }\n            .school-name { font-size: 9pt; font-weight: bold; text-transform: uppercase; }\n            .school-address { font-size: 6pt; opacity: 0.9; margin-top: 0.5mm; }\n            .card-type { \n              font-size: 6pt; \n              background: ").concat(l?"rgba(251,191,36,0.3)":"rgba(255,255,255,0.25)","; \n              padding: 0.5mm 2mm; \n              border-radius: 2mm;\n              display: inline-block;\n              margin-top: 1mm;\n              font-weight: bold;\n              ").concat(l?"border: 0.3mm solid rgba(251,191,36,0.5);":"",'\n            }\n            .body { display: flex; gap: 3mm; flex: 1; }\n            .photo-section { width: 18mm; flex-shrink: 0; }\n            .photo {\n              width: 18mm;\n              height: 22mm;\n              background: white;\n              border-radius: 2mm;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              overflow: hidden;\n            }\n            .photo img { width: 100%; height: 100%; object-fit: cover; }\n            .photo-placeholder { color: #999; font-size: 7pt; }\n            .details { flex: 1; font-size: 7pt; }\n            .name { font-size: 10pt; font-weight: bold; color: #fef08a; margin-bottom: 1.5mm; }\n            .detail-row { margin-bottom: 1mm; display: flex; }\n            .detail-label { width: 14mm; opacity: 0.8; }\n            .detail-value { flex: 1; font-weight: 600; }\n            .contact-box {\n              background: rgba(255,255,255,0.2);\n              padding: 1mm 1.5mm;\n              border-radius: 1.5mm;\n              margin-top: 1.5mm;\n              font-size: 6.5pt;\n            }\n            .contact-label { color: #fca5a5; font-weight: bold; }\n            .contact-value { font-weight: bold; }\n            .footer {\n              display: flex;\n              justify-content: space-between;\n              align-items: flex-end;\n              font-size: 5pt;\n              opacity: 0.8;\n              margin-top: auto;\n              padding-top: 1mm;\n            }\n            @media print {\n              body { background: white; }\n              .id-card { box-shadow: none; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="id-card">\n            ').concat(null!==a&&void 0!==a&&a.logo_url?'<div class="watermark"><img src="'.concat(a.logo_url,'" alt=""/></div>'):"",'\n            <div class="content">\n              <div class="header">\n                ').concat(null!==a&&void 0!==a&&a.logo_url?'<div class="header-logo"><img src="'.concat(a.logo_url,'" alt=""/></div>'):"",'\n                <div class="header-text">\n                  <div class="school-name">').concat((null===a||void 0===a?void 0:a.name)||"School Name","</div>\n                  ").concat(null!==a&&void 0!==a&&a.address?'<div class="school-address">'.concat(a.address,"</div>"):"",'\n                  <div class="card-type">').concat((null===t||void 0===t?void 0:t.card_type)||"ID CARD",'</div>\n                </div>\n              </div>\n              <div class="body">\n                <div class="photo-section">\n                  <div class="photo">\n                    ').concat(s?'<img src="'.concat(s,'" alt="').concat(null===t||void 0===t?void 0:t.name,'"/>'):'<span class="photo-placeholder">Photo</span>','\n                  </div>\n                </div>\n                <div class="details">\n                  <div class="name">').concat((null===t||void 0===t?void 0:t.name)||"","</div>\n                  ").concat("student"===n?'\n                    <div class="detail-row">\n                      <span class="detail-label">Class:</span>\n                      <span class="detail-value">'.concat((null===t||void 0===t?void 0:t.class)||"","</span>\n                    </div>\n                    ").concat(null!==t&&void 0!==t&&t.roll_no?'<div class="detail-row"><span class="detail-label">Roll No:</span><span class="detail-value">'.concat(t.roll_no,"</span></div>"):"","\n                    ").concat(null!==t&&void 0!==t&&t.father_name?'<div class="detail-row"><span class="detail-label">Father:</span><span class="detail-value">'.concat(t.father_name,"</span></div>"):"","\n                    ").concat(null!==t&&void 0!==t&&t.show_samgra_id&&null!==t&&void 0!==t&&t.samgra_id?'<div class="detail-row"><span class="detail-label">Samgra ID:</span><span class="detail-value">'.concat(t.samgra_id,"</span></div>"):"","\n                    ").concat(null!==t&&void 0!==t&&t.blood_group?'<div class="detail-row"><span class="detail-label">Blood:</span><span class="detail-value">'.concat(t.blood_group,"</span></div>"):"","\n                    ").concat(null!==t&&void 0!==t&&t.parent_phone||null!==t&&void 0!==t&&t.phone?'<div class="contact-box"><span class="contact-label">\ud83d\udcde Parent: </span><span class="contact-value">'.concat(t.parent_phone||t.phone,"</span></div>"):"","\n                  "):'\n                    <div class="detail-row">\n                      <span class="detail-label">Designation:</span>\n                      <span class="detail-value">'.concat((null===t||void 0===t?void 0:t.designation)||""," ").concat(null!==t&&void 0!==t&&t.designation_hindi?"/ "+t.designation_hindi:"","</span>\n                    </div>\n                    ").concat(null!==t&&void 0!==t&&t.department?'<div class="detail-row"><span class="detail-label">Dept:</span><span class="detail-value">'.concat(t.department,"</span></div>"):"","\n                    ").concat(null!==t&&void 0!==t&&t.id_number?'<div class="detail-row"><span class="detail-label">Emp ID:</span><span class="detail-value">'.concat(t.id_number,"</span></div>"):"","\n                    ").concat(null!==t&&void 0!==t&&t.blood_group?'<div class="detail-row"><span class="detail-label">Blood:</span><span class="detail-value">'.concat(t.blood_group,"</span></div>"):"","\n                    ").concat(null!==t&&void 0!==t&&t.phone?'<div class="contact-box"><span class="contact-label">\ud83d\udcde Self: </span><span class="contact-value">'.concat(t.phone,"</span></div>"):"","\n                    ").concat(null!==t&&void 0!==t&&t.emergency_contact?'<div class="contact-box" style="margin-top:1mm"><span class="contact-label">\ud83c\udd98 Emergency: </span><span class="contact-value">'.concat(t.emergency_contact,"</span></div>"):"","\n                  "),'\n                </div>\n              </div>\n              <div class="footer">\n                <div>\n                  ').concat(null!==a&&void 0!==a&&a.phone?"\ud83d\udcde ".concat(a.phone):"","\n                </div>\n                <div>Valid: ").concat((null===t||void 0===t?void 0:t.valid_until)||(new Date).getFullYear()+1,"</div>\n              </div>\n            </div>\n          </div>\n          <script>window.onload = function() { setTimeout(function() { window.print(); }, 500); }<\/script>\n        </body>\n      </html>\n    ")),e.document.close()},className:"bg-indigo-600 hover:bg-indigo-700","data-testid":"print-id-card-btn",children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4 mr-2"}),"Print ",m?"Back":"Front"]}),(0,Hr.jsxs)(Io,{onClick:()=>h(!m),variant:"outline","data-testid":"flip-card-btn",children:[(0,Hr.jsx)(Jb,{className:"w-4 h-4 mr-2"}),"Flip Card"]}),(0,Hr.jsx)(Io,{onClick:i,variant:"outline",children:"Close"})]}),(0,Hr.jsx)("p",{className:"text-center text-xs text-slate-500 mt-2",children:"\ud83d\udca1 Print Front first, then flip card and print Back. PVC card (85.6mm x 54mm)"})]}):(0,Hr.jsx)("div",{className:"text-center py-10 text-gray-500",children:"ID Card data load nahi ho saka"})]})})}const Zb=el("file-up",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),ey=el("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ty=el("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);function ay(e){var a;let{type:s="student",schoolId:n,onImportComplete:r,trigger:l}=e;const[i,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(1),[u,m]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),[f,v]=(0,t.useState)(null),[b,y]=(0,t.useState)(null),[j,N]=(0,t.useState)(null),w=(0,t.useRef)(null),k="student"===s?"Students (\u091b\u093e\u0924\u094d\u0930)":"Employees (\u0915\u0930\u094d\u092e\u091a\u093e\u0930\u0940)",S="student"===s?tl:El,_=async e=>{p(!0);try{const t=new FormData;t.append("file",e),t.append("import_type",s),t.append("school_id",n);const a=localStorage.getItem("token"),r=await zr.post("".concat("","/api/bulk-import/preview"),t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(a)}});v(r.data),d(2)}catch(r){var t,a;Qt.error((null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"File preview failed"),m(null)}finally{p(!1)}},C=()=>{d(1),m(null),v(null),y(null)},E=()=>{C(),(async()=>{try{const e=localStorage.getItem("token"),t=await zr.get("".concat("","/api/bulk-import/template/").concat(s),{headers:{Authorization:"Bearer ".concat(e)}});N(t.data)}catch(e){Qt.error("Template load \u0915\u0930\u0928\u0947 \u092e\u0947\u0902 \u0938\u092e\u0938\u094d\u092f\u093e")}})(),o(!0)};return(0,Hr.jsxs)(Hr.Fragment,{children:[l?(0,Hr.jsx)("div",{onClick:E,children:l}):(0,Hr.jsxs)(Io,{onClick:E,variant:"outline",className:"gap-2 border-indigo-200 text-indigo-700 hover:bg-indigo-50",children:[(0,Hr.jsx)(Zb,{className:"w-4 h-4"}),"Bulk Import"]}),(0,Hr.jsx)(Gu,{open:i,onOpenChange:e=>{o(e),e||C()},children:(0,Hr.jsxs)($u,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(S,{className:"w-5 h-5 text-indigo-600"}),"\ud83d\udce5 Bulk Import ",k]}),(0,Hr.jsxs)(Zu,{children:["CSV \u092f\u093e Excel file \u0938\u0947 \u090f\u0915 \u0938\u093e\u0925 \u092c\u0939\u0941\u0924 \u0938\u093e\u0930\u0947 ","student"===s?"students":"employees"," add \u0915\u0930\u0947\u0902"]})]}),1===c&&(0,Hr.jsxs)("div",{className:"space-y-6 py-4",children:[(0,Hr.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\ud83d\udccb Step 1: Download Template"}),(0,Hr.jsx)("p",{className:"text-sm text-blue-600 mb-3",children:"\u092a\u0939\u0932\u0947 template download \u0915\u0930\u0947\u0902, \u0905\u092a\u0928\u093e data \u092d\u0930\u0947\u0902, \u092b\u093f\u0930 upload \u0915\u0930\u0947\u0902\u0964"}),(0,Hr.jsxs)(Io,{onClick:()=>{if(!j)return;const e=new Blob([j.sample_csv],{type:"text/csv"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="".concat(s,"_import_template.csv"),a.click(),window.URL.revokeObjectURL(t),Qt.success("Template downloaded!")},disabled:!j,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[(0,Hr.jsx)(ey,{className:"w-4 h-4"}),"Download Template CSV"]}),j&&(0,Hr.jsxs)("div",{className:"mt-3 text-xs text-blue-700",children:[(0,Hr.jsx)("p",{className:"font-medium",children:"Required columns:"}),(0,Hr.jsxs)("p",{className:"opacity-80",children:[j.headers.slice(0,8).join(", "),"..."]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-emerald-50 rounded-lg border border-emerald-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-emerald-800 mb-2",children:"\ud83d\udce4 Step 2: Upload Your File"}),(0,Hr.jsx)("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",ref:w,onChange:async e=>{const t=e.target.files[0];if(!t)return;const a=t.name.substring(t.name.lastIndexOf(".")).toLowerCase();[".csv",".xlsx",".xls"].includes(a)?t.size>10485760?Qt.error("File size should be less than 10MB"):(m(t),await _(t)):Qt.error("Only CSV or Excel files are allowed")}}),(0,Hr.jsx)("div",{onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.click()},className:"border-2 border-dashed border-emerald-300 rounded-lg p-8 text-center cursor-pointer hover:border-emerald-500 hover:bg-emerald-100 transition-all",children:h?(0,Hr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Hr.jsx)(ul,{className:"w-10 h-10 text-emerald-600 animate-spin mb-2"}),(0,Hr.jsx)("p",{className:"text-emerald-700",children:"Processing file..."})]}):(0,Hr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Hr.jsx)(ty,{className:"w-10 h-10 text-emerald-500 mb-2"}),(0,Hr.jsx)("p",{className:"text-emerald-700 font-medium",children:"Click to upload CSV or Excel"}),(0,Hr.jsx)("p",{className:"text-sm text-emerald-600",children:"\u092f\u093e file \u092f\u0939\u093e\u0901 drag \u0915\u0930\u0947\u0902"})]})}),(0,Hr.jsx)("p",{className:"text-xs text-emerald-600 mt-2",children:"Supported: CSV, XLSX, XLS | Max size: 10MB"})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-amber-800 mb-2",children:"\ud83d\udca1 Tips"}),(0,Hr.jsxs)("ul",{className:"text-sm text-amber-700 space-y-1",children:[(0,Hr.jsx)("li",{children:"\u2022 First row should be headers (column names)"}),(0,Hr.jsx)("li",{children:"\u2022 Mobile numbers should be 10 digits"}),(0,Hr.jsx)("li",{children:"\u2022 Date format: YYYY-MM-DD (e.g., 2024-01-15)"}),(0,Hr.jsx)("li",{children:"\u2022 Existing software (Tally, other ERP) \u0938\u0947 export \u0915\u0930\u0915\u0947 upload \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902"})]})]})]}),2===c&&f&&(0,Hr.jsxs)("div",{className:"space-y-4 py-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-slate-800",children:f.total_rows}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Total Rows"})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-emerald-50 rounded-lg text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-emerald-600",children:f.valid_rows}),(0,Hr.jsx)("p",{className:"text-sm text-emerald-600",children:"Valid"})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:f.invalid_rows}),(0,Hr.jsx)("p",{className:"text-sm text-red-600",children:"Invalid"})]})]}),(0,Hr.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,Hr.jsx)("div",{className:"bg-slate-100 px-4 py-2 font-medium text-slate-700",children:"Preview (First 10 rows)"}),(0,Hr.jsx)("div",{className:"max-h-64 overflow-auto",children:(0,Hr.jsxs)("table",{className:"w-full text-sm",children:[(0,Hr.jsx)("thead",{className:"bg-slate-50 sticky top-0",children:(0,Hr.jsxs)("tr",{children:[(0,Hr.jsx)("th",{className:"px-3 py-2 text-left",children:"Row"}),(0,Hr.jsx)("th",{className:"px-3 py-2 text-left",children:"Name"}),(0,Hr.jsx)("th",{className:"px-3 py-2 text-left",children:"student"===s?"Class":"Designation"}),(0,Hr.jsx)("th",{className:"px-3 py-2 text-left",children:"Mobile"}),(0,Hr.jsx)("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),(0,Hr.jsx)("tbody",{children:f.preview_data.map((e,t)=>(0,Hr.jsxs)("tr",{className:e.is_valid?"":"bg-red-50",children:[(0,Hr.jsx)("td",{className:"px-3 py-2 border-t",children:e.row_number}),(0,Hr.jsx)("td",{className:"px-3 py-2 border-t",children:e.data.name||"-"}),(0,Hr.jsx)("td",{className:"px-3 py-2 border-t",children:"student"===s?e.data.class_name:e.data.designation}),(0,Hr.jsx)("td",{className:"px-3 py-2 border-t",children:e.data.mobile||"-"}),(0,Hr.jsx)("td",{className:"px-3 py-2 border-t",children:e.is_valid?(0,Hr.jsx)(Gb,{className:"w-4 h-4 text-emerald-500"}):(0,Hr.jsx)(Kb,{className:"w-4 h-4 text-red-500"})})]},t))})]})})]}),f.all_errors.length>0&&(0,Hr.jsxs)("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[(0,Hr.jsxs)("h4",{className:"font-medium text-red-800 mb-2 flex items-center gap-2",children:[(0,Hr.jsx)(Th,{className:"w-4 h-4"}),"Errors (",f.all_errors.length,")"]}),(0,Hr.jsx)("ul",{className:"text-sm text-red-700 space-y-1 max-h-32 overflow-auto",children:f.all_errors.slice(0,10).map((e,t)=>(0,Hr.jsxs)("li",{children:["\u2022 ",e]},t))})]}),(0,Hr.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>{d(1),m(null)},children:"\u2190 Back"}),(0,Hr.jsx)(Io,{onClick:async()=>{if(u){g(!0);try{const e=new FormData;e.append("file",u),e.append("import_type",s),e.append("school_id",n),e.append("skip_invalid","true");const t=localStorage.getItem("token"),a=await zr.post("".concat("","/api/bulk-import/execute"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});y(a.data),d(3),Qt.success("".concat(a.data.success_count," ").concat(s,"s imported!")),r&&r()}catch(a){var e,t;Qt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Import failed")}finally{g(!1)}}},disabled:x||0===f.valid_rows,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 gap-2",children:x?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin"}),"Importing..."]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4"}),"Import ",f.valid_rows," Valid Rows"]})})]})]}),3===c&&b&&(0,Hr.jsxs)("div",{className:"space-y-4 py-4 text-center",children:[(0,Hr.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full ".concat(b.success_count>0?"bg-emerald-100":"bg-red-100"),children:b.success_count>0?(0,Hr.jsx)(Gb,{className:"w-8 h-8 text-emerald-600"}):(0,Hr.jsx)(Kb,{className:"w-8 h-8 text-red-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:b.success_count>0?"Import Successful!":"Import Failed"}),(0,Hr.jsxs)("p",{className:"text-slate-500",children:[b.success_count," ",s,"s imported successfully"]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-emerald-600",children:b.success_count}),(0,Hr.jsx)("p",{className:"text-sm text-emerald-600",children:"Success"})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:b.error_count}),(0,Hr.jsx)("p",{className:"text-sm text-red-600",children:"Failed"})]})]}),(null===(a=b.errors)||void 0===a?void 0:a.length)>0&&(0,Hr.jsxs)("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200 text-left",children:[(0,Hr.jsx)("h4",{className:"font-medium text-red-800 mb-2",children:"Errors:"}),(0,Hr.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:b.errors.slice(0,5).map((e,t)=>{var a;return(0,Hr.jsxs)("li",{children:["\u2022 Row ",e.row,": ",e.error||(null===(a=e.errors)||void 0===a?void 0:a.join(", "))]},t)})})]}),(0,Hr.jsx)(Io,{onClick:()=>o(!1),className:"w-full",children:"Done"})]})]})})]})}const sy=[{id:"birth_certificate",label:"Birth Certificate (\u091c\u0928\u094d\u092e \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930)",required:!1,icon:"\ud83d\udcc4"},{id:"aadhar_card",label:"Aadhar Card (\u0906\u0927\u093e\u0930 \u0915\u093e\u0930\u094d\u0921)",required:!1,icon:"\ud83c\udd94"},{id:"transfer_certificate",label:"Transfer Certificate (TC)",required:!1,icon:"\ud83d\udccb"},{id:"marksheet",label:"Previous Marksheet (\u092a\u093f\u091b\u0932\u0940 \u092e\u093e\u0930\u094d\u0915\u0936\u0940\u091f)",required:!1,icon:"\ud83d\udcca"},{id:"caste_certificate",label:"Caste Certificate (\u091c\u093e\u0924\u093f \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930)",required:!1,icon:"\ud83d\udcdc"},{id:"income_certificate",label:"Income Certificate (\u0906\u092f \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930)",required:!1,icon:"\ud83d\udcb0"},{id:"domicile_certificate",label:"Domicile Certificate (\u092e\u0942\u0932 \u0928\u093f\u0935\u093e\u0938)",required:!1,icon:"\ud83c\udfe0"},{id:"passport_photo",label:"Passport Photo (\u092a\u093e\u0938\u092a\u094b\u0930\u094d\u091f \u092b\u094b\u091f\u094b)",required:!1,icon:"\ud83d\udcf7"},{id:"father_aadhar",label:"Father Aadhar (\u092a\u093f\u0924\u093e \u0915\u093e \u0906\u0927\u093e\u0930)",required:!1,icon:"\ud83d\udc68"},{id:"mother_aadhar",label:"Mother Aadhar (\u092e\u093e\u0924\u093e \u0915\u093e \u0906\u0927\u093e\u0930)",required:!1,icon:"\ud83d\udc69"},{id:"bpl_card",label:"BPL Card (\u092c\u0940\u092a\u0940\u090f\u0932 \u0915\u093e\u0930\u094d\u0921)",required:!1,icon:"\ud83c\udfab"},{id:"bank_passbook",label:"Bank Passbook (\u092c\u0948\u0902\u0915 \u092a\u093e\u0938\u092c\u0941\u0915)",required:!1,icon:"\ud83c\udfe6"},{id:"other",label:"Other Document (\u0905\u0928\u094d\u092f)",required:!1,icon:"\ud83d\udcc1"}],ny=[{id:"aadhar_card",label:"Aadhar Card (\u0906\u0927\u093e\u0930 \u0915\u093e\u0930\u094d\u0921)",required:!0,icon:"\ud83c\udd94"},{id:"pan_card",label:"PAN Card (\u092a\u0948\u0928 \u0915\u093e\u0930\u094d\u0921)",required:!1,icon:"\ud83d\udcb3"},{id:"resume",label:"Resume/CV (\u092c\u093e\u092f\u094b\u0921\u093e\u091f\u093e)",required:!1,icon:"\ud83d\udcc4"},{id:"photo",label:"Passport Photo (\u092a\u093e\u0938\u092a\u094b\u0930\u094d\u091f \u092b\u094b\u091f\u094b)",required:!0,icon:"\ud83d\udcf7"},{id:"marksheet_10th",label:"10th Marksheet (\u0926\u0938\u0935\u0940\u0902 \u092e\u093e\u0930\u094d\u0915\u0936\u0940\u091f)",required:!1,icon:"\ud83d\udcca"},{id:"marksheet_12th",label:"12th Marksheet (\u092c\u093e\u0930\u0939\u0935\u0940\u0902 \u092e\u093e\u0930\u094d\u0915\u0936\u0940\u091f)",required:!1,icon:"\ud83d\udcca"},{id:"marksheet_graduation",label:"Graduation Marksheet (\u0938\u094d\u0928\u093e\u0924\u0915 \u092e\u093e\u0930\u094d\u0915\u0936\u0940\u091f)",required:!1,icon:"\ud83d\udcca"},{id:"marksheet_pg",label:"Post Graduation (\u0938\u094d\u0928\u093e\u0924\u0915\u094b\u0924\u094d\u0924\u0930 \u092e\u093e\u0930\u094d\u0915\u0936\u0940\u091f)",required:!1,icon:"\ud83d\udcca"},{id:"degree_certificate",label:"Degree Certificate (\u0921\u093f\u0917\u094d\u0930\u0940 \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930)",required:!1,icon:"\ud83c\udf93"},{id:"bed_certificate",label:"B.Ed Certificate (B.Ed \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930)",required:!1,icon:"\ud83c\udf93"},{id:"experience_letter",label:"Experience Letter (\u0905\u0928\u0941\u092d\u0935 \u092a\u0924\u094d\u0930)",required:!1,icon:"\ud83d\udccb"},{id:"relieving_letter",label:"Relieving Letter (\u092e\u0941\u0915\u094d\u0924\u093f \u092a\u0924\u094d\u0930)",required:!1,icon:"\ud83d\udcdd"},{id:"police_verification",label:"Police Verification (\u092a\u0941\u0932\u093f\u0938 \u0938\u0924\u094d\u092f\u093e\u092a\u0928)",required:!1,icon:"\ud83d\ude94"},{id:"medical_certificate",label:"Medical Certificate (\u091a\u093f\u0915\u093f\u0924\u094d\u0938\u093e \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930)",required:!1,icon:"\ud83c\udfe5"},{id:"bank_details",label:"Bank Account Details (\u092c\u0948\u0902\u0915 \u0916\u093e\u0924\u093e)",required:!1,icon:"\ud83c\udfe6"},{id:"address_proof",label:"Address Proof (\u092a\u0924\u093e \u092a\u094d\u0930\u092e\u093e\u0923)",required:!1,icon:"\ud83c\udfe0"},{id:"other",label:"Other Document (\u0905\u0928\u094d\u092f)",required:!1,icon:"\ud83d\udcc1"}];function ry(e){let{personId:a,personType:s="student",schoolId:n,existingDocuments:r=[],onUploadComplete:l,compact:i=!1}=e;const[o,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(r),[m,h]=(0,t.useState)(null),[p,x]=((0,t.useRef)(null),(0,t.useState)(null)),g="student"===s?sy:ny,f=async(e,t)=>{const r=e.target.files[0];if(!r)return;if(r.size>5242880)return void Qt.error("File size should be less than 5MB");if(["image/jpeg","image/png","image/jpg","application/pdf"].includes(r.type)){c(t);try{var i;const e=new FormData;e.append("file",r),e.append("document_type",t),e.append("person_id",a),e.append("person_type",s),e.append("school_id",n);const o=localStorage.getItem("token"),c=await zr.post("".concat("","/api/documents/upload"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(o)}}),d={id:c.data.id,document_type:t,file_name:r.name,file_url:c.data.file_url,uploaded_at:(new Date).toISOString()};u(e=>[...e.filter(e=>e.document_type!==t),d]),Qt.success("".concat(null===(i=g.find(e=>e.id===t))||void 0===i?void 0:i.label," uploaded!")),l&&l(d)}catch(m){var o,d;console.error("Upload error:",m),Qt.error((null===(o=m.response)||void 0===o||null===(d=o.data)||void 0===d?void 0:d.detail)||"Upload failed")}finally{c(null),e.target.value=""}}else Qt.error("Only JPG, PNG or PDF files allowed")},v=e=>d.find(t=>t.document_type===e);return i?(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("h4",{className:"font-medium text-slate-700 flex items-center gap-2",children:[(0,Hr.jsx)(Dl,{className:"w-4 h-4"}),"Documents (",d.length,"/",g.length,")"]}),(0,Hr.jsx)("div",{className:"flex flex-wrap gap-2",children:g.slice(0,6).map(e=>{const t=v(e.id);return(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",className:"hidden",id:"doc-".concat(e.id),onChange:t=>f(t,e.id)}),(0,Hr.jsxs)("label",{htmlFor:"doc-".concat(e.id),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium cursor-pointer transition-all ".concat(t?"bg-emerald-100 text-emerald-700 border border-emerald-300":"bg-slate-100 text-slate-600 border border-slate-200 hover:bg-slate-200"),children:[o===e.id?(0,Hr.jsx)(ul,{className:"w-3 h-3 animate-spin"}):t?(0,Hr.jsx)(Ah,{className:"w-3 h-3"}):(0,Hr.jsx)("span",{children:e.icon}),e.label.split(" (")[0]]})]},e.id)})})]}):(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[(0,Hr.jsx)(Dl,{className:"w-5 h-5 text-indigo-600"}),"\ud83d\udcc1 Documents Upload (\u0926\u0938\u094d\u0924\u093e\u0935\u0947\u091c\u093c \u0905\u092a\u0932\u094b\u0921)"]}),(0,Hr.jsxs)("span",{className:"text-sm text-slate-500",children:[d.length,"/",g.length," uploaded"]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:g.map(e=>{var t;const a=v(e.id),s=o===e.id;return(0,Hr.jsxs)("div",{className:"relative p-3 rounded-lg border-2 transition-all ".concat(a?"border-emerald-300 bg-emerald-50":"border-slate-200 bg-white hover:border-indigo-300 hover:bg-indigo-50"),children:[(0,Hr.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",className:"hidden",id:"upload-".concat(e.id),onChange:t=>f(t,e.id)}),(0,Hr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsx)("span",{className:"text-lg",children:e.icon}),(0,Hr.jsx)("p",{className:"text-sm font-medium text-slate-700 mt-1",children:e.label.split(" (")[0]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:null===(t=e.label.split(" (")[1])||void 0===t?void 0:t.replace(")","")})]}),e.required&&!a&&(0,Hr.jsx)("span",{className:"text-red-500 text-xs",children:"*"})]}),a?(0,Hr.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,Hr.jsxs)("span",{className:"flex items-center gap-1 text-xs text-emerald-600",children:[(0,Hr.jsx)(Ah,{className:"w-3 h-3"}),"Uploaded"]}),(0,Hr.jsx)("button",{onClick:()=>window.open(a.file_url,"_blank"),className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded",title:"View",children:(0,Hr.jsx)(xl,{className:"w-3 h-3"})}),(0,Hr.jsx)("button",{onClick:()=>(async e=>{const t=d.find(t=>t.document_type===e);if(t)try{const a=localStorage.getItem("token");await zr.delete("".concat("","/api/documents/").concat(t.id),{headers:{Authorization:"Bearer ".concat(a)}}),u(t=>t.filter(t=>t.document_type!==e)),Qt.success("Document deleted")}catch(a){Qt.error("Delete failed")}})(e.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:(0,Hr.jsx)(Hh,{className:"w-3 h-3"})})]}):(0,Hr.jsx)("label",{htmlFor:"upload-".concat(e.id),className:"mt-2 flex items-center justify-center gap-1 px-2 py-1.5 bg-slate-100 hover:bg-indigo-100 rounded text-xs text-slate-600 hover:text-indigo-700 cursor-pointer transition-all",children:s?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(ul,{className:"w-3 h-3 animate-spin"}),"Uploading..."]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Ph,{className:"w-3 h-3"}),"Upload"]})})]},e.id)})}),(0,Hr.jsxs)("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[(0,Hr.jsx)(Th,{className:"w-3 h-3"}),"Max file size: 5MB | Supported: JPG, PNG, PDF"]})]})}const ly="".concat("","/api");function iy(){var e;const{t:a}=bs(),{schoolId:s,user:n}=Vr(),[r,l]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[m,h]=(0,t.useState)(!0),[p,x]=(0,t.useState)(""),[g,f]=(0,t.useState)(""),[v,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[_,C]=(0,t.useState)(!1),[E,P]=(0,t.useState)(!1),[A,T]=(0,t.useState)(null),[M,D]=(0,t.useState)(null),[R,I]=(0,t.useState)(null),[O,L]=(0,t.useState)(null),[F,B]=(0,t.useState)(null),[z,H]=(0,t.useState)(!1),[q,U]=(0,t.useState)(null),[W,V]=(0,t.useState)(!1),[G,K]=(0,t.useState)(!1),[Y,Q]=(0,t.useState)(!1),[$,J]=(0,t.useState)({fromClassId:"",toClassId:"",selectedStudentIds:[],selectAll:!1}),[X,Z]=(0,t.useState)(!1),[ee,te]=(0,t.useState)(null),[ae,se]=(0,t.useState)(!1),[ne,re]=(0,t.useState)(!1),[le,ie]=(0,t.useState)(null),[oe,ce]=(0,t.useState)(""),[de,ue]=(0,t.useState)(!1),[me,he]=(0,t.useState)(!1),[pe,xe]=(0,t.useState)(null),[ge,fe]=(0,t.useState)(!1),[ve,be]=(0,t.useState)(!1),[ye,je]=(0,t.useState)(null),[Ne,we]=(0,t.useState)(!1),ke=(0,t.useRef)(null),[Se,_e]=(0,t.useState)(null),[Ce,Ee]=(0,t.useState)(null),[Pe,Ae]=(0,t.useState)(!1),[Te,Me]=(0,t.useState)(null),De=(0,t.useRef)(null),Re=(0,t.useRef)(null),[Ie,Oe]=(0,t.useState)("basic"),[Le,Fe]=(0,t.useState)({name:"",class_id:"",dob:"",gender:"male",blood_group:"",admission_date:(new Date).toISOString().split("T")[0],aadhar_no:"",scholar_no:"",pen_number:"",sssmid:"",samagra_family_id:"",jan_aadhar_no:"",caste:"",sub_caste:"",religion:"",category:"",nationality:"Indian",mother_tongue:"",birth_place:"",identification_mark:"",rte_status:!1,father_name:"",father_occupation:"",father_qualification:"",mother_name:"",mother_occupation:"",mother_qualification:"",guardian_name:"",guardian_relation:"",guardian_mobile:"",guardian_occupation:"",annual_income:"",mobile:"",parent_phone:"",email:"",address:"",emergency_contact:"",emergency_contact_name:"",bank_name:"",bank_account_no:"",ifsc_code:"",bank_branch:"",transport_mode:"",bus_route:"",bus_stop:"",pickup_point:"",is_hosteler:!1,hostel_room_no:"",medical_conditions:"",allergies:"",previous_school:"",previous_class:"",previous_percentage:"",tc_number:""}),[Be,ze]=(0,t.useState)({birth_certificate:null,aadhar_card:null,transfer_certificate:null,marksheet:null,caste_certificate:null,income_certificate:null,passport_photo:null}),[He,qe]=(0,t.useState)({father_photo:null,mother_photo:null,guardian_photo:null}),[Ue,We]=(0,t.useState)(null),[Ve,Ge]=((0,t.useRef)(null),(0,t.useRef)(null),(0,t.useState)(null)),[Ke,Ye]=(0,t.useState)({reason:"fees_pending",details:""}),Qe={fees_pending:"Fees Pending (\u0936\u0941\u0932\u094d\u0915 \u092c\u0915\u093e\u092f\u093e)",misconduct:"Misconduct (\u0905\u0928\u0941\u0936\u093e\u0938\u0928\u0939\u0940\u0928\u0924\u093e)",document_pending:"Document Pending (\u0926\u0938\u094d\u0924\u093e\u0935\u0947\u091c\u093c \u0932\u0902\u092c\u093f\u0924)",attendance_low:"Low Attendance (\u0915\u092e \u0909\u092a\u0938\u094d\u0925\u093f\u0924\u093f)",other:"Other (\u0905\u0928\u094d\u092f)"};(0,t.useEffect)(()=>{s&&($e(),Je())},[s,p,g]);const $e=async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};let a="".concat(ly,"/students?school_id=").concat(s);p&&(a+="&search=".concat(p)),g&&(a+="&class_id=".concat(g));const[n,r]=await Promise.all([zr.get("".concat(a,"&status=active"),{headers:t}),zr.get("".concat(a,"&status=suspended"),{headers:t})]);l(n.data),o(r.data)}catch(e){Qt.error("Failed to fetch students")}finally{h(!1)}},Je=async()=>{try{const e=localStorage.getItem("token"),t=await zr.get("".concat(ly,"/classes?school_id=").concat(s),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data)}catch(e){console.error("Failed to fetch classes")}},Xe=()=>{Te&&(Te.getTracks().forEach(e=>e.stop()),Me(null)),Ae(!1)},Ze=async e=>{xe({name:e.name,student_id:e.student_id||e.id,class_name:e.class_name,father_name:e.father_name,mobile:e.mobile||e.parent_phone,default_password:e.mobile||e.parent_phone||e.student_id||e.id}),he(!0)},et=e=>"\ud83d\udcda *StudyTino Login Details*\n\n\ud83d\udc64 Student: ".concat(e.name,"\n\ud83c\udfeb Class: ").concat(e.class_name||"N/A","\n\n\ud83d\udd10 *Login Credentials:*\nStudent ID: ").concat(e.student_id,"\nPassword: ").concat(e.default_password,"\n\n\ud83d\udcf1 App Link: ").concat(window.location.origin,"/studytino\n\nNote: First login \u092a\u0930 password change \u0915\u0930\u0947\u0902\u0964"),tt=e=>{const t=e,a=window.open("","_blank");if(!a)return void Qt.error("Popup blocked - please allow popups");const s=t.photo_url?'<img src="'.concat(t.photo_url,'" style="width:120px;height:140px;object-fit:cover;border-radius:8px;border:2px solid #1e40af;" />'):'<div style="width:120px;height:140px;background:#e2e8f0;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:48px;color:#94a3b8;border:2px solid #1e40af;">\ud83d\udc64</div>',n=(e,t)=>t?'<tr><td style="padding:6px 12px;font-weight:600;color:#374151;background:#f8fafc;border:1px solid #e2e8f0;width:200px;">'.concat(e,'</td><td style="padding:6px 12px;border:1px solid #e2e8f0;">').concat(t,"</td></tr>"):"",r=(e,t)=>'<tr><td colspan="2" style="padding:10px 12px;font-weight:700;font-size:14px;background:linear-gradient(135deg,#1e40af,#3b82f6);color:white;border:1px solid #1e40af;">'.concat(t," ").concat(e,"</td></tr>"),l="<!DOCTYPE html><html><head><title>Student Profile - ".concat(t.name,'</title>\n<style>@page{size:A4;margin:15mm}body{font-family:\'Segoe UI\',Arial,sans-serif;color:#1e293b;margin:0;padding:20px}\n.header{text-align:center;margin-bottom:20px;border-bottom:3px solid #1e40af;padding-bottom:15px}\ntable{width:100%;border-collapse:collapse;margin-bottom:15px;font-size:13px}\n.print-btn{position:fixed;top:10px;right:10px;padding:10px 20px;background:#1e40af;color:white;border:none;border-radius:8px;cursor:pointer;font-size:14px}\n@media print{.print-btn{display:none}}</style></head>\n<body>\n<button class="print-btn" onclick="window.print()">\ud83d\udda8\ufe0f Print</button>\n<div class="header">\n').concat(s,'\n<h1 style="margin:10px 0 5px;color:#1e40af;font-size:24px;">').concat(t.name,'</h1>\n<p style="color:#64748b;margin:0;">Student ID: ').concat(t.student_id||t.admission_no||"N/A"," | Class: ").concat(t.class_name||"N/A").concat(t.section?" - "+t.section:"","</p>\n</div>\n<table>\n").concat(r("Basic Information (\u092e\u0942\u0932 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)","\ud83d\udccb"),"\n").concat(n("Name (\u0928\u093e\u092e)",t.name),"\n").concat(n("Student ID",t.student_id||t.admission_no),"\n").concat(n("Class (\u0915\u0915\u094d\u0937\u093e)",t.class_name),"\n").concat(n("Section",t.section),"\n").concat(n("Gender (\u0932\u093f\u0902\u0917)",t.gender),"\n").concat(n("Date of Birth (\u091c\u0928\u094d\u092e \u0924\u093f\u0925\u093f)",t.dob),"\n").concat(n("Blood Group (\u0930\u0915\u094d\u0924 \u0938\u092e\u0942\u0939)",t.blood_group),"\n").concat(n("Admission Date (\u092a\u094d\u0930\u0935\u0947\u0936 \u0924\u093f\u0925\u093f)",t.admission_date),"\n").concat(n("Category (\u0936\u094d\u0930\u0947\u0923\u0940)",t.category),"\n").concat(n("Caste (\u091c\u093e\u0924\u093f)",t.caste),"\n").concat(n("Religion (\u0927\u0930\u094d\u092e)",t.religion),"\n").concat(n("Nationality",t.nationality),"\n").concat(n("Mother Tongue",t.mother_tongue),"\n").concat(n("Birth Place",t.birth_place),"\n").concat(n("Identification Mark",t.identification_mark),"\n").concat(n("RTE Status",t.rte_status?"Yes":"No"),"\n").concat(r("Identity Documents (\u092a\u0939\u091a\u093e\u0928 \u0926\u0938\u094d\u0924\u093e\u0935\u0947\u091c\u093c)","\ud83c\udd94"),"\n").concat(n("Aadhar No (\u0906\u0927\u093e\u0930 \u0928\u0902.)",t.aadhar_no),"\n").concat(n("Scholar No (\u0935\u093f\u0926\u094d\u092f\u093e\u0930\u094d\u0925\u0940 \u0915\u094d\u0930\u092e\u093e\u0902\u0915)",t.scholar_no),"\n").concat(n("PEN Number",t.pen_number),"\n").concat(n("SSSMID",t.sssmid),"\n").concat(n("Samagra Family ID",t.samagra_family_id),"\n").concat(n("Jan Aadhar No",t.jan_aadhar_no),"\n").concat(r("Family Information (\u092a\u093e\u0930\u093f\u0935\u093e\u0930\u093f\u0915 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)","\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66"),"\n").concat(n("Father Name (\u092a\u093f\u0924\u093e \u0915\u093e \u0928\u093e\u092e)",t.father_name),"\n").concat(n("Father Occupation",t.father_occupation),"\n").concat(n("Father Qualification",t.father_qualification),"\n").concat(n("Mother Name (\u092e\u093e\u0924\u093e \u0915\u093e \u0928\u093e\u092e)",t.mother_name),"\n").concat(n("Mother Occupation",t.mother_occupation),"\n").concat(n("Mother Qualification",t.mother_qualification),"\n").concat(n("Guardian Name",t.guardian_name),"\n").concat(n("Guardian Relation",t.guardian_relation),"\n").concat(n("Guardian Mobile",t.guardian_mobile),"\n").concat(n("Guardian Occupation",t.guardian_occupation),"\n").concat(n("Annual Income",t.annual_income),"\n").concat(r("Contact Information (\u0938\u0902\u092a\u0930\u094d\u0915 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)","\ud83d\udcde"),"\n").concat(n("Mobile (\u092e\u094b\u092c\u093e\u0907\u0932)",t.mobile),"\n").concat(n("Parent Phone",t.parent_phone),"\n").concat(n("Email",t.email),"\n").concat(n("Address (\u092a\u0924\u093e)",t.address),"\n").concat(n("Emergency Contact",t.emergency_contact),"\n").concat(n("Emergency Contact Name",t.emergency_contact_name),"\n").concat(r("Bank Details - Scholarship (\u092c\u0948\u0902\u0915 \u0935\u093f\u0935\u0930\u0923)","\ud83c\udfe6"),"\n").concat(n("Bank Name",t.bank_name),"\n").concat(n("Account No",t.bank_account_no),"\n").concat(n("IFSC Code",t.ifsc_code),"\n").concat(n("Branch",t.bank_branch),"\n").concat(r("Transport (\u092a\u0930\u093f\u0935\u0939\u0928)","\ud83d\ude8c"),"\n").concat(n("Transport Mode",t.transport_mode),"\n").concat(n("Bus Route",t.bus_route),"\n").concat(n("Bus Stop",t.bus_stop),"\n").concat(n("Pickup Point",t.pickup_point),"\n").concat(r("Medical (\u091a\u093f\u0915\u093f\u0924\u094d\u0938\u093e)","\ud83c\udfe5"),"\n").concat(n("Medical Conditions",t.medical_conditions),"\n").concat(n("Allergies",t.allergies),"\n").concat(r("Previous Education (\u092a\u0942\u0930\u094d\u0935 \u0936\u093f\u0915\u094d\u0937\u093e)","\ud83c\udf93"),"\n").concat(n("Previous School",t.previous_school),"\n").concat(n("Previous Class",t.previous_class),"\n").concat(n("Previous Percentage",t.previous_percentage),"\n").concat(n("TC Number",t.tc_number),'\n</table>\n<div style="text-align:center;margin-top:30px;color:#94a3b8;font-size:11px;">\nGenerated on ').concat((new Date).toLocaleDateString("en-IN")," | Schooltino ERP\n</div>\n</body></html>");a.document.write(l),a.document.close()},at=e=>{I(e),Fe({name:e.name,class_id:e.class_id,father_name:e.father_name,mother_name:e.mother_name,dob:e.dob,gender:e.gender,address:e.address,mobile:e.mobile,parent_phone:e.parent_phone||e.mobile||"",email:e.email||"",blood_group:e.blood_group||"",aadhar_no:e.aadhar_no||"",scholar_no:e.scholar_no||"",pen_number:e.pen_number||"",sssmid:e.sssmid||"",samagra_family_id:e.samagra_family_id||"",jan_aadhar_no:e.jan_aadhar_no||"",caste:e.caste||"",sub_caste:e.sub_caste||"",religion:e.religion||"",category:e.category||"",nationality:e.nationality||"Indian",mother_tongue:e.mother_tongue||"",birth_place:e.birth_place||"",identification_mark:e.identification_mark||"",rte_status:e.rte_status||!1,father_occupation:e.father_occupation||"",father_qualification:e.father_qualification||"",mother_occupation:e.mother_occupation||"",mother_qualification:e.mother_qualification||"",guardian_name:e.guardian_name||"",guardian_relation:e.guardian_relation||"",guardian_mobile:e.guardian_mobile||"",guardian_occupation:e.guardian_occupation||"",annual_income:e.annual_income||"",emergency_contact:e.emergency_contact||"",emergency_contact_name:e.emergency_contact_name||"",bank_name:e.bank_name||"",bank_account_no:e.bank_account_no||"",ifsc_code:e.ifsc_code||"",bank_branch:e.bank_branch||"",transport_mode:e.transport_mode||"",bus_route:e.bus_route||"",bus_stop:e.bus_stop||"",pickup_point:e.pickup_point||"",is_hosteler:e.is_hosteler||!1,hostel_room_no:e.hostel_room_no||"",medical_conditions:e.medical_conditions||"",allergies:e.allergies||"",previous_school:e.previous_school||"",previous_class:e.previous_class||"",previous_percentage:e.previous_percentage||"",tc_number:e.tc_number||"",admission_date:e.admission_date||(new Date).toISOString().split("T")[0]}),Oe("basic"),b(!0)},st=()=>{I(null),Oe("basic"),Fe({name:"",class_id:"",dob:"",gender:"male",blood_group:"",admission_date:(new Date).toISOString().split("T")[0],aadhar_no:"",scholar_no:"",pen_number:"",sssmid:"",samagra_family_id:"",jan_aadhar_no:"",caste:"",sub_caste:"",religion:"",category:"",nationality:"Indian",mother_tongue:"",birth_place:"",identification_mark:"",rte_status:!1,father_name:"",father_occupation:"",father_qualification:"",mother_name:"",mother_occupation:"",mother_qualification:"",guardian_name:"",guardian_relation:"",guardian_mobile:"",guardian_occupation:"",annual_income:"",mobile:"",parent_phone:"",email:"",address:"",emergency_contact:"",emergency_contact_name:"",bank_name:"",bank_account_no:"",ifsc_code:"",bank_branch:"",transport_mode:"",bus_route:"",bus_stop:"",pickup_point:"",is_hosteler:!1,hostel_room_no:"",medical_conditions:"",allergies:"",previous_school:"",previous_class:"",previous_percentage:"",tc_number:""})},nt=e=>{Fe(t=>d(d({},t),{},{[e.target.name]:e.target.value}))},rt=(e,t)=>{navigator.clipboard.writeText(e),U(t),setTimeout(()=>U(null),2e3),Qt.success("Copied!")};return s?(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"students-page",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-3xl font-bold font-heading text-slate-900",children:a("students")}),(0,Hr.jsx)("p",{className:"text-slate-500 mt-1",children:"Student Admission & Management"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,Hr.jsx)(ay,{type:"student",schoolId:s,onImportComplete:$e}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>K(!0),className:"gap-2 text-green-600 border-green-200 hover:bg-green-50","data-testid":"promote-students-btn",children:[(0,Hr.jsx)(cl,{className:"w-4 h-4"}),"Promote Students"]}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:async()=>{if(0!==r.length){V(!0),Qt.info("Generating ID cards...");try{const t=localStorage.getItem("token"),a=r.filter(e=>"active"===e.status),s=[];for(const r of a)try{var e;const a=await zr.get(ly+"/id-card/generate/student/"+r.id,{headers:{Authorization:"Bearer "+t}});null!==(e=a.data)&&void 0!==e&&e.id_card&&s.push({card:a.data.id_card,school:a.data.school})}catch($k){console.error("Error fetching card for",r.name)}const n=window.open("","_blank");if(!n)return Qt.error("Popup blocked - please allow popups"),void V(!1);const l="<!DOCTYPE html><html><head><title>Bulk Student ID Cards</title><style>@page{size:A4;margin:10mm}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial,sans-serif;display:flex;flex-wrap:wrap;gap:10mm;padding:10mm;-webkit-print-color-adjust:exact;print-color-adjust:exact}.id-card{width:85.6mm;height:54mm;background:linear-gradient(135deg,#1e40af 0%,#3b82f6 50%,#1e40af 100%);border-radius:4mm;overflow:hidden;position:relative;color:white;padding:3mm;page-break-inside:avoid}.watermark{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.15;width:25mm;height:25mm}.watermark img{width:100%;height:100%;object-fit:contain}.content{position:relative;z-index:1;height:100%;display:flex;flex-direction:column}.header{display:flex;align-items:center;gap:2mm;padding-bottom:2mm;border-bottom:0.3mm solid rgba(255,255,255,0.3);margin-bottom:2mm}.header-logo{width:7mm;height:7mm;background:white;border-radius:50%;padding:0.5mm}.header-logo img{width:100%;height:100%;object-fit:contain;border-radius:50%}.header-text{flex:1;text-align:center}.school-name{font-size:8pt;font-weight:bold;text-transform:uppercase}.card-type{font-size:5pt;background:rgba(255,255,255,0.25);padding:0.5mm 2mm;border-radius:2mm;display:inline-block;margin-top:1mm}.body{display:flex;gap:2mm;flex:1}.photo{width:16mm;height:20mm;background:white;border-radius:2mm;display:flex;align-items:center;justify-content:center;color:#999;font-size:6pt}.details{flex:1;font-size:6pt}.name{font-size:9pt;font-weight:bold;color:#fef08a;margin-bottom:1mm}.detail-row{margin-bottom:0.5mm}.label{opacity:0.8;width:12mm;display:inline-block}.value{font-weight:600}.contact{background:rgba(255,255,255,0.2);padding:1mm;border-radius:1mm;margin-top:1mm;font-size:5.5pt}.footer{font-size:4pt;opacity:0.8;text-align:right;margin-top:auto}</style></head><body>"+s.map(e=>{const t=e.card,a=e.school,s=null!==a&&void 0!==a&&a.logo_url?'<div class="watermark"><img src="'+a.logo_url+'" alt=""/></div>':"",n=null!==a&&void 0!==a&&a.logo_url?'<div class="header-logo"><img src="'+a.logo_url+'" alt=""/></div>':"",r=t.parent_phone||t.phone||"";return'<div class="id-card">'+s+'<div class="content"><div class="header">'+n+'<div class="header-text"><div class="school-name">'+((null===a||void 0===a?void 0:a.name)||"School")+'</div><div class="card-type">STUDENT ID CARD</div></div></div><div class="body"><div class="photo"><span>Photo</span></div><div class="details"><div class="name">'+t.name+'</div><div class="detail-row"><span class="label">Class:</span><span class="value">'+(t.class||"")+'</span></div><div class="detail-row"><span class="label">Father:</span><span class="value">'+(t.father_name||"")+"</span></div>"+(t.blood_group?'<div class="detail-row"><span class="label">Blood:</span><span class="value">'+t.blood_group+"</span></div>":"")+(r?'<div class="contact">\ud83d\udcde Parent: '+r+"</div>":"")+'</div></div><div class="footer">Valid: '+(t.valid_until||(new Date).getFullYear()+1)+"</div></div></div>"}).join("")+"<script>window.onload=function(){setTimeout(function(){window.print()},1000)}<\/script></body></html>";n.document.write(l),n.document.close(),Qt.success(s.length+" ID cards ready to print!")}catch(t){Qt.error("Error generating bulk ID cards")}finally{V(!1)}}else Qt.error("No students to print")},disabled:W||0===r.length,className:"gap-2","data-testid":"bulk-print-btn",children:[W?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin"}):(0,Hr.jsx)(Ch,{className:"w-4 h-4"}),"Bulk Print ID Cards"]}),(0,Hr.jsxs)(Gu,{open:v,onOpenChange:e=>{b(e),e||st()},children:[(0,Hr.jsx)(Ku,{asChild:!0,children:(0,Hr.jsxs)(Io,{className:"btn-primary","data-testid":"add-student-btn",children:[(0,Hr.jsx)(Tl,{className:"w-5 h-5 mr-2"}),"New Admission"]})}),(0,Hr.jsxs)($u,{className:"max-w-4xl max-h-[95vh] overflow-y-auto",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsx)(Xu,{className:"text-xl",children:R?"Edit Student":"\ud83d\udcdd New Student Admission Form"}),(0,Hr.jsx)(Zu,{children:!R&&"Student ID \u0914\u0930 Password automatically generate \u0939\u094b\u0902\u0917\u0947\u0964 \u0938\u092d\u0940 * fields \u092d\u0930\u0928\u093e \u091c\u0930\u0942\u0930\u0940 \u0939\u0948\u0964"})]}),(0,Hr.jsx)("div",{className:"flex gap-1 p-1 bg-slate-100 rounded-lg mb-4 overflow-x-auto",children:[{id:"basic",label:"\ud83d\udccb Basic"},{id:"identity",label:"\ud83c\udd94 ID & Docs"},{id:"family",label:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66 Family & Contact"},{id:"bank",label:"\ud83c\udfe6 Bank"},{id:"other",label:"\ud83d\ude8c Transport & Medical"},{id:"documents",label:"\ud83d\udcc4 Documents"}].map(e=>(0,Hr.jsx)("button",{type:"button",onClick:()=>Oe(e.id),className:"flex items-center gap-1 px-3 py-2 rounded-md text-sm font-medium whitespace-nowrap transition-all ".concat(Ie===e.id?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:bg-white/50"),children:e.label},e.id))}),(0,Hr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),H(!0);try{const e=d(d({},Le),{},{school_id:s}),t=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(t)};if(R)await zr.put("".concat(ly,"/students/").concat(R.id),e,{headers:n}),Qt.success(a("saved_successfully")),b(!1);else{const a=await zr.post("".concat(ly,"/students/admit"),e,{headers:n}),l=a.data.student_id;if(Ce)try{const e=Ce.split(",")[1],a=atob(e),n=new Array(a.length);for(let t=0;t<a.length;t++)n[t]=a.charCodeAt(t);const r=new Uint8Array(n),i=new Blob([r],{type:"image/jpeg"}),o=new FormData;o.append("photo",i,"admission_photo.jpg"),o.append("student_id",l),o.append("school_id",s),o.append("photo_type","front"),await zr.post("".concat(ly,"/face-recognition/upload-photo"),o,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}}),Qt.success("Face photo uploaded for AI attendance! \ud83d\udcf8")}catch(r){console.error("Photo upload failed:",r),Qt.info("Student created but photo upload failed. Add later from profile.")}B({student_id:l,name:a.data.name,login_id:a.data.login_id,temporary_password:a.data.temporary_password,class_name:a.data.class_name,section:a.data.section}),b(!1),j(!0)}st(),Ee(null),$e()}catch(l){var t,n;const e=null===(t=l.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail;Qt.error("string"===typeof e?e:a("something_went_wrong"))}finally{H(!1)}},className:"space-y-4",children:["basic"===Ie&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-slate-800 border-b pb-2",children:"\ud83d\udccb Basic Information (\u092e\u0942\u0932 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Wo,{children:[a("student_name")," *"]}),(0,Hr.jsx)(Lo,{name:"name",value:Le.name,onChange:nt,required:!0,placeholder:"Student Full Name","data-testid":"student-name-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Wo,{children:[a("class_section")," *"]}),(0,Hr.jsxs)("select",{name:"class_id",value:Le.class_id,onChange:nt,required:!0,className:"w-full h-10 rounded-lg border border-slate-200 px-3","data-testid":"class-select",children:[(0,Hr.jsx)("option",{value:"",children:a("select_class")}),c.map(e=>(0,Hr.jsxs)("option",{value:e.id,children:[e.name,e.section&&"A"!==e.section?" - ".concat(e.section):""]},e.id))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Wo,{children:[a("gender")," *"]}),(0,Hr.jsxs)("select",{name:"gender",value:Le.gender,onChange:nt,required:!0,className:"w-full h-10 rounded-lg border border-slate-200 px-3","data-testid":"gender-select",children:[(0,Hr.jsx)("option",{value:"male",children:a("male")}),(0,Hr.jsx)("option",{value:"female",children:a("female")}),(0,Hr.jsx)("option",{value:"other",children:a("other")})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Wo,{children:[a("dob")," *"]}),(0,Hr.jsx)(Lo,{name:"dob",type:"date",value:Le.dob,onChange:nt,required:!0,max:(new Date).toISOString().split("T")[0],"data-testid":"dob-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Admission Date *"}),(0,Hr.jsx)(Lo,{name:"admission_date",type:"date",value:Le.admission_date,onChange:nt,required:!0,max:(new Date).toISOString().split("T")[0],"data-testid":"admission-date-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:a("blood_group")}),(0,Hr.jsxs)("select",{name:"blood_group",value:Le.blood_group,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),["A+","A-","B+","B-","O+","O-","AB+","AB-"].map(e=>(0,Hr.jsx)("option",{value:e,children:e},e))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Birth Place (\u091c\u0928\u094d\u092e \u0938\u094d\u0925\u093e\u0928)"}),(0,Hr.jsx)(Lo,{name:"birth_place",value:Le.birth_place,onChange:nt,placeholder:"City/Village"})]}),(0,Hr.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,Hr.jsx)(Wo,{children:"Identification Mark (\u092a\u0939\u091a\u093e\u0928 \u091a\u093f\u0928\u094d\u0939)"}),(0,Hr.jsx)(Lo,{name:"identification_mark",value:Le.identification_mark,onChange:nt,placeholder:"Mole on right cheek, etc."})]})]})]}),"identity"===Ie&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-slate-800 border-b pb-2",children:"\ud83c\udd94 Identity Documents (\u092a\u0939\u091a\u093e\u0928 \u0926\u0938\u094d\u0924\u093e\u0935\u0947\u091c\u093c)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Scholar No. / Enrollment No."}),(0,Hr.jsx)(Lo,{name:"scholar_no",value:Le.scholar_no,onChange:nt,placeholder:"If existing student"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"PEN Number (CBSE)"}),(0,Hr.jsx)(Lo,{name:"pen_number",value:Le.pen_number,onChange:nt,placeholder:"Permanent Education Number"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Aadhar Number"}),(0,Hr.jsx)(Lo,{name:"aadhar_no",value:Le.aadhar_no,onChange:nt,placeholder:"12 digit Aadhar","data-testid":"aadhar-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"SSSMID / Samagra ID (MP)"}),(0,Hr.jsx)(Lo,{name:"sssmid",value:Le.sssmid,onChange:nt,placeholder:"\u0938\u092e\u0917\u094d\u0930 ID","data-testid":"samgra-id-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Samagra Family ID (MP)"}),(0,Hr.jsx)(Lo,{name:"samagra_family_id",value:Le.samagra_family_id,onChange:nt,placeholder:"\u0938\u092e\u0917\u094d\u0930 \u092a\u0930\u093f\u0935\u093e\u0930 ID"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Jan Aadhar / Bhamashah (RJ)"}),(0,Hr.jsx)(Lo,{name:"jan_aadhar_no",value:Le.jan_aadhar_no,onChange:nt,placeholder:"\u091c\u0928 \u0906\u0927\u093e\u0930"})]})]}),(0,Hr.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,Hr.jsx)("h4",{className:"font-medium text-slate-700 mb-3",children:"\ud83d\udcc2 Category Information (\u0936\u094d\u0930\u0947\u0923\u0940)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Caste (\u091c\u093e\u0924\u093f)"}),(0,Hr.jsxs)("select",{name:"caste",value:Le.caste,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select Caste"}),(0,Hr.jsx)("option",{value:"General",children:"General (\u0938\u093e\u092e\u093e\u0928\u094d\u092f)"}),(0,Hr.jsx)("option",{value:"OBC",children:"OBC (\u0905\u0928\u094d\u092f \u092a\u093f\u091b\u0921\u093c\u093e \u0935\u0930\u094d\u0917)"}),(0,Hr.jsx)("option",{value:"SC",children:"SC (\u0905\u0928\u0941\u0938\u0942\u091a\u093f\u0924 \u091c\u093e\u0924\u093f)"}),(0,Hr.jsx)("option",{value:"ST",children:"ST (\u0905\u0928\u0941\u0938\u0942\u091a\u093f\u0924 \u091c\u0928\u091c\u093e\u0924\u093f)"}),(0,Hr.jsx)("option",{value:"EWS",children:"EWS (\u0906\u0930\u094d\u0925\u093f\u0915 \u0915\u092e\u091c\u094b\u0930)"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Sub-Caste (\u0909\u092a \u091c\u093e\u0924\u093f)"}),(0,Hr.jsx)(Lo,{name:"sub_caste",value:Le.sub_caste,onChange:nt,placeholder:"Sub-caste"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Religion (\u0927\u0930\u094d\u092e)"}),(0,Hr.jsxs)("select",{name:"religion",value:Le.religion,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select Religion"}),(0,Hr.jsx)("option",{value:"Hindu",children:"Hindu (\u0939\u093f\u0928\u094d\u0926\u0942)"}),(0,Hr.jsx)("option",{value:"Muslim",children:"Muslim (\u092e\u0941\u0938\u094d\u0932\u093f\u092e)"}),(0,Hr.jsx)("option",{value:"Christian",children:"Christian (\u0908\u0938\u093e\u0908)"}),(0,Hr.jsx)("option",{value:"Sikh",children:"Sikh (\u0938\u093f\u0916)"}),(0,Hr.jsx)("option",{value:"Buddhist",children:"Buddhist (\u092c\u094c\u0926\u094d\u0927)"}),(0,Hr.jsx)("option",{value:"Jain",children:"Jain (\u091c\u0948\u0928)"}),(0,Hr.jsx)("option",{value:"Other",children:"Other (\u0905\u0928\u094d\u092f)"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Category (\u0935\u0930\u094d\u0917)"}),(0,Hr.jsxs)("select",{name:"category",value:Le.category,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"APL",children:"APL (\u0917\u0930\u0940\u092c\u0940 \u0930\u0947\u0916\u093e \u0938\u0947 \u090a\u092a\u0930)"}),(0,Hr.jsx)("option",{value:"BPL",children:"BPL (\u0917\u0930\u0940\u092c\u0940 \u0930\u0947\u0916\u093e \u0938\u0947 \u0928\u0940\u091a\u0947)"}),(0,Hr.jsx)("option",{value:"EWS",children:"EWS (\u0906\u0930\u094d\u0925\u093f\u0915 \u0915\u092e\u091c\u094b\u0930)"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Mother Tongue (\u092e\u093e\u0924\u0943\u092d\u093e\u0937\u093e)"}),(0,Hr.jsxs)("select",{name:"mother_tongue",value:Le.mother_tongue,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"Hindi",children:"Hindi (\u0939\u093f\u0928\u094d\u0926\u0940)"}),(0,Hr.jsx)("option",{value:"English",children:"English (\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940)"}),(0,Hr.jsx)("option",{value:"Marathi",children:"Marathi (\u092e\u0930\u093e\u0920\u0940)"}),(0,Hr.jsx)("option",{value:"Gujarati",children:"Gujarati (\u0917\u0941\u091c\u0930\u093e\u0924\u0940)"}),(0,Hr.jsx)("option",{value:"Punjabi",children:"Punjabi (\u092a\u0902\u091c\u093e\u092c\u0940)"}),(0,Hr.jsx)("option",{value:"Bengali",children:"Bengali (\u092c\u0902\u0917\u093e\u0932\u0940)"}),(0,Hr.jsx)("option",{value:"Urdu",children:"Urdu (\u0909\u0930\u094d\u0926\u0942)"}),(0,Hr.jsx)("option",{value:"Other",children:"Other (\u0905\u0928\u094d\u092f)"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Nationality (\u0930\u093e\u0937\u094d\u091f\u094d\u0930\u0940\u092f\u0924\u093e)"}),(0,Hr.jsx)(Lo,{name:"nationality",value:Le.nationality,onChange:nt,placeholder:"Indian"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 col-span-2",children:[(0,Hr.jsx)("input",{type:"checkbox",id:"rte_status",name:"rte_status",checked:Le.rte_status,onChange:e=>Fe(d(d({},Le),{},{rte_status:e.target.checked})),className:"w-4 h-4"}),(0,Hr.jsx)(Wo,{htmlFor:"rte_status",children:"RTE Admission (\u0936\u093f\u0915\u094d\u0937\u093e \u0915\u093e \u0905\u0927\u093f\u0915\u093e\u0930)"})]})]})]})]}),"family"===Ie&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-slate-800 border-b pb-2",children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66 Family Information (\u092a\u0930\u093f\u0935\u093e\u0930 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)"}),(0,Hr.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-blue-800 mb-3",children:"\ud83d\udc68 Father Details (\u092a\u093f\u0924\u093e \u0915\u0940 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Wo,{children:[a("father_name")," *"]}),(0,Hr.jsx)(Lo,{name:"father_name",value:Le.father_name,onChange:nt,required:!0,placeholder:"Father Full Name","data-testid":"father-name-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Occupation (\u0935\u094d\u092f\u0935\u0938\u093e\u092f)"}),(0,Hr.jsxs)("select",{name:"father_occupation",value:Le.father_occupation,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"Government Job",children:"Government Job (\u0938\u0930\u0915\u093e\u0930\u0940 \u0928\u094c\u0915\u0930\u0940)"}),(0,Hr.jsx)("option",{value:"Private Job",children:"Private Job (\u092a\u094d\u0930\u093e\u0907\u0935\u0947\u091f \u0928\u094c\u0915\u0930\u0940)"}),(0,Hr.jsx)("option",{value:"Business",children:"Business (\u0935\u094d\u092f\u093e\u092a\u093e\u0930)"}),(0,Hr.jsx)("option",{value:"Farmer",children:"Farmer (\u0915\u093f\u0938\u093e\u0928)"}),(0,Hr.jsx)("option",{value:"Daily Wage",children:"Daily Wage (\u0926\u0948\u0928\u093f\u0915 \u092e\u091c\u0926\u0942\u0930)"}),(0,Hr.jsx)("option",{value:"Self Employed",children:"Self Employed (\u0938\u094d\u0935\u0930\u094b\u091c\u0917\u093e\u0930)"}),(0,Hr.jsx)("option",{value:"Other",children:"Other (\u0905\u0928\u094d\u092f)"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Qualification (\u0936\u093f\u0915\u094d\u0937\u093e)"}),(0,Hr.jsxs)("select",{name:"father_qualification",value:Le.father_qualification,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"Below 10th",children:"Below 10th"}),(0,Hr.jsx)("option",{value:"10th Pass",children:"10th Pass"}),(0,Hr.jsx)("option",{value:"12th Pass",children:"12th Pass"}),(0,Hr.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,Hr.jsx)("option",{value:"Post Graduate",children:"Post Graduate"}),(0,Hr.jsx)("option",{value:"Professional",children:"Professional Degree"}),(0,Hr.jsx)("option",{value:"Illiterate",children:"Illiterate (\u0905\u0936\u093f\u0915\u094d\u0937\u093f\u0924)"})]})]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-pink-50 rounded-lg border border-pink-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-pink-800 mb-3",children:"\ud83d\udc69 Mother Details (\u092e\u093e\u0924\u093e \u0915\u0940 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Wo,{children:[a("mother_name")," *"]}),(0,Hr.jsx)(Lo,{name:"mother_name",value:Le.mother_name,onChange:nt,required:!0,placeholder:"Mother Full Name","data-testid":"mother-name-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Occupation (\u0935\u094d\u092f\u0935\u0938\u093e\u092f)"}),(0,Hr.jsxs)("select",{name:"mother_occupation",value:Le.mother_occupation,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"Housewife",children:"Housewife (\u0917\u0943\u0939\u093f\u0923\u0940)"}),(0,Hr.jsx)("option",{value:"Government Job",children:"Government Job"}),(0,Hr.jsx)("option",{value:"Private Job",children:"Private Job"}),(0,Hr.jsx)("option",{value:"Business",children:"Business"}),(0,Hr.jsx)("option",{value:"Teacher",children:"Teacher (\u0936\u093f\u0915\u094d\u0937\u0915)"}),(0,Hr.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Qualification (\u0936\u093f\u0915\u094d\u0937\u093e)"}),(0,Hr.jsxs)("select",{name:"mother_qualification",value:Le.mother_qualification,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"Below 10th",children:"Below 10th"}),(0,Hr.jsx)("option",{value:"10th Pass",children:"10th Pass"}),(0,Hr.jsx)("option",{value:"12th Pass",children:"12th Pass"}),(0,Hr.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,Hr.jsx)("option",{value:"Post Graduate",children:"Post Graduate"}),(0,Hr.jsx)("option",{value:"Illiterate",children:"Illiterate"})]})]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-amber-800 mb-3",children:"\ud83e\uddd3 Guardian Details (if different from parents)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Guardian Name"}),(0,Hr.jsx)(Lo,{name:"guardian_name",value:Le.guardian_name,onChange:nt,placeholder:"Guardian's Full Name"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Relation (\u0930\u093f\u0936\u094d\u0924\u093e)"}),(0,Hr.jsxs)("select",{name:"guardian_relation",value:Le.guardian_relation,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"Grandfather",children:"Grandfather (\u0926\u093e\u0926\u093e/\u0928\u093e\u0928\u093e)"}),(0,Hr.jsx)("option",{value:"Grandmother",children:"Grandmother (\u0926\u093e\u0926\u0940/\u0928\u093e\u0928\u0940)"}),(0,Hr.jsx)("option",{value:"Uncle",children:"Uncle (\u091a\u093e\u091a\u093e/\u092e\u093e\u092e\u093e)"}),(0,Hr.jsx)("option",{value:"Aunt",children:"Aunt (\u091a\u093e\u091a\u0940/\u092e\u093e\u092e\u0940)"}),(0,Hr.jsx)("option",{value:"Brother",children:"Brother (\u092d\u093e\u0908)"}),(0,Hr.jsx)("option",{value:"Sister",children:"Sister (\u092c\u0939\u0928)"}),(0,Hr.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Guardian Mobile"}),(0,Hr.jsx)(Lo,{name:"guardian_mobile",value:Le.guardian_mobile,onChange:nt,placeholder:"10 digit mobile"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Guardian Occupation"}),(0,Hr.jsx)(Lo,{name:"guardian_occupation",value:Le.guardian_occupation,onChange:nt,placeholder:"\u0935\u094d\u092f\u0935\u0938\u093e\u092f"})]})]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Annual Family Income (\u0935\u093e\u0930\u094d\u0937\u093f\u0915 \u0906\u092f)"}),(0,Hr.jsxs)("select",{name:"annual_income",value:Le.annual_income,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"Below 1 Lakh",children:"Below \u20b91 Lakh"}),(0,Hr.jsx)("option",{value:"1-2.5 Lakh",children:"\u20b91 - 2.5 Lakh"}),(0,Hr.jsx)("option",{value:"2.5-5 Lakh",children:"\u20b92.5 - 5 Lakh"}),(0,Hr.jsx)("option",{value:"5-10 Lakh",children:"\u20b95 - 10 Lakh"}),(0,Hr.jsx)("option",{value:"Above 10 Lakh",children:"Above \u20b910 Lakh"})]})]})}),(0,Hr.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200 mt-4",children:[(0,Hr.jsx)("h4",{className:"font-medium text-green-800 mb-3",children:"\ud83d\udcde Contact Information (\u0938\u0902\u092a\u0930\u094d\u0915 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Primary Mobile * (for login)"}),(0,Hr.jsx)(Lo,{name:"mobile",value:Le.mobile,onChange:nt,required:!0,placeholder:"Parent's mobile for OTP","data-testid":"mobile-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Secondary Phone (ID Card)"}),(0,Hr.jsx)(Lo,{name:"parent_phone",value:Le.parent_phone,onChange:nt,placeholder:"Alternate number","data-testid":"parent-phone-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Email"}),(0,Hr.jsx)(Lo,{name:"email",type:"email",value:Le.email,onChange:nt,placeholder:"Optional"})]}),(0,Hr.jsxs)("div",{className:"space-y-2 col-span-2 md:col-span-3",children:[(0,Hr.jsxs)(Wo,{children:[a("address")," *"]}),(0,Hr.jsx)(Lo,{name:"address",value:Le.address,onChange:nt,required:!0,placeholder:"Full Address","data-testid":"address-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Emergency Contact Name"}),(0,Hr.jsx)(Lo,{name:"emergency_contact_name",value:Le.emergency_contact_name,onChange:nt,placeholder:"Emergency person name"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Emergency Contact Number"}),(0,Hr.jsx)(Lo,{name:"emergency_contact",value:Le.emergency_contact,onChange:nt,placeholder:"Emergency mobile"})]})]})]})]}),"bank"===Ie&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-slate-800 border-b pb-2",children:"\ud83c\udfe6 Bank Details (\u091b\u093e\u0924\u094d\u0930\u0935\u0943\u0924\u094d\u0924\u093f \u0915\u0947 \u0932\u093f\u090f)"}),(0,Hr.jsx)("p",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:"\ud83d\udca1 Scholarship \u0914\u0930 government benefits \u0915\u0947 \u0932\u093f\u090f bank details \u091c\u0930\u0942\u0930\u0940 \u0939\u0948\u0902"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Bank Name"}),(0,Hr.jsx)(Lo,{name:"bank_name",value:Le.bank_name,onChange:nt,placeholder:"State Bank of India"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Account Number"}),(0,Hr.jsx)(Lo,{name:"bank_account_no",value:Le.bank_account_no,onChange:nt,placeholder:"Account Number"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"IFSC Code"}),(0,Hr.jsx)(Lo,{name:"ifsc_code",value:Le.ifsc_code,onChange:nt,placeholder:"SBIN0001234"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Branch Name"}),(0,Hr.jsx)(Lo,{name:"bank_branch",value:Le.bank_branch,onChange:nt,placeholder:"Branch Name"})]})]})]}),"other"===Ie&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsxs)("div",{className:"p-4 bg-teal-50 rounded-lg border border-teal-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-teal-800 mb-3",children:"\ud83d\ude8c Transport Details (\u092a\u0930\u093f\u0935\u0939\u0928)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Transport Mode"}),(0,Hr.jsxs)("select",{name:"transport_mode",value:Le.transport_mode,onChange:nt,className:"w-full h-10 rounded-lg border border-slate-200 px-3 text-sm",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"School Bus",children:"School Bus"}),(0,Hr.jsx)("option",{value:"Private Vehicle",children:"Private Vehicle"}),(0,Hr.jsx)("option",{value:"Walking",children:"Walking"}),(0,Hr.jsx)("option",{value:"Bicycle",children:"Bicycle"}),(0,Hr.jsx)("option",{value:"Auto/Rickshaw",children:"Auto/Rickshaw"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Bus Route"}),(0,Hr.jsx)(Lo,{name:"bus_route",value:Le.bus_route,onChange:nt,placeholder:"Route No.",className:"h-10"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Bus Stop"}),(0,Hr.jsx)(Lo,{name:"bus_stop",value:Le.bus_stop,onChange:nt,placeholder:"Stop Name",className:"h-10"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 pt-6",children:[(0,Hr.jsx)("input",{type:"checkbox",id:"is_hosteler",name:"is_hosteler",checked:Le.is_hosteler,onChange:e=>Fe(d(d({},Le),{},{is_hosteler:e.target.checked})),className:"w-4 h-4"}),(0,Hr.jsx)(Wo,{htmlFor:"is_hosteler",children:"Hostel Student"})]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-red-800 mb-3",children:"\ud83c\udfe5 Medical Information"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Medical Conditions (\u092c\u0940\u092e\u093e\u0930\u093f\u092f\u093e\u0901)"}),(0,Hr.jsx)(Lo,{name:"medical_conditions",value:Le.medical_conditions,onChange:nt,placeholder:"Asthma, Diabetes, etc."})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Allergies (\u090f\u0932\u0930\u094d\u091c\u0940)"}),(0,Hr.jsx)(Lo,{name:"allergies",value:Le.allergies,onChange:nt,placeholder:"Food/medicine allergies"})]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-purple-800 mb-3",children:"\ud83d\udcda Previous Education (\u092a\u0942\u0930\u094d\u0935 \u0936\u093f\u0915\u094d\u0937\u093e)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,Hr.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,Hr.jsx)(Wo,{children:"Previous School"}),(0,Hr.jsx)(Lo,{name:"previous_school",value:Le.previous_school,onChange:nt,placeholder:"School name","data-testid":"prev-school-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Previous Class"}),(0,Hr.jsx)(Lo,{name:"previous_class",value:Le.previous_class,onChange:nt,placeholder:"Last class"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"TC Number"}),(0,Hr.jsx)(Lo,{name:"tc_number",value:Le.tc_number,onChange:nt,placeholder:"TC/LC No."})]})]})]})]}),"documents"===Ie&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-slate-800 border-b pb-2",children:"\ud83d\udcc4 Documents Upload (\u0926\u0938\u094d\u0924\u093e\u0935\u0947\u091c\u093c \u0905\u092a\u0932\u094b\u0921)"}),(0,Hr.jsx)("p",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:"\ud83d\udca1 Scholarship \u0914\u0930 government benefits \u0915\u0947 \u0932\u093f\u090f documents \u091c\u0930\u0942\u0930\u0940 \u0939\u0948\u0902\u0964 Admission \u0915\u0947 \u092c\u093e\u0926 \u092d\u0940 upload \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964"}),R?(0,Hr.jsx)(ry,{personId:R.id,personType:"student",schoolId:s,existingDocuments:[]}):(0,Hr.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[(0,Hr.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcc1"}),(0,Hr.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Documents \u092c\u093e\u0926 \u092e\u0947\u0902 Upload \u0915\u0930\u0947\u0902"}),(0,Hr.jsx)("p",{className:"text-sm text-blue-600",children:"Student admission complete \u0939\u094b\u0928\u0947 \u0915\u0947 \u092c\u093e\u0926 Edit \u0915\u0930\u0915\u0947 documents upload \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964"})]}),(0,Hr.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Hr.jsx)("h4",{className:"font-medium text-slate-700 mb-3",children:"\ud83d\udccb Required Documents Checklist:"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{icon:"\ud83d\udcc4",name:"Birth Certificate (\u091c\u0928\u094d\u092e \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930)"},{icon:"\ud83c\udd94",name:"Aadhar Card (\u0906\u0927\u093e\u0930 \u0915\u093e\u0930\u094d\u0921)"},{icon:"\ud83d\udccb",name:"Transfer Certificate (TC)"},{icon:"\ud83d\udcca",name:"Previous Marksheet"},{icon:"\ud83d\udcdc",name:"Caste Certificate (\u091c\u093e\u0924\u093f \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930)"},{icon:"\ud83d\udcb0",name:"Income Certificate (\u0906\u092f \u092a\u094d\u0930\u092e\u093e\u0923 \u092a\u0924\u094d\u0930)"},{icon:"\ud83c\udfe0",name:"Domicile Certificate"},{icon:"\ud83d\udcf7",name:"Passport Photo"},{icon:"\ud83d\udc68",name:"Father Aadhar (\u092a\u093f\u0924\u093e \u0915\u093e \u0906\u0927\u093e\u0930)"},{icon:"\ud83d\udc69",name:"Mother Aadhar (\u092e\u093e\u0924\u093e \u0915\u093e \u0906\u0927\u093e\u0930)"},{icon:"\ud83c\udfab",name:"BPL Card (\u092f\u0926\u093f \u0932\u093e\u0917\u0942 \u0939\u094b)"},{icon:"\ud83c\udfe6",name:"Bank Passbook (\u091b\u093e\u0924\u094d\u0930\u0935\u0943\u0924\u094d\u0924\u093f \u0915\u0947 \u0932\u093f\u090f)"}].map((e,t)=>(0,Hr.jsxs)("div",{className:"flex items-center gap-2 text-sm p-2 bg-slate-50 rounded",children:[(0,Hr.jsx)("span",{children:e.icon}),(0,Hr.jsx)("span",{className:"text-slate-600",children:e.name})]},t))})]})]}),!R&&(0,Hr.jsxs)("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[(0,Hr.jsxs)(Wo,{className:"text-base font-semibold flex items-center gap-2 mb-3",children:[(0,Hr.jsx)(Eh,{className:"w-5 h-5 text-blue-600"}),"Student Photo (AI Attendance \u0915\u0947 \u0932\u093f\u090f) - Optional"]}),!Ce&&!Pe&&(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsx)(Io,{type:"button",variant:"outline",className:"flex-1 border-blue-200 text-blue-700 hover:bg-blue-50 h-20",onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480}});Me(e),Ae(!0),De.current&&(De.current.srcObject=e)}catch(Jk){Qt.error("Camera access denied. Please allow camera permission.")}},"data-testid":"open-camera-btn",children:(0,Hr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Hr.jsx)(Eh,{className:"w-6 h-6 mb-1"}),(0,Hr.jsx)("span",{children:"\ud83d\udcf7 Camera \u0938\u0947 Capture"})]})}),(0,Hr.jsxs)("label",{className:"flex-1",children:[(0,Hr.jsxs)("div",{className:"flex flex-col items-center justify-center border-2 border-dashed border-slate-300 rounded-lg h-20 cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all",children:[(0,Hr.jsx)(Ph,{className:"w-6 h-6 text-slate-400 mb-1"}),(0,Hr.jsx)("span",{className:"text-sm text-slate-600",children:"\ud83d\udcc1 Photo Upload"})]}),(0,Hr.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void Qt.error("File size should be less than 5MB");const e=new FileReader;e.onload=e=>{Ee(e.target.result),Qt.success("Photo uploaded! \ud83d\udcf8")},e.readAsDataURL(t)}},"data-testid":"photo-upload-input"})]})]}),Pe&&(0,Hr.jsxs)("div",{className:"relative bg-black rounded-xl overflow-hidden",children:[(0,Hr.jsx)("video",{ref:De,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover"}),(0,Hr.jsx)("canvas",{ref:Re,className:"hidden"}),(0,Hr.jsxs)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-3",children:[(0,Hr.jsxs)(Io,{type:"button",onClick:()=>{if(De.current&&Re.current){const e=De.current,t=Re.current;t.width=e.videoWidth,t.height=e.videoHeight;t.getContext("2d").drawImage(e,0,0);const a=t.toDataURL("image/jpeg",.8);Ee(a),Xe(),Qt.success("Photo captured! \ud83d\udcf8")}},className:"bg-white text-blue-600 hover:bg-blue-50","data-testid":"capture-btn",children:[(0,Hr.jsx)(Eh,{className:"w-5 h-5 mr-2"}),"Capture"]}),(0,Hr.jsxs)(Io,{type:"button",variant:"outline",onClick:Xe,className:"bg-white/80 text-red-600 border-red-300",children:[(0,Hr.jsx)(zu,{className:"w-5 h-5 mr-2"}),"Cancel"]})]})]}),Ce&&(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)("img",{src:Ce,alt:"Captured",className:"w-full h-48 object-cover rounded-xl border-2 border-emerald-500"}),(0,Hr.jsx)("div",{className:"absolute top-2 right-2 flex gap-2",children:(0,Hr.jsxs)(Io,{type:"button",size:"sm",variant:"outline",className:"bg-white/90 text-red-600 border-red-300 hover:bg-red-50",onClick:()=>{Ee(null)},children:[(0,Hr.jsx)(zu,{className:"w-4 h-4 mr-1"}),"Remove"]})}),(0,Hr.jsxs)("div",{className:"absolute bottom-2 left-2 bg-emerald-500 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[(0,Hr.jsx)(Ah,{className:"w-4 h-4"}),"Photo Ready"]})]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"* Photo optional hai\u0964 \u092c\u093e\u0926 \u092e\u0947\u0902 student profile \u0938\u0947 \u092d\u0940 add \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964"})]}),!R&&(0,Hr.jsxs)("div",{className:"border-t border-slate-200 pt-4 mt-2",children:[(0,Hr.jsxs)(Wo,{className:"text-base font-semibold flex items-center gap-2 mb-3",children:[(0,Hr.jsx)(sl,{className:"w-5 h-5 text-emerald-600"}),"Biometric Enrollment (Fingerprint) - Optional"]}),(0,Hr.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(sl,{className:"w-8 h-8 text-emerald-600"})}),(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-700 font-medium",children:"Fingerprint Registration"}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Biometric device \u0938\u0947 fingerprint register \u0915\u0930\u0947\u0902\u0964 Student admission \u0915\u0947 \u092c\u093e\u0926 Biometric section \u0938\u0947 \u092d\u0940 \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964"})]})]}),(0,Hr.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,Hr.jsx)("div",{className:"h-full w-0 bg-emerald-500 rounded-full"})}),(0,Hr.jsx)("span",{className:"text-xs text-slate-400",children:"Not enrolled"})]}),(0,Hr.jsxs)("p",{className:"text-xs text-amber-600 mt-2 flex items-center gap-1",children:[(0,Hr.jsx)(Th,{className:"w-3 h-3"}),"Biometric device connect \u0939\u094b\u0928\u0947 \u092a\u0930 \u0939\u0940 \u0915\u093e\u092e \u0915\u0930\u0947\u0917\u093e"]})]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"* Biometric optional \u0939\u0948\u0964 \u092c\u093e\u0926 \u092e\u0947\u0902 Biometric section \u0938\u0947 enroll \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964"})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Hr.jsx)(Io,{type:"button",variant:"outline",onClick:()=>b(!1),children:a("cancel")}),(0,Hr.jsxs)(Io,{type:"submit",className:"btn-primary",disabled:z,"data-testid":"save-student-btn",children:[z?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):null,R?a("save"):"Admit Student"]})]})]})]})]})]})]}),(0,Hr.jsx)(Gu,{open:y,onOpenChange:j,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsxs)(Xu,{className:"text-emerald-600 flex items-center gap-2",children:[(0,Hr.jsx)(Ah,{className:"w-6 h-6"}),"Admission Successful!"]}),(0,Hr.jsx)(Zu,{children:"Student \u0915\u0947 login credentials \u0928\u0940\u091a\u0947 \u0926\u093f\u090f \u0917\u090f \u0939\u0948\u0902\u0964 \u0907\u0928\u094d\u0939\u0947\u0902 Parent \u0915\u094b share \u0915\u0930\u0947\u0902\u0964"})]}),F&&(0,Hr.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,Hr.jsxs)("div",{className:"p-4 bg-emerald-50 border border-emerald-200 rounded-xl",children:[(0,Hr.jsx)("p",{className:"text-lg font-semibold text-emerald-800",children:F.name}),(0,Hr.jsxs)("p",{className:"text-sm text-emerald-600",children:[F.class_name," - ",F.section]})]}),(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:"Student ID / Login ID"}),(0,Hr.jsx)("p",{className:"font-mono font-bold text-lg",children:F.student_id})]}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:()=>rt(F.student_id,"id"),children:"id"===q?(0,Hr.jsx)(Ah,{className:"w-4 h-4 text-emerald-500"}):(0,Hr.jsx)(Mh,{className:"w-4 h-4"})})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg border border-amber-200",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-xs text-amber-600",children:"Temporary Password"}),(0,Hr.jsx)("p",{className:"font-mono font-bold text-lg",children:F.temporary_password})]}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:()=>rt(F.temporary_password,"pass"),children:"pass"===q?(0,Hr.jsx)(Ah,{className:"w-4 h-4 text-emerald-500"}):(0,Hr.jsx)(Mh,{className:"w-4 h-4"})})]})]}),(0,Hr.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-700",children:[(0,Hr.jsx)("p",{className:"font-medium",children:"\u26a0\ufe0f Important:"}),(0,Hr.jsxs)("ul",{className:"list-disc ml-4 mt-1 space-y-1",children:[(0,Hr.jsx)("li",{children:"\u092f\u0939 password \u0938\u093f\u0930\u094d\u092b \u090f\u0915 \u092c\u093e\u0930 \u0926\u093f\u0916\u0947\u0917\u093e"}),(0,Hr.jsx)("li",{children:"First login \u092a\u0930 password change \u0915\u0930\u0928\u093e mandatory \u0939\u0948"}),(0,Hr.jsx)("li",{children:"Parent \u0915\u094b Mobile + DOB \u0938\u0947 \u092d\u0940 login \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902"})]})]}),(0,Hr.jsxs)(Io,{className:"w-full btn-primary",onClick:()=>{const e="Student ID: ".concat(F.student_id,"\nPassword: ").concat(F.temporary_password);rt(e,"all")},children:[(0,Hr.jsx)(Mh,{className:"w-4 h-4 mr-2"}),"Copy All Credentials"]}),(0,Hr.jsxs)("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[(0,Hr.jsxs)("p",{className:"text-sm text-slate-600 mb-3",children:["\ud83d\udcf8 ",(0,Hr.jsx)("strong",{children:"Face Enrollment"})," - AI attendance ke liye photos add karein (Optional)"]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsx)(Io,{variant:"outline",className:"flex-1 border-indigo-200 text-indigo-700 hover:bg-indigo-50",onClick:()=>{j(!1),S(!0)},"data-testid":"capture-photos-btn",children:"\ud83d\udcf7 Capture Photos Now"}),(0,Hr.jsx)(Io,{variant:"ghost",className:"text-slate-500",onClick:()=>{Qt.info("Face enrollment skipped. Complete from student profile later."),j(!1)},"data-testid":"skip-face-btn",children:"Skip for Now"})]})]}),(0,Hr.jsxs)("div",{className:"border-t border-slate-200 pt-4 mt-2",children:[(0,Hr.jsxs)("p",{className:"text-sm text-slate-600 mb-3",children:["\ud83d\udc46 ",(0,Hr.jsx)("strong",{children:"Biometric Enrollment"})," - Fingerprint registration (Optional)"]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsx)(Io,{variant:"outline",className:"flex-1 border-emerald-200 text-emerald-700 hover:bg-emerald-50",onClick:()=>{Qt.info("Biometric device se connect karein aur fingerprint register karein."),window.location.href="/app/biometric?student_id=".concat(null===F||void 0===F?void 0:F.student_id,"&name=").concat(encodeURIComponent((null===F||void 0===F?void 0:F.name)||""))},"data-testid":"biometric-enroll-btn",children:"\ud83d\udc46 Enroll Biometric Now"}),(0,Hr.jsx)(Io,{variant:"ghost",className:"text-slate-500",onClick:()=>{Qt.info("Biometric enrollment skipped. Complete later from Biometric section.")},"data-testid":"skip-biometric-btn",children:"Skip"})]})]})]})]})}),(0,Hr.jsx)(Gu,{open:N,onOpenChange:w,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Th,{className:"w-5 h-5 text-amber-500"}),"Suspend Student"]}),(0,Hr.jsxs)(Zu,{children:[null===O||void 0===O?void 0:O.name," \u0915\u094b temporarily suspend \u0915\u0930\u0947\u0902"]})]}),(0,Hr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O){H(!0);try{const e=localStorage.getItem("token");await zr.post("".concat(ly,"/students/").concat(O.id,"/suspend?reason=").concat(Ke.reason,"&details=").concat(Ke.details),{},{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Student suspended"),w(!1),Ye({reason:"fees_pending",details:""}),L(null),$e()}catch(t){Qt.error("Failed to suspend student")}finally{H(!1)}}},className:"space-y-4 mt-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Reason *"}),(0,Hr.jsx)("select",{value:Ke.reason,onChange:e=>Ye(t=>d(d({},t),{},{reason:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",required:!0,children:Object.entries(Qe).map(e=>{let[t,a]=e;return(0,Hr.jsx)("option",{value:t,children:a},t)})})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Details"}),(0,Hr.jsx)(Lo,{value:Ke.details,onChange:e=>Ye(t=>d(d({},t),{},{details:e.target.value})),placeholder:"Additional details..."})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Hr.jsx)(Io,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{type:"submit",className:"bg-amber-600 hover:bg-amber-700",disabled:z,children:[z?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):null,"Suspend Student"]})]})]})]})}),(0,Hr.jsxs)("div",{className:"flex gap-4",style:{height:"calc(100vh - 220px)",minHeight:"500px"},children:[(0,Hr.jsxs)("div",{className:"w-2/5 flex flex-col bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"p-3 border-b border-gray-100 space-y-2",children:[(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,Hr.jsx)(Lo,{placeholder:"Search by name or ID...",value:p,onChange:e=>x(e.target.value),className:"pl-9 h-9 text-sm","data-testid":"search-input"})]}),(0,Hr.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"w-full h-9 rounded-lg border border-slate-200 px-3 text-sm","data-testid":"filter-class",children:[(0,Hr.jsx)("option",{value:"",children:"All Classes"}),c.map(e=>(0,Hr.jsxs)("option",{value:e.id,children:[e.name,e.section&&"A"!==e.section?" - ".concat(e.section):""]},e.id))]})]}),(0,Hr.jsxs)(wh,{defaultValue:"active",className:"flex-1 flex flex-col overflow-hidden",children:[(0,Hr.jsxs)(kh,{className:"mx-3 mt-2 shrink-0",children:[(0,Hr.jsxs)(Sh,{value:"active",className:"text-xs gap-1",children:[(0,Hr.jsx)(Rh,{className:"w-3.5 h-3.5"}),"Active (",r.length,")"]}),(0,Hr.jsxs)(Sh,{value:"suspended",className:"text-xs gap-1",children:[(0,Hr.jsx)(Ih,{className:"w-3.5 h-3.5"}),"Suspended (",i.length,")"]})]}),(0,Hr.jsx)(_h,{value:"active",className:"flex-1 overflow-y-auto p-2 mt-0",children:m?(0,Hr.jsx)("div",{className:"flex justify-center py-10",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-blue-500"})}):0===r.length?(0,Hr.jsxs)("div",{className:"text-center py-10",children:[(0,Hr.jsx)(Rh,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),(0,Hr.jsx)("p",{className:"text-sm text-slate-400",children:a("no_data")})]}):(0,Hr.jsx)("div",{className:"space-y-1",children:r.map(e=>(0,Hr.jsxs)("div",{onClick:()=>_e(e),className:"flex items-center gap-3 p-2.5 rounded-xl cursor-pointer transition-all group ".concat((null===Se||void 0===Se?void 0:Se.id)===e.id?"bg-blue-50 border-2 border-blue-400 shadow-sm":"border-2 border-transparent hover:bg-slate-50 hover:border-blue-200"),"data-testid":"student-row-".concat(e.id),children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-slate-100 border border-slate-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:e.photo_url?(0,Hr.jsx)("img",{src:e.photo_url,alt:"",className:"w-full h-full object-cover"}):(0,Hr.jsx)(Rh,{className:"w-5 h-5 text-slate-400"})}),(0,Hr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-900 truncate",children:e.name}),(0,Hr.jsxs)("p",{className:"text-xs text-slate-500 truncate",children:[e.class_name,e.section&&"A"!==e.section?" - ".concat(e.section):""," ",e.father_name?"| ".concat(e.father_name):""]})]}),(0,Hr.jsxs)("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:[(0,Hr.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium ".concat("active"===e.status?"bg-emerald-100 text-emerald-700":"suspended"===e.status?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:e.status}),(0,Hr.jsxs)(rb,{children:[(0,Hr.jsx)(lb,{asChild:!0,children:(0,Hr.jsx)("button",{className:"p-1 rounded hover:bg-slate-200 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>e.stopPropagation(),children:(0,Hr.jsx)(Oh,{className:"w-3.5 h-3.5 text-slate-400"})})}),(0,Hr.jsxs)(ib,{align:"end",children:[(0,Hr.jsxs)(ob,{onClick:()=>(e=>{je(e),be(!0)})(e),children:[(0,Hr.jsx)(xl,{className:"w-4 h-4 mr-2 text-blue-600"}),"View Full Profile"]}),(0,Hr.jsxs)(ob,{onClick:()=>at(e),children:[(0,Hr.jsx)(Lh,{className:"w-4 h-4 mr-2"}),"Edit Details"]}),(0,Hr.jsxs)(ob,{onClick:()=>{T(e),C(!0)},children:[(0,Hr.jsx)(Fh,{className:"w-4 h-4 mr-2 text-blue-600"}),"View ID Card"]}),(0,Hr.jsxs)(ob,{onClick:()=>Ze(e),children:[(0,Hr.jsx)(Bh,{className:"w-4 h-4 mr-2 text-purple-600"}),"Share Login Details"]}),(0,Hr.jsxs)(ob,{onClick:()=>{B({student_id:e.student_id||e.id,name:e.name}),S(!0)},children:[(0,Hr.jsx)(Eh,{className:"w-4 h-4 mr-2 text-emerald-600"}),"Face Enrollment"]}),(0,Hr.jsx)(cb,{}),(0,Hr.jsxs)(ob,{onClick:()=>(e=>{L(e),w(!0)})(e),children:[(0,Hr.jsx)(Ih,{className:"w-4 h-4 mr-2 text-amber-500"}),"Suspend"]}),["director","principal"].includes(null===n||void 0===n?void 0:n.role)&&(0,Hr.jsxs)(ob,{onClick:()=>(async e=>{const t=window.prompt("Left reason (e.g., Transfer, TC Issued):");if(t)try{const a=localStorage.getItem("token");await zr.post("".concat(ly,"/students/").concat(e,"/mark-left?reason=").concat(encodeURIComponent(t)),{},{headers:{Authorization:"Bearer ".concat(a)}}),Qt.success("Student marked as left"),$e()}catch(a){Qt.error("Failed to update student")}})(e.id),className:"text-rose-600",children:[(0,Hr.jsx)(zh,{className:"w-4 h-4 mr-2"}),"Mark as Left (TC)"]}),("director"===(null===n||void 0===n?void 0:n.role)||"admin"===(null===n||void 0===n?void 0:n.role))&&(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(cb,{}),(0,Hr.jsxs)(ob,{onClick:()=>(e=>{ie(e),ce(""),re(!0)})(e),className:"text-red-600 bg-red-50 hover:bg-red-100",children:[(0,Hr.jsx)(Hh,{className:"w-4 h-4 mr-2"}),"Delete Permanently"]})]})]})]})]})]},e.id))})}),(0,Hr.jsx)(_h,{value:"suspended",className:"flex-1 overflow-y-auto p-2 mt-0",children:0===i.length?(0,Hr.jsxs)("div",{className:"text-center py-10",children:[(0,Hr.jsx)(Ih,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),(0,Hr.jsx)("p",{className:"text-sm text-slate-400",children:"No suspended students"})]}):(0,Hr.jsx)("div",{className:"space-y-1",children:i.map(e=>(0,Hr.jsxs)("div",{onClick:()=>_e(e),className:"flex items-center gap-3 p-2.5 rounded-xl cursor-pointer transition-all group ".concat((null===Se||void 0===Se?void 0:Se.id)===e.id?"bg-amber-50 border-2 border-amber-400 shadow-sm":"border-2 border-transparent hover:bg-amber-50/50 hover:border-amber-200"),children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-amber-50 border border-amber-200 flex items-center justify-center overflow-hidden flex-shrink-0",children:e.photo_url?(0,Hr.jsx)("img",{src:e.photo_url,alt:"",className:"w-full h-full object-cover"}):(0,Hr.jsx)(Rh,{className:"w-5 h-5 text-amber-400"})}),(0,Hr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-900 truncate",children:e.name}),(0,Hr.jsxs)("p",{className:"text-xs text-amber-600 truncate",children:[e.class_name," | ",Qe[e.suspension_reason]||e.suspension_reason||"Suspended"]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,Hr.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium bg-amber-100 text-amber-700",children:"suspended"}),["director","principal"].includes(null===n||void 0===n?void 0:n.role)&&(0,Hr.jsxs)(Io,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs opacity-0 group-hover:opacity-100 transition-opacity",onClick:t=>{t.stopPropagation(),(async e=>{try{const t=localStorage.getItem("token");await zr.post("".concat(ly,"/students/").concat(e,"/unsuspend"),{},{headers:{Authorization:"Bearer ".concat(t)}}),Qt.success("Student unsuspended"),$e()}catch(t){Qt.error("Failed to unsuspend student")}})(e.id)},children:[(0,Hr.jsx)(qh,{className:"w-3 h-3 mr-1"}),"Unsuspend"]})]})]},e.id))})})]})]}),(0,Hr.jsx)("div",{className:"w-3/5 bg-white rounded-xl border border-gray-100 shadow-sm overflow-y-auto",children:Se?(0,Hr.jsxs)("div",{className:"p-6 space-y-5",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 rounded-xl p-6 border border-blue-100",children:(0,Hr.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Hr.jsx)("div",{className:"flex gap-4",children:(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("div",{className:"w-24 h-24 rounded-xl bg-white border-3 border-blue-300 shadow-lg flex items-center justify-center overflow-hidden",children:Se.photo_url?(0,Hr.jsx)("img",{src:Se.photo_url,alt:"",className:"w-full h-full object-cover"}):(0,Hr.jsx)(Rh,{className:"w-12 h-12 text-slate-300"})}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 mt-1.5 font-medium",children:"Profile Photo"})]})}),(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:Se.name}),(0,Hr.jsxs)("p",{className:"text-slate-500 mt-1",children:[Se.student_id||Se.admission_no," | ",Se.class_name,Se.section?" - ".concat(Se.section):""]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,Hr.jsx)("span",{className:"text-xs px-3 py-1 rounded-full font-semibold ".concat("active"===Se.status?"bg-emerald-100 text-emerald-700":"suspended"===Se.status?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:null===(e=Se.status)||void 0===e?void 0:e.toUpperCase()}),Se.blood_group&&(0,Hr.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-red-50 text-red-600 font-medium",children:Se.blood_group})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 mt-4 flex-wrap",children:[(0,Hr.jsxs)(Io,{size:"sm",className:"gap-1.5 h-8 text-xs",onClick:()=>tt(Se),children:[(0,Hr.jsx)(Ch,{className:"w-3.5 h-3.5"})," Print"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"gap-1.5 h-8 text-xs",onClick:()=>at(Se),children:[(0,Hr.jsx)(Lh,{className:"w-3.5 h-3.5"})," Edit"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"gap-1.5 h-8 text-xs text-blue-600",onClick:()=>{T(Se),C(!0)},children:[(0,Hr.jsx)(Fh,{className:"w-3.5 h-3.5"})," ID Card"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"gap-1.5 h-8 text-xs text-purple-600",onClick:()=>Ze(Se),children:[(0,Hr.jsx)(Bh,{className:"w-3.5 h-3.5"})," Credentials"]})]})]})]})}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-500 text-white font-semibold text-sm flex items-center gap-2",children:[(0,Hr.jsx)(Rh,{className:"w-4 h-4"})," Personal Information"]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100",children:[["Name",Se.name],["Student ID",Se.student_id||Se.admission_no],["Class",Se.class_name],["Section",Se.section||"A"],["Gender",Se.gender],["DOB",Se.dob],["Blood Group",Se.blood_group],["Admission Date",Se.admission_date],["Category",Se.category],["Caste",Se.caste],["Sub Caste",Se.sub_caste],["Religion",Se.religion],["Nationality",Se.nationality],["Mother Tongue",Se.mother_tongue],["Birth Place",Se.birth_place],["Identification Mark",Se.identification_mark],["RTE Status",Se.rte_status?"Yes":"No"],["Aadhar No",Se.aadhar_no],["Scholar No",Se.scholar_no],["PEN Number",Se.pen_number],["SSSMID",Se.sssmid],["Samagra Family ID",Se.samagra_family_id],["Jan Aadhar No",Se.jan_aadhar_no]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-400 mb-0.5",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"px-4 py-2.5 bg-gradient-to-r from-green-600 to-emerald-500 text-white font-semibold text-sm flex items-center gap-2",children:[(0,Hr.jsx)(tl,{className:"w-4 h-4"})," Family & Contact"]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100",children:[["Father Name",Se.father_name],["Father Occupation",Se.father_occupation],["Father Qualification",Se.father_qualification],["Mother Name",Se.mother_name],["Mother Occupation",Se.mother_occupation],["Mother Qualification",Se.mother_qualification],["Guardian Name",Se.guardian_name],["Guardian Relation",Se.guardian_relation],["Guardian Mobile",Se.guardian_mobile],["Guardian Occupation",Se.guardian_occupation],["Annual Income",Se.annual_income],["Mobile",Se.mobile],["Parent Phone",Se.parent_phone],["Email",Se.email],["Address",Se.address],["Emergency Contact",Se.emergency_contact],["Emergency Name",Se.emergency_contact_name]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-400 mb-0.5",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"px-4 py-2.5 bg-gradient-to-r from-teal-600 to-cyan-500 text-white font-semibold text-sm flex items-center gap-2",children:[(0,Hr.jsx)(nl,{className:"w-4 h-4"})," Bank Details (Scholarship)"]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100",children:[["Bank Name",Se.bank_name],["Account No",Se.bank_account_no],["IFSC Code",Se.ifsc_code],["Branch",Se.bank_branch]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-400 mb-0.5",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})}),![Se.bank_name,Se.bank_account_no].some(Boolean)&&(0,Hr.jsx)("div",{className:"bg-white p-3 text-center text-sm text-slate-400",children:"No bank details recorded"})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"px-4 py-2.5 bg-gradient-to-r from-orange-500 to-amber-500 text-white font-semibold text-sm flex items-center gap-2",children:[(0,Hr.jsx)(zl,{className:"w-4 h-4"})," Transport & Medical"]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100",children:[["Transport Mode",Se.transport_mode],["Bus Route",Se.bus_route],["Bus Stop",Se.bus_stop],["Pickup Point",Se.pickup_point],["Medical Conditions",Se.medical_conditions],["Allergies",Se.allergies]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-400 mb-0.5",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})}),![Se.transport_mode,Se.bus_route,Se.medical_conditions,Se.allergies].some(Boolean)&&(0,Hr.jsx)("div",{className:"bg-white p-3 text-center text-sm text-slate-400",children:"No transport or medical details recorded"})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-500 text-white font-semibold text-sm flex items-center gap-2",children:[(0,Hr.jsx)(cl,{className:"w-4 h-4"})," Previous Education"]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100",children:[["Previous School",Se.previous_school],["Previous Class",Se.previous_class],["Previous Percentage",Se.previous_percentage],["TC Number",Se.tc_number]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-400 mb-0.5",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})}),![Se.previous_school,Se.previous_class,Se.tc_number].some(Boolean)&&(0,Hr.jsx)("div",{className:"bg-white p-3 text-center text-sm text-slate-400",children:"No previous education details recorded"})]})]}):(0,Hr.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[(0,Hr.jsx)("div",{className:"w-20 h-20 rounded-full bg-slate-50 flex items-center justify-center mb-4",children:(0,Hr.jsx)(Rh,{className:"w-10 h-10 text-slate-300"})}),(0,Hr.jsx)("p",{className:"text-lg font-medium text-slate-500",children:"Select a student to view profile"}),(0,Hr.jsx)("p",{className:"text-sm mt-1 text-slate-400",children:"Click on any student from the left panel"})]})})]}),k&&F&&(0,Hr.jsx)($b,{isOpen:k,onClose:()=>S(!1),studentId:F.student_id,schoolId:s,studentName:F.name,onComplete:()=>{S(!1),Qt.success("Face enrollment completed!"),$e()},onSkip:()=>{S(!1),Qt.info("Face enrollment skipped. Complete later from profile.")}}),_&&A&&(0,Hr.jsx)(Xb,{isOpen:_,onClose:()=>{C(!1),T(null)},personId:A.student_id||A.id,personType:"student",schoolId:s,onPhotoUpload:()=>$e()}),(0,Hr.jsx)(Gu,{open:ne,onOpenChange:re,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-red-600",children:[(0,Hr.jsx)(Th,{className:"w-6 h-6"}),"\u26a0\ufe0f DANGER: Permanent Delete"]})}),le&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,Hr.jsx)("h4",{className:"font-bold text-red-800 mb-2",children:"\ud83d\udea8 \u092e\u0939\u0924\u094d\u0935\u092a\u0942\u0930\u094d\u0923 \u091a\u0947\u0924\u093e\u0935\u0928\u0940:"}),(0,Hr.jsxs)("ul",{className:"text-sm text-red-700 space-y-1 list-disc list-inside",children:[(0,Hr.jsx)("li",{children:"\u092f\u0939 action UNDO \u0928\u0939\u0940\u0902 \u0915\u093f\u092f\u093e \u091c\u093e \u0938\u0915\u0924\u093e"}),(0,Hr.jsx)("li",{children:"Student \u0915\u093e \u0938\u093e\u0930\u093e data \u0939\u092e\u0947\u0936\u093e \u0915\u0947 \u0932\u093f\u090f delete \u0939\u094b \u091c\u093e\u090f\u0917\u093e"}),(0,Hr.jsx)("li",{children:"Attendance, Fee records, Results \u0938\u092c delete \u0939\u094b \u091c\u093e\u090f\u0902\u0917\u0947"}),(0,Hr.jsx)("li",{children:"Face recognition data \u092d\u0940 delete \u0939\u094b \u091c\u093e\u090f\u0917\u093e"})]})]}),(0,Hr.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4",children:[(0,Hr.jsx)("p",{className:"font-medium text-lg",children:le.name}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-500",children:[le.student_id," \u2022 ",le.class_name||"Class N/A"]}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-500",children:["Father: ",le.father_name]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)("label",{className:"text-sm font-medium text-slate-700",children:["Confirm \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f ",(0,Hr.jsx)("span",{className:"text-red-600 font-bold",children:"DELETE"})," type \u0915\u0930\u0947\u0902:"]}),(0,Hr.jsx)(Lo,{value:oe,onChange:e=>ce(e.target.value.toUpperCase()),placeholder:"Type DELETE here",className:"border-red-200 focus:border-red-400"})]}),(0,Hr.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>re(!1),className:"flex-1",children:"Cancel (\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902)"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if("DELETE"===oe){ue(!0);try{const e=localStorage.getItem("token");await zr.delete("".concat(ly,"/students/").concat(le.id),{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Student data permanently deleted"),re(!1),ie(null),ce(""),$e()}catch(a){var e,t;Qt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to delete student")}finally{ue(!1)}}else Qt.error("Please type DELETE to confirm")},disabled:"DELETE"!==oe||de,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[de?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Hh,{className:"w-4 h-4 mr-2"}),"Delete Permanently"]})]})]})]})}),(0,Hr.jsx)(Gu,{open:ve,onOpenChange:be,children:(0,Hr.jsxs)($u,{className:"max-w-4xl max-h-[95vh] overflow-y-auto",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-xl",children:[(0,Hr.jsx)(Rh,{className:"w-6 h-6 text-blue-600"}),"Student Profile (\u0935\u093f\u0926\u094d\u092f\u093e\u0930\u094d\u0925\u0940 \u092a\u094d\u0930\u094b\u092b\u093c\u093e\u0907\u0932)"]})}),ye&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsx)("input",{type:"file",ref:ke,className:"hidden",accept:"image/jpeg,image/png,image/webp",onChange:e=>(async(e,t)=>{const a=e.target.files[0];if(!a)return;if(a.size>5242880)return void Qt.error("Photo size 5MB se kam honi chahiye");we(!0);const s=new FileReader;s.onload=async e=>{try{const a=localStorage.getItem("token"),s=await zr.post("".concat(ly,"/students/").concat(t,"/update-photo"),{photo_data:e.target.result},{headers:{Authorization:"Bearer ".concat(a)}});je(e=>d(d({},e),{},{photo_url:s.data.photo_url})),$e(),Qt.success("Photo upload ho gayi!")}catch(a){Qt.error("Photo upload fail hua. Please try again.")}finally{we(!1)}},s.readAsDataURL(a)})(e,ye.id)}),(0,Hr.jsxs)("div",{className:"text-center bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 rounded-xl p-6 border border-blue-100",children:[(0,Hr.jsx)("div",{className:"flex justify-center mb-3",children:(0,Hr.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>{var e;return null===(e=ke.current)||void 0===e?void 0:e.click()},children:[(0,Hr.jsx)("div",{className:"w-28 h-28 rounded-xl bg-white border-4 border-blue-300 shadow-lg flex items-center justify-center overflow-hidden",children:ye.photo_url?(0,Hr.jsx)("img",{src:ye.photo_url,alt:"",className:"w-full h-full object-cover"}):(0,Hr.jsx)(Rh,{className:"w-14 h-14 text-slate-300"})}),(0,Hr.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:Ne?(0,Hr.jsx)(ul,{className:"w-8 h-8 text-white animate-spin"}):(0,Hr.jsx)(Eh,{className:"w-8 h-8 text-white"})}),(0,Hr.jsx)("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white shadow-md",children:(0,Hr.jsx)(Eh,{className:"w-4 h-4 text-white"})})]})}),(0,Hr.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:ye.name}),(0,Hr.jsxs)("p",{className:"text-slate-500 mt-1",children:[ye.student_id||ye.admission_no," | ",ye.class_name,ye.section?" - ".concat(ye.section):""]}),(0,Hr.jsx)("span",{className:"inline-block mt-2 badge ".concat((e=>{switch(e){case"active":return"badge-success";case"suspended":return"badge-warning";case"left":return"badge-error";default:return"badge-info"}})(ye.status)),children:ye.status})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 flex-wrap justify-center",children:[(0,Hr.jsxs)(Io,{size:"sm",className:"gap-2",onClick:()=>tt(ye),children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4"})," Print Profile"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>{be(!1),at(ye)},children:[(0,Hr.jsx)(Lh,{className:"w-4 h-4"})," Edit"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"gap-2 text-blue-600",onClick:()=>{be(!1),T(ye),C(!0)},children:[(0,Hr.jsx)(Fh,{className:"w-4 h-4"})," ID Card"]})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-blue-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2",children:"\ud83d\udccb Basic Information (\u092e\u0942\u0932 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200",children:[["Name (\u0928\u093e\u092e)",ye.name],["Student ID",ye.student_id||ye.admission_no],["Class (\u0915\u0915\u094d\u0937\u093e)",ye.class_name],["Section",ye.section||"A"],["Gender (\u0932\u093f\u0902\u0917)",ye.gender],["DOB (\u091c\u0928\u094d\u092e \u0924\u093f\u0925\u093f)",ye.dob],["Blood Group (\u0930\u0915\u094d\u0924 \u0938\u092e\u0942\u0939)",ye.blood_group],["Admission Date (\u092a\u094d\u0930\u0935\u0947\u0936 \u0924\u093f\u0925\u093f)",ye.admission_date],["Category (\u0936\u094d\u0930\u0947\u0923\u0940)",ye.category],["Caste (\u091c\u093e\u0924\u093f)",ye.caste],["Sub Caste",ye.sub_caste],["Religion (\u0927\u0930\u094d\u092e)",ye.religion],["Nationality",ye.nationality],["Mother Tongue",ye.mother_tongue],["Birth Place",ye.birth_place],["Identification Mark",ye.identification_mark],["RTE Status",ye.rte_status?"Yes":"No"]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-amber-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-amber-600 to-amber-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2",children:"\ud83c\udd94 Identity Documents (\u092a\u0939\u091a\u093e\u0928 \u0926\u0938\u094d\u0924\u093e\u0935\u0947\u091c\u093c)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200",children:[["Aadhar No (\u0906\u0927\u093e\u0930 \u0928\u0902.)",ye.aadhar_no],["Scholar No (\u0935\u093f\u0926\u094d\u092f\u093e\u0930\u094d\u0925\u0940 \u0915\u094d\u0930\u092e\u093e\u0902\u0915)",ye.scholar_no],["PEN Number",ye.pen_number],["SSSMID",ye.sssmid],["Samagra Family ID",ye.samagra_family_id],["Jan Aadhar No",ye.jan_aadhar_no]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})}),![ye.aadhar_no,ye.scholar_no,ye.pen_number,ye.sssmid].some(Boolean)&&(0,Hr.jsx)("div",{className:"bg-white p-3 text-center text-sm text-slate-400",children:"No identity documents recorded"})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-green-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2",children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66 Family Information (\u092a\u093e\u0930\u093f\u0935\u093e\u0930\u093f\u0915 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200",children:[["Father Name (\u092a\u093f\u0924\u093e)",ye.father_name],["Father Occupation",ye.father_occupation],["Father Qualification",ye.father_qualification],["Mother Name (\u092e\u093e\u0924\u093e)",ye.mother_name],["Mother Occupation",ye.mother_occupation],["Mother Qualification",ye.mother_qualification],["Guardian Name",ye.guardian_name],["Guardian Relation",ye.guardian_relation],["Guardian Mobile",ye.guardian_mobile],["Guardian Occupation",ye.guardian_occupation],["Annual Income",ye.annual_income]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-purple-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2",children:"\ud83d\udcde Contact Information (\u0938\u0902\u092a\u0930\u094d\u0915 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200",children:[["Mobile (\u092e\u094b\u092c\u093e\u0907\u0932)",ye.mobile],["Parent Phone",ye.parent_phone],["Email",ye.email],["Address (\u092a\u0924\u093e)",ye.address],["Emergency Contact",ye.emergency_contact],["Emergency Contact Name",ye.emergency_contact_name]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-teal-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-teal-600 to-teal-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2",children:"\ud83c\udfe6 Bank Details - Scholarship (\u092c\u0948\u0902\u0915 \u0935\u093f\u0935\u0930\u0923)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200",children:[["Bank Name",ye.bank_name],["Account No",ye.bank_account_no],["IFSC Code",ye.ifsc_code],["Branch",ye.bank_branch]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})}),![ye.bank_name,ye.bank_account_no].some(Boolean)&&(0,Hr.jsx)("div",{className:"bg-white p-3 text-center text-sm text-slate-400",children:"No bank details recorded"})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-orange-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2",children:"\ud83d\ude8c Transport (\u092a\u0930\u093f\u0935\u0939\u0928)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200",children:[["Transport Mode",ye.transport_mode],["Bus Route",ye.bus_route],["Bus Stop",ye.bus_stop],["Pickup Point",ye.pickup_point]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})}),![ye.transport_mode,ye.bus_route].some(Boolean)&&(0,Hr.jsx)("div",{className:"bg-white p-3 text-center text-sm text-slate-400",children:"No transport details recorded"})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-red-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2",children:"\ud83c\udfe5 Medical Information (\u091a\u093f\u0915\u093f\u0924\u094d\u0938\u093e)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 gap-px bg-slate-200",children:[["Medical Conditions",ye.medical_conditions],["Allergies",ye.allergies]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})}),![ye.medical_conditions,ye.allergies].some(Boolean)&&(0,Hr.jsx)("div",{className:"bg-white p-3 text-center text-sm text-slate-400",children:"No medical information recorded"})]}),(0,Hr.jsxs)("div",{className:"rounded-xl border border-indigo-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2",children:"\ud83c\udf93 Previous Education (\u092a\u0942\u0930\u094d\u0935 \u0936\u093f\u0915\u094d\u0937\u093e)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200",children:[["Previous School",ye.previous_school],["Previous Class",ye.previous_class],["Previous Percentage",ye.previous_percentage],["TC Number",ye.tc_number]].filter(e=>{let[,t]=e;return t}).map((e,t)=>{let[a,s]=e;return(0,Hr.jsxs)("div",{className:"bg-white p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:a}),(0,Hr.jsx)("p",{className:"font-medium text-sm text-slate-800",children:s})]},t)})}),![ye.previous_school,ye.previous_class,ye.tc_number].some(Boolean)&&(0,Hr.jsx)("div",{className:"bg-white p-3 text-center text-sm text-slate-400",children:"No previous education details recorded"})]})]})]})}),(0,Hr.jsx)(Gu,{open:me,onOpenChange:he,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Bh,{className:"w-5 h-5 text-purple-600"}),"\ud83d\udcf1 StudyTino Login Details"]})}),pe&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-100",children:[(0,Hr.jsx)("p",{className:"font-bold text-lg",children:pe.name}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-600",children:["Class: ",pe.class_name||"N/A"," | Father: ",pe.father_name]})]}),(0,Hr.jsxs)("div",{className:"bg-slate-900 text-white rounded-xl p-4 space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Hr.jsx)("span",{className:"text-slate-400 text-sm",children:"Student ID:"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("span",{className:"font-mono font-bold text-lg text-purple-300",children:pe.student_id}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-white hover:bg-slate-700",onClick:()=>{navigator.clipboard.writeText(pe.student_id),Qt.success("ID copied!")},children:(0,Hr.jsx)(Mh,{className:"w-4 h-4"})})]})]}),(0,Hr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Hr.jsx)("span",{className:"text-slate-400 text-sm",children:"Password:"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("span",{className:"font-mono font-bold text-lg text-green-300",children:pe.default_password}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-white hover:bg-slate-700",onClick:()=>{navigator.clipboard.writeText(pe.default_password),Qt.success("Password copied!")},children:(0,Hr.jsx)(Mh,{className:"w-4 h-4"})})]})]})]}),(0,Hr.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[(0,Hr.jsx)("p",{className:"text-xs text-blue-600 mb-1",children:"App Link:"}),(0,Hr.jsxs)("p",{className:"font-mono text-sm text-blue-800",children:[window.location.origin,"/studytino"]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Hr.jsxs)(Io,{onClick:()=>(e=>{var t;const a=et(e),s=(null===(t=e.mobile)||void 0===t?void 0:t.replace(/[^0-9]/g,""))||"",n=s?"https://wa.me/91".concat(s,"?text=").concat(encodeURIComponent(a)):"https://wa.me/?text=".concat(encodeURIComponent(a));window.open(n,"_blank")})(pe),className:"bg-green-600 hover:bg-green-700 gap-2",children:[(0,Hr.jsx)(Uh,{className:"w-4 h-4"}),"WhatsApp Share"]}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>(async e=>{const t=et(e);await navigator.clipboard.writeText(t),Qt.success("Credentials copied!")})(pe),className:"gap-2",children:[(0,Hr.jsx)(Mh,{className:"w-4 h-4"}),"Copy All"]})]}),(0,Hr.jsx)("div",{className:"text-xs text-slate-500 text-center bg-amber-50 rounded-lg p-2",children:"\ud83d\udca1 Parent \u0915\u094b \u092f\u0947 details share \u0915\u0930\u0947\u0902\u0964 First login \u092a\u0930 password change \u0915\u0930\u0928\u093e \u0939\u094b\u0917\u093e\u0964"})]})]})})]}):(0,Hr.jsx)("div",{className:"text-center py-20",children:(0,Hr.jsx)("p",{className:"text-slate-500",children:"Please select a school first"})})}const oy=el("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cy="".concat("","/api");function dy(){const{t:e}=bs(),{schoolId:a}=Vr(),[s,n]=(0,t.useState)([]),[r,l]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[c,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(null),[p,x]=(0,t.useState)(!1),[g,f]=(0,t.useState)({name:"",section:"",class_teacher_id:""});(0,t.useEffect)(()=>{a&&(v(),b())},[a]);const v=async()=>{try{const e=await zr.get("".concat(cy,"/classes?school_id=").concat(a));n(e.data)}catch(e){Qt.error("Failed to fetch classes")}finally{o(!1)}},b=async()=>{try{const e=localStorage.getItem("token"),t=(await zr.get("".concat(cy,"/users?school_id=").concat(a),{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>{var t;return"teacher"===e.role||"principal"===e.role||"vice_principal"===e.role||(null===(t=e.designation)||void 0===t?void 0:t.toLowerCase().includes("teacher"))});l(t)}catch(e){console.error("Failed to fetch staff:",e);try{const e=await zr.get("".concat(cy,"/staff?school_id=").concat(a));l(e.data)}catch($k){console.error("Staff fallback failed")}}},y=()=>{h(null),f({name:"",section:"A",class_teacher_id:""})},j=e=>{f(t=>d(d({},t),{},{[e.target.name]:e.target.value}))},N=e=>{const t=r.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"-"};return a?(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"classes-page",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-3xl font-bold font-heading text-slate-900",children:e("classes")}),(0,Hr.jsx)("p",{className:"text-slate-500 mt-1",children:"Manage classes and sections"})]}),(0,Hr.jsxs)(Gu,{open:c,onOpenChange:e=>{u(e),e||y()},children:[(0,Hr.jsx)(Ku,{asChild:!0,children:(0,Hr.jsxs)(Io,{className:"btn-primary","data-testid":"add-class-btn",children:[(0,Hr.jsx)(oy,{className:"w-5 h-5 mr-2"}),e("add_class")]})}),(0,Hr.jsxs)($u,{children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsx)(Xu,{children:e(m?"edit":"add_class")}),(0,Hr.jsx)(Zu,{className:"sr-only",children:"Class form"})]}),(0,Hr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),x(!0);try{const t=d(d({},g),{},{school_id:a});m?(await zr.put("".concat(cy,"/classes/").concat(m.id),t),Qt.success(e("saved_successfully"))):(await zr.post("".concat(cy,"/classes"),t),Qt.success(e("saved_successfully"))),u(!1),y(),v()}catch(r){var s,n;const t=null===(s=r.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.detail;Qt.error("string"===typeof t?t:e("something_went_wrong"))}finally{x(!1)}},className:"space-y-4 mt-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Wo,{children:[e("class_name")," *"]}),(0,Hr.jsxs)("select",{name:"name",value:g.name,onChange:j,required:!0,className:"w-full h-10 rounded-lg border border-slate-200 px-3","data-testid":"class-name-select",children:[(0,Hr.jsx)("option",{value:"",children:"Select Class"}),["Nursery","LKG","UKG","Class 1","Class 2","Class 3","Class 4","Class 5","Class 6","Class 7","Class 8","Class 9","Class 10","Class 11","Class 12"].map(e=>(0,Hr.jsx)("option",{value:e,children:e},e))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Wo,{children:[e("section")," (Optional)"]}),(0,Hr.jsxs)("select",{name:"section",value:g.section,onChange:j,className:"w-full h-10 rounded-lg border border-slate-200 px-3","data-testid":"section-select",children:[(0,Hr.jsx)("option",{value:"",children:"None (Single Section)"}),["","A","B","C","D","E"].filter(e=>""!==e).map(e=>(0,Hr.jsx)("option",{value:e,children:e},e))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:e("class_teacher")}),(0,Hr.jsxs)("select",{name:"class_teacher_id",value:g.class_teacher_id,onChange:j,className:"w-full h-10 rounded-lg border border-slate-200 px-3","data-testid":"class-teacher-select",children:[(0,Hr.jsx)("option",{value:"",children:"Select Teacher"}),r.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Hr.jsx)(Io,{type:"button",variant:"outline",onClick:()=>u(!1),children:e("cancel")}),(0,Hr.jsxs)(Io,{type:"submit",className:"btn-primary",disabled:p,"data-testid":"save-class-btn",children:[p?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):null,e("save")]})]})]})]})]})]}),i?(0,Hr.jsx)("div",{className:"flex justify-center py-20",children:(0,Hr.jsx)("div",{className:"spinner w-10 h-10"})}):0===s.length?(0,Hr.jsxs)("div",{className:"text-center py-20 bg-white rounded-xl border border-slate-200",children:[(0,Hr.jsx)(cl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:e("no_data")}),(0,Hr.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Add classes to get started"})]}):(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(t=>(0,Hr.jsxs)("div",{className:"stat-card flex flex-col","data-testid":"class-card-".concat(t.id),children:[(0,Hr.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(cl,{className:"w-6 h-6 text-indigo-600"})}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsx)("button",{onClick:()=>(e=>{h(e),f({name:e.name,section:e.section,class_teacher_id:e.class_teacher_id||""}),u(!0)})(t),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors","data-testid":"edit-class-".concat(t.id),children:(0,Hr.jsx)(Lh,{className:"w-4 h-4 text-slate-500"})}),(0,Hr.jsx)("button",{onClick:()=>(async t=>{if(window.confirm(e("confirm_delete")))try{await zr.delete("".concat(cy,"/classes/").concat(t)),Qt.success(e("deleted_successfully")),v()}catch(a){Qt.error(e("something_went_wrong"))}})(t.id),className:"p-2 hover:bg-rose-50 rounded-lg transition-colors","data-testid":"delete-class-".concat(t.id),children:(0,Hr.jsx)(Hh,{className:"w-4 h-4 text-rose-500"})})]})]}),(0,Hr.jsxs)("h3",{className:"text-xl font-bold text-slate-900",children:[t.name,t.section?" - ".concat(t.section):""]}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:[e("class_teacher"),": ",N(t.class_teacher_id)||(0,Hr.jsx)("span",{className:"text-orange-500",children:"Not Assigned"})]}),(0,Hr.jsx)("div",{className:"mt-auto pt-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Hr.jsx)("span",{className:"text-slate-500",children:e("student_count")}),(0,Hr.jsx)("span",{className:"font-semibold text-slate-900",children:t.student_count})]})})]},t.id))})]}):(0,Hr.jsx)("div",{className:"text-center py-20",children:(0,Hr.jsx)("p",{className:"text-slate-500",children:"Please select a school first"})})}const uy=el("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),my=el("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),hy=el("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),py="".concat("","/api");function xy(){const{schoolId:e,user:a}=Vr(),[s,n]=(0,t.useState)([]),[r,l]=(0,t.useState)([]),[i,o]=(0,t.useState)({}),[c,u]=(0,t.useState)(""),[m,h]=(0,t.useState)((new Date).toISOString().split("T")[0]),[p,x]=(0,t.useState)(!1),[g,f]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(null),[_,C]=(0,t.useState)({leave_type:"sick",start_date:"",end_date:"",reason:"",approved_by:""});(0,t.useEffect)(()=>{e&&(E(),P())},[e]),(0,t.useEffect)(()=>{c&&m&&A()},[c,m]);const E=async()=>{try{const t=localStorage.getItem("token"),a=await zr.get("".concat(py,"/classes?school_id=").concat(e),{headers:{Authorization:"Bearer ".concat(t)}});n(a.data)}catch(t){console.error("Failed to fetch classes")}},P=async()=>{try{const t=localStorage.getItem("token"),a=await zr.get("".concat(py,"/attendance/stats?school_id=").concat(e,"&date=").concat(m),{headers:{Authorization:"Bearer ".concat(t)}});b(a.data)}catch(t){console.error("Failed to fetch stats")}},A=async()=>{x(!0);try{const t=localStorage.getItem("token"),a=await zr.get("".concat(py,"/students?school_id=").concat(e,"&class_id=").concat(c),{headers:{Authorization:"Bearer ".concat(t)}});l(a.data);const s=await zr.get("".concat(py,"/attendance?class_id=").concat(c,"&date=").concat(m),{headers:{Authorization:"Bearer ".concat(t)}}),n={};s.data.forEach(e=>{n[e.student_id]=e.status}),o(n)}catch(t){Qt.error("Failed to fetch data")}finally{x(!1)}},T=(e,t)=>{o(a=>d(d({},a),{},{[e]:t}))},M=e=>{const t={};r.forEach(a=>{t[a.id]=e}),o(t)},D=e=>{switch(e){case"present":return(0,Hr.jsx)(Gb,{className:"w-5 h-5 text-emerald-500"});case"absent":return(0,Hr.jsx)(Kb,{className:"w-5 h-5 text-rose-500"});case"late":return(0,Hr.jsx)(Il,{className:"w-5 h-5 text-amber-500"});case"on_leave":return(0,Hr.jsx)(uy,{className:"w-5 h-5 text-blue-500"});case"half_day":return(0,Hr.jsx)(tl,{className:"w-5 h-5 text-purple-500"});default:return(0,Hr.jsx)(my,{className:"w-5 h-5 text-gray-400"})}},R=e=>{switch(e){case"present":return"bg-emerald-100 text-emerald-700";case"absent":return"bg-rose-100 text-rose-700";case"late":return"bg-amber-100 text-amber-700";case"on_leave":return"bg-blue-100 text-blue-700";case"half_day":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-600"}};return(0,Hr.jsxs)("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6 shadow-xl text-white",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,Hr.jsx)(Al,{className:"w-8 h-8"}),"Attendance Management"]}),(0,Hr.jsx)("p",{className:"text-blue-100 mt-1",children:"Mark attendance \u2022 Manage leaves \u2022 Upload old records"})]}),(0,Hr.jsxs)(Io,{onClick:()=>j(!0),className:"bg-white text-blue-600 hover:bg-blue-50",children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4 mr-2"}),"Bulk Upload"]})]})}),v&&(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Hr.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-4 border-2 border-emerald-200",children:[(0,Hr.jsx)("div",{className:"text-3xl font-bold text-emerald-600",children:v.present||0}),(0,Hr.jsx)("div",{className:"text-sm text-emerald-700",children:"Present Today"})]}),(0,Hr.jsxs)("div",{className:"bg-rose-50 rounded-xl p-4 border-2 border-rose-200",children:[(0,Hr.jsx)("div",{className:"text-3xl font-bold text-rose-600",children:v.absent||0}),(0,Hr.jsx)("div",{className:"text-sm text-rose-700",children:"Absent Today"})]}),(0,Hr.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 border-2 border-blue-200",children:[(0,Hr.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:v.on_leave||0}),(0,Hr.jsx)("div",{className:"text-sm text-blue-700",children:"On Leave"})]}),(0,Hr.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 border-2 border-amber-200",children:[(0,Hr.jsx)("div",{className:"text-3xl font-bold text-amber-600",children:v.late||0}),(0,Hr.jsx)("div",{className:"text-sm text-amber-700",children:"Late"})]})]}),(0,Hr.jsx)("div",{className:"bg-white rounded-xl border shadow-sm p-6",children:(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Select Class *"}),(0,Hr.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full h-10 rounded-lg border border-slate-200 px-3 mt-1",children:[(0,Hr.jsx)("option",{value:"",children:"Choose Class"}),s.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Select Date *"}),(0,Hr.jsx)(Lo,{type:"date",value:m,onChange:e=>h(e.target.value),max:(new Date).toISOString().split("T")[0],className:"mt-1"})]}),(0,Hr.jsx)("div",{className:"flex items-end",children:(0,Hr.jsxs)(Io,{onClick:async()=>{f(!0);try{const t=localStorage.getItem("token"),a=Object.entries(i).map(e=>{let[t,a]=e;return{student_id:t,status:a}});await zr.post("".concat(py,"/attendance/bulk"),{class_id:c,school_id:e,date:m,attendance:a},{headers:{Authorization:"Bearer ".concat(t)}}),Qt.success("\u2705 Attendance saved successfully!"),P()}catch(t){Qt.error("Save \u0915\u0930\u0928\u0947 \u092e\u0947\u0902 \u0938\u092e\u0938\u094d\u092f\u093e")}finally{f(!1)}},className:"w-full bg-blue-600 hover:bg-blue-700",disabled:g||!c,children:[g?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(hy,{className:"w-4 h-4 mr-2"}),"Save Attendance"]})})]})}),c&&(0,Hr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>M("present"),className:"bg-emerald-50 hover:bg-emerald-100 border-emerald-300",children:[(0,Hr.jsx)(Gb,{className:"w-4 h-4 mr-2 text-emerald-600"}),"All Present"]}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>M("absent"),className:"bg-rose-50 hover:bg-rose-100 border-rose-300",children:[(0,Hr.jsx)(Kb,{className:"w-4 h-4 mr-2 text-rose-600"}),"All Absent"]}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>M("half_day"),className:"bg-purple-50 hover:bg-purple-100 border-purple-300",children:[(0,Hr.jsx)(tl,{className:"w-4 h-4 mr-2 text-purple-600"}),"All Half Day"]})]}),c?p?(0,Hr.jsx)("div",{className:"flex justify-center py-20",children:(0,Hr.jsx)(ul,{className:"w-10 h-10 animate-spin text-blue-600"})}):0===r.length?(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border-2 border-dashed p-12 text-center",children:[(0,Hr.jsx)(tl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Hr.jsx)("p",{className:"text-gray-600",children:"No students in this class"})]}):(0,Hr.jsx)("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,Hr.jsxs)("tr",{children:[(0,Hr.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"#"}),(0,Hr.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Admission No"}),(0,Hr.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Student Name"}),(0,Hr.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Status"}),(0,Hr.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-600",children:"Quick Actions"})]})}),(0,Hr.jsx)("tbody",{className:"divide-y",children:r.map((e,t)=>{var s;return(0,Hr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Hr.jsx)("td",{className:"px-4 py-3 text-sm",children:t+1}),(0,Hr.jsx)("td",{className:"px-4 py-3 text-sm font-mono",children:e.student_id}),(0,Hr.jsx)("td",{className:"px-4 py-3",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium text-sm",children:null===(s=e.name)||void 0===s?void 0:s.charAt(0)}),(0,Hr.jsx)("span",{className:"font-medium",children:e.name})]})}),(0,Hr.jsx)("td",{className:"px-4 py-3",children:i[e.id]&&(0,Hr.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ".concat(R(i[e.id])),children:[D(i[e.id]),i[e.id].replace("_"," ").toUpperCase()]})}),(0,Hr.jsx)("td",{className:"px-4 py-3",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("button",{onClick:()=>T(e.id,"present"),className:"p-2 rounded-lg transition-all ".concat("present"===i[e.id]?"bg-emerald-100 ring-2 ring-emerald-500":"hover:bg-emerald-50"),title:"Present",children:(0,Hr.jsx)(Gb,{className:"w-5 h-5 ".concat("present"===i[e.id]?"text-emerald-600":"text-gray-400")})}),(0,Hr.jsx)("button",{onClick:()=>T(e.id,"absent"),className:"p-2 rounded-lg transition-all ".concat("absent"===i[e.id]?"bg-rose-100 ring-2 ring-rose-500":"hover:bg-rose-50"),title:"Absent",children:(0,Hr.jsx)(Kb,{className:"w-5 h-5 ".concat("absent"===i[e.id]?"text-rose-600":"text-gray-400")})}),(0,Hr.jsx)("button",{onClick:()=>T(e.id,"late"),className:"p-2 rounded-lg transition-all ".concat("late"===i[e.id]?"bg-amber-100 ring-2 ring-amber-500":"hover:bg-amber-50"),title:"Late",children:(0,Hr.jsx)(Il,{className:"w-5 h-5 ".concat("late"===i[e.id]?"text-amber-600":"text-gray-400")})}),(0,Hr.jsx)("button",{onClick:()=>(e=>{S(e),C({leave_type:"sick",start_date:m,end_date:m,reason:"",approved_by:(null===a||void 0===a?void 0:a.name)||""}),w(!0)})(e),className:"p-2 rounded-lg transition-all ".concat("on_leave"===i[e.id]?"bg-blue-100 ring-2 ring-blue-500":"hover:bg-blue-50"),title:"On Leave",children:(0,Hr.jsx)(uy,{className:"w-5 h-5 ".concat("on_leave"===i[e.id]?"text-blue-600":"text-gray-400")})}),(0,Hr.jsx)("button",{onClick:()=>T(e.id,"half_day"),className:"p-2 rounded-lg transition-all ".concat("half_day"===i[e.id]?"bg-purple-100 ring-2 ring-purple-500":"hover:bg-purple-50"),title:"Half Day",children:(0,Hr.jsx)(tl,{className:"w-5 h-5 ".concat("half_day"===i[e.id]?"text-purple-600":"text-gray-400")})})]})})]},e.id)})})]})})}):(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border-2 border-dashed p-12 text-center",children:[(0,Hr.jsx)(Al,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Hr.jsx)("p",{className:"text-gray-600",children:"Select a class to mark attendance"})]}),(0,Hr.jsx)(Gu,{open:N,onOpenChange:w,children:(0,Hr.jsxs)($u,{children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(uy,{className:"w-6 h-6 text-blue-600"}),"Mark Leave - ",null===k||void 0===k?void 0:k.name]})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Leave Type"}),(0,Hr.jsxs)("select",{value:_.leave_type,onChange:e=>C(d(d({},_),{},{leave_type:e.target.value})),className:"w-full p-2 border rounded-lg mt-1",children:[(0,Hr.jsx)("option",{value:"sick",children:"Sick Leave (\u092c\u0940\u092e\u093e\u0930\u0940 \u0915\u0940 \u091b\u0941\u091f\u094d\u091f\u0940)"}),(0,Hr.jsx)("option",{value:"casual",children:"Casual Leave (\u0906\u0915\u0938\u094d\u092e\u093f\u0915 \u091b\u0941\u091f\u094d\u091f\u0940)"}),(0,Hr.jsx)("option",{value:"medical",children:"Medical Leave (\u091a\u093f\u0915\u093f\u0924\u094d\u0938\u093e \u091b\u0941\u091f\u094d\u091f\u0940)"}),(0,Hr.jsx)("option",{value:"family",children:"Family Function (\u092a\u093e\u0930\u093f\u0935\u093e\u0930\u093f\u0915 \u0915\u093e\u0930\u094d\u092f)"}),(0,Hr.jsx)("option",{value:"other",children:"Other (\u0905\u0928\u094d\u092f)"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Start Date"}),(0,Hr.jsx)(Lo,{type:"date",value:_.start_date,onChange:e=>C(d(d({},_),{},{start_date:e.target.value})),className:"mt-1"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"End Date"}),(0,Hr.jsx)(Lo,{type:"date",value:_.end_date,onChange:e=>C(d(d({},_),{},{end_date:e.target.value})),className:"mt-1"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Reason (Optional)"}),(0,Hr.jsx)("textarea",{value:_.reason,onChange:e=>C(d(d({},_),{},{reason:e.target.value})),className:"w-full p-2 border rounded-lg mt-1",rows:"3",placeholder:"Leave reason..."})]}),(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>w(!1),className:"flex-1",children:"Cancel"}),(0,Hr.jsx)(Io,{onClick:async()=>{try{const t=localStorage.getItem("token");await zr.post("".concat(py,"/attendance/mark-leave"),d({school_id:e,student_id:k.id},_),{headers:{Authorization:"Bearer ".concat(t)}}),Qt.success("\u2705 Leave marked successfully!"),w(!1),A()}catch(t){Qt.error("Leave mark \u0915\u0930\u0928\u0947 \u092e\u0947\u0902 \u0938\u092e\u0938\u094d\u092f\u093e")}},className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Mark Leave"})]})]})]})}),(0,Hr.jsx)(Gu,{open:y,onOpenChange:j,children:(0,Hr.jsxs)($u,{className:"max-w-5xl max-h-[85vh] overflow-hidden flex flex-col",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Ph,{className:"w-6 h-6 text-blue-600"}),"Bulk Attendance Upload"]})}),(0,Hr.jsx)("div",{className:"flex-1 overflow-y-auto pr-2",children:(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\ud83d\udccb Upload Options:"}),(0,Hr.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,Hr.jsx)("li",{children:"Upload old attendance register photos (mobile se click kiya hua)"}),(0,Hr.jsx)("li",{children:"Excel/CSV format mein bulk data upload"}),(0,Hr.jsx)("li",{children:"Date range select kar ke multiple days ka data ek saath"})]})]}),(0,Hr.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-500 transition-all",children:[(0,Hr.jsx)(Eh,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Upload Attendance Register Photos"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Mobile se old attendance register \u0915\u0940 photos upload karein"}),(0,Hr.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",id:"photo-upload",onChange:e=>{var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)>0&&Qt.success("".concat(e.target.files.length," photos selected"))}}),(0,Hr.jsxs)("label",{htmlFor:"photo-upload",className:"inline-flex items-center justify-center rounded-md bg-blue-600 text-white hover:bg-blue-700 h-10 px-6 cursor-pointer",children:[(0,Hr.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Choose Photos"]})]}),(0,Hr.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-green-500 transition-all",children:[(0,Hr.jsx)(ty,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Upload Excel/CSV File"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Bulk attendance data upload via Excel"}),(0,Hr.jsxs)("div",{className:"flex gap-3 justify-center flex-wrap",children:[(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>{const e=new Blob(["Date,Student ID,Student Name,Status\n2026-01-15,STU-2026-00001,Student Name,present\n2026-01-15,STU-2026-00002,Student Name 2,absent\n2026-01-16,STU-2026-00001,Student Name,present"],{type:"text/csv"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="attendance_template.csv",a.click(),window.URL.revokeObjectURL(t),Qt.success("Template downloaded!")},children:[(0,Hr.jsx)(ey,{className:"w-4 h-4 mr-2"}),"Download Template"]}),(0,Hr.jsx)("input",{type:"file",accept:".xlsx,.csv",className:"hidden",id:"excel-upload",onChange:e=>{var t;null!==(t=e.target.files)&&void 0!==t&&t[0]&&Qt.success("File selected: ".concat(e.target.files[0].name))}}),(0,Hr.jsxs)("label",{htmlFor:"excel-upload",className:"inline-flex items-center justify-center rounded-md bg-green-600 text-white hover:bg-green-700 h-10 px-6 cursor-pointer",children:[(0,Hr.jsx)(ty,{className:"w-4 h-4 mr-2"}),"Upload Excel"]})]})]})]})})]})})]})}const gy=el("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),fy=el("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),vy=el("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),by=el("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function yy(e){var a,s;let{employee:n,school:r,onClose:l}=e;const i=(0,t.useRef)(null);if(!n)return null;const o=n.employee_id||(null===(a=n.id)||void 0===a?void 0:a.slice(-8).toUpperCase())||"EMP-"+Date.now().toString().slice(-6),c=(new Date).getFullYear(),d="".concat(c,"-").concat((c+1).toString().slice(-2)),u={director:{bg:"linear-gradient(135deg, #7c2d12 0%, #b45309 100%)",label:"Director"},principal:{bg:"linear-gradient(135deg, #4c1d95 0%, #7c3aed 100%)",label:"Principal"},vice_principal:{bg:"linear-gradient(135deg, #5b21b6 0%, #8b5cf6 100%)",label:"Vice Principal"},teacher:{bg:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",label:"Teacher"},admin:{bg:"linear-gradient(135deg, #0f766e 0%, #14b8a6 100%)",label:"Admin"},accountant:{bg:"linear-gradient(135deg, #166534 0%, #22c55e 100%)",label:"Accounts"},clerk:{bg:"linear-gradient(135deg, #0369a1 0%, #0ea5e9 100%)",label:"Office"},librarian:{bg:"linear-gradient(135deg, #7e22ce 0%, #a855f7 100%)",label:"Library"},driver:{bg:"linear-gradient(135deg, #c2410c 0%, #f97316 100%)",label:"Transport"},conductor:{bg:"linear-gradient(135deg, #c2410c 0%, #fb923c 100%)",label:"Transport"},peon:{bg:"linear-gradient(135deg, #475569 0%, #94a3b8 100%)",label:"Support"},helper:{bg:"linear-gradient(135deg, #525252 0%, #a3a3a3 100%)",label:"Helper"},sweeper:{bg:"linear-gradient(135deg, #44403c 0%, #78716c 100%)",label:"Housekeeping"},guard:{bg:"linear-gradient(135deg, #1e3a8a 0%, #1d4ed8 100%)",label:"Security"},cook:{bg:"linear-gradient(135deg, #9a3412 0%, #ea580c 100%)",label:"Kitchen"},gardener:{bg:"linear-gradient(135deg, #14532d 0%, #16a34a 100%)",label:"Garden"},electrician:{bg:"linear-gradient(135deg, #ca8a04 0%, #facc15 100%)",label:"Maintenance"},lab_assistant:{bg:"linear-gradient(135deg, #0891b2 0%, #22d3ee 100%)",label:"Lab"},sports_coach:{bg:"linear-gradient(135deg, #dc2626 0%, #f87171 100%)",label:"Sports"}}[n.role||(null===(s=n.designation)||void 0===s?void 0:s.toLowerCase())]||{bg:"linear-gradient(135deg, #059669 0%, #10b981 100%)",label:"Staff"};return(0,Hr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-lg w-full",children:[(0,Hr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Hr.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:["Employee ID Card Preview",(0,Hr.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full text-white",style:{background:u.bg},children:u.label})]}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:l,children:(0,Hr.jsx)(zu,{className:"w-5 h-5"})})]}),(0,Hr.jsx)("div",{ref:i,className:"flex justify-center mb-4",children:(0,Hr.jsxs)("div",{className:"id-card",style:{width:"340px",height:"215px",background:u.bg,borderRadius:"12px",padding:"16px",position:"relative",overflow:"hidden",color:"white",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[(null===r||void 0===r?void 0:r.logo_url)&&(0,Hr.jsx)("div",{className:"watermark",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:.1,width:"180px",height:"180px",zIndex:0},children:(0,Hr.jsx)("img",{src:r.logo_url,alt:"",style:{width:"100%",height:"100%",objectFit:"contain"}})}),(0,Hr.jsxs)("div",{className:"card-content",style:{position:"relative",zIndex:1,height:"100%"},children:[(0,Hr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",borderBottom:"1px solid rgba(255,255,255,0.3)",paddingBottom:"6px",marginBottom:"8px"},children:[(null===r||void 0===r?void 0:r.logo_url)&&(0,Hr.jsx)("div",{style:{width:"32px",height:"32px",background:"white",borderRadius:"50%",padding:"2px",flexShrink:0},children:(0,Hr.jsx)("img",{src:r.logo_url,alt:"",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"50%"}})}),(0,Hr.jsxs)("div",{style:{flex:1,textAlign:"center"},children:[(0,Hr.jsx)("div",{style:{fontSize:"10px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px"},children:(null===r||void 0===r?void 0:r.name)||"School Name"}),(0,Hr.jsx)("div",{style:{fontSize:"6px",opacity:.9,marginTop:"1px"},children:(null===r||void 0===r?void 0:r.address)||""})]})]}),(0,Hr.jsxs)("div",{style:{fontSize:"8px",background:"rgba(255,255,255,0.25)",display:"inline-block",padding:"2px 10px",borderRadius:"10px",marginBottom:"6px",fontWeight:"bold"},children:[u.label.toUpperCase()," ID CARD"]}),(0,Hr.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Hr.jsx)("div",{style:{width:"70px",flexShrink:0},children:(0,Hr.jsx)("div",{style:{width:"70px",height:"85px",background:"white",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"10px",overflow:"hidden"},children:n.photo_url?(0,Hr.jsx)("img",{src:n.photo_url,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):"Photo"})}),(0,Hr.jsxs)("div",{style:{flex:1,fontSize:"8px"},children:[(0,Hr.jsx)("div",{style:{fontSize:"13px",fontWeight:"bold",marginBottom:"4px",color:"#fef08a"},children:n.name||n.full_name}),(0,Hr.jsxs)("div",{style:{marginBottom:"2px"},children:[(0,Hr.jsx)("span",{style:{opacity:.8,width:"70px",display:"inline-block"},children:"Designation:"}),(0,Hr.jsx)("span",{style:{fontWeight:"bold"},children:(e=>({teacher:"Teacher / \u0936\u093f\u0915\u094d\u0937\u0915",principal:"Principal / \u092a\u094d\u0930\u0927\u093e\u0928\u093e\u091a\u093e\u0930\u094d\u092f",vice_principal:"Vice Principal",director:"Director / \u0928\u093f\u0926\u0947\u0936\u0915",admin:"Admin Staff",accountant:"Accountant / \u0932\u0947\u0916\u093e\u0915\u093e\u0930",clerk:"Office Clerk",librarian:"Librarian / \u092a\u0941\u0938\u094d\u0924\u0915\u093e\u0932\u092f\u093e\u0927\u094d\u092f\u0915\u094d\u0937",peon:"Office Attendant / \u091a\u092a\u0930\u093e\u0938\u0940",helper:"Helper / \u0938\u0939\u093e\u092f\u0915",sweeper:"Cleaning Staff / \u0938\u092b\u093e\u0908 \u0915\u0930\u094d\u092e\u0940",driver:"Driver / \u091a\u093e\u0932\u0915",conductor:"Bus Conductor",guard:"Security Guard / \u0938\u0941\u0930\u0915\u094d\u0937\u093e \u0917\u093e\u0930\u094d\u0921",cook:"Cook / \u0930\u0938\u094b\u0907\u092f\u093e",gardener:"Gardener / \u092e\u093e\u0932\u0940",electrician:"Electrician",lab_assistant:"Lab Assistant",sports_coach:"Sports Coach / \u0916\u0947\u0932 \u092a\u094d\u0930\u0936\u093f\u0915\u094d\u0937\u0915",other:(null===n||void 0===n?void 0:n.designation)||"Staff"}[e]||(null===n||void 0===n?void 0:n.designation)||e||"Staff"))(n.role)})]}),n.department&&(0,Hr.jsxs)("div",{style:{marginBottom:"2px"},children:[(0,Hr.jsx)("span",{style:{opacity:.8,width:"70px",display:"inline-block"},children:"Department:"}),(0,Hr.jsx)("span",{style:{fontWeight:"bold"},children:n.department})]}),(0,Hr.jsxs)("div",{style:{marginBottom:"2px"},children:[(0,Hr.jsx)("span",{style:{opacity:.8,width:"70px",display:"inline-block"},children:"Employee ID:"}),(0,Hr.jsx)("span",{style:{fontWeight:"bold"},children:o})]}),(0,Hr.jsxs)("div",{style:{marginBottom:"2px"},children:[(0,Hr.jsx)("span",{style:{opacity:.8,width:"70px",display:"inline-block"},children:"Blood Group:"}),(0,Hr.jsx)("span",{style:{fontWeight:"bold"},children:n.blood_group||"N/A"})]}),(0,Hr.jsxs)("div",{style:{marginTop:"4px",background:"rgba(255,255,255,0.2)",padding:"4px 6px",borderRadius:"4px",fontSize:"8px"},children:[(0,Hr.jsxs)("div",{style:{marginBottom:"2px"},children:[(0,Hr.jsx)("span",{style:{opacity:.9},children:"\ud83d\udcde Self: "}),(0,Hr.jsx)("span",{style:{fontWeight:"bold"},children:n.phone||n.mobile||"N/A"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("span",{style:{opacity:.9},children:"\ud83c\udd98 Emergency: "}),(0,Hr.jsx)("span",{style:{fontWeight:"bold"},children:n.emergency_contact||n.family_phone||n.alternate_phone||"N/A"})]})]})]})]}),(0,Hr.jsxs)("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",display:"flex",justifyContent:"space-between",alignItems:"flex-end",fontSize:"6px",opacity:.8},children:[(0,Hr.jsx)("div",{children:(null===r||void 0===r?void 0:r.phone)&&(0,Hr.jsxs)("span",{children:["\ud83d\udcde ",r.phone]})}),(0,Hr.jsxs)("div",{style:{textAlign:"right"},children:[(0,Hr.jsxs)("div",{children:["Valid: ",d]}),(0,Hr.jsx)("div",{style:{fontSize:"5px"},children:"Powered by Schooltino.in"})]})]})]})]})}),(0,Hr.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,Hr.jsxs)(Io,{onClick:()=>{const e=i.current.innerHTML,t=window.open("","_blank");t.document.write("\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Employee ID - ".concat(null===n||void 0===n?void 0:n.name,"</title>\n        <style>\n          @page { \n            size: 85.6mm 54mm;\n            margin: 0; \n          }\n          body { \n            margin: 0; \n            padding: 0; \n            font-family: Arial, sans-serif;\n            -webkit-print-color-adjust: exact;\n            print-color-adjust: exact;\n          }\n          .id-card {\n            width: 85.6mm;\n            height: 54mm;\n            background: linear-gradient(135deg, #059669 0%, #10b981 50%, #059669 100%);\n            border-radius: 8px;\n            padding: 8px;\n            box-sizing: border-box;\n            position: relative;\n            overflow: hidden;\n            color: white;\n          }\n          .watermark {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            opacity: 0.1;\n            width: 60mm;\n            height: 60mm;\n            z-index: 0;\n          }\n          .card-content {\n            position: relative;\n            z-index: 1;\n            height: 100%;\n          }\n          .school-header {\n            text-align: center;\n            border-bottom: 1px solid rgba(255,255,255,0.3);\n            padding-bottom: 4px;\n            margin-bottom: 6px;\n          }\n          .school-name {\n            font-size: 10px;\n            font-weight: bold;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n        </style>\n      </head>\n      <body>\n        ").concat(e,"\n      </body>\n      </html>\n    ")),t.document.close(),t.print()},className:"bg-green-600 hover:bg-green-700",children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4 mr-2"}),"Print ID Card"]}),(0,Hr.jsx)(Io,{variant:"outline",onClick:l,children:"Close"})]}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 text-center mt-4",children:"\ud83d\udca1 Print on PVC card (85.6mm \xd7 54mm) for best results"})]})})}const jy="",Ny={full_access:{label:"\ud83d\udd13 Full Access (Director)",description:"Sabhi modules ka access",permissions:{dashboard:!0,students:!0,attendance:!0,fees:!0,staff:!0,reports:!0,settings:!0,user_management:!0,ai_tools:!0,notices:!0,transport:!0,calendar:!0}},principal:{label:"\ud83d\udc68\u200d\ud83d\udcbc Principal",description:"User management chhodke sab",permissions:{dashboard:!0,students:!0,attendance:!0,fees:!0,staff:!0,reports:!0,settings:!1,user_management:!1,ai_tools:!0,notices:!0,transport:!0,calendar:!0}},teacher:{label:"\ud83d\udc68\u200d\ud83c\udfeb Teacher",description:"Students aur attendance manage",permissions:{dashboard:!0,students:!0,attendance:!0,reports:!1,settings:!1,fees:!1,staff:!1,user_management:!1,ai_tools:!0,notices:!0,transport:!1,calendar:!0}},accountant:{label:"\ud83d\udcb0 Accountant",description:"Fees aur cash collection",permissions:{dashboard:!0,fees:!0,reports:!0,students:!0,attendance:!1,settings:!1,staff:!1,user_management:!1,ai_tools:!1,notices:!0,transport:!1,calendar:!1}},front_office:{label:"\ud83c\udfe2 Front Office",description:"Basic student info aur notices",permissions:{dashboard:!0,students:!0,attendance:!1,fees:!1,reports:!1,settings:!1,staff:!1,user_management:!1,ai_tools:!1,notices:!0,transport:!1,calendar:!0}},transport_incharge:{label:"\ud83d\ude8c Transport Incharge",description:"Transport management",permissions:{dashboard:!0,transport:!0,students:!0,attendance:!1,fees:!1,reports:!1,settings:!1,staff:!1,ai_tools:!1,notices:!0}},view_only:{label:"\ud83d\udc41\ufe0f View Only",description:"Sirf dekhne ka access",permissions:{dashboard:!0}}},wy={dashboard:{label:"Dashboard",icon:"\ud83d\udcca"},students:{label:"Students",icon:"\ud83d\udc68\u200d\ud83c\udf93"},attendance:{label:"Attendance",icon:"\u2705"},fees:{label:"Fees Management",icon:"\ud83d\udcb0"},staff:{label:"Staff Management",icon:"\ud83d\udc65"},reports:{label:"Reports",icon:"\ud83d\udcc8"},settings:{label:"School Settings",icon:"\u2699\ufe0f"},user_management:{label:"User Management",icon:"\ud83d\udd10"},ai_tools:{label:"AI Tools",icon:"\ud83e\udd16"},notices:{label:"Notices",icon:"\ud83d\udce2"},transport:{label:"Transport",icon:"\ud83d\ude8c"},calendar:{label:"Calendar",icon:"\ud83d\udcc5"}};function ky(){var e,a;const{user:s}=Vr(),n=null===s||void 0===s?void 0:s.school_id,[r,l]=(0,t.useState)(!0),[i,o]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[m,h]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),[g,f]=(0,t.useState)(""),[v,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(null),[N,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[_,C]=(0,t.useState)(!1),[E,P]=(0,t.useState)(null),[A,T]=(0,t.useState)(null),[M,D]=(0,t.useState)(!1),[R,I]=(0,t.useState)(!1),[O,L]=(0,t.useState)(null),[F,B]=(0,t.useState)(""),[z,H]=(0,t.useState)(!1),[q,U]=(0,t.useState)("basic"),[W,V]=(0,t.useState)(!1),G=(0,t.useRef)(null),K=(0,t.useRef)(null),[Y,Q]=(0,t.useState)({name:"",mobile:"",email:"",photo_url:"",designation:"teacher",department:"",joining_date:(new Date).toISOString().split("T")[0],gender:"male",dob:"",blood_group:"",marital_status:"",father_name:"",spouse_name:"",nationality:"Indian",address:"",permanent_address:"",city:"",state:"",pincode:"",aadhar_no:"",pan_number:"",uan_number:"",esi_number:"",voter_id:"",driving_license:"",qualification:"",specialization:"",experience_years:"",previous_employer:"",bank_name:"",bank_account_no:"",ifsc_code:"",bank_branch:"",salary:"",salary_type:"monthly",pf_applicable:!1,esi_applicable:!1,tds_applicable:!1,emergency_contact:"",emergency_contact_name:"",emergency_relation:"",create_login:!0,password:"",role:"teacher",custom_permissions:null,can_teach:!1}),[$,J]=(0,t.useState)(!1),[X,Z]=(0,t.useState)("teacher"),[ee,te]=(0,t.useState)("staff"),[ae,se]=(0,t.useState)(!1),[ne,re]=(0,t.useState)(null),[le,ie]=(0,t.useState)({});(0,t.useEffect)(()=>{n&&(ce(),de(),oe())},[n]);const oe=async()=>{try{const e=localStorage.getItem("token"),t=await zr.get("".concat(jy,"/api/schools/").concat(n),{headers:{Authorization:"Bearer ".concat(e)}});T(t.data)}catch(e){console.error("Error fetching school:",e)}},ce=async()=>{try{l(!0);const e=localStorage.getItem("token"),t=new URLSearchParams({school_id:n});p&&t.append("designation",p),g&&t.append("has_login",g),m&&t.append("search",m);const a=await zr.get("".concat(jy,"/api/employees?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});o(a.data||[])}catch(e){console.error("Error fetching employees:",e);try{const e=localStorage.getItem("token"),t=await zr.get("".concat(jy,"/api/staff?school_id=").concat(n),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data||[])}catch($k){Qt.error("Employees load \u0915\u0930\u0928\u0947 \u092e\u0947\u0902 \u0938\u092e\u0938\u094d\u092f\u093e")}}finally{l(!1)}},de=async()=>{try{const e=localStorage.getItem("token"),t=await zr.get("".concat(jy,"/api/employees/designations/list"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data||[])}catch(e){u([{id:"principal",name:"Principal (\u092a\u094d\u0930\u0927\u093e\u0928\u093e\u091a\u093e\u0930\u094d\u092f)",default_role:"principal"},{id:"teacher",name:"Teacher (\u0936\u093f\u0915\u094d\u0937\u0915)",default_role:"teacher"},{id:"accountant",name:"Accountant (\u0932\u0947\u0916\u093e\u0915\u093e\u0930)",default_role:"admin_staff"},{id:"clerk",name:"Clerk (\u0932\u093f\u092a\u093f\u0915)",default_role:"clerk"},{id:"peon",name:"Peon (\u091a\u092a\u0930\u093e\u0938\u0940)",default_role:"peon"}])}},ue=()=>{ce()},me=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return;if(e.size>5242880)Qt.error("Photo size must be under 5MB");else if(e.type.startsWith("image/")){V(!0);try{var a,s;const r=localStorage.getItem("token"),l=new FormData;l.append("file",e),l.append("school_id",n);const i=await zr.post("".concat(jy,"/api/upload/photo"),l,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"}}),o=(null===(a=i.data)||void 0===a?void 0:a.url)||(null===(s=i.data)||void 0===s?void 0:s.photo_url);t?(await zr.put("".concat(jy,"/api/employees/").concat(t),{photo_url:o,school_id:n},{headers:{Authorization:"Bearer ".concat(r)}}),Qt.success("Photo updated!"),ce(),(null===ne||void 0===ne?void 0:ne.id)===t&&re(e=>d(d({},e),{},{photo_url:o}))):(Q(e=>d(d({},e),{},{photo_url:o})),Qt.success("Photo uploaded!"))}catch(r){const a=new FileReader;a.onload=async e=>{const a=e.target.result;if(t)try{const e=localStorage.getItem("token");await zr.put("".concat(jy,"/api/employees/").concat(t),{photo_url:a,school_id:n},{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Photo updated!"),ce(),(null===ne||void 0===ne?void 0:ne.id)===t&&re(e=>d(d({},e),{},{photo_url:a}))}catch(Jk){Qt.error("Failed to save photo")}else Q(e=>d(d({},e),{},{photo_url:a})),Qt.success("Photo ready!")},a.readAsDataURL(e)}finally{V(!1)}}else Qt.error("Please select an image file")},he=()=>{Q({name:"",mobile:"",email:"",photo_url:"",address:"",designation:"teacher",department:"",qualification:"",joining_date:(new Date).toISOString().split("T")[0],salary:"",create_login:!0,password:"",role:"teacher",custom_permissions:null,can_teach:!1}),j(null),J(!1),Z("teacher")},pe=()=>{he(),b(!0)},xe=async(e,t)=>{try{const a=localStorage.getItem("token");await zr.post("".concat(jy,"/api/employees/").concat(e.id,"/toggle-login"),{enable:t,password:e.mobile},{headers:{Authorization:"Bearer ".concat(a)}}),Qt.success(t?"Login enabled! Default password: Mobile number":"Login disabled"),ce()}catch(a){Qt.error("Error toggling login")}},ge=async()=>{if(0!==i.length){D(!0),Qt.info("Generating ID cards...");try{const t=localStorage.getItem("token"),a=[];for(const r of i)try{var e;const s=await zr.get("/api/id-card/generate/"+(r.role||"teacher")+"/"+r.id,{headers:{Authorization:"Bearer "+t}});null!==(e=s.data)&&void 0!==e&&e.id_card&&a.push({card:s.data.id_card,school:s.data.school})}catch($k){console.error("Error fetching card for",r.name)}const s=window.open("","_blank");if(!s)return Qt.error("Popup blocked - please allow popups"),void D(!1);const n="<!DOCTYPE html><html><head><title>Bulk Employee ID Cards</title><style>@page{size:A4;margin:10mm}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial,sans-serif;display:flex;flex-wrap:wrap;gap:10mm;padding:10mm;-webkit-print-color-adjust:exact;print-color-adjust:exact}.id-card{width:85.6mm;height:54mm;border-radius:4mm;overflow:hidden;position:relative;color:white;padding:3mm;page-break-inside:avoid}.watermark{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.15;width:25mm;height:25mm}.watermark img{width:100%;height:100%;object-fit:contain}.content{position:relative;z-index:1;height:100%;display:flex;flex-direction:column}.header{display:flex;align-items:center;gap:2mm;padding-bottom:2mm;border-bottom:0.3mm solid rgba(255,255,255,0.3);margin-bottom:2mm}.header-logo{width:7mm;height:7mm;background:white;border-radius:50%;padding:0.5mm}.header-logo img{width:100%;height:100%;object-fit:contain;border-radius:50%}.header-text{flex:1;text-align:center}.school-name{font-size:8pt;font-weight:bold;text-transform:uppercase}.card-type{font-size:5pt;background:rgba(255,255,255,0.25);padding:0.5mm 2mm;border-radius:2mm;display:inline-block;margin-top:1mm}.body{display:flex;gap:2mm;flex:1}.photo{width:16mm;height:20mm;background:white;border-radius:2mm;display:flex;align-items:center;justify-content:center;color:#999;font-size:6pt}.details{flex:1;font-size:6pt}.name{font-size:9pt;font-weight:bold;color:#fef08a;margin-bottom:1mm}.detail-row{margin-bottom:0.5mm}.label{opacity:0.8;width:18mm;display:inline-block}.value{font-weight:600}.contact{background:rgba(255,255,255,0.2);padding:1mm;border-radius:1mm;margin-top:1mm;font-size:5.5pt}.footer{font-size:4pt;opacity:0.8;text-align:right;margin-top:auto}</style></head><body>"+a.map(e=>{const t=e.card,a=e.school,s=t.role_color||"#1e40af",n=t.is_higher_authority,r=n?"background:rgba(251,191,36,0.3);border:1px solid rgba(251,191,36,0.5);":"";return'<div class="id-card" style="'+("background:linear-gradient(135deg,"+s+" 0%,"+s+"cc 50%,"+s+" 100%);"+(n?"border:2px solid #fbbf24;":""))+'">'+(null!==a&&void 0!==a&&a.logo_url?'<div class="watermark"><img src="'+a.logo_url+'" alt=""/></div>':"")+'<div class="content"><div class="header">'+(null!==a&&void 0!==a&&a.logo_url?'<div class="header-logo"><img src="'+a.logo_url+'" alt=""/></div>':"")+'<div class="header-text"><div class="school-name">'+((null===a||void 0===a?void 0:a.name)||"School")+'</div><div class="card-type" style="'+r+'">'+t.card_type+'</div></div></div><div class="body"><div class="photo"><span>Photo</span></div><div class="details"><div class="name">'+t.name+'</div><div class="detail-row"><span class="label">Designation:</span><span class="value">'+t.designation+(t.designation_hindi?" / "+t.designation_hindi:"")+"</span></div>"+(t.department?'<div class="detail-row"><span class="label">Dept:</span><span class="value">'+t.department+"</span></div>":"")+(t.blood_group?'<div class="detail-row"><span class="label">Blood:</span><span class="value">'+t.blood_group+"</span></div>":"")+(t.phone?'<div class="contact">\ud83d\udcde '+t.phone+"</div>":"")+(t.emergency_contact?'<div class="contact" style="margin-top:1mm">\ud83c\udd98 '+t.emergency_contact+"</div>":"")+'</div></div><div class="footer">Valid: '+(t.valid_until||(new Date).getFullYear()+1)+"</div></div></div>"}).join("")+"<script>window.onload=function(){setTimeout(function(){window.print()},1000)}<\/script></body></html>";s.document.write(n),s.document.close(),Qt.success(a.length+" ID cards ready to print!")}catch(t){Qt.error("Error generating bulk ID cards")}finally{D(!1)}}else Qt.error("No employees to print")},fe=async(e,t)=>{try{const a=localStorage.getItem("token");await zr.put("".concat(jy,"/api/employees/").concat(e),{custom_permissions:t,school_id:n},{headers:{Authorization:"Bearer ".concat(a)}}),Qt.success("Permissions updated!"),ce()}catch(a){Qt.error("Permission update failed")}},ve=(e,t)=>{const a=Ny[t];a&&(ie(t=>d(d({},t),{},{[e]:d({},a.permissions)})),fe(e,a.permissions))},be=(e,t,a)=>{var s;const n=d(d({},le[e]||(null===(s=i.find(t=>t.id===e))||void 0===s?void 0:s.permissions)||{}),{},{[t]:!a});ie(t=>d(d({},t),{},{[e]:n})),fe(e,n)};return r?(0,Hr.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-blue-600"})}):(0,Hr.jsxs)("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,Hr.jsx)(tl,{className:"w-7 h-7 text-blue-600"}),"Employee Management"]}),(0,Hr.jsx)("p",{className:"text-gray-500 text-sm",children:"Staff + Users \u090f\u0915 \u091c\u0917\u0939 manage \u0915\u0930\u0947\u0902"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,Hr.jsx)(ay,{type:"employee",schoolId:n,onImportComplete:ce}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:ge,disabled:M||0===i.length,className:"gap-2","data-testid":"bulk-print-employee-btn",children:[M?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin"}):(0,Hr.jsx)(Ch,{className:"w-4 h-4"}),"Bulk Print ID Cards"]}),(0,Hr.jsxs)(Io,{onClick:pe,className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4"})," Add Employee"]})]})]}),(0,Hr.jsx)("div",{className:"flex gap-1 p-1 bg-slate-100 rounded-xl mb-6 overflow-x-auto",children:[{id:"staff",label:"\ud83d\udc65 All Staff",icon:tl},{id:"permissions",label:"\ud83d\udee1\ufe0f Permissions",icon:Bl},{id:"quick_actions",label:"\u26a1 Quick Actions",icon:Cl}].map(e=>(0,Hr.jsxs)("button",{onClick:()=>te(e.id),className:"flex items-center gap-2 px-5 py-3 rounded-lg text-sm font-semibold whitespace-nowrap transition-all ".concat(ee===e.id?"bg-white text-blue-700 shadow-md border border-blue-100":"text-slate-600 hover:bg-white/60 hover:text-slate-800"),children:[(0,Hr.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.id))}),"staff"===ee&&(0,Hr.jsxs)("div",{className:"flex gap-4",style:{height:"calc(100vh - 220px)"},children:[(0,Hr.jsxs)("div",{className:"w-2/5 flex flex-col bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"p-3 border-b border-gray-100 space-y-2",children:[(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)(Dh,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,Hr.jsx)(Lo,{placeholder:"Search staff...",value:m,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&ue(),className:"pl-9 h-9 text-sm"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)("select",{className:"flex-1 border rounded-lg px-2 py-1.5 text-xs bg-white",value:p,onChange:e=>{x(e.target.value),setTimeout(ue,100)},children:[(0,Hr.jsx)("option",{value:"",children:"All Roles"}),c.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Hr.jsxs)("select",{className:"border rounded-lg px-2 py-1.5 text-xs bg-white",value:g,onChange:e=>{f(e.target.value),setTimeout(ue,100)},children:[(0,Hr.jsx)("option",{value:"",children:"All"}),(0,Hr.jsx)("option",{value:"true",children:"Login"}),(0,Hr.jsx)("option",{value:"false",children:"No Login"})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 px-1",children:[(0,Hr.jsxs)("span",{children:[i.length," staff members"]}),(0,Hr.jsxs)("span",{className:"text-green-600",children:[i.filter(e=>e.has_login).length," active"]})]})]}),(0,Hr.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===i.length?(0,Hr.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-6",children:[(0,Hr.jsx)(tl,{className:"w-10 h-10 mb-2"}),(0,Hr.jsx)("p",{className:"text-sm",children:"No staff found"})]}):i.map(e=>{var t,a;return(0,Hr.jsxs)("div",{onClick:()=>(e=>{re(e)})(e),className:"flex items-center gap-3 px-3 py-3 cursor-pointer border-b border-gray-50 transition-all hover:bg-blue-50/50 ".concat((null===ne||void 0===ne?void 0:ne.id)===e.id?"bg-blue-50 border-l-[3px] border-l-blue-500":"border-l-[3px] border-l-transparent"),children:[e.photo_url?(0,Hr.jsx)("img",{src:e.photo_url,alt:e.name,className:"w-10 h-10 rounded-full object-cover border-2 border-blue-200 flex-shrink-0"}):(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold text-sm flex-shrink-0",children:null===(t=e.name)||void 0===t||null===(a=t.charAt(0))||void 0===a?void 0:a.toUpperCase()}),(0,Hr.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Hr.jsx)("div",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),(0,Hr.jsxs)("div",{className:"text-xs text-gray-500 truncate",children:[e.designation,e.department?" \u2022 "+e.department:""]}),(0,Hr.jsxs)("div",{className:"text-[11px] text-gray-400 truncate",children:[e.qualification&&(0,Hr.jsx)("span",{children:e.qualification}),e.qualification&&e.mobile&&(0,Hr.jsx)("span",{children:" \u2022 "}),e.mobile&&(0,Hr.jsxs)("span",{children:["\ud83d\udcf1 ",e.mobile]})]})]}),(0,Hr.jsx)("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:e.has_login?(0,Hr.jsxs)("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-green-100 text-green-700 rounded-full text-[10px]",children:[(0,Hr.jsx)(gy,{className:"w-2.5 h-2.5"})," Active"]}):(0,Hr.jsxs)("span",{className:"inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-gray-100 text-gray-500 rounded-full text-[10px]",children:[(0,Hr.jsx)(my,{className:"w-2.5 h-2.5"})," Off"]})})]},e.id)})})]}),(0,Hr.jsx)("div",{className:"w-3/5 bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:ne?(0,Hr.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,Hr.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-5 text-white",children:[(0,Hr.jsx)("input",{type:"file",ref:K,className:"hidden",accept:"image/*",onChange:e=>{e.target.files[0]&&null!==ne&&void 0!==ne&&ne.id&&me(e.target.files[0],ne.id),e.target.value=""}}),(0,Hr.jsxs)("div",{className:"flex items-start gap-5",children:[(0,Hr.jsxs)("div",{className:"relative flex-shrink-0 group cursor-pointer",onClick:()=>{var e;return null===(e=K.current)||void 0===e?void 0:e.click()},children:[ne.photo_url?(0,Hr.jsx)("img",{src:ne.photo_url,alt:ne.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white/40 shadow-lg"}):(0,Hr.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:null===(e=ne.name)||void 0===e||null===(a=e.charAt(0))||void 0===a?void 0:a.toUpperCase()}),(0,Hr.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:W?(0,Hr.jsx)(ul,{className:"w-6 h-6 animate-spin"}):(0,Hr.jsx)(Eh,{className:"w-6 h-6"})})]}),(0,Hr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold truncate",children:ne.name}),(0,Hr.jsxs)("p",{className:"text-blue-100 text-sm",children:[ne.designation,ne.department?" \u2022 "+ne.department:""]}),(0,Hr.jsx)("p",{className:"text-blue-200 text-xs mt-0.5",children:ne.employee_id}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[ne.has_login?(0,Hr.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-500/20 text-green-100 rounded-full text-xs",children:[(0,Hr.jsx)(gy,{className:"w-3 h-3"})," Login Active"]}):(0,Hr.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-white/15 text-white/70 rounded-full text-xs",children:[(0,Hr.jsx)(my,{className:"w-3 h-3"})," No Login"]}),ne.role&&(0,Hr.jsx)("span",{className:"px-2 py-0.5 bg-white/15 text-white/80 rounded-full text-xs capitalize",children:ne.role}),ne.can_teach&&(0,Hr.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-500/20 text-amber-100 rounded-full text-xs",children:[(0,Hr.jsx)(cl,{className:"w-3 h-3"})," Can Teach"]})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 mt-3 flex-wrap",children:[(0,Hr.jsxs)(Io,{size:"sm",className:"bg-white text-blue-700 hover:bg-blue-50 gap-1 h-8 text-xs",onClick:()=>{return Q({name:(e=ne).name||"",mobile:e.mobile||"",email:e.email||"",photo_url:e.photo_url||"",address:e.address||"",designation:e.designation||"teacher",department:e.department||"",qualification:e.qualification||"",joining_date:e.joining_date||"",salary:e.salary||"",create_login:e.has_login||!1,password:"",role:e.role||"teacher",custom_permissions:e.permissions||null,can_teach:e.can_teach||!1}),j(e),void b(!0);var e},children:[(0,Hr.jsx)(fy,{className:"w-3 h-3"})," Edit"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"border-white/60 text-white hover:bg-white/25 bg-white/10 gap-1 h-8 text-xs",onClick:()=>(e=>{var t,a;const s=window.open("","_blank");if(!s)return void Qt.error("Popup blocked - please allow popups");const n=e.permissions||{},r=Object.entries(wy).map(e=>{let[t,a]=e;return'<span style="display:inline-block;margin:2px 4px;padding:2px 8px;border-radius:4px;font-size:11px;background:'+(n[t]?"#dcfce7":"#fee2e2")+";color:"+(n[t]?"#166534":"#991b1b")+'">'+a.icon+" "+a.label+"</span>"}).join(""),l=e.photo_url?'<img src="'+e.photo_url+'" style="width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid #3b82f6" />':'<div style="width:120px;height:120px;border-radius:50%;background:#dbeafe;display:flex;align-items:center;justify-content:center;font-size:48px;color:#2563eb;font-weight:bold">'+((null===(t=e.name)||void 0===t||null===(a=t.charAt(0))||void 0===a?void 0:a.toUpperCase())||"?")+"</div>",i="<!DOCTYPE html><html><head><title>Employee Profile - "+e.name+'</title><style>@page{size:A4;margin:15mm}body{font-family:Arial,sans-serif;padding:20px;color:#333}.header{text-align:center;margin-bottom:20px}.section{margin:15px 0;padding:15px;border:1px solid #e5e7eb;border-radius:8px}.section h3{margin:0 0 10px;color:#1e40af;border-bottom:1px solid #e5e7eb;padding-bottom:5px}.grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}.item{font-size:13px}.label{color:#6b7280;font-weight:600}.value{color:#111}</style></head><body><div class="header">'+l+'<h1 style="margin:10px 0 0">'+e.name+'</h1><p style="color:#6b7280;margin:4px 0">'+(e.designation||"")+" | "+(e.department||"")+'</p><p style="color:#6b7280;font-size:12px">'+(e.employee_id||"")+'</p></div><div class="section"><h3>Contact Information</h3><div class="grid"><div class="item"><span class="label">Mobile: </span><span class="value">'+(e.mobile||"-")+'</span></div><div class="item"><span class="label">Email: </span><span class="value">'+(e.email||"-")+'</span></div><div class="item"><span class="label">Address: </span><span class="value">'+(e.address||"-")+'</span></div><div class="item"><span class="label">City: </span><span class="value">'+(e.city||"-")+'</span></div></div></div><div class="section"><h3>Personal Details</h3><div class="grid"><div class="item"><span class="label">Gender: </span><span class="value">'+(e.gender||"-")+'</span></div><div class="item"><span class="label">DOB: </span><span class="value">'+(e.dob||"-")+'</span></div><div class="item"><span class="label">Blood Group: </span><span class="value">'+(e.blood_group||"-")+'</span></div><div class="item"><span class="label">Father: </span><span class="value">'+(e.father_name||"-")+'</span></div><div class="item"><span class="label">Joining Date: </span><span class="value">'+(e.joining_date||"-")+'</span></div><div class="item"><span class="label">Qualification: </span><span class="value">'+(e.qualification||"-")+'</span></div></div></div><div class="section"><h3>Identity Documents</h3><div class="grid"><div class="item"><span class="label">Aadhar: </span><span class="value">'+(e.aadhar_no||"-")+'</span></div><div class="item"><span class="label">PAN: </span><span class="value">'+(e.pan_number||"-")+'</span></div><div class="item"><span class="label">UAN (EPF): </span><span class="value">'+(e.uan_number||"-")+'</span></div><div class="item"><span class="label">Voter ID: </span><span class="value">'+(e.voter_id||"-")+'</span></div></div></div><div class="section"><h3>Bank & Salary</h3><div class="grid"><div class="item"><span class="label">Salary: </span><span class="value">\u20b9'+(e.salary||"-")+'</span></div><div class="item"><span class="label">Bank: </span><span class="value">'+(e.bank_name||"-")+'</span></div><div class="item"><span class="label">Account: </span><span class="value">'+(e.bank_account_no||"-")+'</span></div><div class="item"><span class="label">IFSC: </span><span class="value">'+(e.ifsc_code||"-")+'</span></div></div></div><div class="section"><h3>Permissions</h3><div>'+r+"</div></div><script>window.onload=function(){setTimeout(function(){window.print()},500)}<\/script></body></html>";s.document.write(i),s.document.close()})(ne),children:[(0,Hr.jsx)(Ch,{className:"w-3 h-3"})," Print"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"border-white/60 text-white hover:bg-white/25 bg-white/10 gap-1 h-8 text-xs",onClick:()=>{P(ne),C(!0)},children:[(0,Hr.jsx)(Fh,{className:"w-3 h-3"})," ID Card"]}),ne.has_login?(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"border-white/60 text-white hover:bg-white/25 bg-white/10 gap-1 h-8 text-xs",onClick:()=>xe(ne,!1),children:[(0,Hr.jsx)(Bh,{className:"w-3 h-3"})," Disable Login"]}):(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"border-white/60 text-white hover:bg-white/25 bg-white/10 gap-1 h-8 text-xs",onClick:()=>xe(ne,!0),children:[(0,Hr.jsx)(Bh,{className:"w-3 h-3"})," Enable Login"]}),("director"===(null===s||void 0===s?void 0:s.role)||"admin"===(null===s||void 0===s?void 0:s.role))&&"director"!==ne.role&&(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"border-red-300/50 text-red-200 hover:bg-red-500/20 gap-1 h-8 text-xs",onClick:()=>(L(ne),B(""),void I(!0)),children:[(0,Hr.jsx)(Hh,{className:"w-3 h-3"})," Delete"]})]})]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-blue-800 mb-3 flex items-center gap-2 text-sm",children:[(0,Hr.jsx)(vy,{className:"w-4 h-4"})," Contact"]}),(0,Hr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Mobile"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.mobile||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Email"}),(0,Hr.jsx)("span",{className:"font-medium text-xs",children:ne.email||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Address"}),(0,Hr.jsx)("span",{className:"font-medium text-xs text-right max-w-[60%]",children:ne.address||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"City"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.city||"-"})]}),ne.emergency_contact&&(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Emergency"}),(0,Hr.jsx)("span",{className:"font-medium text-red-600",children:ne.emergency_contact})]})]})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-purple-800 mb-3 flex items-center gap-2 text-sm",children:[(0,Hr.jsx)(Rh,{className:"w-4 h-4"})," Personal Info"]}),(0,Hr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Gender"}),(0,Hr.jsx)("span",{className:"font-medium capitalize",children:ne.gender||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"DOB"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.dob||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Blood Group"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.blood_group||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Father"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.father_name||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Joining Date"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.joining_date||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Qualification"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.qualification||"-"})]})]})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2 text-sm",children:[(0,Hr.jsx)(Fh,{className:"w-4 h-4"})," Identity Documents"]}),(0,Hr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Aadhar"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.aadhar_no||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"PAN"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.pan_number||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"UAN (EPF)"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.uan_number||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Voter ID"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.voter_id||"-"})]})]})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-green-800 mb-3 flex items-center gap-2 text-sm",children:[(0,Hr.jsx)(nl,{className:"w-4 h-4"})," Bank & Salary"]}),(0,Hr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Salary"}),(0,Hr.jsx)("span",{className:"font-bold text-green-700",children:ne.salary?"\u20b9"+ne.salary:"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Bank"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.bank_name||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Account"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.bank_account_no||"-"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"IFSC"}),(0,Hr.jsx)("span",{className:"font-medium",children:ne.ifsc_code||"-"})]})]})]})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-indigo-800 mb-3 flex items-center gap-2 text-sm",children:[(0,Hr.jsx)(Bl,{className:"w-4 h-4"})," Permissions"]}),(0,Hr.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:Object.entries(Ny).map(e=>{let[t,a]=e;return(0,Hr.jsx)("button",{onClick:()=>ve(ne.id,t),className:"px-2 py-1 rounded-md text-xs border bg-white hover:bg-indigo-50 hover:border-indigo-300 transition-all",title:a.description,children:a.label},t)})}),(0,Hr.jsx)("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(wy).map(e=>{let[t,a]=e;const s=(le[ne.id]||ne.permissions||{})[t]||!1;return(0,Hr.jsxs)("button",{onClick:()=>be(ne.id,t,s),className:"flex items-center gap-1 px-2 py-1 rounded-lg text-xs border transition-all ".concat(s?"bg-green-50 border-green-300 text-green-700":"bg-gray-50 border-gray-200 text-gray-500 hover:bg-gray-100"),children:[s?(0,Hr.jsx)(Gb,{className:"w-3 h-3"}):(0,Hr.jsx)(Kb,{className:"w-3 h-3"}),a.icon," ",a.label]},t)})})]})]})]}):(0,Hr.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,Hr.jsx)(Rh,{className:"w-16 h-16 mb-3 text-gray-300"}),(0,Hr.jsx)("p",{className:"text-lg font-medium text-gray-400",children:"Select a staff member to view profile"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:"Click on any staff from the list"})]})})]}),"permissions"===ee&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border p-4 mb-4",children:[(0,Hr.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 mb-1",children:[(0,Hr.jsx)(Bl,{className:"w-5 h-5 text-indigo-600"}),"Quick Permission Manager (\u0924\u094d\u0935\u0930\u093f\u0924 \u0905\u0928\u0941\u092e\u0924\u093f \u092a\u094d\u0930\u092c\u0902\u0927\u0915)"]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"Preset apply \u0915\u0930\u0947\u0902 \u092f\u093e individual permissions toggle \u0915\u0930\u0947\u0902"})]}),0===i.length?(0,Hr.jsx)("div",{className:"bg-white rounded-xl border p-8 text-center text-gray-500",children:"No employees found"}):i.map(e=>{var t,a;const s=le[e.id]||e.permissions||{};return(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border shadow-sm p-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3 mb-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[e.photo_url?(0,Hr.jsx)("img",{src:e.photo_url,alt:e.name,className:"w-10 h-10 rounded-full object-cover border-2 border-blue-200"}):(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:null===(t=e.name)||void 0===t||null===(a=t.charAt(0))||void 0===a?void 0:a.toUpperCase()}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("div",{className:"font-semibold",children:e.name}),(0,Hr.jsxs)("div",{className:"text-xs text-gray-500",children:[e.designation," ",e.department?"\u2022 "+e.department:""]})]})]}),(0,Hr.jsx)("div",{className:"flex gap-1 flex-wrap",children:Object.entries(Ny).map(t=>{let[a,s]=t;return(0,Hr.jsx)("button",{onClick:()=>ve(e.id,a),className:"px-2 py-1 rounded text-xs border bg-white hover:bg-indigo-50 hover:border-indigo-300 transition-all",title:s.description,children:s.label},a)})})]}),(0,Hr.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(wy).map(t=>{let[a,n]=t;const r=s[a]||!1;return(0,Hr.jsxs)("button",{onClick:()=>be(e.id,a,r),className:"flex items-center gap-1 px-2 py-1 rounded-lg text-xs border transition-all ".concat(r?"bg-green-50 border-green-300 text-green-700":"bg-gray-50 border-gray-200 text-gray-500 hover:bg-gray-100"),children:[r?(0,Hr.jsx)(Gb,{className:"w-3 h-3"}):(0,Hr.jsx)(Kb,{className:"w-3 h-3"}),n.icon," ",n.label]},a)})})]},e.id)})]}),"quick_actions"===ee&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border p-4 mb-4",children:[(0,Hr.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 mb-1",children:[(0,Hr.jsx)(Cl,{className:"w-5 h-5 text-amber-600"}),"Quick Actions (\u0924\u094d\u0935\u0930\u093f\u0924 \u0915\u093e\u0930\u094d\u092f)"]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"Bulk operations aur quick shortcuts"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("button",{onClick:pe,className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-blue-300 transition-all group",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:(0,Hr.jsx)(oy,{className:"w-5 h-5 text-blue-600"})}),(0,Hr.jsx)("div",{className:"font-semibold text-slate-800",children:"Add New Employee"})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"\u0928\u092f\u093e \u0915\u0930\u094d\u092e\u091a\u093e\u0930\u0940 \u091c\u094b\u0921\u093c\u0947\u0902"})]}),(0,Hr.jsxs)("button",{onClick:ge,disabled:M||0===i.length,className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-purple-300 transition-all group disabled:opacity-50",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:(0,Hr.jsx)(Ch,{className:"w-5 h-5 text-purple-600"})}),(0,Hr.jsx)("div",{className:"font-semibold text-slate-800",children:"Bulk Print ID Cards"})]}),(0,Hr.jsxs)("p",{className:"text-sm text-gray-500",children:[i.length," employees ke ID cards print \u0915\u0930\u0947\u0902"]})]}),(0,Hr.jsxs)("button",{onClick:()=>te("permissions"),className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-indigo-300 transition-all group",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center group-hover:bg-indigo-200 transition-colors",children:(0,Hr.jsx)(Bl,{className:"w-5 h-5 text-indigo-600"})}),(0,Hr.jsx)("div",{className:"font-semibold text-slate-800",children:"Manage Permissions"})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"\u0938\u092d\u0940 \u0915\u0930\u094d\u092e\u091a\u093e\u0930\u093f\u092f\u094b\u0902 \u0915\u0940 permissions manage \u0915\u0930\u0947\u0902"})]}),(0,Hr.jsxs)("button",{onClick:()=>{const e=i.filter(e=>e.has_login),t=i.filter(e=>!e.has_login);Qt.info("Login: ".concat(e.length," Active, ").concat(t.length," Inactive"))},className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-green-300 transition-all group",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center group-hover:bg-green-200 transition-colors",children:(0,Hr.jsx)(Bh,{className:"w-5 h-5 text-green-600"})}),(0,Hr.jsx)("div",{className:"font-semibold text-slate-800",children:"Login Status Overview"})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"Login enable/disable status \u0926\u0947\u0916\u0947\u0902"})]}),(0,Hr.jsxs)("button",{onClick:()=>ce(),className:"bg-white rounded-xl border p-6 text-left hover:shadow-md hover:border-cyan-300 transition-all group",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-cyan-100 flex items-center justify-center group-hover:bg-cyan-200 transition-colors",children:(0,Hr.jsx)(Dh,{className:"w-5 h-5 text-cyan-600"})}),(0,Hr.jsx)("div",{className:"font-semibold text-slate-800",children:"Refresh Data"})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"Employee list refresh \u0915\u0930\u0947\u0902"})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border p-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:(0,Hr.jsx)(by,{className:"w-5 h-5 text-amber-600"})}),(0,Hr.jsx)("div",{className:"font-semibold text-slate-800",children:"Staff Summary"})]}),(0,Hr.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,Hr.jsxs)("div",{children:["Total: ",(0,Hr.jsx)("span",{className:"font-bold text-blue-700",children:i.length})]}),(0,Hr.jsxs)("div",{children:["Teachers: ",(0,Hr.jsx)("span",{className:"font-bold text-amber-700",children:i.filter(e=>{var t;return null===(t=e.designation)||void 0===t?void 0:t.toLowerCase().includes("teacher")}).length})]}),(0,Hr.jsxs)("div",{children:["With Login: ",(0,Hr.jsx)("span",{className:"font-bold text-green-700",children:i.filter(e=>e.has_login).length})]})]})]})]})]}),v&&(0,Hr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 overflow-y-auto",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full p-6 my-8",children:[(0,Hr.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(Rh,{className:"w-6 h-6 text-blue-600"}),y?"\u270f\ufe0f Edit Employee":"\ud83d\udc64 Add New Employee"]}),(0,Hr.jsx)("div",{className:"flex gap-1 p-1 bg-slate-100 rounded-lg mb-4 overflow-x-auto",children:[{id:"basic",label:"\ud83d\udccb Basic"},{id:"personal",label:"\ud83d\udc64 Personal & Contact"},{id:"identity",label:"\ud83c\udd94 ID & Documents"},{id:"bank",label:"\ud83c\udfe6 Bank & Salary"},{id:"login",label:"\ud83d\udd10 Login Access"}].map(e=>(0,Hr.jsx)("button",{type:"button",onClick:()=>U(e.id),className:"flex items-center gap-1 px-3 py-2 rounded-md text-sm font-medium whitespace-nowrap transition-all ".concat(q===e.id?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:bg-white/50"),children:e.label},e.id))}),(0,Hr.jsxs)("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:["basic"===q&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-slate-800 border-b pb-2",children:"\ud83d\udccb Basic Information (\u092e\u0942\u0932 \u091c\u093e\u0928\u0915\u093e\u0930\u0940)"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,Hr.jsx)("input",{type:"file",ref:G,className:"hidden",accept:"image/*",onChange:e=>{e.target.files[0]&&me(e.target.files[0]),e.target.value=""}}),(0,Hr.jsxs)("div",{className:"relative w-20 h-20 rounded-full border-2 border-dashed border-blue-300 flex items-center justify-center cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all group flex-shrink-0",onClick:()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.click()},children:[Y.photo_url?(0,Hr.jsx)("img",{src:Y.photo_url,alt:"Staff",className:"w-full h-full rounded-full object-cover"}):(0,Hr.jsx)(Eh,{className:"w-8 h-8 text-blue-400 group-hover:text-blue-600"}),W&&(0,Hr.jsx)("div",{className:"absolute inset-0 rounded-full bg-white/70 flex items-center justify-center",children:(0,Hr.jsx)(ul,{className:"w-6 h-6 animate-spin text-blue-600"})}),Y.photo_url&&(0,Hr.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Hr.jsx)(Eh,{className:"w-5 h-5 text-white"})})]}),(0,Hr.jsxs)("div",{className:"text-sm text-slate-500",children:[(0,Hr.jsx)("p",{className:"font-medium text-slate-700",children:"Staff Photo"}),(0,Hr.jsx)("p",{children:"Click to upload (Max 5MB)"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Name * (\u0928\u093e\u092e)"}),(0,Hr.jsx)(Lo,{value:Y.name,onChange:e=>Q(t=>d(d({},t),{},{name:e.target.value})),placeholder:"Full Name","data-testid":"employee-name-input"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Designation * (\u092a\u0926\u0928\u093e\u092e)"}),(0,Hr.jsx)("select",{className:"w-full border rounded-lg px-3 py-2 h-10",value:Y.designation,onChange:e=>(e=>{const t=c.find(t=>t.id===e);Q(a=>d(d({},a),{},{designation:e,role:(null===t||void 0===t?void 0:t.default_role)||a.role||"teacher"}))})(e.target.value),"data-testid":"designation-select",children:c.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Department (\u0935\u093f\u092d\u093e\u0917)"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10",value:Y.department,onChange:e=>Q(t=>d(d({},t),{},{department:e.target.value})),children:[(0,Hr.jsx)("option",{value:"",children:"Select Department"}),(0,Hr.jsx)("option",{value:"Administration",children:"Administration (\u092a\u094d\u0930\u0936\u093e\u0938\u0928)"}),(0,Hr.jsx)("option",{value:"Academic",children:"Academic (\u0936\u0948\u0915\u094d\u0937\u0923\u093f\u0915)"}),(0,Hr.jsx)("option",{value:"Science",children:"Science (\u0935\u093f\u091c\u094d\u091e\u093e\u0928)"}),(0,Hr.jsx)("option",{value:"Arts",children:"Arts (\u0915\u0932\u093e)"}),(0,Hr.jsx)("option",{value:"Commerce",children:"Commerce (\u0935\u093e\u0923\u093f\u091c\u094d\u092f)"}),(0,Hr.jsx)("option",{value:"Sports",children:"Sports (\u0916\u0947\u0932\u0915\u0942\u0926)"}),(0,Hr.jsx)("option",{value:"IT",children:"IT (\u0906\u0908\u091f\u0940)"}),(0,Hr.jsx)("option",{value:"Accounts",children:"Accounts (\u0932\u0947\u0916\u093e)"}),(0,Hr.jsx)("option",{value:"Transport",children:"Transport (\u092a\u0930\u093f\u0935\u0939\u0928)"}),(0,Hr.jsx)("option",{value:"Hostel",children:"Hostel (\u091b\u093e\u0924\u094d\u0930\u093e\u0935\u093e\u0938)"}),(0,Hr.jsx)("option",{value:"Library",children:"Library (\u092a\u0941\u0938\u094d\u0924\u0915\u093e\u0932\u092f)"}),(0,Hr.jsx)("option",{value:"Lab",children:"Lab (\u092a\u094d\u0930\u092f\u094b\u0917\u0936\u093e\u0932\u093e)"}),(0,Hr.jsx)("option",{value:"Other",children:"Other (\u0905\u0928\u094d\u092f)"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Mobile * (\u092e\u094b\u092c\u093e\u0907\u0932)"}),(0,Hr.jsx)(Lo,{value:Y.mobile,onChange:e=>Q(t=>d(d({},t),{},{mobile:e.target.value})),placeholder:"9876543210","data-testid":"employee-mobile-input"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Email * (\u0908\u092e\u0947\u0932)"}),(0,Hr.jsx)(Lo,{type:"email",value:Y.email,onChange:e=>Q(t=>d(d({},t),{},{email:e.target.value})),placeholder:"email@school.com","data-testid":"employee-email-input"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Joining Date (\u0928\u093f\u092f\u0941\u0915\u094d\u0924\u093f \u0924\u093f\u0925\u093f)"}),(0,Hr.jsx)(Lo,{type:"date",value:Y.joining_date,onChange:e=>Q(t=>d(d({},t),{},{joining_date:e.target.value}))})]})]})]}),"personal"===q&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-blue-800 mb-3",children:"\ud83d\udc64 Personal Details"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Gender"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Y.gender,onChange:e=>Q(t=>d(d({},t),{},{gender:e.target.value})),children:[(0,Hr.jsx)("option",{value:"male",children:"Male"}),(0,Hr.jsx)("option",{value:"female",children:"Female"}),(0,Hr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Date of Birth"}),(0,Hr.jsx)(Lo,{type:"date",value:Y.dob,onChange:e=>Q(t=>d(d({},t),{},{dob:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Blood Group"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Y.blood_group||"",onChange:e=>Q(t=>d(d({},t),{},{blood_group:e.target.value})),children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),["A+","A-","B+","B-","O+","O-","AB+","AB-"].map(e=>(0,Hr.jsx)("option",{value:e,children:e},e))]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Marital Status"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Y.marital_status,onChange:e=>Q(t=>d(d({},t),{},{marital_status:e.target.value})),children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"Single",children:"Single"}),(0,Hr.jsx)("option",{value:"Married",children:"Married"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Father Name"}),(0,Hr.jsx)(Lo,{value:Y.father_name,onChange:e=>Q(t=>d(d({},t),{},{father_name:e.target.value})),placeholder:"Father's name"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Spouse Name"}),(0,Hr.jsx)(Lo,{value:Y.spouse_name,onChange:e=>Q(t=>d(d({},t),{},{spouse_name:e.target.value})),placeholder:"If married"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Nationality"}),(0,Hr.jsx)(Lo,{value:Y.nationality,onChange:e=>Q(t=>d(d({},t),{},{nationality:e.target.value})),placeholder:"Indian"})]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-green-800 mb-3",children:"\ud83c\udfe0 Address (\u092a\u0924\u093e)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,Hr.jsxs)("div",{className:"col-span-2 md:col-span-3",children:[(0,Hr.jsx)(Wo,{children:"Current Address"}),(0,Hr.jsx)(Lo,{value:Y.address,onChange:e=>Q(t=>d(d({},t),{},{address:e.target.value})),placeholder:"Full current address"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"City"}),(0,Hr.jsx)(Lo,{value:Y.city,onChange:e=>Q(t=>d(d({},t),{},{city:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"State"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Y.state,onChange:e=>Q(t=>d(d({},t),{},{state:e.target.value})),children:[(0,Hr.jsx)("option",{value:"",children:"Select State"}),(0,Hr.jsx)("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),(0,Hr.jsx)("option",{value:"Rajasthan",children:"Rajasthan"}),(0,Hr.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,Hr.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,Hr.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Pincode"}),(0,Hr.jsx)(Lo,{value:Y.pincode,onChange:e=>Q(t=>d(d({},t),{},{pincode:e.target.value})),placeholder:"6 digit"})]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-red-800 mb-3",children:"\ud83c\udd98 Emergency Contact"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Contact Name"}),(0,Hr.jsx)(Lo,{value:Y.emergency_contact_name,onChange:e=>Q(t=>d(d({},t),{},{emergency_contact_name:e.target.value})),placeholder:"Family member"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Contact Number"}),(0,Hr.jsx)(Lo,{value:Y.emergency_contact||"",onChange:e=>Q(t=>d(d({},t),{},{emergency_contact:e.target.value})),placeholder:"10 digit mobile"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Relation"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Y.emergency_relation,onChange:e=>Q(t=>d(d({},t),{},{emergency_relation:e.target.value})),children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,Hr.jsx)("option",{value:"Father",children:"Father"}),(0,Hr.jsx)("option",{value:"Mother",children:"Mother"}),(0,Hr.jsx)("option",{value:"Other",children:"Other"})]})]})]})]})]}),"identity"===q&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-slate-800 mb-3",children:"\ud83c\udd94 Identity Documents (\u092a\u0939\u091a\u093e\u0928 \u0926\u0938\u094d\u0924\u093e\u0935\u0947\u091c\u093c)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Aadhar Number"}),(0,Hr.jsx)(Lo,{value:Y.aadhar_no,onChange:e=>Q(t=>d(d({},t),{},{aadhar_no:e.target.value})),placeholder:"12 digit Aadhar"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"PAN Number"}),(0,Hr.jsx)(Lo,{value:Y.pan_number,onChange:e=>Q(t=>d(d({},t),{},{pan_number:e.target.value.toUpperCase()})),placeholder:"ABCDE1234F"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Voter ID"}),(0,Hr.jsx)(Lo,{value:Y.voter_id,onChange:e=>Q(t=>d(d({},t),{},{voter_id:e.target.value})),placeholder:"Voter ID"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"UAN (EPF)"}),(0,Hr.jsx)(Lo,{value:Y.uan_number,onChange:e=>Q(t=>d(d({},t),{},{uan_number:e.target.value})),placeholder:"UAN Number"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"ESI Number"}),(0,Hr.jsx)(Lo,{value:Y.esi_number,onChange:e=>Q(t=>d(d({},t),{},{esi_number:e.target.value})),placeholder:"ESI number"})]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-purple-800 mb-3",children:"\ud83c\udf93 Qualification & Experience"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Highest Qualification"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 text-sm",value:Y.qualification,onChange:e=>Q(t=>d(d({},t),{},{qualification:e.target.value})),children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"10th Pass",children:"10th Pass"}),(0,Hr.jsx)("option",{value:"12th Pass",children:"12th Pass"}),(0,Hr.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,Hr.jsx)("option",{value:"Post Graduate",children:"Post Graduate"}),(0,Hr.jsx)("option",{value:"B.Ed",children:"B.Ed"}),(0,Hr.jsx)("option",{value:"PhD",children:"PhD"}),(0,Hr.jsx)("option",{value:"ITI",children:"ITI"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Specialization"}),(0,Hr.jsx)(Lo,{value:Y.specialization,onChange:e=>Q(t=>d(d({},t),{},{specialization:e.target.value})),placeholder:"e.g., Maths, Physics"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Experience (Years)"}),(0,Hr.jsx)(Lo,{type:"number",value:Y.experience_years,onChange:e=>Q(t=>d(d({},t),{},{experience_years:e.target.value})),placeholder:"Years"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Previous Employer"}),(0,Hr.jsx)(Lo,{value:Y.previous_employer,onChange:e=>Q(t=>d(d({},t),{},{previous_employer:e.target.value})),placeholder:"Previous school"})]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[(0,Hr.jsx)("h4",{className:"font-medium text-amber-800 mb-3",children:"\ud83d\udcc4 Documents Upload"}),y?(0,Hr.jsx)(ry,{personId:y.id,personType:"employee",schoolId:n,existingDocuments:[]}):(0,Hr.jsx)("div",{className:"text-center py-4",children:(0,Hr.jsx)("p",{className:"text-sm text-amber-600",children:"\ud83d\udca1 Employee add \u0939\u094b\u0928\u0947 \u0915\u0947 \u092c\u093e\u0926 Edit \u0915\u0930\u0915\u0947 documents upload \u0915\u0930\u0947\u0902"})}),(0,Hr.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:["Aadhar","PAN","Photo","10th","12th","Degree","B.Ed","Experience Letter","Bank Proof"].map((e,t)=>(0,Hr.jsx)("span",{className:"px-2 py-1 bg-white rounded text-xs text-slate-600 border",children:e},t))})]})]}),"bank"===q&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-slate-800 border-b pb-2",children:"\ud83c\udfe6 Bank & Salary Details (\u092c\u0948\u0902\u0915 \u0914\u0930 \u0935\u0947\u0924\u0928)"}),(0,Hr.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,Hr.jsx)("h5",{className:"font-medium text-green-800 mb-3",children:"\ud83d\udcb0 Salary Details (\u0935\u0947\u0924\u0928 \u0935\u093f\u0935\u0930\u0923)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Monthly Salary (\u20b9)"}),(0,Hr.jsx)(Lo,{type:"number",value:Y.salary,onChange:e=>Q(t=>d(d({},t),{},{salary:e.target.value})),placeholder:"25000"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Salary Type"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10",value:Y.salary_type,onChange:e=>Q(t=>d(d({},t),{},{salary_type:e.target.value})),children:[(0,Hr.jsx)("option",{value:"monthly",children:"Monthly (\u092e\u093e\u0938\u093f\u0915)"}),(0,Hr.jsx)("option",{value:"daily",children:"Daily (\u0926\u0948\u0928\u093f\u0915)"})]})]})]}),(0,Hr.jsxs)("div",{className:"flex flex-wrap gap-4 mt-3",children:[(0,Hr.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,Hr.jsx)("input",{type:"checkbox",checked:Y.pf_applicable,onChange:e=>Q(t=>d(d({},t),{},{pf_applicable:e.target.checked})),className:"w-4 h-4"}),"PF Applicable (PF \u0932\u093e\u0917\u0942)"]}),(0,Hr.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,Hr.jsx)("input",{type:"checkbox",checked:Y.esi_applicable,onChange:e=>Q(t=>d(d({},t),{},{esi_applicable:e.target.checked})),className:"w-4 h-4"}),"ESI Applicable (ESI \u0932\u093e\u0917\u0942)"]}),(0,Hr.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,Hr.jsx)("input",{type:"checkbox",checked:Y.tds_applicable,onChange:e=>Q(t=>d(d({},t),{},{tds_applicable:e.target.checked})),className:"w-4 h-4"}),"TDS Applicable (TDS \u0932\u093e\u0917\u0942)"]})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Hr.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:"\ud83c\udfe6 Bank Details (\u092c\u0948\u0902\u0915 \u0935\u093f\u0935\u0930\u0923)"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Bank Name"}),(0,Hr.jsx)(Lo,{value:Y.bank_name,onChange:e=>Q(t=>d(d({},t),{},{bank_name:e.target.value})),placeholder:"State Bank of India"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Account Number"}),(0,Hr.jsx)(Lo,{value:Y.bank_account_no,onChange:e=>Q(t=>d(d({},t),{},{bank_account_no:e.target.value})),placeholder:"Account number"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"IFSC Code"}),(0,Hr.jsx)(Lo,{value:Y.ifsc_code,onChange:e=>Q(t=>d(d({},t),{},{ifsc_code:e.target.value.toUpperCase()})),placeholder:"SBIN0001234"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Branch Name"}),(0,Hr.jsx)(Lo,{value:Y.bank_branch,onChange:e=>Q(t=>d(d({},t),{},{bank_branch:e.target.value})),placeholder:"Branch name"})]})]})]})]}),"login"===q&&(0,Hr.jsxs)("div",{className:"space-y-4 animate-in fade-in",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-slate-800 border-b pb-2",children:"\ud83d\udd10 Login Access (\u0932\u0949\u0917\u093f\u0928 \u090f\u0915\u094d\u0938\u0947\u0938)"}),!["teacher","senior_teacher","sports_teacher","music_teacher","computer_teacher","yoga_teacher"].includes(Y.designation)&&(0,Hr.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-lg cursor-pointer border border-amber-200",children:[(0,Hr.jsx)("input",{type:"checkbox",checked:Y.can_teach,onChange:e=>Q(t=>d(d({},t),{},{can_teach:e.target.checked})),className:"w-5 h-5 rounded"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("div",{className:"font-medium text-amber-800",children:"Can Also Teach (\u0915\u0915\u094d\u0937\u093e \u092d\u0940 \u0932\u0947 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902)"}),(0,Hr.jsx)("div",{className:"text-sm text-amber-600",children:"Enable this if this staff member should also appear in teacher lists for class assignment"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"System Role * (\u0938\u093f\u0938\u094d\u091f\u092e \u092d\u0942\u092e\u093f\u0915\u093e)"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 h-10 bg-white",value:Y.role,onChange:e=>Q(t=>d(d({},t),{},{role:e.target.value})),children:[(0,Hr.jsx)("option",{value:"director",children:"Director (\u0928\u093f\u0926\u0947\u0936\u0915)"}),(0,Hr.jsx)("option",{value:"principal",children:"Principal (\u092a\u094d\u0930\u0927\u093e\u0928\u093e\u091a\u093e\u0930\u094d\u092f)"}),(0,Hr.jsx)("option",{value:"vice_principal",children:"Vice Principal (\u0909\u092a-\u092a\u094d\u0930\u0927\u093e\u0928\u093e\u091a\u093e\u0930\u094d\u092f)"}),(0,Hr.jsx)("option",{value:"teacher",children:"Teacher (\u0936\u093f\u0915\u094d\u0937\u0915)"}),(0,Hr.jsx)("option",{value:"admin_staff",children:"Admin Staff"}),(0,Hr.jsx)("option",{value:"accountant",children:"Accountant (\u0932\u0947\u0916\u093e\u0915\u093e\u0930)"}),(0,Hr.jsx)("option",{value:"clerk",children:"Clerk (\u0932\u093f\u092a\u093f\u0915)"}),(0,Hr.jsx)("option",{value:"librarian",children:"Librarian (\u092a\u0941\u0938\u094d\u0924\u0915\u093e\u0932\u092f\u093e\u0927\u094d\u092f\u0915\u094d\u0937)"}),(0,Hr.jsx)("option",{value:"peon",children:"Peon (\u091a\u092a\u0930\u093e\u0938\u0940)"}),(0,Hr.jsx)("option",{value:"driver",children:"Driver (\u091a\u093e\u0932\u0915)"}),(0,Hr.jsx)("option",{value:"guard",children:"Guard (\u0938\u0941\u0930\u0915\u094d\u0937\u093e)"})]}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Role determines ID card color and permissions"})]}),(0,Hr.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer",children:[(0,Hr.jsx)("input",{type:"checkbox",checked:Y.create_login,onChange:e=>Q(t=>d(d({},t),{},{create_login:e.target.checked})),className:"w-5 h-5 rounded"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("div",{className:"font-medium",children:"Create Login Account"}),(0,Hr.jsx)("div",{className:"text-sm text-gray-500",children:"Employee can login to system"})]})]}),Y.create_login&&(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Password (Default: Mobile Number)"}),(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)(Lo,{type:k?"text":"password",value:Y.password,onChange:e=>Q(t=>d(d({},t),{},{password:e.target.value})),placeholder:"Leave empty for mobile as password"}),(0,Hr.jsx)("button",{type:"button",onClick:()=>S(!k),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500",children:k?(0,Hr.jsx)(pl,{className:"w-4 h-4"}):(0,Hr.jsx)(xl,{className:"w-4 h-4"})})]})]}),(0,Hr.jsxs)(Io,{variant:"outline",size:"sm",onClick:()=>J(!$),className:"gap-2",children:[(0,Hr.jsx)(Bl,{className:"w-4 h-4"}),$?"Hide":"Show"," Permissions"]}),$&&(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"\ud83c\udfaf Quick Permission Presets:"}),(0,Hr.jsx)("div",{className:"flex gap-2 flex-wrap",children:Object.entries(Ny).map(e=>{let[t,a]=e;return(0,Hr.jsx)("button",{type:"button",onClick:()=>{Z(t),Q(e=>d(d({},e),{},{custom_permissions:d({},a.permissions)}))},className:"px-3 py-2 rounded-lg text-xs border transition-all ".concat(X===t?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white hover:bg-indigo-50 hover:border-indigo-300"),children:(0,Hr.jsx)("div",{className:"font-medium",children:a.label})},t)})})]}),(0,Hr.jsxs)("div",{className:"border-t pt-4",children:[(0,Hr.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udd10 Individual Permissions:"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(wy).map(e=>{var t,a;let[s,n]=e;return(0,Hr.jsxs)("label",{className:"flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-all ".concat(null!==(t=Y.custom_permissions)&&void 0!==t&&t[s]?"bg-green-50 border border-green-200":"bg-white border border-gray-200 hover:bg-gray-50"),children:[(0,Hr.jsx)("input",{type:"checkbox",checked:(null===(a=Y.custom_permissions)||void 0===a?void 0:a[s])||!1,onChange:e=>{Z("custom"),Q(t=>d(d({},t),{},{custom_permissions:d(d({},t.custom_permissions),{},{[s]:e.target.checked})}))},className:"w-4 h-4 rounded border-gray-300 text-indigo-600"}),(0,Hr.jsxs)("span",{className:"text-sm",children:[n.icon," ",n.label]})]},s)})})]})]})]})]})]}),(0,Hr.jsxs)("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:[(0,Hr.jsx)(Io,{variant:"outline",className:"flex-1",onClick:()=>b(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{className:"flex-1 bg-indigo-600 hover:bg-indigo-700",onClick:async()=>{if(Y.name&&Y.mobile&&Y.email){w(!0);try{const e=localStorage.getItem("token"),t=d(d({},Y),{},{school_id:n,salary:Y.salary?parseFloat(Y.salary):null,password:Y.password||Y.mobile});y?(await zr.put("".concat(jy,"/api/employees/").concat(y.id),t,{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Employee updated!")):(await zr.post("".concat(jy,"/api/employees"),t,{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Employee added!")),b(!1),he(),ce()}catch(a){var e,t;Qt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error saving employee")}finally{w(!1)}}else Qt.error("Name, Mobile \u0914\u0930 Email \u091c\u0930\u0942\u0930\u0940 \u0939\u0948")},disabled:N,children:[N?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):null,y?"Update":"Add"," Employee"]})]})]})}),_&&E&&(0,Hr.jsx)(yy,{employee:E,school:A,onClose:()=>{C(!1),P(null)}}),R&&O&&(0,Hr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[(0,Hr.jsxs)("h3",{className:"text-xl font-bold text-red-600 flex items-center gap-2 mb-4",children:[(0,Hr.jsx)(Hh,{className:"w-6 h-6"}),"\u26a0\ufe0f DANGER: Permanent Delete"]}),(0,Hr.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[(0,Hr.jsx)("h4",{className:"font-bold text-red-800 mb-2",children:"\ud83d\udea8 \u092e\u0939\u0924\u094d\u0935\u092a\u0942\u0930\u094d\u0923 \u091a\u0947\u0924\u093e\u0935\u0928\u0940:"}),(0,Hr.jsxs)("ul",{className:"text-sm text-red-700 space-y-1 list-disc list-inside",children:[(0,Hr.jsx)("li",{children:"\u092f\u0939 action UNDO \u0928\u0939\u0940\u0902 \u0915\u093f\u092f\u093e \u091c\u093e \u0938\u0915\u0924\u093e"}),(0,Hr.jsx)("li",{children:"Employee \u0915\u093e \u0938\u093e\u0930\u093e data \u0939\u092e\u0947\u0936\u093e \u0915\u0947 \u0932\u093f\u090f delete \u0939\u094b \u091c\u093e\u090f\u0917\u093e"}),(0,Hr.jsx)("li",{children:"Salary records, Attendance, Leave records \u0938\u092c delete \u0939\u094b \u091c\u093e\u090f\u0902\u0917\u0947"}),(0,Hr.jsx)("li",{children:"Login access \u092d\u0940 permanently remove \u0939\u094b \u091c\u093e\u090f\u0917\u093e"})]})]}),(0,Hr.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 mb-4",children:[(0,Hr.jsx)("p",{className:"font-medium text-lg",children:O.name}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-500",children:[O.designation," \u2022 ",O.department||"General"]}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-500",children:["\ud83d\udcde ",O.mobile]})]}),(0,Hr.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Hr.jsxs)("label",{className:"text-sm font-medium text-slate-700",children:["Confirm \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f ",(0,Hr.jsx)("span",{className:"text-red-600 font-bold",children:"DELETE"})," type \u0915\u0930\u0947\u0902:"]}),(0,Hr.jsx)(Lo,{value:F,onChange:e=>B(e.target.value.toUpperCase()),placeholder:"Type DELETE here",className:"border-red-200 focus:border-red-400"})]}),(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>I(!1),className:"flex-1",children:"Cancel (\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902)"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if("DELETE"===F){H(!0);try{const e=localStorage.getItem("token");await zr.delete("".concat(jy,"/api/users/").concat(O.id),{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Employee data permanently deleted"),I(!1),L(null),B(""),ce()}catch(a){var e,t;Qt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to delete employee")}finally{H(!1)}}else Qt.error("Please type DELETE to confirm")},disabled:"DELETE"!==F||z,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[z?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Hh,{className:"w-4 h-4 mr-2"}),"Delete Permanently"]})]})]})})]})}const Sy=el("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),_y=el("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),Cy=el("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ey=el("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Py="".concat("","/api"),Ay=[{id:"admission_fee",name:"Admission Fee",name_hi:"\u092a\u094d\u0930\u0935\u0947\u0936 \u0936\u0941\u0932\u094d\u0915",frequency:"one_time"},{id:"tuition_fee",name:"Tuition Fee",name_hi:"\u091f\u094d\u092f\u0942\u0936\u0928 \u092b\u0940\u0938",frequency:"monthly"},{id:"exam_fee",name:"Exam Fee",name_hi:"\u092a\u0930\u0940\u0915\u094d\u0937\u093e \u0936\u0941\u0932\u094d\u0915",frequency:"term"},{id:"development_fee",name:"Development Fee",name_hi:"\u0935\u093f\u0915\u093e\u0938 \u0936\u0941\u0932\u094d\u0915",frequency:"annual"},{id:"sports_fee",name:"Sports Fee",name_hi:"\u0916\u0947\u0932 \u0936\u0941\u0932\u094d\u0915",frequency:"annual"},{id:"computer_fee",name:"Computer Fee",name_hi:"\u0915\u0902\u092a\u094d\u092f\u0942\u091f\u0930 \u0936\u0941\u0932\u094d\u0915",frequency:"monthly"},{id:"lab_fee",name:"Lab Fee",name_hi:"\u0932\u0948\u092c \u0936\u0941\u0932\u094d\u0915",frequency:"annual"},{id:"library_fee",name:"Library Fee",name_hi:"\u092a\u0941\u0938\u094d\u0924\u0915\u093e\u0932\u092f \u0936\u0941\u0932\u094d\u0915",frequency:"annual"},{id:"transport_fee",name:"Transport Fee",name_hi:"\u092a\u0930\u093f\u0935\u0939\u0928 \u0936\u0941\u0932\u094d\u0915",frequency:"monthly"},{id:"hostel_fee",name:"Hostel Fee",name_hi:"\u091b\u093e\u0924\u094d\u0930\u093e\u0935\u093e\u0938 \u0936\u0941\u0932\u094d\u0915",frequency:"monthly"},{id:"activity_fee",name:"Activity Fee",name_hi:"\u0917\u0924\u093f\u0935\u093f\u0927\u093f \u0936\u0941\u0932\u094d\u0915",frequency:"annual"},{id:"uniform_fee",name:"Uniform Fee",name_hi:"\u092f\u0942\u0928\u093f\u092b\u0949\u0930\u094d\u092e \u0936\u0941\u0932\u094d\u0915",frequency:"one_time"},{id:"late_fee",name:"Late Fee",name_hi:"\u0935\u093f\u0932\u0902\u092c \u0936\u0941\u0932\u094d\u0915",frequency:"penalty"},{id:"other_fee",name:"Other Fee",name_hi:"\u0905\u0928\u094d\u092f \u0936\u0941\u0932\u094d\u0915",frequency:"custom"}];function Ty(){const{t:e}=bs(),{schoolId:a,user:s}=Vr(),[n,r]=(0,t.useState)("structure"),[l,i]=(0,t.useState)([]),[o,c]=(0,t.useState)([]),[u,m]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[x,g]=(0,t.useState)([]),[f,v]=(0,t.useState)(!0),[b,y]=(0,t.useState)(""),[j,N]=(0,t.useState)(""),[w,k]=(0,t.useState)(!1),[S,_]=(0,t.useState)(!1),[C,E]=(0,t.useState)(!1),[P,A]=(0,t.useState)(null),[T,M]=(0,t.useState)(!1),[D,R]=(0,t.useState)(null),[I,O]=(0,t.useState)({class_id:"",academic_year:"".concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+1),fees:Ay.reduce((e,t)=>d(d({},e),{},{[t.id]:0}),{})}),[L,F]=(0,t.useState)({student_id:"",amount:0,fee_types:[],months:[],payment_mode:"cash",payment_date:(new Date).toISOString().split("T")[0],receipt_no:"",remarks:""}),[B,z]=(0,t.useState)({student_id:"",academic_year:"",class_name:"",amount:0,description:"",send_notification:!0}),[H,q]=(0,t.useState)([]),[U,W]=(0,t.useState)([]),[V,G]=(0,t.useState)(!1),[K,Y]=(0,t.useState)(!1),[Q,$]=(0,t.useState)({name:"",name_hi:"",type:"central_govt",amount:0,percentage:0,eligibility:"",documents_required:"",academic_year:"".concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+1)}),[J,X]=(0,t.useState)({student_id:"",scholarship_id:"",amount:0,status:"pending",remarks:""});(0,t.useEffect)(()=>{a&&Z()},[a]);const Z=async()=>{v(!0);try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},[s,n,r,l,o,c]=await Promise.all([zr.get("".concat(Py,"/classes?school_id=").concat(a),{headers:t}),zr.get("".concat(Py,"/fee-structures?school_id=").concat(a),{headers:t}),zr.get("".concat(Py,"/fee-collections?school_id=").concat(a),{headers:t}),zr.get("".concat(Py,"/old-dues?school_id=").concat(a),{headers:t}),zr.get("".concat(Py,"/scholarships?school_id=").concat(a),{headers:t}).catch(()=>({data:[]})),zr.get("".concat(Py,"/student-scholarships?school_id=").concat(a),{headers:t}).catch(()=>({data:[]}))]);i(s.data),m(n.data),p(r.data),g(l.data||[]),q(o.data||[]),W(c.data||[])}catch(e){console.error("Error fetching data:",e)}finally{v(!1)}};(0,t.useEffect)(()=>{a&&async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{const t=localStorage.getItem("token");let s="".concat(Py,"/students?school_id=").concat(a,"&status=active");e&&(s+="&class_id=".concat(e)),j&&(s+="&search=".concat(j));const n=await zr.get(s,{headers:{Authorization:"Bearer ".concat(t)}});c(n.data)}catch(t){Qt.error("Failed to fetch students")}}(b)},[a,b,j,n]);const ee=e=>{const t=H.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"Unknown"},te=e=>u.find(t=>t.class_id===e);return a?(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"fee-management-page",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading text-slate-900 flex items-center gap-2",children:[(0,Hr.jsx)(nl,{className:"w-8 h-8 text-emerald-600"}),"Fee Management"]}),(0,Hr.jsx)("p",{className:"text-slate-500 mt-1",children:"Complete fee structure, collection & tracking"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>E(!0),className:"gap-2 text-orange-600 border-orange-200 hover:bg-orange-50","data-testid":"add-old-due-btn",children:[(0,Hr.jsx)(Sy,{className:"w-4 h-4"}),"Add Old Due"]}),(0,Hr.jsxs)(Io,{onClick:()=>_(!0),className:"bg-emerald-600 hover:bg-emerald-700 gap-2","data-testid":"collect-fee-btn",children:[(0,Hr.jsx)(Pl,{className:"w-4 h-4"}),"Collect Fee"]})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Hr.jsx)(gb,{children:(0,Hr.jsx)(yb,{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"p-3 bg-emerald-100 rounded-xl",children:(0,Hr.jsx)(Pl,{className:"w-6 h-6 text-emerald-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Total Collected"}),(0,Hr.jsxs)("p",{className:"text-2xl font-bold text-emerald-600",children:["\u20b9",h.reduce((e,t)=>e+(t.amount||0),0).toLocaleString("en-IN")]})]})]})})}),(0,Hr.jsx)(gb,{children:(0,Hr.jsx)(yb,{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"p-3 bg-orange-100 rounded-xl",children:(0,Hr.jsx)(Il,{className:"w-6 h-6 text-orange-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Old Dues"}),(0,Hr.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:["\u20b9",x.reduce((e,t)=>e+(t.amount||0),0).toLocaleString("en-IN")]})]})]})})}),(0,Hr.jsx)(gb,{children:(0,Hr.jsx)(yb,{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,Hr.jsx)(_y,{className:"w-6 h-6 text-blue-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Total Receipts"}),(0,Hr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:h.length})]})]})})}),(0,Hr.jsx)(gb,{children:(0,Hr.jsx)(yb,{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl",children:(0,Hr.jsx)(cl,{className:"w-6 h-6 text-purple-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Classes with Structure"}),(0,Hr.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[u.length,"/",l.length]})]})]})})})]}),(0,Hr.jsxs)(wh,{value:n,onValueChange:r,className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-5 bg-slate-100 p-1 rounded-lg",children:[(0,Hr.jsxs)(Sh,{value:"structure",className:"gap-2 data-[state=active]:bg-white text-xs md:text-sm",children:[(0,Hr.jsx)(Cy,{className:"w-4 h-4"}),(0,Hr.jsx)("span",{className:"hidden md:inline",children:"Fee Structure"}),(0,Hr.jsx)("span",{className:"md:hidden",children:"Structure"})]}),(0,Hr.jsxs)(Sh,{value:"collection",className:"gap-2 data-[state=active]:bg-white text-xs md:text-sm",children:[(0,Hr.jsx)(Fh,{className:"w-4 h-4"}),(0,Hr.jsx)("span",{className:"hidden md:inline",children:"Student Fees"}),(0,Hr.jsx)("span",{className:"md:hidden",children:"Fees"})]}),(0,Hr.jsxs)(Sh,{value:"scholarships",className:"gap-2 data-[state=active]:bg-white text-xs md:text-sm",children:[(0,Hr.jsx)(cl,{className:"w-4 h-4"}),(0,Hr.jsx)("span",{className:"hidden md:inline",children:"Govt Schemes"}),(0,Hr.jsx)("span",{className:"md:hidden",children:"Schemes"})]}),(0,Hr.jsxs)(Sh,{value:"old_dues",className:"gap-2 data-[state=active]:bg-white text-xs md:text-sm",children:[(0,Hr.jsx)(Sy,{className:"w-4 h-4"}),(0,Hr.jsx)("span",{className:"hidden md:inline",children:"Old Dues"}),(0,Hr.jsx)("span",{className:"md:hidden",children:"Dues"})]}),(0,Hr.jsxs)(Sh,{value:"reports",className:"gap-2 data-[state=active]:bg-white text-xs md:text-sm",children:[(0,Hr.jsx)(Dl,{className:"w-4 h-4"}),"Reports"]})]}),(0,Hr.jsx)(_h,{value:"structure",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsxs)(fb,{className:"flex flex-row items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(vb,{children:"Class-wise Fee Structure"}),(0,Hr.jsx)(bb,{children:"Set fees for each class"})]}),(0,Hr.jsxs)(Io,{onClick:()=>k(!0),className:"gap-2",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4"}),"Add/Edit Structure"]})]}),(0,Hr.jsx)(yb,{children:f?(0,Hr.jsx)("div",{className:"flex justify-center py-10",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-emerald-600"})}):(0,Hr.jsxs)(om,{children:[(0,Hr.jsx)(cm,{children:(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(mm,{children:"Class"}),(0,Hr.jsx)(mm,{children:"Admission Fee"}),(0,Hr.jsx)(mm,{children:"Tuition Fee"}),(0,Hr.jsx)(mm,{children:"Exam Fee"}),(0,Hr.jsx)(mm,{children:"Other Fees"}),(0,Hr.jsx)(mm,{children:"Total Annual"}),(0,Hr.jsx)(mm,{children:"Actions"})]})}),(0,Hr.jsx)(dm,{children:l.map(e=>{const t=te(e.id),a=(null===t||void 0===t?void 0:t.fees)||{},s=e=>{const t=Number(e)||0;return t>0?t:0},n=s(a.admission_fee),r=s(a.tuition_fee),l=s(a.exam_fee),i=Object.entries(a).filter(e=>{let[t,a]=e;return!["admission_fee","tuition_fee","exam_fee"].includes(t)}).reduce((e,t)=>{let[a,n]=t;return e+s(n)},0),o=n+12*r+l+i;return(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(hm,{className:"font-medium",children:e.name}),(0,Hr.jsxs)(hm,{children:["\u20b9",n>0?n.toLocaleString("en-IN"):"-"]}),(0,Hr.jsxs)(hm,{children:["\u20b9",r>0?r.toLocaleString("en-IN"):"-","/month"]}),(0,Hr.jsxs)(hm,{children:["\u20b9",l>0?l.toLocaleString("en-IN"):"-"]}),(0,Hr.jsxs)(hm,{children:["\u20b9",i>0?i.toLocaleString("en-IN"):"0"]}),(0,Hr.jsxs)(hm,{className:"font-bold text-emerald-600",children:["\u20b9",o.toLocaleString("en-IN")]}),(0,Hr.jsx)(hm,{children:(0,Hr.jsx)(Io,{size:"sm",variant:"outline",onClick:()=>{O({class_id:e.id,academic_year:(null===t||void 0===t?void 0:t.academic_year)||"".concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+1),fees:(null===t||void 0===t?void 0:t.fees)||Ay.reduce((e,t)=>d(d({},e),{},{[t.id]:0}),{})}),k(!0)},children:(0,Hr.jsx)(Lh,{className:"w-4 h-4"})})})]},e.id)})})]})})]})}),(0,Hr.jsx)(_h,{value:"collection",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(vb,{children:"Student Fee Status"}),(0,Hr.jsx)(bb,{children:"View and collect fees for each student"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,Hr.jsx)("option",{value:"",children:"All Classes"}),l.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,Hr.jsx)(Lo,{placeholder:"Search student...",value:j,onChange:e=>N(e.target.value),className:"pl-9 w-60"})]})]})]})}),(0,Hr.jsx)(yb,{children:f?(0,Hr.jsx)("div",{className:"flex justify-center py-10",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-emerald-600"})}):(0,Hr.jsxs)("div",{className:"space-y-2",children:[o.map(e=>{var t;const a=(e=>{const t=h.filter(t=>t.student_id===e),a=x.filter(t=>t.student_id===e),s=t.reduce((e,t)=>e+(t.amount||0),0);return{totalPaid:s,totalOldDue:a.reduce((e,t)=>e+(t.amount||0),0),collections:t,dues:a}})(e.id),s=te(e.class_id),n=s?Object.values(s.fees||{}).reduce((e,t)=>e+(t||0),0):0,r=n-a.totalPaid+a.totalOldDue,l=D===e.id;return(0,Hr.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-slate-50 cursor-pointer",onClick:()=>R(l?null:e.id),children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("button",{className:"text-slate-400",children:l?(0,Hr.jsx)(Ey,{className:"w-5 h-5"}):(0,Hr.jsx)(Yl,{className:"w-5 h-5"})}),(0,Hr.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:null===(t=e.name)||void 0===t?void 0:t.charAt(0)}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-medium",children:e.name}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-500",children:[e.student_id," \u2022 ",e.class_name]})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Hr.jsxs)("div",{className:"text-right",children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Total Fee"}),(0,Hr.jsxs)("p",{className:"font-semibold",children:["\u20b9",n.toLocaleString("en-IN")]})]}),(0,Hr.jsxs)("div",{className:"text-right",children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Paid"}),(0,Hr.jsxs)("p",{className:"font-semibold text-emerald-600",children:["\u20b9",a.totalPaid.toLocaleString("en-IN")]})]}),a.totalOldDue>0&&(0,Hr.jsxs)("div",{className:"text-right",children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Old Due"}),(0,Hr.jsxs)("p",{className:"font-semibold text-orange-600",children:["\u20b9",a.totalOldDue.toLocaleString("en-IN")]})]}),(0,Hr.jsxs)("div",{className:"text-right",children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Pending"}),(0,Hr.jsxs)("p",{className:"font-semibold ".concat(r>0?"text-red-600":"text-emerald-600"),children:["\u20b9",r.toLocaleString("en-IN")]})]}),(0,Hr.jsx)(Io,{size:"sm",onClick:t=>{t.stopPropagation(),A(e),F(t=>d(d({},t),{},{student_id:e.id})),_(!0)},className:"bg-emerald-600 hover:bg-emerald-700",children:"Collect Fee"})]})]}),l&&(0,Hr.jsx)("div",{className:"border-t bg-slate-50 p-4",children:(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,Hr.jsx)(Dl,{className:"w-4 h-4"}),"Fee Breakdown"]}),s?(0,Hr.jsx)("div",{className:"space-y-2",children:Ay.filter(e=>{var t;return(null===(t=s.fees)||void 0===t?void 0:t[e.id])>0}).map(e=>{var t;return(0,Hr.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Hr.jsx)("span",{children:e.name_hi}),(0,Hr.jsxs)("span",{children:["\u20b9",null===(t=s.fees[e.id])||void 0===t?void 0:t.toLocaleString("en-IN")]})]},e.id)})}):(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"No fee structure set for this class"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,Hr.jsx)(_y,{className:"w-4 h-4"}),"Recent Payments"]}),a.collections.length>0?(0,Hr.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:a.collections.slice(0,5).map(e=>{var t;return(0,Hr.jsxs)("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("p",{className:"font-medium",children:["\u20b9",null===(t=e.amount)||void 0===t?void 0:t.toLocaleString("en-IN")]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:new Date(e.payment_date).toLocaleDateString("en-IN")})]}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:()=>(e=>{var t,a;const s=window.open("","_blank"),n=o.find(t=>t.id===e.student_id);s.document.write("\n      <html>\n      <head>\n        <title>Fee Receipt - ".concat(e.receipt_no,'</title>\n        <style>\n          body { font-family: Arial; padding: 20px; max-width: 400px; margin: auto; }\n          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; }\n          .receipt-no { font-size: 18px; font-weight: bold; }\n          .details { margin: 15px 0; }\n          .row { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px dotted #ccc; }\n          .amount { font-size: 24px; font-weight: bold; text-align: center; margin: 20px 0; }\n          .footer { text-align: center; font-size: 12px; margin-top: 20px; }\n        </style>\n      </head>\n      <body>\n        <div class="header">\n          <h2>FEE RECEIPT</h2>\n          <div class="receipt-no">').concat(e.receipt_no,'</div>\n        </div>\n        <div class="details">\n          <div class="row"><span>Student Name:</span><span>').concat((null===n||void 0===n?void 0:n.name)||"N/A",'</span></div>\n          <div class="row"><span>Student ID:</span><span>').concat((null===n||void 0===n?void 0:n.student_id)||"N/A",'</span></div>\n          <div class="row"><span>Class:</span><span>').concat((null===n||void 0===n?void 0:n.class_name)||"N/A",'</span></div>\n          <div class="row"><span>Date:</span><span>').concat(new Date(e.payment_date).toLocaleDateString("en-IN"),'</span></div>\n          <div class="row"><span>Payment Mode:</span><span>').concat(null===(t=e.payment_mode)||void 0===t?void 0:t.toUpperCase(),'</span></div>\n        </div>\n        <div class="amount">\u20b9 ').concat(null===(a=e.amount)||void 0===a?void 0:a.toLocaleString("en-IN"),'</div>\n        <div class="footer">\n          <p>Thank you for your payment</p>\n          <p>This is a computer generated receipt</p>\n        </div>\n        <script>window.onload = () => window.print();<\/script>\n      </body>\n      </html>\n    ')),s.document.close()})(e),children:(0,Hr.jsx)(Ch,{className:"w-4 h-4"})})]},e.id)})}):(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"No payments yet"})]})]})})]},e.id)}),0===o.length&&(0,Hr.jsxs)("div",{className:"text-center py-10 text-slate-500",children:[(0,Hr.jsx)(tl,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,Hr.jsx)("p",{children:"No students found"})]})]})})]})}),(0,Hr.jsx)(_h,{value:"scholarships",className:"mt-4",children:(0,Hr.jsxs)("div",{className:"grid gap-4",children:[(0,Hr.jsx)(gb,{children:(0,Hr.jsxs)(fb,{className:"flex flex-row items-center justify-between pb-2",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(vb,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(cl,{className:"w-5 h-5 text-emerald-600"}),"Government Schemes & Scholarships"]}),(0,Hr.jsx)(bb,{children:"Manage and assign govt schemes to students"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{onClick:()=>Y(!0),variant:"outline",className:"gap-2",children:[(0,Hr.jsx)(tl,{className:"w-4 h-4"}),"Assign to Student"]}),(0,Hr.jsxs)(Io,{onClick:()=>G(!0),className:"gap-2 bg-emerald-600 hover:bg-emerald-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4"}),"Add New Scheme"]})]})]})}),(0,Hr.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:H.length>0?H.map(e=>(0,Hr.jsxs)(gb,{className:"hover:shadow-md transition-shadow",children:[(0,Hr.jsxs)(fb,{className:"pb-2",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat("central_govt"===e.type?"bg-blue-100 text-blue-700":"state_govt"===e.type?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"),children:"central_govt"===e.type?"\u0915\u0947\u0902\u0926\u094d\u0930 \u0938\u0930\u0915\u093e\u0930":"state_govt"===e.type?"\u0930\u093e\u091c\u094d\u092f \u0938\u0930\u0915\u093e\u0930":"Private"}),(0,Hr.jsxs)("span",{className:"text-emerald-600 font-bold",children:["\u20b9",(e.amount||0).toLocaleString()]})]}),(0,Hr.jsx)(vb,{className:"text-base mt-2",children:e.name}),e.name_hi&&(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:e.name_hi})]}),(0,Hr.jsxs)(yb,{className:"pt-0",children:[e.eligibility&&(0,Hr.jsxs)("p",{className:"text-xs text-slate-600 mb-2",children:[(0,Hr.jsx)("strong",{children:"Eligibility:"})," ",e.eligibility]}),e.documents_required&&(0,Hr.jsxs)("p",{className:"text-xs text-slate-500",children:[(0,Hr.jsx)("strong",{children:"Documents:"})," ",e.documents_required]}),(0,Hr.jsxs)("div",{className:"mt-3 pt-2 border-t flex justify-between items-center",children:[(0,Hr.jsx)("span",{className:"text-xs text-slate-400",children:e.academic_year}),(0,Hr.jsx)(Io,{size:"sm",variant:"outline",onClick:()=>{X(d(d({},J),{},{scholarship_id:e.id,amount:e.amount})),Y(!0)},children:"Assign"})]})]})]},e.id)):(0,Hr.jsxs)("div",{className:"col-span-3 text-center py-12 text-slate-400",children:[(0,Hr.jsx)(cl,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,Hr.jsx)("p",{children:'No schemes added yet. Click "Add New Scheme" to create one.'})]})}),(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsxs)(vb,{className:"text-base flex items-center gap-2",children:[(0,Hr.jsx)(tl,{className:"w-4 h-4"}),"Students with Scholarships (",U.length,")"]})}),(0,Hr.jsx)(yb,{children:U.length>0?(0,Hr.jsxs)(om,{children:[(0,Hr.jsx)(cm,{children:(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(mm,{children:"Student"}),(0,Hr.jsx)(mm,{children:"Scheme"}),(0,Hr.jsx)(mm,{children:"Amount"}),(0,Hr.jsx)(mm,{children:"Status"}),(0,Hr.jsx)(mm,{children:"Remarks"})]})}),(0,Hr.jsx)(dm,{children:U.map((e,t)=>{const a=o.find(t=>t.id===e.student_id);return(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(hm,{children:(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-medium",children:(null===a||void 0===a?void 0:a.name)||e.student_id}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:null===a||void 0===a?void 0:a.class_name})]})}),(0,Hr.jsx)(hm,{children:ee(e.scholarship_id)}),(0,Hr.jsxs)(hm,{className:"font-medium text-emerald-600",children:["\u20b9",(e.amount||0).toLocaleString()]}),(0,Hr.jsx)(hm,{children:(0,Hr.jsx)("span",{className:"px-2 py-0.5 rounded text-xs ".concat("received"===e.status?"bg-green-100 text-green-700":"approved"===e.status?"bg-blue-100 text-blue-700":"rejected"===e.status?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:"received"===e.status?"\u092a\u094d\u0930\u093e\u092a\u094d\u0924":"approved"===e.status?"\u0938\u094d\u0935\u0940\u0915\u0943\u0924":"rejected"===e.status?"\u0905\u0938\u094d\u0935\u0940\u0915\u0943\u0924":"Pending"})}),(0,Hr.jsx)(hm,{className:"text-sm text-slate-500",children:e.remarks||"-"})]},t)})})]}):(0,Hr.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,Hr.jsx)(tl,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,Hr.jsx)("p",{children:"No scholarships assigned yet"})]})})]})]})}),(0,Hr.jsx)(_h,{value:"old_dues",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsxs)(fb,{className:"flex flex-row items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(vb,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Sy,{className:"w-5 h-5 text-orange-600"}),"Old Fee Dues"]}),(0,Hr.jsx)(bb,{children:"Track pending fees from previous years"})]}),(0,Hr.jsxs)(Io,{onClick:()=>E(!0),className:"gap-2 bg-orange-600 hover:bg-orange-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4"}),"Add Old Due"]})]}),(0,Hr.jsx)(yb,{children:x.length>0?(0,Hr.jsxs)(om,{children:[(0,Hr.jsx)(cm,{children:(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(mm,{children:"Student"}),(0,Hr.jsx)(mm,{children:"Academic Year"}),(0,Hr.jsx)(mm,{children:"Class"}),(0,Hr.jsx)(mm,{children:"Amount"}),(0,Hr.jsx)(mm,{children:"Description"}),(0,Hr.jsx)(mm,{children:"Status"}),(0,Hr.jsx)(mm,{children:"Actions"})]})}),(0,Hr.jsx)(dm,{children:x.map(e=>{var t;const a=o.find(t=>t.id===e.student_id);return(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(hm,{children:(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-medium",children:(null===a||void 0===a?void 0:a.name)||e.student_name}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:null===a||void 0===a?void 0:a.student_id})]})}),(0,Hr.jsx)(hm,{children:e.academic_year}),(0,Hr.jsx)(hm,{children:e.class_name}),(0,Hr.jsxs)(hm,{className:"font-semibold text-orange-600",children:["\u20b9",null===(t=e.amount)||void 0===t?void 0:t.toLocaleString("en-IN")]}),(0,Hr.jsx)(hm,{className:"text-sm",children:e.description}),(0,Hr.jsx)(hm,{children:(0,Hr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("paid"===e.status?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:e.status||"Pending"})}),(0,Hr.jsx)(hm,{children:(0,Hr.jsx)(Io,{size:"sm",onClick:()=>{A(a),F(t=>d(d({},t),{},{student_id:e.student_id,amount:e.amount,remarks:"Old due payment for ".concat(e.academic_year)})),_(!0)},className:"bg-emerald-600 hover:bg-emerald-700",children:"Collect"})})]},e.id)})})]}):(0,Hr.jsxs)("div",{className:"text-center py-10 text-slate-500",children:[(0,Hr.jsx)(Ah,{className:"w-12 h-12 mx-auto mb-2 text-emerald-500"}),(0,Hr.jsx)("p",{children:"No old dues found"})]})})]})}),(0,Hr.jsx)(_h,{value:"reports",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsxs)(fb,{children:[(0,Hr.jsx)(vb,{children:"Class-wise Fee Summary"}),(0,Hr.jsx)(bb,{children:"Overview of fee collection by class"})]}),(0,Hr.jsx)(yb,{children:(0,Hr.jsxs)(om,{children:[(0,Hr.jsx)(cm,{children:(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(mm,{children:"Class"}),(0,Hr.jsx)(mm,{children:"Students"}),(0,Hr.jsx)(mm,{children:"Fee/Student"}),(0,Hr.jsx)(mm,{children:"Expected Total"}),(0,Hr.jsx)(mm,{children:"Collected"}),(0,Hr.jsx)(mm,{children:"Pending"}),(0,Hr.jsx)(mm,{children:"Collection %"})]})}),(0,Hr.jsx)(dm,{children:l.map(e=>{const t=te(e.id),a=o.filter(t=>t.class_id===e.id),s=t?Object.values(t.fees||{}).reduce((e,t)=>e+(t||0),0):0,n=h.filter(e=>a.some(t=>t.id===e.student_id)),r=n.reduce((e,t)=>e+(t.amount||0),0);return d(d({},e),{},{totalFee:s,totalCollected:r,studentCount:a.length,expectedTotal:s*a.length,pendingTotal:s*a.length-r})}).map(e=>(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(hm,{className:"font-medium",children:e.name}),(0,Hr.jsx)(hm,{children:e.studentCount}),(0,Hr.jsxs)(hm,{children:["\u20b9",e.totalFee.toLocaleString("en-IN")]}),(0,Hr.jsxs)(hm,{children:["\u20b9",e.expectedTotal.toLocaleString("en-IN")]}),(0,Hr.jsxs)(hm,{className:"text-emerald-600 font-semibold",children:["\u20b9",e.totalCollected.toLocaleString("en-IN")]}),(0,Hr.jsxs)(hm,{className:"text-red-600 font-semibold",children:["\u20b9",e.pendingTotal.toLocaleString("en-IN")]}),(0,Hr.jsx)(hm,{children:(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-20 h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,Hr.jsx)("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:"".concat(e.expectedTotal?e.totalCollected/e.expectedTotal*100:0,"%")}})}),(0,Hr.jsxs)("span",{className:"text-sm",children:[e.expectedTotal?Math.round(e.totalCollected/e.expectedTotal*100):0,"%"]})]})})]},e.id))})]})})]})})]}),(0,Hr.jsx)(Gu,{open:w,onOpenChange:k,children:(0,Hr.jsxs)($u,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsx)(Xu,{children:"Fee Structure Setup"}),(0,Hr.jsx)(Zu,{children:"Set fee amounts for each fee type"})]}),(0,Hr.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Class *"}),(0,Hr.jsxs)("select",{value:I.class_id,onChange:e=>O(t=>d(d({},t),{},{class_id:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"",children:"Select Class"}),l.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Academic Year"}),(0,Hr.jsx)(Lo,{value:I.academic_year,onChange:e=>O(t=>d(d({},t),{},{academic_year:e.target.value}))})]})]}),(0,Hr.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Hr.jsx)("h4",{className:"font-medium mb-4",children:"Fee Types (\u0936\u0941\u0932\u094d\u0915 \u092a\u094d\u0930\u0915\u093e\u0930)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Ay.map(e=>(0,Hr.jsxs)("div",{className:"space-y-1",children:[(0,Hr.jsxs)(Wo,{className:"text-sm",children:[e.name_hi," (",e.name,")"]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("span",{className:"text-slate-500",children:"\u20b9"}),(0,Hr.jsx)(Lo,{type:"number",value:I.fees[e.id]||"",onChange:t=>O(a=>d(d({},a),{},{fees:d(d({},a.fees),{},{[e.id]:parseInt(t.target.value)||0})})),placeholder:"0"})]})]},e.id))})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(I.class_id){M(!0);try{const e=localStorage.getItem("token");await zr.post("".concat(Py,"/fee-structures"),d(d({},I),{},{school_id:a}),{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Fee structure saved!"),k(!1),Z()}catch(s){var e,t;Qt.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to save")}finally{M(!1)}}else Qt.error("\u0915\u0943\u092a\u092f\u093e class select \u0915\u0930\u0947\u0902")},disabled:T,className:"bg-emerald-600 hover:bg-emerald-700",children:[T?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):null,"Save Structure"]})]})]})]})}),(0,Hr.jsx)(Gu,{open:S,onOpenChange:_,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsx)(Xu,{children:"Collect Fee"}),(0,Hr.jsx)(Zu,{children:P?"Collecting fee for ".concat(P.name):"Select student and enter amount"})]}),(0,Hr.jsxs)("div",{className:"space-y-4 mt-4",children:[!P&&(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Select Student *"}),(0,Hr.jsxs)("select",{value:L.student_id,onChange:e=>{const t=o.find(t=>t.id===e.target.value);A(t),F(t=>d(d({},t),{},{student_id:e.target.value}))},className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"",children:"Select Student"}),o.map(e=>(0,Hr.jsxs)("option",{value:e.id,children:[e.name," (",e.student_id,")"]},e.id))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Amount *"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("span",{className:"text-xl font-bold",children:"\u20b9"}),(0,Hr.jsx)(Lo,{type:"number",value:L.amount,onChange:e=>F(t=>d(d({},t),{},{amount:parseInt(e.target.value)||0})),className:"text-2xl font-bold",placeholder:"0"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Payment Mode"}),(0,Hr.jsxs)("select",{value:L.payment_mode,onChange:e=>F(t=>d(d({},t),{},{payment_mode:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"cash",children:"Cash"}),(0,Hr.jsx)("option",{value:"upi",children:"UPI"}),(0,Hr.jsx)("option",{value:"card",children:"Card"}),(0,Hr.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Hr.jsx)("option",{value:"cheque",children:"Cheque"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Date"}),(0,Hr.jsx)(Lo,{type:"date",value:L.payment_date,onChange:e=>F(t=>d(d({},t),{},{payment_date:e.target.value}))})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Remarks"}),(0,Hr.jsx)(Lo,{value:L.remarks,onChange:e=>F(t=>d(d({},t),{},{remarks:e.target.value})),placeholder:"Optional notes"})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>{_(!1),A(null)},children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(!L.student_id||L.amount<=0)Qt.error("\u0915\u0943\u092a\u092f\u093e student \u0914\u0930 amount \u092d\u0930\u0947\u0902");else{M(!0);try{const e=localStorage.getItem("token"),t=await zr.post("".concat(Py,"/fee-collections"),d(d({},L),{},{school_id:a,collected_by:null===s||void 0===s?void 0:s.id}),{headers:{Authorization:"Bearer ".concat(e)}});Qt.success("Fee collected! Receipt No: ".concat(t.data.receipt_no)),_(!1),F({student_id:"",amount:0,fee_types:[],months:[],payment_mode:"cash",payment_date:(new Date).toISOString().split("T")[0],receipt_no:"",remarks:""}),Z()}catch(n){var e,t;Qt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to collect fee")}finally{M(!1)}}},disabled:T,className:"bg-emerald-600 hover:bg-emerald-700",children:[T?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Ah,{className:"w-4 h-4 mr-2"}),"Collect \u20b9",L.amount.toLocaleString("en-IN")]})]})]})]})}),(0,Hr.jsx)(Gu,{open:C,onOpenChange:E,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Sy,{className:"w-5 h-5 text-orange-600"}),"Add Old Due"]}),(0,Hr.jsx)(Zu,{children:"Add pending fee from previous year"})]}),(0,Hr.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Select Student *"}),(0,Hr.jsxs)("select",{value:B.student_id,onChange:e=>z(t=>d(d({},t),{},{student_id:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"",children:"Select Student"}),o.map(e=>(0,Hr.jsxs)("option",{value:e.id,children:[e.name," (",e.student_id,")"]},e.id))]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Previous Year *"}),(0,Hr.jsxs)("select",{value:B.academic_year,onChange:e=>z(t=>d(d({},t),{},{academic_year:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"",children:"Select Year"}),Array.from({length:5},(e,t)=>{const a=(new Date).getFullYear()-t-1;return(0,Hr.jsxs)("option",{value:"".concat(a,"-").concat(a+1),children:[a,"-",a+1]},a)})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Previous Class"}),(0,Hr.jsx)(Lo,{value:B.class_name,onChange:e=>z(t=>d(d({},t),{},{class_name:e.target.value})),placeholder:"e.g., Class 5"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Due Amount *"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("span",{className:"text-xl font-bold",children:"\u20b9"}),(0,Hr.jsx)(Lo,{type:"number",value:B.amount,onChange:e=>z(t=>d(d({},t),{},{amount:parseInt(e.target.value)||0})),className:"text-xl font-bold",placeholder:"0"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Description"}),(0,Hr.jsx)(Lo,{value:B.description,onChange:e=>z(t=>d(d({},t),{},{description:e.target.value})),placeholder:"e.g., Pending tuition fee for March"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("input",{type:"checkbox",id:"sendNotification",checked:B.send_notification,onChange:e=>z(t=>d(d({},t),{},{send_notification:e.target.checked})),className:"w-4 h-4"}),(0,Hr.jsxs)(Wo,{htmlFor:"sendNotification",className:"flex items-center gap-2 cursor-pointer",children:[(0,Hr.jsx)(Ml,{className:"w-4 h-4"}),"Send notification to parent"]})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(!B.student_id||B.amount<=0)Qt.error("\u0915\u0943\u092a\u092f\u093e student \u0914\u0930 amount \u092d\u0930\u0947\u0902");else{M(!0);try{const e=localStorage.getItem("token");await zr.post("".concat(Py,"/old-dues"),d(d({},B),{},{school_id:a,added_by:null===s||void 0===s?void 0:s.id}),{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Old due added successfully!"),E(!1),z({student_id:"",academic_year:"",class_name:"",amount:0,description:"",send_notification:!0}),Z()}catch(n){var e,t;Qt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to add old due")}finally{M(!1)}}},disabled:T,className:"bg-orange-600 hover:bg-orange-700",children:[T?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"}),"Add Old Due"]})]})]})]})}),(0,Hr.jsx)(Gu,{open:V,onOpenChange:G,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(cl,{className:"w-5 h-5 text-emerald-600"}),"Add Government Scheme / Scholarship"]}),(0,Hr.jsx)(Zu,{children:"Add a new govt scheme or scholarship"})]}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Scheme Name (English) *"}),(0,Hr.jsx)(Lo,{value:Q.name,onChange:e=>$(t=>d(d({},t),{},{name:e.target.value})),placeholder:"e.g., Pre Matric Scholarship"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Scheme Name (Hindi)"}),(0,Hr.jsx)(Lo,{value:Q.name_hi,onChange:e=>$(t=>d(d({},t),{},{name_hi:e.target.value})),placeholder:"e.g., \u092a\u094d\u0930\u0940-\u092e\u0948\u091f\u094d\u0930\u093f\u0915 \u091b\u093e\u0924\u094d\u0930\u0935\u0943\u0924\u094d\u0924\u093f"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Scheme Type *"}),(0,Hr.jsxs)("select",{value:Q.type,onChange:e=>$(t=>d(d({},t),{},{type:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"central_govt",children:"\u0915\u0947\u0902\u0926\u094d\u0930 \u0938\u0930\u0915\u093e\u0930 (Central Govt)"}),(0,Hr.jsx)("option",{value:"state_govt",children:"\u0930\u093e\u091c\u094d\u092f \u0938\u0930\u0915\u093e\u0930 (State Govt)"}),(0,Hr.jsx)("option",{value:"private",children:"Private / NGO"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Academic Year"}),(0,Hr.jsx)("select",{value:Q.academic_year,onChange:e=>$(t=>d(d({},t),{},{academic_year:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:Array.from({length:3},(e,t)=>{const a=(new Date).getFullYear()+t;return(0,Hr.jsxs)("option",{value:"".concat(a,"-").concat(a+1),children:[a,"-",a+1]},a)})})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Amount (\u20b9) *"}),(0,Hr.jsx)(Lo,{type:"number",value:Q.amount,onChange:e=>$(t=>d(d({},t),{},{amount:parseInt(e.target.value)||0})),placeholder:"0"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Or % of Fee"}),(0,Hr.jsx)(Lo,{type:"number",value:Q.percentage,onChange:e=>$(t=>d(d({},t),{},{percentage:parseInt(e.target.value)||0})),placeholder:"0",max:100})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Eligibility Criteria"}),(0,Hr.jsx)(Lo,{value:Q.eligibility,onChange:e=>$(t=>d(d({},t),{},{eligibility:e.target.value})),placeholder:"e.g., BPL Family, Income < 2.5 Lakh, SC/ST/OBC"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Documents Required"}),(0,Hr.jsx)(Lo,{value:Q.documents_required,onChange:e=>$(t=>d(d({},t),{},{documents_required:e.target.value})),placeholder:"e.g., Aadhar, Income Certificate, Caste Certificate"})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(!Q.name||Q.amount<=0)Qt.error("\u0915\u0943\u092a\u092f\u093e scheme name \u0914\u0930 amount \u092d\u0930\u0947\u0902");else{M(!0);try{const e=localStorage.getItem("token");await zr.post("".concat(Py,"/scholarships"),d(d({},Q),{},{school_id:a}),{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Scheme saved successfully!"),G(!1),$({name:"",name_hi:"",type:"central_govt",amount:0,percentage:0,eligibility:"",documents_required:"",academic_year:"".concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+1)}),Z()}catch(s){var e,t;Qt.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to save scheme")}finally{M(!1)}}},disabled:T,className:"bg-emerald-600 hover:bg-emerald-700",children:[T?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"}),"Save Scheme"]})]})]})]})}),(0,Hr.jsx)(Gu,{open:K,onOpenChange:Y,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(tl,{className:"w-5 h-5 text-emerald-600"}),"Assign Scholarship to Student"]}),(0,Hr.jsx)(Zu,{children:"Apply a scheme to a student"})]}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Select Student *"}),(0,Hr.jsxs)("select",{value:J.student_id,onChange:e=>X(t=>d(d({},t),{},{student_id:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"",children:"-- Select Student --"}),o.map(e=>(0,Hr.jsxs)("option",{value:e.id,children:[e.name," (",e.student_id,") - ",e.class_name]},e.id))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Select Scheme *"}),(0,Hr.jsxs)("select",{value:J.scholarship_id,onChange:e=>{const t=H.find(t=>t.id===e.target.value);X(a=>d(d({},a),{},{scholarship_id:e.target.value,amount:(null===t||void 0===t?void 0:t.amount)||0}))},className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"",children:"-- Select Scheme --"}),H.map(e=>(0,Hr.jsxs)("option",{value:e.id,children:[e.name," - \u20b9",(e.amount||0).toLocaleString()]},e.id))]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Amount (\u20b9)"}),(0,Hr.jsx)(Lo,{type:"number",value:J.amount,onChange:e=>X(t=>d(d({},t),{},{amount:parseInt(e.target.value)||0}))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Status"}),(0,Hr.jsxs)("select",{value:J.status,onChange:e=>X(t=>d(d({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"pending",children:"Pending"}),(0,Hr.jsx)("option",{value:"approved",children:"Approved"}),(0,Hr.jsx)("option",{value:"received",children:"Received"}),(0,Hr.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Remarks"}),(0,Hr.jsx)(Lo,{value:J.remarks,onChange:e=>X(t=>d(d({},t),{},{remarks:e.target.value})),placeholder:"Any notes about this application"})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(J.student_id&&J.scholarship_id){M(!0);try{const e=localStorage.getItem("token");await zr.post("".concat(Py,"/student-scholarships"),d(d({},J),{},{school_id:a,assigned_by:null===s||void 0===s?void 0:s.id,assigned_date:(new Date).toISOString()}),{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Scholarship assigned to student!"),Y(!1),X({student_id:"",scholarship_id:"",amount:0,status:"pending",remarks:""}),Z()}catch(n){var e,t;Qt.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to assign scholarship")}finally{M(!1)}}else Qt.error("\u0915\u0943\u092a\u092f\u093e student \u0914\u0930 scheme select \u0915\u0930\u0947\u0902")},disabled:T,className:"bg-emerald-600 hover:bg-emerald-700",children:[T?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Ah,{className:"w-4 h-4 mr-2"}),"Assign Scholarship"]})]})]})]})})]}):(0,Hr.jsx)("div",{className:"text-center py-20",children:(0,Hr.jsx)("p",{className:"text-slate-500",children:"Please select a school first"})})}const My=["className","variant"],Dy=xi("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ry(e){let{className:t,variant:a}=e,s=r(e,My);return(0,Hr.jsx)("div",d({className:Mo(Dy({variant:a}),t)},s))}const Iy=["className"],Oy=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,Iy);return(0,Hr.jsx)("textarea",d({className:Mo("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},s))});Oy.displayName="Textarea";const Ly=el("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Fy=el("megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),By=el("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),zy=("".concat("","/api"),{New:"bg-blue-100 text-blue-700",Contacted:"bg-yellow-100 text-yellow-700",Interested:"bg-purple-100 text-purple-700",Enrolled:"bg-green-100 text-green-700",Lost:"bg-red-100 text-red-700"});function Hy(){const{user:e}=Vr(),[a,s]=(0,t.useState)("enquiries"),[n,r]=(0,t.useState)(""),[l,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)(!1),[u,m]=(0,t.useState)(null),[h,p]=(0,t.useState)([{id:1,name:"Rahul Sharma",phone:"9876543210",email:"rahul@email.com",class:"Class 6",source:"Website",status:"New",followUpDate:"2026-02-10",notes:"Interested in science stream",createdAt:"2026-02-08"},{id:2,name:"Priya Patel",phone:"9876543211",email:"priya@email.com",class:"Class 9",source:"WhatsApp",status:"Contacted",followUpDate:"2026-02-11",notes:"Called once, will visit next week",createdAt:"2026-02-07"},{id:3,name:"Amit Kumar",phone:"9876543212",email:"amit@email.com",class:"Class 1",source:"Referral",status:"Interested",followUpDate:"2026-02-09",notes:"Parent visited, liked campus",createdAt:"2026-02-05"},{id:4,name:"Sneha Verma",phone:"9876543213",email:"sneha@email.com",class:"Class 11",source:"Social Media",status:"Enrolled",followUpDate:"",notes:"Admission confirmed for Science",createdAt:"2026-02-03"},{id:5,name:"Vikram Singh",phone:"9876543214",email:"vikram@email.com",class:"Class 4",source:"Walk-in",status:"Lost",followUpDate:"",notes:"Chose another school",createdAt:"2026-02-01"},{id:6,name:"Ananya Gupta",phone:"9876543215",email:"ananya@email.com",class:"Class 8",source:"SMS Campaign",status:"New",followUpDate:"2026-02-12",notes:"Enquired about fees",createdAt:"2026-02-09"},{id:7,name:"Rohan Jain",phone:"9876543216",email:"rohan@email.com",class:"Class 3",source:"Website",status:"Contacted",followUpDate:"2026-02-10",notes:"Scheduled campus visit",createdAt:"2026-02-06"}]),[x,g]=(0,t.useState)({name:"",phone:"",email:"",class:"",source:"Website",status:"New",followUpDate:"",notes:""}),[f,v]=(0,t.useState)([{id:1,name:"Admission Open 2026-27",channel:"SMS",budget:5e3,startDate:"2026-02-01",endDate:"2026-03-31",status:"Active",sent:2400,responses:180,conversions:24},{id:2,name:"Early Bird Discount",channel:"WhatsApp",budget:3e3,startDate:"2026-02-05",endDate:"2026-02-28",status:"Active",sent:1200,responses:95,conversions:12},{id:3,name:"Social Media Campaign",channel:"Social",budget:1e4,startDate:"2026-01-15",endDate:"2026-03-15",status:"Active",sent:45e3,responses:320,conversions:45},{id:4,name:"Website Landing Page",channel:"Website",budget:2e3,startDate:"2026-01-01",endDate:"2026-04-30",status:"Active",sent:0,responses:210,conversions:38}]),[b,y]=(0,t.useState)({name:"",channel:"SMS",budget:"",startDate:"",endDate:""}),j=h.filter(e=>e.followUpDate&&"Enrolled"!==e.status&&"Lost"!==e.status).sort((e,t)=>new Date(e.followUpDate)-new Date(t.followUpDate)),N=j.filter(e=>{const t=(new Date).toISOString().split("T")[0];return e.followUpDate<=t}),w=j.filter(e=>{const t=new Date,a=new Date(t);return a.setDate(a.getDate()+7),new Date(e.followUpDate)<=a&&new Date(e.followUpDate)>new Date(t.toISOString().split("T")[0])}),k=[{stage:"Enquiry",count:h.length,color:"bg-blue-500",width:"100%"},{stage:"Visit",count:Math.floor(.6*h.length),color:"bg-purple-500",width:"60%"},{stage:"Applied",count:Math.floor(.35*h.length),color:"bg-amber-500",width:"35%"},{stage:"Enrolled",count:h.filter(e=>"Enrolled"===e.status).length,color:"bg-green-500",width:"15%"}],S=h.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.phone.includes(n)||e.class.toLowerCase().includes(n.toLowerCase())),_=e=>{p(t=>t.map(t=>t.id===e?d(d({},t),{},{status:"Contacted",followUpDate:""}):t)),Qt.success("Follow-up marked as completed")},C=h.length,E=h.filter(e=>"Enrolled"===e.status).length,P=C>0?(E/C*100).toFixed(1):0;return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-cyan-600 to-blue-600 rounded-2xl p-6 text-white",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,Hr.jsx)(Tl,{className:"w-8 h-8"}),"Admission CRM"]}),(0,Hr.jsx)("p",{className:"text-cyan-100 mt-2",children:"Track every lead, analyse every campaign \u2014 never miss an admission"})]}),(0,Hr.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:C}),(0,Hr.jsx)("p",{className:"text-xs text-cyan-100",children:"Total Enquiries"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:E}),(0,Hr.jsx)("p",{className:"text-xs text-cyan-100",children:"Enrolled"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsxs)("p",{className:"text-2xl font-bold",children:[P,"%"]}),(0,Hr.jsx)("p",{className:"text-xs text-cyan-100",children:"Conversion Rate"})]})]})]})}),(0,Hr.jsxs)(wh,{value:a,onValueChange:s,children:[(0,Hr.jsxs)(kh,{className:"grid grid-cols-4 w-full max-w-2xl",children:[(0,Hr.jsxs)(Sh,{value:"enquiries",className:"flex items-center gap-2",children:[(0,Hr.jsx)(tl,{className:"w-4 h-4"})," Enquiries"]}),(0,Hr.jsxs)(Sh,{value:"followups",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Ly,{className:"w-4 h-4"})," Follow-ups"]}),(0,Hr.jsxs)(Sh,{value:"campaigns",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Fy,{className:"w-4 h-4"})," Campaigns"]}),(0,Hr.jsxs)(Sh,{value:"analytics",className:"flex items-center gap-2",children:[(0,Hr.jsx)(al,{className:"w-4 h-4"})," Analytics"]})]}),(0,Hr.jsxs)(_h,{value:"enquiries",className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,Hr.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Hr.jsx)(Lo,{placeholder:"Search by name, phone, class...",value:n,onChange:e=>r(e.target.value),className:"pl-10"})]}),(0,Hr.jsxs)(Io,{onClick:()=>{m(null),g({name:"",phone:"",email:"",class:"",source:"Website",status:"New",followUpDate:"",notes:""}),i(!0)},className:"bg-cyan-600 hover:bg-cyan-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Add Enquiry"]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:["New","Contacted","Interested","Enrolled","Lost"].map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-sm",children:(0,Hr.jsxs)(yb,{className:"p-4 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:h.filter(t=>t.status===e).length}),(0,Hr.jsx)(Ry,{className:zy[e],children:e})]})},e))}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsx)(yb,{className:"p-0",children:(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full text-sm",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50",children:[(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Name"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Phone"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Class"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Source"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Status"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Follow-up"}),(0,Hr.jsx)("th",{className:"text-right py-3 px-4 text-gray-500 font-medium",children:"Actions"})]})}),(0,Hr.jsx)("tbody",{children:S.map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[(0,Hr.jsx)("td",{className:"py-3 px-4",children:(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),e.email&&(0,Hr.jsx)("p",{className:"text-xs text-gray-400",children:e.email})]})}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.phone}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.class}),(0,Hr.jsx)("td",{className:"py-3 px-4",children:(0,Hr.jsx)(Ry,{variant:"outline",children:e.source})}),(0,Hr.jsx)("td",{className:"py-3 px-4",children:(0,Hr.jsx)(Ry,{className:zy[e.status],children:e.status})}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-gray-600 text-xs",children:e.followUpDate||"\u2014"}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-right",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>(e=>{m(e),g({name:e.name,phone:e.phone,email:e.email||"",class:e.class,source:e.source,status:e.status,followUpDate:e.followUpDate||"",notes:e.notes||""}),i(!0)})(e),children:(0,Hr.jsx)(Lh,{className:"w-4 h-4 text-gray-400"})}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,p(e=>e.filter(e=>e.id!==t)),void Qt.success("Enquiry deleted");var t},children:(0,Hr.jsx)(Hh,{className:"w-4 h-4 text-red-400"})})]})})]},e.id))})]})})})})]}),(0,Hr.jsx)(_h,{value:"followups",className:"space-y-6",children:(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(By,{className:"w-5 h-5 text-red-500"}),"Due Today / Overdue (",N.length,")"]}),0===N.length?(0,Hr.jsx)(gb,{className:"border-0 shadow-sm",children:(0,Hr.jsxs)(yb,{className:"p-8 text-center",children:[(0,Hr.jsx)(Gb,{className:"w-12 h-12 text-green-400 mx-auto mb-2"}),(0,Hr.jsx)("p",{className:"text-gray-500",children:"All caught up! No follow-ups due today."})]})}):(0,Hr.jsx)("div",{className:"space-y-3",children:N.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md border-l-4 border-l-red-500",children:(0,Hr.jsx)(yb,{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,Hr.jsxs)("p",{className:"text-sm text-gray-500",children:[e.class," \u2022 ",e.phone]}),e.notes&&(0,Hr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:e.notes})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Ry,{className:zy[e.status],children:e.status}),(0,Hr.jsxs)(Io,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>_(e.id),children:[(0,Hr.jsx)(Gb,{className:"w-4 h-4 mr-1"})," Done"]})]})]})})},e.id))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(Hl,{className:"w-5 h-5 text-blue-500"}),"This Week (",w.length,")"]}),0===w.length?(0,Hr.jsx)(gb,{className:"border-0 shadow-sm",children:(0,Hr.jsxs)(yb,{className:"p-8 text-center",children:[(0,Hr.jsx)(Ly,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),(0,Hr.jsx)("p",{className:"text-gray-500",children:"No upcoming follow-ups this week."})]})}):(0,Hr.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md border-l-4 border-l-blue-500",children:(0,Hr.jsx)(yb,{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,Hr.jsxs)("p",{className:"text-sm text-gray-500",children:[e.class," \u2022 ",e.phone]}),(0,Hr.jsxs)("p",{className:"text-xs text-blue-500 mt-1 flex items-center gap-1",children:[(0,Hr.jsx)(Il,{className:"w-3 h-3"})," ",e.followUpDate]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Ry,{className:zy[e.status],children:e.status}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:()=>_(e.id),children:[(0,Hr.jsx)(Gb,{className:"w-4 h-4 mr-1"})," Done"]})]})]})})},e.id))})]})]})}),(0,Hr.jsxs)(_h,{value:"campaigns",className:"space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Admission Campaigns"}),(0,Hr.jsxs)(Io,{onClick:()=>{y({name:"",channel:"SMS",budget:"",startDate:"",endDate:""}),c(!0)},className:"bg-cyan-600 hover:bg-cyan-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," New Campaign"]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center ".concat("SMS"===e.channel?"bg-blue-500":"WhatsApp"===e.channel?"bg-green-500":"Social"===e.channel?"bg-pink-500":"bg-purple-500"),children:"SMS"===e.channel?(0,Hr.jsx)(Fl,{className:"w-5 h-5 text-white"}):"WhatsApp"===e.channel?(0,Hr.jsx)(dl,{className:"w-5 h-5 text-white"}):(e.channel,(0,Hr.jsx)(rl,{className:"w-5 h-5 text-white"}))}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h4",{className:"font-bold text-gray-900",children:e.name}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-500",children:[e.startDate," to ",e.endDate]})]})]}),(0,Hr.jsx)(Ry,{className:"bg-green-100 text-green-700",children:e.status})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-lg font-bold text-gray-900",children:e.sent>0?e.sent.toLocaleString():e.responses}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500",children:e.sent>0?"Sent":"Responses"})]}),(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-lg font-bold text-gray-900",children:e.responses}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500",children:"Responses"})]}),(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-lg font-bold text-green-600",children:e.conversions}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500",children:"Enrolled"})]})]}),e.budget>0&&(0,Hr.jsxs)("p",{className:"text-xs text-gray-400 mt-3 flex items-center gap-1",children:[(0,Hr.jsx)(Pl,{className:"w-3 h-3"})," Budget: \u20b9",e.budget.toLocaleString()]})]})},e.id))})]}),(0,Hr.jsxs)(_h,{value:"analytics",className:"space-y-6",children:[(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Admission Funnel"}),(0,Hr.jsx)("div",{className:"space-y-3",children:k.map((e,t)=>(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"w-24 text-sm font-medium text-gray-600 text-right",children:e.stage}),(0,Hr.jsx)("div",{className:"flex-1",children:(0,Hr.jsx)("div",{className:"relative h-10 bg-gray-100 rounded-lg overflow-hidden",children:(0,Hr.jsx)("div",{className:"absolute left-0 top-0 h-full ".concat(e.color," rounded-lg flex items-center justify-end pr-3 transition-all"),style:{width:e.width},children:(0,Hr.jsx)("span",{className:"text-white text-sm font-bold",children:e.count})})})}),t<k.length-1&&(0,Hr.jsx)(hl,{className:"w-4 h-4 text-gray-300 flex-shrink-0"})]},e.stage))})]})}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Source-wise Conversion"}),(0,Hr.jsx)("div",{className:"space-y-3",children:[{source:"Website",enquiries:28,enrolled:8,rate:28.6,color:"bg-blue-500"},{source:"WhatsApp",enquiries:22,enrolled:5,rate:22.7,color:"bg-green-500"},{source:"Social Media",enquiries:35,enrolled:6,rate:17.1,color:"bg-pink-500"},{source:"Referral",enquiries:15,enrolled:7,rate:46.7,color:"bg-purple-500"},{source:"Walk-in",enquiries:18,enrolled:9,rate:50,color:"bg-amber-500"},{source:"SMS Campaign",enquiries:12,enrolled:2,rate:16.7,color:"bg-cyan-500"}].map(e=>(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Hr.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.source}),(0,Hr.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[e.rate,"%"]})]}),(0,Hr.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2",children:(0,Hr.jsx)("div",{className:"".concat(e.color," h-2 rounded-full"),style:{width:"".concat(e.rate,"%")}})})]}),(0,Hr.jsxs)("span",{className:"text-xs text-gray-400 w-16 text-right",children:[e.enrolled,"/",e.enquiries]})]},e.source))})]})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Class-wise Demand"}),(0,Hr.jsx)("div",{className:"space-y-3",children:[{class:"Nursery",enquiries:22,seats:30},{class:"Class 1",enquiries:18,seats:40},{class:"Class 6",enquiries:15,seats:45},{class:"Class 9",enquiries:12,seats:40},{class:"Class 11 (Sci)",enquiries:25,seats:35},{class:"Class 11 (Com)",enquiries:10,seats:35}].map(e=>(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Hr.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.class}),(0,Hr.jsxs)("span",{className:"text-xs text-gray-500",children:[e.enquiries," enquiries / ",e.seats," seats"]})]}),(0,Hr.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-3",children:(0,Hr.jsx)("div",{className:"h-3 rounded-full ".concat(e.enquiries>=e.seats?"bg-red-500":e.enquiries>=.7*e.seats?"bg-amber-500":"bg-green-500"),style:{width:"".concat(Math.min(e.enquiries/e.seats*100,100),"%")}})})]},e.class))})]})})]})]})]}),(0,Hr.jsx)(Gu,{open:l,onOpenChange:i,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:u?"Edit Enquiry":"Add New Enquiry"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Student Name *"}),(0,Hr.jsx)(Lo,{value:x.name,onChange:e=>g(t=>d(d({},t),{},{name:e.target.value})),placeholder:"Full name"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Phone *"}),(0,Hr.jsx)(Lo,{value:x.phone,onChange:e=>g(t=>d(d({},t),{},{phone:e.target.value})),placeholder:"Mobile number"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Email"}),(0,Hr.jsx)(Lo,{value:x.email,onChange:e=>g(t=>d(d({},t),{},{email:e.target.value})),placeholder:"Email address"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Class"}),(0,Hr.jsx)(Lo,{value:x.class,onChange:e=>g(t=>d(d({},t),{},{class:e.target.value})),placeholder:"e.g., Class 6"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Source"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-md p-2 text-sm",value:x.source,onChange:e=>g(t=>d(d({},t),{},{source:e.target.value})),children:[(0,Hr.jsx)("option",{value:"Website",children:"Website"}),(0,Hr.jsx)("option",{value:"WhatsApp",children:"WhatsApp"}),(0,Hr.jsx)("option",{value:"Social Media",children:"Social Media"}),(0,Hr.jsx)("option",{value:"Referral",children:"Referral"}),(0,Hr.jsx)("option",{value:"Walk-in",children:"Walk-in"}),(0,Hr.jsx)("option",{value:"SMS Campaign",children:"SMS Campaign"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Status"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-md p-2 text-sm",value:x.status,onChange:e=>g(t=>d(d({},t),{},{status:e.target.value})),children:[(0,Hr.jsx)("option",{value:"New",children:"New"}),(0,Hr.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,Hr.jsx)("option",{value:"Interested",children:"Interested"}),(0,Hr.jsx)("option",{value:"Enrolled",children:"Enrolled"}),(0,Hr.jsx)("option",{value:"Lost",children:"Lost"})]})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Follow-up Date"}),(0,Hr.jsx)(Lo,{type:"date",value:x.followUpDate,onChange:e=>g(t=>d(d({},t),{},{followUpDate:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Notes"}),(0,Hr.jsx)(Oy,{value:x.notes,onChange:e=>g(t=>d(d({},t),{},{notes:e.target.value})),placeholder:"Any additional notes...",rows:3})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,Hr.jsx)(Io,{onClick:()=>{x.name&&x.phone?(u?(p(e=>e.map(e=>e.id===u.id?d(d({},e),x):e)),Qt.success("Enquiry updated successfully")):(p(e=>[...e,d(d({id:Date.now()},x),{},{createdAt:(new Date).toISOString().split("T")[0]})]),Qt.success("New enquiry added successfully")),i(!1),m(null),g({name:"",phone:"",email:"",class:"",source:"Website",status:"New",followUpDate:"",notes:""})):Qt.error("Name and Phone are required")},className:"bg-cyan-600 hover:bg-cyan-700",children:u?"Update":"Add Enquiry"})]})]})]})}),(0,Hr.jsx)(Gu,{open:o,onOpenChange:c,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Create Admission Campaign"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Campaign Name *"}),(0,Hr.jsx)(Lo,{value:b.name,onChange:e=>y(t=>d(d({},t),{},{name:e.target.value})),placeholder:"e.g., Admission Open 2026-27"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Channel"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-md p-2 text-sm",value:b.channel,onChange:e=>y(t=>d(d({},t),{},{channel:e.target.value})),children:[(0,Hr.jsx)("option",{value:"SMS",children:"SMS"}),(0,Hr.jsx)("option",{value:"WhatsApp",children:"WhatsApp"}),(0,Hr.jsx)("option",{value:"Social",children:"Social Media"}),(0,Hr.jsx)("option",{value:"Website",children:"Website"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Budget (\u20b9)"}),(0,Hr.jsx)(Lo,{type:"number",value:b.budget,onChange:e=>y(t=>d(d({},t),{},{budget:e.target.value})),placeholder:"e.g., 5000"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Start Date"}),(0,Hr.jsx)(Lo,{type:"date",value:b.startDate,onChange:e=>y(t=>d(d({},t),{},{startDate:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"End Date"}),(0,Hr.jsx)(Lo,{type:"date",value:b.endDate,onChange:e=>y(t=>d(d({},t),{},{endDate:e.target.value}))})]})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),(0,Hr.jsx)(Io,{onClick:()=>{b.name&&b.channel?(v(e=>[...e,d(d({id:Date.now()},b),{},{budget:parseInt(b.budget)||0,status:"Active",sent:0,responses:0,conversions:0})]),Qt.success("Campaign created successfully"),c(!1),y({name:"",channel:"SMS",budget:"",startDate:"",endDate:""})):Qt.error("Campaign name and channel are required")},className:"bg-cyan-600 hover:bg-cyan-700",children:"Create Campaign"})]})]})]})})]})}function qy(e){const a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}const Uy=["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"],Wy=["__scopeSwitch"],Vy=["__scopeSwitch","control","checked","bubbles"];var Gy="Switch",[Ky,Yy]=Yo(Gy),[Qy,$y]=Ky(Gy),Jy=t.forwardRef((e,a)=>{const{__scopeSwitch:s,name:n,checked:l,defaultChecked:i,required:o,disabled:c,value:u="on",onCheckedChange:m,form:h}=e,p=r(e,Uy),[x,g]=t.useState(null),f=Zl(a,e=>g(e)),v=t.useRef(!1),b=!x||(h||!!x.closest("form")),[y,j]=tc({prop:l,defaultProp:null!==i&&void 0!==i&&i,onChange:m,caller:Gy});return(0,Hr.jsxs)(Qy,{scope:s,checked:y,disabled:c,children:[(0,Hr.jsx)(cc.button,d(d({type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":tj(y),"data-disabled":c?"":void 0,disabled:c,value:u},p),{},{ref:f,onClick:Vo(e.onClick,e=>{j(e=>!e),b&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})),b&&(0,Hr.jsx)(ej,{control:x,bubbles:!v.current,name:n,value:u,checked:y,required:o,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});Jy.displayName=Gy;var Xy="SwitchThumb",Zy=t.forwardRef((e,t)=>{const{__scopeSwitch:a}=e,s=r(e,Wy),n=$y(Xy,a);return(0,Hr.jsx)(cc.span,d(d({"data-state":tj(n.checked),"data-disabled":n.disabled?"":void 0},s),{},{ref:t}))});Zy.displayName=Xy;var ej=t.forwardRef((e,a)=>{let{__scopeSwitch:s,control:n,checked:l,bubbles:i=!0}=e,o=r(e,Vy);const c=t.useRef(null),u=Zl(c,a),m=qy(l),h=Bx(n);return t.useEffect(()=>{const e=c.current;if(!e)return;const t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(m!==l&&a){const t=new Event("click",{bubbles:i});a.call(e,l),e.dispatchEvent(t)}},[m,l,i]),(0,Hr.jsx)("input",d(d({type:"checkbox","aria-hidden":!0,defaultChecked:l},o),{},{tabIndex:-1,ref:u,style:d(d(d({},o.style),h),{},{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))});function tj(e){return e?"checked":"unchecked"}ej.displayName="SwitchBubbleInput";var aj=Jy,sj=Zy;const nj=["className"],rj=t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,nj);return(0,Hr.jsx)(aj,d(d({className:Mo("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a)},s),{},{ref:t,children:(0,Hr.jsx)(sj,{className:Mo("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}))});rj.displayName=aj.displayName;const lj=el("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),ij=el("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),oj=el("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),cj=el("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),dj=el("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),uj=el("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),mj="".concat("","/api"),hj=(e,t)=>{const a={cbse:[{min:91,grade:"A1",points:10,remark:"Outstanding"},{min:81,grade:"A2",points:9,remark:"Excellent"},{min:71,grade:"B1",points:8,remark:"Very Good"},{min:61,grade:"B2",points:7,remark:"Good"},{min:51,grade:"C1",points:6,remark:"Above Average"},{min:41,grade:"C2",points:5,remark:"Average"},{min:33,grade:"D",points:4,remark:"Below Average"},{min:0,grade:"E",points:0,remark:"Needs Improvement"}],icse:[{min:90,grade:"A+",points:10,remark:"Exceptional"},{min:80,grade:"A",points:9,remark:"Excellent"},{min:70,grade:"B+",points:8,remark:"Very Good"},{min:60,grade:"B",points:7,remark:"Good"},{min:50,grade:"C+",points:6,remark:"Fair"},{min:40,grade:"C",points:5,remark:"Average"},{min:33,grade:"D",points:4,remark:"Below Average"},{min:0,grade:"F",points:0,remark:"Fail"}],state:[{min:90,grade:"A+",points:10,remark:"Distinction"},{min:75,grade:"A",points:9,remark:"First Class"},{min:60,grade:"B",points:7,remark:"Second Class"},{min:45,grade:"C",points:5,remark:"Third Class"},{min:33,grade:"D",points:4,remark:"Pass"},{min:0,grade:"F",points:0,remark:"Fail"}],custom:[]},s=a[t||"cbse"]||a.cbse;for(const n of s)if(e>=n.min)return n;return{grade:"E",points:0,remark:"Needs Improvement"}},pj=[{id:"hindi",name:"Hindi",name_hi:"\u0939\u093f\u0902\u0926\u0940",max_marks:100},{id:"english",name:"English",name_hi:"\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940",max_marks:100},{id:"math",name:"Mathematics",name_hi:"\u0917\u0923\u093f\u0924",max_marks:100},{id:"science",name:"Science",name_hi:"\u0935\u093f\u091c\u094d\u091e\u093e\u0928",max_marks:100},{id:"sst",name:"Social Science",name_hi:"\u0938\u093e\u092e\u093e\u091c\u093f\u0915 \u0935\u093f\u091c\u094d\u091e\u093e\u0928",max_marks:100},{id:"computer",name:"Computer",name_hi:"\u0915\u0902\u092a\u094d\u092f\u0942\u091f\u0930",max_marks:50},{id:"gk",name:"General Knowledge",name_hi:"\u0938\u093e\u092e\u093e\u0928\u094d\u092f \u091c\u094d\u091e\u093e\u0928",max_marks:50},{id:"drawing",name:"Drawing",name_hi:"\u091a\u093f\u0924\u094d\u0930\u0915\u0932\u093e",max_marks:50}],xj=[{id:"unit1",name:"Unit Test 1",name_hi:"\u0907\u0915\u093e\u0908 \u092a\u0930\u0940\u0915\u094d\u0937\u093e 1",max_marks:20},{id:"unit2",name:"Unit Test 2",name_hi:"\u0907\u0915\u093e\u0908 \u092a\u0930\u0940\u0915\u094d\u0937\u093e 2",max_marks:20},{id:"half_yearly",name:"Half Yearly",name_hi:"\u0905\u0930\u094d\u0927\u0935\u093e\u0930\u094d\u0937\u093f\u0915 \u092a\u0930\u0940\u0915\u094d\u0937\u093e",max_marks:80},{id:"unit3",name:"Unit Test 3",name_hi:"\u0907\u0915\u093e\u0908 \u092a\u0930\u0940\u0915\u094d\u0937\u093e 3",max_marks:20},{id:"unit4",name:"Unit Test 4",name_hi:"\u0907\u0915\u093e\u0908 \u092a\u0930\u0940\u0915\u094d\u0937\u093e 4",max_marks:20},{id:"annual",name:"Annual Exam",name_hi:"\u0935\u093e\u0930\u094d\u0937\u093f\u0915 \u092a\u0930\u0940\u0915\u094d\u0937\u093e",max_marks:80}],gj=[{id:"classic",name:"Classic",description:"Traditional report card with borders",color:"#1e40af"},{id:"modern",name:"Modern",description:"Clean minimal design with gradients",color:"#7c3aed"},{id:"colorful",name:"Colorful",description:"Bright colors with visual elements",color:"#059669"},{id:"formal",name:"Formal",description:"Government school style formal layout",color:"#374151"}];function fj(){var e,a,s;const{schoolId:n,user:r}=Vr(),[l,i]=(0,t.useState)([]),[o,c]=(0,t.useState)([]),[u,m]=(0,t.useState)(pj),[h,p]=(0,t.useState)([]),[x,g]=(0,t.useState)({}),[f,v]=(0,t.useState)(null),[b,y]=(0,t.useState)(!0),[j,N]=(0,t.useState)(!1),[w,k]=(0,t.useState)("marks"),[S,_]=(0,t.useState)(""),[C,E]=(0,t.useState)(""),[P,A]=(0,t.useState)(null),[T,M]=(0,t.useState)(!1),[D,R]=(0,t.useState)(!1),[I,O]=(0,t.useState)(!1),[L,F]=(0,t.useState)("cbse"),[B,z]=(0,t.useState)("classic"),[H,q]=(0,t.useState)({show_rank:!0,show_attendance:!0,show_remarks:!0,show_activities:!0,show_photo:!0,show_graph:!1,principal_name:"",watermark:!0,digital_publish:!1,show_co_scholastic:!0}),[U,W]=(0,t.useState)([{id:"term1",name:"Term 1",weight:50,children:[{id:"ut1",name:"Unit Test 1",weight:10,max_marks:20},{id:"ut2",name:"Unit Test 2",weight:10,max_marks:20},{id:"half",name:"Half Yearly",weight:30,max_marks:80}]},{id:"term2",name:"Term 2",weight:50,children:[{id:"ut3",name:"Unit Test 3",weight:10,max_marks:20},{id:"ut4",name:"Unit Test 4",weight:10,max_marks:20},{id:"annual",name:"Annual Exam",weight:30,max_marks:80}]}]),[V,G]=(0,t.useState)([{id:"art",name:"Art & Craft",grade:""},{id:"music",name:"Music",grade:""},{id:"dance",name:"Dance",grade:""},{id:"sports",name:"Physical Education",grade:""},{id:"discipline",name:"Discipline",grade:""},{id:"personality",name:"Personality Development",grade:""}]),[K,Y]=(0,t.useState)({name:"",type:"unit1",class_id:"",start_date:"",end_date:"",max_marks:20}),[Q,$]=(0,t.useState)({});(0,t.useEffect)(()=>{n&&J()},[n]),(0,t.useEffect)(()=>{S&&C&&(Z(),X())},[S,C]);const J=async()=>{y(!0);try{var e;const t=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)},[s,r,l]=await Promise.all([zr.get("".concat(mj,"/classes?school_id=").concat(n),{headers:a}),zr.get("".concat(mj,"/exam-schedules?school_id=").concat(n),{headers:a}).catch(()=>({data:[]})),zr.get("".concat(mj,"/schools/").concat(n),{headers:a})]);i(s.data||[]),p(r.data||[]),v(l.data),(null===(e=s.data)||void 0===e?void 0:e.length)>0&&_(s.data[0].id)}catch(t){console.error("Error fetching data:",t)}finally{y(!1)}},X=async()=>{try{const e=localStorage.getItem("token"),t=await zr.get("".concat(mj,"/students?school_id=").concat(n,"&class_id=").concat(S,"&status=active"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data||[])}catch(e){console.error("Error fetching students:",e)}},Z=async()=>{try{const e=localStorage.getItem("token"),t=await zr.get("".concat(mj,"/marks?school_id=").concat(n,"&class_id=").concat(S,"&exam_id=").concat(C),{headers:{Authorization:"Bearer ".concat(e)}}).catch(()=>({data:{}})),a={};(t.data||[]).forEach(e=>{a[e.student_id]||(a[e.student_id]={}),a[e.student_id][e.subject_id]=e.marks}),g(a),$(a)}catch(e){console.error("Error fetching marks:",e)}},ee=e=>{const t=x[e]||{};let a=0,s=0;u.forEach(e=>{const n=parseFloat(t[e.id])||0;a+=n,s+=e.max_marks});const n=s>0?a/s*100:0,r=hj(n,L);return d(d({totalObtained:a,totalMax:s,percentage:n.toFixed(2)},r),{},{passed:n>=33})},te=()=>{if(!P)return;const e=ee(P.id),t=x[P.id]||{},a=l.find(e=>e.id===P.class_id),s=gj.find(e=>e.id===B)||gj[0],n=window.open("","_blank");n.document.write("\n      <html>\n      <head>\n        <title>Report Card - ".concat(P.name,"</title>\n        <style>\n          body { font-family: 'Segoe UI', Arial, sans-serif; padding: 20px; max-width: 800px; margin: auto; }\n          .header { text-align: center; border-bottom: 3px solid ").concat(s.color,"; padding-bottom: 15px; margin-bottom: 20px; }\n          .header img { width: 70px; height: 70px; }\n          .header h1 { margin: 10px 0 5px; font-size: 22px; color: ").concat(s.color,"; }\n          .header h2 { margin: 10px 0; font-size: 16px; text-decoration: underline; color: ").concat(s.color,"; }\n          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; font-size: 13px; }\n          .info-grid div { padding: 5px; border-bottom: 1px solid #eee; }\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n          th, td { border: 1px solid #333; padding: 8px; text-align: center; font-size: 12px; }\n          th { background: ").concat(s.color,"15; color: ").concat(s.color,"; }\n          .result-box { background: ").concat(s.color,"08; border: 2px solid ").concat(s.color,"30; padding: 15px; text-align: center; margin: 20px 0; border-radius: 8px; }\n          .result-box h3 { margin: 0 0 10px; color: ").concat(s.color,"; }\n          .grade { font-size: 24px; font-weight: bold; color: ").concat(e.passed?"#22c55e":"#ef4444","; }\n          .co-scholastic { margin: 20px 0; }\n          .co-scholastic h4 { color: ").concat(s.color,"; margin-bottom: 10px; }\n          .signatures { display: flex; justify-content: space-between; margin-top: 50px; }\n          .signatures div { text-align: center; }\n          .signatures .line { border-top: 1px solid #000; width: 120px; margin-top: 40px; }\n          ").concat(H.watermark&&null!==f&&void 0!==f&&f.logo_url?".watermark { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); opacity: 0.05; width: 300px; }":"","\n          @media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } }\n        </style>\n      </head>\n      <body>\n        ").concat(H.watermark&&null!==f&&void 0!==f&&f.logo_url?'<img src="'.concat(f.logo_url,'" class="watermark" />'):"",'\n        <div class="header">\n          ').concat(null!==f&&void 0!==f&&f.logo_url?'<img src="'.concat(f.logo_url,'" />'):"","\n          <h1>").concat((null===f||void 0===f?void 0:f.name)||"School Name",'</h1>\n          <p style="margin: 0; font-size: 11px;">').concat((null===f||void 0===f?void 0:f.address)||"","</p>\n          ").concat(null!==f&&void 0!==f&&f.phone?'<p style="margin: 2px 0; font-size: 11px;">Phone: '.concat(f.phone,"</p>"):"","\n          ").concat(null!==f&&void 0!==f&&f.registration_number?'<p style="margin: 2px 0; font-size: 11px;">Reg. No: '.concat(f.registration_number,"</p>"):"","\n          <h2>PROGRESS REPORT / \u092a\u094d\u0930\u0917\u0924\u093f \u092a\u0924\u094d\u0930</h2>\n          <p>Academic Year: ").concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+1,'</p>\n        </div>\n        \n        <div class="info-grid">\n          <div><b>Student Name:</b> ').concat(P.name,"</div>\n          <div><b>Roll No:</b> ").concat(P.roll_no||P.student_id,"</div>\n          <div><b>Father's Name:</b> ").concat(P.father_name||"-","</div>\n          <div><b>Class:</b> ").concat((null===a||void 0===a?void 0:a.name)||"-","</div>\n          <div><b>Date of Birth:</b> ").concat(P.dob?new Date(P.dob).toLocaleDateString("en-IN"):"-","</div>\n          <div><b>Admission No:</b> ").concat(P.admission_no||P.student_id,"</div>\n          ").concat(H.show_attendance?"<div><b>Attendance:</b> -</div>":"","\n          ").concat(H.show_rank?"<div><b>Rank:</b> -</div>":"","\n        </div>\n        \n        <table>\n          <thead>\n            <tr>\n              <th>S.No.</th>\n              <th>Subject</th>\n              <th>Max Marks</th>\n              <th>Marks Obtained</th>\n              <th>Grade</th>\n              <th>Remark</th>\n            </tr>\n          </thead>\n          <tbody>\n            ").concat(u.map((e,a)=>{const s=parseFloat(t[e.id])||0,n=s/e.max_marks*100,r=hj(n,L);return"\n                <tr>\n                  <td>".concat(a+1,'</td>\n                  <td style="text-align: left;">').concat(e.name," (").concat(e.name_hi,")</td>\n                  <td>").concat(e.max_marks,"</td>\n                  <td>").concat(s,"</td>\n                  <td>").concat(r.grade,"</td>\n                  <td>").concat(r.remark,"</td>\n                </tr>\n              ")}).join(""),'\n            <tr style="font-weight: bold; background: ').concat(s.color,'08;">\n              <td colspan="2">Total</td>\n              <td>').concat(u.reduce((e,t)=>e+t.max_marks,0),"</td>\n              <td>").concat(e.totalObtained,"</td>\n              <td>").concat(e.grade,"</td>\n              <td>").concat(e.remark,"</td>\n            </tr>\n          </tbody>\n        </table>\n        \n        ").concat(H.show_co_scholastic?'\n        <div class="co-scholastic">\n          <h4>Co-Scholastic Activities / \u0938\u0939-\u0936\u0948\u0915\u094d\u0937\u093f\u0915 \u0917\u0924\u093f\u0935\u093f\u0927\u093f\u092f\u093e\u0901</h4>\n          <table>\n            <thead><tr><th>Activity</th><th>Grade</th></tr></thead>\n            <tbody>\n              '.concat(V.map(e=>'<tr><td style="text-align:left">'.concat(e.name,"</td><td>").concat(e.grade||"A","</td></tr>")).join(""),"\n            </tbody>\n          </table>\n        </div>\n        "):"",'\n        \n        <div class="result-box">\n          <h3>Overall Result / \u0938\u092e\u0917\u094d\u0930 \u092a\u0930\u093f\u0923\u093e\u092e</h3>\n          <p>Percentage: <b>').concat(e.percentage,'%</b></p>\n          <p class="grade">Grade: ').concat(e.grade," (").concat(e.remark,')</p>\n          <p>Result: <b style="color: ').concat(e.passed?"#22c55e":"#ef4444",';">').concat(e.passed?"PASSED":"FAILED","</b></p>\n        </div>\n\n        ").concat(H.show_remarks?'\n        <div style="margin: 15px 0; padding: 10px; border: 1px dashed #ccc; border-radius: 6px;">\n          <p><b>Teacher\'s Remarks:</b> ___________________________________</p>\n        </div>':"",'\n        \n        <div class="signatures">\n          <div><div class="line"></div><p>Class Teacher</p></div>\n          <div><div class="line"></div><p>Parent/Guardian</p></div>\n          <div><div class="line"></div><p>').concat(H.principal_name||"Principal","</p></div>\n        </div>\n        \n        <script>window.onload = () => window.print();<\/script>\n      </body>\n      </html>\n    ")),n.document.close()};return(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"exam-report-card",children:[(0,Hr.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6 text-white",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,Hr.jsx)(lj,{className:"w-8 h-8"}),"Exam & Report Card Management"]}),(0,Hr.jsx)("p",{className:"text-blue-100 mt-2",children:"Conduct, compute, and release \u2014 results in minutes"})]}),(0,Hr.jsx)("div",{className:"flex gap-2",children:(0,Hr.jsxs)(Io,{onClick:()=>R(!0),className:"gap-2 bg-white/20 hover:bg-white/30 text-white border-white/30",variant:"outline",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4"}),"Create Exam"]})})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[{label:"Exams Created",value:h.length||xj.length,icon:Hl},{label:"Classes",value:l.length,icon:cl},{label:"Students",value:o.length,icon:tl},{label:"Grading",value:L.toUpperCase(),icon:by}].map((e,t)=>(0,Hr.jsxs)("div",{className:"bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(e.icon,{className:"w-4 h-4 text-blue-200"}),(0,Hr.jsx)("span",{className:"text-sm text-blue-200",children:e.label})]}),(0,Hr.jsx)("p",{className:"text-xl font-bold mt-1",children:e.value})]},t))})]}),(0,Hr.jsxs)(wh,{value:w,onValueChange:k,className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-3 md:grid-cols-6 max-w-4xl",children:[(0,Hr.jsxs)(Sh,{value:"marks",className:"gap-1 text-xs",children:[(0,Hr.jsx)(Lh,{className:"w-3.5 h-3.5"}),"Marks Entry"]}),(0,Hr.jsxs)(Sh,{value:"results",className:"gap-1 text-xs",children:[(0,Hr.jsx)(al,{className:"w-3.5 h-3.5"}),"Results"]}),(0,Hr.jsxs)(Sh,{value:"reports",className:"gap-1 text-xs",children:[(0,Hr.jsx)(Dl,{className:"w-3.5 h-3.5"}),"Report Cards"]}),(0,Hr.jsxs)(Sh,{value:"hierarchy",className:"gap-1 text-xs",children:[(0,Hr.jsx)(ll,{className:"w-3.5 h-3.5"}),"Exam Structure"]}),(0,Hr.jsxs)(Sh,{value:"design",className:"gap-1 text-xs",children:[(0,Hr.jsx)(ij,{className:"w-3.5 h-3.5"}),"Design"]}),(0,Hr.jsxs)(Sh,{value:"grading",className:"gap-1 text-xs",children:[(0,Hr.jsx)(Cl,{className:"w-3.5 h-3.5"}),"Grading"]})]}),(0,Hr.jsx)(_h,{value:"marks",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsx)(vb,{children:"Enter Marks"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,Hr.jsxs)("select",{value:S,onChange:e=>_(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,Hr.jsx)("option",{value:"",children:"Select Class"}),l.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Hr.jsxs)("select",{value:C,onChange:e=>E(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,Hr.jsx)("option",{value:"",children:"Select Exam"}),xj.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(S&&C){N(!0);try{const e=localStorage.getItem("token"),t=[];Object.entries(Q).forEach(e=>{let[a,s]=e;Object.entries(s).forEach(e=>{let[s,n]=e;void 0!==n&&""!==n&&t.push({student_id:a,subject_id:s,marks:parseFloat(n)||0})})}),await zr.post("".concat(mj,"/marks/bulk"),{school_id:n,class_id:S,exam_id:C,marks:t,entered_by:null===r||void 0===r?void 0:r.id},{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Marks saved successfully!"),g(Q)}catch(e){Qt.error("Failed to save marks")}finally{N(!1)}}else Qt.error("Please select class and exam")},disabled:j||!S||!C,className:"gap-2 bg-green-600 hover:bg-green-700",children:[j?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin"}):(0,Hr.jsx)(hy,{className:"w-4 h-4"}),"Save"]})]})]})}),(0,Hr.jsx)(yb,{children:b?(0,Hr.jsx)("div",{className:"flex justify-center py-10",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-blue-600"})}):S&&C?(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)(om,{children:[(0,Hr.jsx)(cm,{children:(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(mm,{className:"w-12",children:"S.No"}),(0,Hr.jsx)(mm,{children:"Student Name"}),(0,Hr.jsx)(mm,{children:"Roll No"}),u.map(e=>(0,Hr.jsxs)(mm,{className:"text-center min-w-[80px]",children:[(0,Hr.jsx)("div",{className:"text-xs",children:e.name}),(0,Hr.jsxs)("div",{className:"text-[10px] font-normal text-slate-400",children:["Max: ",e.max_marks]})]},e.id)),(0,Hr.jsx)(mm,{className:"text-center",children:"Total"}),(0,Hr.jsx)(mm,{className:"text-center",children:"%"}),(0,Hr.jsx)(mm,{className:"text-center",children:"Grade"})]})}),(0,Hr.jsx)(dm,{children:o.map((e,t)=>{const a=Q[e.id]||{},s=u.reduce((e,t)=>e+(parseFloat(a[t.id])||0),0),n=u.reduce((e,t)=>e+t.max_marks,0),r=n>0?(s/n*100).toFixed(1):"0",l=hj(parseFloat(r),L);return(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(hm,{children:t+1}),(0,Hr.jsx)(hm,{className:"font-medium text-sm",children:e.name}),(0,Hr.jsx)(hm,{className:"text-sm",children:e.roll_no||e.student_id}),u.map(t=>(0,Hr.jsx)(hm,{className:"p-1",children:(0,Hr.jsx)(Lo,{type:"number",min:"0",max:t.max_marks,value:a[t.id]||"",onChange:a=>{return s=e.id,n=t.id,r=a.target.value,void $(e=>d(d({},e),{},{[s]:d(d({},e[s]),{},{[n]:r})}));var s,n,r},className:"w-16 text-center text-sm",placeholder:"-"})},t.id)),(0,Hr.jsx)(hm,{className:"text-center font-semibold",children:s}),(0,Hr.jsxs)(hm,{className:"text-center text-sm",children:[r,"%"]}),(0,Hr.jsx)(hm,{className:"text-center",children:(0,Hr.jsx)(Ry,{variant:l.grade.startsWith("A")?"default":"E"===l.grade||"F"===l.grade?"destructive":"secondary",children:l.grade})})]},e.id)})})]})}):(0,Hr.jsxs)("div",{className:"text-center py-10",children:[(0,Hr.jsx)(ol,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:"Select class and exam to enter marks"})]})})]})}),(0,Hr.jsx)(_h,{value:"results",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsx)(vb,{children:"Class Results"}),(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsxs)("select",{value:S,onChange:e=>_(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,Hr.jsx)("option",{value:"",children:"Select Class"}),l.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Hr.jsxs)(Io,{variant:"outline",className:"gap-2 text-sm",onClick:()=>Qt.success("Exporting results..."),children:[(0,Hr.jsx)(ey,{className:"w-4 h-4"})," Export"]})]})]})}),(0,Hr.jsx)(yb,{children:S&&o.length>0?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:(()=>{const e=o.map(e=>ee(e.id)),t=e.filter(e=>e.passed).length,a=e.reduce((e,t)=>e+parseFloat(t.percentage),0)/e.length,s=e.filter(e=>e.grade.startsWith("A")).length;return[{label:"Pass Rate",value:"".concat((t/e.length*100).toFixed(0),"%"),color:"bg-green-50 text-green-700"},{label:"Average %",value:"".concat(a.toFixed(1),"%"),color:"bg-blue-50 text-blue-700"},{label:"Top Grades (A)",value:s,color:"bg-purple-50 text-purple-700"},{label:"Total Students",value:e.length,color:"bg-slate-50 text-slate-700"}].map((e,t)=>(0,Hr.jsxs)("div",{className:"p-3 rounded-xl ".concat(e.color),children:[(0,Hr.jsx)("p",{className:"text-xs opacity-75",children:e.label}),(0,Hr.jsx)("p",{className:"text-xl font-bold",children:e.value})]},t))})()}),(0,Hr.jsxs)(om,{children:[(0,Hr.jsx)(cm,{children:(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(mm,{children:"Rank"}),(0,Hr.jsx)(mm,{children:"Student Name"}),(0,Hr.jsx)(mm,{children:"Roll No"}),(0,Hr.jsx)(mm,{className:"text-center",children:"Total"}),(0,Hr.jsx)(mm,{className:"text-center",children:"%"}),(0,Hr.jsx)(mm,{className:"text-center",children:"Grade"}),(0,Hr.jsx)(mm,{className:"text-center",children:"Result"})]})}),(0,Hr.jsx)(dm,{children:o.map(e=>d(d({},e),{},{result:ee(e.id)})).sort((e,t)=>parseFloat(t.result.percentage)-parseFloat(e.result.percentage)).map((e,t)=>(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(hm,{className:"font-bold",children:t+1}),(0,Hr.jsx)(hm,{className:"font-medium",children:e.name}),(0,Hr.jsx)(hm,{children:e.roll_no||e.student_id}),(0,Hr.jsxs)(hm,{className:"text-center",children:[e.result.totalObtained,"/",e.result.totalMax]}),(0,Hr.jsxs)(hm,{className:"text-center",children:[e.result.percentage,"%"]}),(0,Hr.jsx)(hm,{className:"text-center",children:(0,Hr.jsx)(Ry,{variant:e.result.grade.startsWith("A")?"default":"E"===e.result.grade||"F"===e.result.grade?"destructive":"secondary",children:e.result.grade})}),(0,Hr.jsx)(hm,{className:"text-center",children:(0,Hr.jsx)(Ry,{variant:e.result.passed?"default":"destructive",children:e.result.passed?"PASS":"FAIL"})})]},e.id))})]})]}):(0,Hr.jsxs)("div",{className:"text-center py-10",children:[(0,Hr.jsx)(al,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:"Select a class to view results"})]})})]})}),(0,Hr.jsx)(_h,{value:"reports",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(vb,{children:"Generate Report Cards"}),(0,Hr.jsx)(bb,{children:"Print or publish digital report cards"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,Hr.jsxs)("select",{value:S,onChange:e=>_(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,Hr.jsx)("option",{value:"",children:"Select Class"}),l.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Hr.jsxs)(Io,{variant:"outline",className:"gap-2 text-sm",onClick:()=>{Qt.success("Printing report cards for ".concat(o.length," students...")),o.forEach((e,t)=>{setTimeout(()=>{A(e)},500*t)})},children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4"})," Bulk Print"]}),(0,Hr.jsxs)(Io,{className:"gap-2 text-sm bg-green-600 hover:bg-green-700",onClick:()=>{Qt.success("Report cards published digitally! Parents can view on StudyTino app.")},children:[(0,Hr.jsx)(oj,{className:"w-4 h-4"})," Publish Digital"]})]})]})}),(0,Hr.jsx)(yb,{children:S&&o.length>0?(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(e=>{var t;const a=ee(e.id);return(0,Hr.jsxs)("div",{className:"p-4 border rounded-xl hover:border-blue-300 hover:shadow-md transition-all",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:null===(t=e.name)||void 0===t?void 0:t.charAt(0)}),(0,Hr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Hr.jsx)("p",{className:"font-semibold truncate",children:e.name}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:e.roll_no||e.student_id})]}),(0,Hr.jsx)(Ry,{variant:a.passed?"default":"destructive",children:a.grade})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center text-sm mb-3",children:[(0,Hr.jsxs)("div",{className:"bg-slate-50 rounded-lg p-2",children:[(0,Hr.jsx)("p",{className:"text-[10px] text-slate-400",children:"Total"}),(0,Hr.jsx)("p",{className:"font-semibold",children:a.totalObtained})]}),(0,Hr.jsxs)("div",{className:"bg-slate-50 rounded-lg p-2",children:[(0,Hr.jsx)("p",{className:"text-[10px] text-slate-400",children:"Percentage"}),(0,Hr.jsxs)("p",{className:"font-semibold",children:[a.percentage,"%"]})]}),(0,Hr.jsxs)("div",{className:"rounded-lg p-2 ".concat(a.passed?"bg-green-50":"bg-red-50"),children:[(0,Hr.jsx)("p",{className:"text-[10px] text-slate-400",children:"Result"}),(0,Hr.jsx)("p",{className:"font-semibold text-xs ".concat(a.passed?"text-green-700":"text-red-700"),children:a.passed?"PASS":"FAIL"})]})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{onClick:()=>(e=>{A(e),M(!0)})(e),variant:"outline",className:"flex-1 gap-1 text-sm",size:"sm",children:[(0,Hr.jsx)(xl,{className:"w-3.5 h-3.5"})," Preview"]}),(0,Hr.jsxs)(Io,{onClick:()=>{A(e),te()},className:"flex-1 gap-1 text-sm bg-blue-600 hover:bg-blue-700",size:"sm",children:[(0,Hr.jsx)(Ch,{className:"w-3.5 h-3.5"})," Print"]})]})]},e.id)})}):(0,Hr.jsxs)("div",{className:"text-center py-10",children:[(0,Hr.jsx)(Dl,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:"Select a class to generate report cards"})]})})]})}),(0,Hr.jsx)(_h,{value:"hierarchy",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(vb,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(ll,{className:"w-5 h-5 text-blue-600"})," Exam Structure"]}),(0,Hr.jsx)(bb,{children:"Define your exam hierarchy - Term, Assessment, Subject, Activity, Rubric"})]}),(0,Hr.jsxs)(Io,{className:"gap-2 bg-blue-600 hover:bg-blue-700",onClick:()=>{Qt.success("Exam structure saved!")},children:[(0,Hr.jsx)(hy,{className:"w-4 h-4"})," Save Structure"]})]})}),(0,Hr.jsxs)(yb,{children:[(0,Hr.jsxs)("div",{className:"space-y-4",children:[U.map((e,t)=>(0,Hr.jsxs)("div",{className:"border rounded-xl p-4 bg-slate-50/50",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:(0,Hr.jsx)(ll,{className:"w-4 h-4 text-blue-600"})}),(0,Hr.jsx)("div",{children:(0,Hr.jsx)(Lo,{value:e.name,onChange:e=>{const a=[...U];a[t].name=e.target.value,W(a)},className:"font-semibold text-lg border-0 bg-transparent p-0 h-auto focus-visible:ring-0"})})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Wo,{className:"text-xs text-slate-500",children:"Weight:"}),(0,Hr.jsx)(Lo,{type:"number",value:e.weight,onChange:e=>{const a=[...U];a[t].weight=parseInt(e.target.value)||0,W(a)},className:"w-16 text-center"}),(0,Hr.jsx)("span",{className:"text-xs text-slate-400",children:"%"})]})]}),(0,Hr.jsxs)("div",{className:"ml-8 space-y-2",children:[e.children.map((e,a)=>(0,Hr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border",children:[(0,Hr.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,Hr.jsx)(Lo,{value:e.name,onChange:e=>{const s=[...U];s[t].children[a].name=e.target.value,W(s)},className:"flex-1 border-0 bg-transparent p-0 h-auto focus-visible:ring-0"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Wo,{className:"text-xs text-slate-400",children:"Weight:"}),(0,Hr.jsx)(Lo,{type:"number",value:e.weight,onChange:e=>{const s=[...U];s[t].children[a].weight=parseInt(e.target.value)||0,W(s)},className:"w-14 text-center text-sm"}),(0,Hr.jsx)("span",{className:"text-xs text-slate-400",children:"%"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Wo,{className:"text-xs text-slate-400",children:"Max:"}),(0,Hr.jsx)(Lo,{type:"number",value:e.max_marks,onChange:e=>{const s=[...U];s[t].children[a].max_marks=parseInt(e.target.value)||0,W(s)},className:"w-14 text-center text-sm"})]}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>{const e=[...U];e[t].children.splice(a,1),W(e)},children:(0,Hr.jsx)(Hh,{className:"w-3.5 h-3.5 text-red-400"})})]},e.id)),(0,Hr.jsxs)(Io,{variant:"outline",size:"sm",className:"gap-2 ml-5 text-xs",onClick:()=>{const e=[...U];e[t].children.push({id:"new_".concat(Date.now()),name:"New Assessment",weight:10,max_marks:20}),W(e)},children:[(0,Hr.jsx)(oy,{className:"w-3 h-3"})," Add Assessment"]})]})]},e.id)),(0,Hr.jsxs)(Io,{variant:"outline",className:"gap-2 w-full",onClick:()=>{W([...U,{id:"term_".concat(Date.now()),name:"New Term",weight:0,children:[]}])},children:[(0,Hr.jsx)(oy,{className:"w-4 h-4"})," Add Term / Exam Group"]})]}),(0,Hr.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[(0,Hr.jsxs)("h4",{className:"font-medium text-blue-800 flex items-center gap-2",children:[(0,Hr.jsx)(Rl,{className:"w-4 h-4"})," Hierarchy Guide"]}),(0,Hr.jsxs)("div",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[(0,Hr.jsx)("p",{children:"Term > Assessment (Unit Test, Half Yearly, Annual)"}),(0,Hr.jsx)("p",{children:"Each assessment can have its own max marks and weightage"}),(0,Hr.jsx)("p",{children:"Total weightage across all terms should equal 100%"}),(0,Hr.jsxs)("p",{children:["Current total: ",(0,Hr.jsxs)("b",{children:[U.reduce((e,t)=>e+t.weight,0),"%"]})]})]})]})]})]})}),(0,Hr.jsx)(_h,{value:"design",className:"mt-4",children:(0,Hr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Hr.jsx)("div",{className:"lg:col-span-2",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsxs)(fb,{children:[(0,Hr.jsxs)(vb,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(ij,{className:"w-5 h-5 text-purple-600"})," Report Card Design"]}),(0,Hr.jsx)(bb,{children:"Choose and customize report card template"})]}),(0,Hr.jsxs)(yb,{children:[(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:gj.map(e=>(0,Hr.jsxs)("button",{onClick:()=>z(e.id),className:"p-4 rounded-xl border-2 text-center transition-all ".concat(B===e.id?"border-blue-500 bg-blue-50 shadow-md":"border-slate-200 hover:border-blue-200"),children:[(0,Hr.jsx)("div",{className:"w-full h-20 rounded-lg mb-2 flex items-center justify-center",style:{background:"".concat(e.color,"15"),border:"2px solid ".concat(e.color,"40")},children:(0,Hr.jsx)(Dl,{className:"w-8 h-8",style:{color:e.color}})}),(0,Hr.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,Hr.jsx)("p",{className:"text-[10px] text-slate-500 mt-0.5",children:e.description})]},e.id))}),(0,Hr.jsx)("h4",{className:"font-medium text-slate-700 mb-3",children:"Co-Scholastic Activities"}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-4",children:V.map((e,t)=>(0,Hr.jsxs)("div",{className:"flex items-center gap-2 p-2 border rounded-lg",children:[(0,Hr.jsx)(cj,{className:"w-4 h-4 text-amber-500"}),(0,Hr.jsx)("span",{className:"flex-1 text-sm",children:e.name}),(0,Hr.jsxs)("select",{value:e.grade,onChange:e=>{const a=[...V];a[t].grade=e.target.value,G(a)},className:"px-2 py-1 border rounded text-sm",children:[(0,Hr.jsx)("option",{value:"",children:"-"}),(0,Hr.jsx)("option",{value:"A",children:"A"}),(0,Hr.jsx)("option",{value:"B",children:"B"}),(0,Hr.jsx)("option",{value:"C",children:"C"}),(0,Hr.jsx)("option",{value:"D",children:"D"})]})]},e.id))}),(0,Hr.jsxs)(Io,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>{G([...V,{id:"act_".concat(Date.now()),name:"New Activity",grade:""}])},children:[(0,Hr.jsx)(oy,{className:"w-3 h-3"})," Add Activity"]})]})]})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsx)(vb,{className:"text-sm",children:"Report Card Settings"})}),(0,Hr.jsxs)(yb,{className:"space-y-4",children:[[{key:"show_rank",label:"Show Rank"},{key:"show_attendance",label:"Show Attendance"},{key:"show_remarks",label:"Teacher Remarks"},{key:"show_co_scholastic",label:"Co-Scholastic Section"},{key:"show_photo",label:"Student Photo"},{key:"show_graph",label:"Performance Graph"},{key:"watermark",label:"School Watermark"},{key:"digital_publish",label:"Digital Publishing"}].map(e=>(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)(Wo,{className:"text-sm",children:e.label}),(0,Hr.jsx)(rj,{checked:H[e.key],onCheckedChange:t=>q(a=>d(d({},a),{},{[e.key]:t}))})]},e.key)),(0,Hr.jsxs)("div",{className:"pt-2 border-t",children:[(0,Hr.jsx)(Wo,{className:"text-sm",children:"Principal Name"}),(0,Hr.jsx)(Lo,{value:H.principal_name,onChange:e=>q(t=>d(d({},t),{},{principal_name:e.target.value})),placeholder:"Principal's name",className:"mt-1"})]}),(0,Hr.jsxs)(Io,{className:"w-full gap-2 bg-blue-600 hover:bg-blue-700",onClick:()=>Qt.success("Design settings saved!"),children:[(0,Hr.jsx)(hy,{className:"w-4 h-4"})," Save Settings"]})]})]}),(0,Hr.jsx)(gb,{className:"mt-4",children:(0,Hr.jsxs)(yb,{className:"p-4",children:[(0,Hr.jsxs)("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[(0,Hr.jsx)(oj,{className:"w-4 h-4 text-green-600"})," Digital Publishing"]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 mb-3",children:"Published report cards are visible to parents on the StudyTino mobile app."}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Io,{variant:"outline",className:"w-full gap-2 text-sm",onClick:()=>Qt.success("Report cards shared via WhatsApp!"),children:[(0,Hr.jsx)(dl,{className:"w-4 h-4"})," Share via WhatsApp"]}),(0,Hr.jsxs)(Io,{variant:"outline",className:"w-full gap-2 text-sm",onClick:()=>Qt.success("Report cards emailed to parents!"),children:[(0,Hr.jsx)(dj,{className:"w-4 h-4"})," Email to Parents"]})]})]})})]})]})}),(0,Hr.jsx)(_h,{value:"grading",className:"mt-4",children:(0,Hr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Hr.jsxs)(gb,{children:[(0,Hr.jsxs)(fb,{children:[(0,Hr.jsxs)(vb,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Cl,{className:"w-5 h-5 text-orange-600"})," Grading System"]}),(0,Hr.jsx)(bb,{children:"Configure grading scale for your school"})]}),(0,Hr.jsxs)(yb,{children:[(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[{id:"cbse",name:"CBSE",desc:"A1-E Scale"},{id:"icse",name:"ICSE",desc:"A+-F Scale"},{id:"state",name:"State Board",desc:"Distinction-Fail"},{id:"custom",name:"Custom",desc:"Your own scale"}].map(e=>(0,Hr.jsxs)("button",{onClick:()=>F(e.id),className:"p-4 rounded-xl border-2 text-center transition-all ".concat(L===e.id?"border-orange-500 bg-orange-50 shadow-md":"border-slate-200 hover:border-orange-200"),children:[(0,Hr.jsx)(by,{className:"w-6 h-6 mx-auto mb-1 text-orange-600"}),(0,Hr.jsx)("p",{className:"font-semibold text-sm",children:e.name}),(0,Hr.jsx)("p",{className:"text-[10px] text-slate-500",children:e.desc})]},e.id))}),(0,Hr.jsxs)("h4",{className:"font-medium text-slate-700 mb-3",children:["Current Grading Scale: ",L.toUpperCase()]}),(0,Hr.jsxs)(om,{children:[(0,Hr.jsx)(cm,{children:(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(mm,{children:"Min %"}),(0,Hr.jsx)(mm,{children:"Grade"}),(0,Hr.jsx)(mm,{children:"Points"}),(0,Hr.jsx)(mm,{children:"Remark"})]})}),(0,Hr.jsx)(dm,{children:(()=>{const e={cbse:[{min:91,grade:"A1",points:10,remark:"Outstanding"},{min:81,grade:"A2",points:9,remark:"Excellent"},{min:71,grade:"B1",points:8,remark:"Very Good"},{min:61,grade:"B2",points:7,remark:"Good"},{min:51,grade:"C1",points:6,remark:"Above Average"},{min:41,grade:"C2",points:5,remark:"Average"},{min:33,grade:"D",points:4,remark:"Below Average"},{min:0,grade:"E",points:0,remark:"Needs Improvement"}],icse:[{min:90,grade:"A+",points:10,remark:"Exceptional"},{min:80,grade:"A",points:9,remark:"Excellent"},{min:70,grade:"B+",points:8,remark:"Very Good"},{min:60,grade:"B",points:7,remark:"Good"},{min:50,grade:"C+",points:6,remark:"Fair"},{min:40,grade:"C",points:5,remark:"Average"},{min:33,grade:"D",points:4,remark:"Below Average"},{min:0,grade:"F",points:0,remark:"Fail"}],state:[{min:90,grade:"A+",points:10,remark:"Distinction"},{min:75,grade:"A",points:9,remark:"First Class"},{min:60,grade:"B",points:7,remark:"Second Class"},{min:45,grade:"C",points:5,remark:"Third Class"},{min:33,grade:"D",points:4,remark:"Pass"},{min:0,grade:"F",points:0,remark:"Fail"}],custom:[{min:90,grade:"A+",points:10,remark:"Outstanding"},{min:75,grade:"A",points:8,remark:"Excellent"},{min:60,grade:"B",points:6,remark:"Good"},{min:33,grade:"C",points:4,remark:"Pass"},{min:0,grade:"F",points:0,remark:"Fail"}]};return(e[L]||e.cbse).map((e,t)=>(0,Hr.jsxs)(um,{children:[(0,Hr.jsxs)(hm,{children:[e.min,"%+"]}),(0,Hr.jsx)(hm,{children:(0,Hr.jsx)(Ry,{children:e.grade})}),(0,Hr.jsx)(hm,{children:e.points}),(0,Hr.jsx)(hm,{children:e.remark})]},t))})()})]})]})]}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsxs)(vb,{className:"text-sm flex items-center gap-2",children:[(0,Hr.jsx)(Rl,{className:"w-4 h-4 text-blue-600"})," Pass/Fail Criteria"]})}),(0,Hr.jsxs)(yb,{className:"space-y-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-sm",children:"Minimum Pass Percentage"}),(0,Hr.jsx)(Lo,{type:"number",defaultValue:33,className:"mt-1"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-sm",children:"Minimum Pass in Each Subject"}),(0,Hr.jsx)(Lo,{type:"number",defaultValue:33,className:"mt-1"})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,Hr.jsx)(Wo,{className:"text-sm",children:"Allow Grace Marks"}),(0,Hr.jsx)(rj,{defaultChecked:!0})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-sm",children:"Maximum Grace Marks"}),(0,Hr.jsx)(Lo,{type:"number",defaultValue:5,className:"mt-1"})]}),(0,Hr.jsxs)(Io,{className:"w-full gap-2 bg-orange-600 hover:bg-orange-700 mt-2",onClick:()=>Qt.success("Grading criteria saved!"),children:[(0,Hr.jsx)(hy,{className:"w-4 h-4"})," Save Criteria"]})]})]}),(0,Hr.jsx)(gb,{children:(0,Hr.jsxs)(yb,{className:"p-4",children:[(0,Hr.jsxs)("h4",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[(0,Hr.jsx)(uj,{className:"w-4 h-4 text-green-600"})," Scoring Options"]}),(0,Hr.jsx)("div",{className:"space-y-3",children:[{label:"Auto-calculate totals",checked:!0},{label:"Weighted scoring",checked:!0},{label:"Best of N exams",checked:!1},{label:"Internal assessment marks",checked:!0},{label:"Practical marks separate",checked:!1}].map((e,t)=>(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)(Wo,{className:"text-sm",children:e.label}),(0,Hr.jsx)(rj,{defaultChecked:e.checked})]},t))})]})})]})]})})]}),(0,Hr.jsx)(Gu,{open:D,onOpenChange:R,children:(0,Hr.jsxs)($u,{children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsx)(Xu,{children:"Create New Exam"}),(0,Hr.jsx)(Zu,{children:"Set up a new examination"})]}),(0,Hr.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Exam Name *"}),(0,Hr.jsx)(Lo,{value:K.name,onChange:e=>Y(t=>d(d({},t),{},{name:e.target.value})),placeholder:"e.g., Half Yearly Exam 2025"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Exam Type"}),(0,Hr.jsx)("select",{value:K.type,onChange:e=>{const t=xj.find(t=>t.id===e.target.value);Y(a=>d(d({},a),{},{type:e.target.value,max_marks:(null===t||void 0===t?void 0:t.max_marks)||20}))},className:"w-full px-3 py-2 border rounded-lg",children:xj.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Class *"}),(0,Hr.jsxs)("select",{value:K.class_id,onChange:e=>Y(t=>d(d({},t),{},{class_id:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"",children:"Select Class"}),l.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Start Date"}),(0,Hr.jsx)(Lo,{type:"date",value:K.start_date,onChange:e=>Y(t=>d(d({},t),{},{start_date:e.target.value}))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"End Date"}),(0,Hr.jsx)(Lo,{type:"date",value:K.end_date,onChange:e=>Y(t=>d(d({},t),{},{end_date:e.target.value}))})]})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(K.name&&K.class_id){N(!0);try{const e=localStorage.getItem("token");await zr.post("".concat(mj,"/exam-schedule"),d(d({},K),{},{school_id:n,created_by:null===r||void 0===r?void 0:r.id}),{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Exam created!"),R(!1),J()}catch(e){Qt.error("Failed to create exam")}finally{N(!1)}}else Qt.error("Please fill required fields")},disabled:j,className:"bg-blue-600 hover:bg-blue-700",children:[j?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"}),"Create Exam"]})]})]})]})}),(0,Hr.jsx)(Gu,{open:T,onOpenChange:M,children:(0,Hr.jsxs)($u,{className:"max-w-3xl",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Report Card Preview"})}),P&&(0,Hr.jsxs)("div",{className:"border rounded-lg p-6 bg-white",children:[(0,Hr.jsxs)("div",{className:"text-center border-b-2 pb-4 mb-4",style:{borderColor:null===(e=gj.find(e=>e.id===B))||void 0===e?void 0:e.color},children:[(null===f||void 0===f?void 0:f.logo_url)&&(0,Hr.jsx)("img",{src:f.logo_url,alt:"",className:"w-16 h-16 mx-auto mb-2 object-contain"}),(0,Hr.jsx)("h2",{className:"text-xl font-bold",style:{color:null===(a=gj.find(e=>e.id===B))||void 0===a?void 0:a.color},children:null===f||void 0===f?void 0:f.name}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:null===f||void 0===f?void 0:f.address}),(0,Hr.jsx)("h3",{className:"text-lg font-semibold mt-2 underline",children:"Progress Report / \u092a\u094d\u0930\u0917\u0924\u093f \u092a\u0924\u094d\u0930"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4 text-sm",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("b",{children:"Name:"})," ",P.name]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("b",{children:"Roll No:"})," ",P.roll_no||P.student_id]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("b",{children:"Father:"})," ",P.father_name]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("b",{children:"Class:"})," ",null===(s=l.find(e=>e.id===P.class_id))||void 0===s?void 0:s.name]})]}),(0,Hr.jsxs)(om,{children:[(0,Hr.jsx)(cm,{children:(0,Hr.jsxs)(um,{children:[(0,Hr.jsx)(mm,{children:"Subject"}),(0,Hr.jsx)(mm,{className:"text-center",children:"Max"}),(0,Hr.jsx)(mm,{className:"text-center",children:"Obtained"}),(0,Hr.jsx)(mm,{className:"text-center",children:"Grade"}),(0,Hr.jsx)(mm,{className:"text-center",children:"Remark"})]})}),(0,Hr.jsx)(dm,{children:u.map(e=>{var t;const a=parseFloat(null===(t=x[P.id])||void 0===t?void 0:t[e.id])||0,s=a/e.max_marks*100,n=hj(s,L);return(0,Hr.jsxs)(um,{children:[(0,Hr.jsxs)(hm,{children:[e.name," (",e.name_hi,")"]}),(0,Hr.jsx)(hm,{className:"text-center",children:e.max_marks}),(0,Hr.jsx)(hm,{className:"text-center",children:a}),(0,Hr.jsx)(hm,{className:"text-center",children:(0,Hr.jsx)(Ry,{children:n.grade})}),(0,Hr.jsx)(hm,{className:"text-center text-xs",children:n.remark})]},e.id)})})]}),H.show_co_scholastic&&(0,Hr.jsxs)("div",{className:"mt-4",children:[(0,Hr.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Co-Scholastic Activities"}),(0,Hr.jsx)("div",{className:"grid grid-cols-3 gap-2",children:V.map(e=>(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded text-sm",children:[(0,Hr.jsx)("span",{children:e.name}),(0,Hr.jsx)(Ry,{variant:"secondary",children:e.grade||"A"})]},e.id))})]}),(0,Hr.jsxs)("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg text-center",children:[(0,Hr.jsxs)("p",{children:["Percentage: ",(0,Hr.jsxs)("b",{children:[ee(P.id).percentage,"%"]})]}),(0,Hr.jsxs)("p",{children:["Grade: ",(0,Hr.jsx)("b",{children:ee(P.id).grade})," (",ee(P.id).remark,")"]}),(0,Hr.jsx)("p",{className:"font-bold ".concat(ee(P.id).passed?"text-green-600":"text-red-600"),children:ee(P.id).passed?"PASSED":"FAILED"})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>M(!1),children:"Close"}),(0,Hr.jsxs)(Io,{onClick:te,className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4"})," Print"]})]})]})]})})]})}const vj="".concat("","/api"),bj=[{id:1,start:"08:00",end:"08:45",label:"Period 1"},{id:2,start:"08:45",end:"09:30",label:"Period 2"},{id:3,start:"09:30",end:"10:15",label:"Period 3"},{id:4,start:"10:15",end:"10:30",label:"Break",isBreak:!0},{id:5,start:"10:30",end:"11:15",label:"Period 4"},{id:6,start:"11:15",end:"12:00",label:"Period 5"},{id:7,start:"12:00",end:"12:45",label:"Period 6"},{id:8,start:"12:45",end:"01:30",label:"Lunch",isBreak:!0},{id:9,start:"01:30",end:"02:15",label:"Period 7"},{id:10,start:"02:15",end:"03:00",label:"Period 8"}],yj=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],jj=["\u0938\u094b\u092e\u0935\u093e\u0930","\u092e\u0902\u0917\u0932\u0935\u093e\u0930","\u092c\u0941\u0927\u0935\u093e\u0930","\u0917\u0941\u0930\u0941\u0935\u093e\u0930","\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930","\u0936\u0928\u093f\u0935\u093e\u0930"],Nj={Hindi:"bg-orange-100 border-orange-300 text-orange-800",English:"bg-blue-100 border-blue-300 text-blue-800",Mathematics:"bg-green-100 border-green-300 text-green-800",Science:"bg-purple-100 border-purple-300 text-purple-800","Social Science":"bg-yellow-100 border-yellow-300 text-yellow-800",Computer:"bg-cyan-100 border-cyan-300 text-cyan-800","Physical Education":"bg-red-100 border-red-300 text-red-800",Drawing:"bg-pink-100 border-pink-300 text-pink-800",Music:"bg-indigo-100 border-indigo-300 text-indigo-800",GK:"bg-teal-100 border-teal-300 text-teal-800","Moral Science":"bg-amber-100 border-amber-300 text-amber-800",Sanskrit:"bg-rose-100 border-rose-300 text-rose-800",default:"bg-slate-100 border-slate-300 text-slate-800"};function wj(){var e;const{schoolId:a,user:s}=Vr(),[n,r]=(0,t.useState)([]),[l,i]=(0,t.useState)([]),[o,c]=(0,t.useState)([]),[u,m]=(0,t.useState)({}),[h,p]=(0,t.useState)(bj),[x,g]=(0,t.useState)(!0),[f,v]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[w,k]=(0,t.useState)(null),[S,_]=(0,t.useState)("class"),[C,E]=(0,t.useState)(!1),[P,A]=(0,t.useState)(null),[T,M]=(0,t.useState)(!1),[D,R]=(0,t.useState)([]),[I,O]=(0,t.useState)({day:"",period:"",subject_id:"",teacher_id:"",room:""});(0,t.useEffect)(()=>{a&&L()},[a]);const L=async()=>{g(!0);try{var e,t,s,n,l;const o=localStorage.getItem("token"),d={Authorization:"Bearer ".concat(o)},[u,h,x,g,f,v,b]=await Promise.all([zr.get("".concat(vj,"/classes?school_id=").concat(a),{headers:d}),zr.get("".concat(vj,"/staff?school_id=").concat(a),{headers:d}).catch(()=>({data:[]})),zr.get("".concat(vj,"/subjects?school_id=").concat(a),{headers:d}).catch(()=>({data:[]})),zr.get("".concat(vj,"/timetables?school_id=").concat(a),{headers:d}).catch(()=>({data:{}})),zr.get("".concat(vj,"/timetable/time-slots?school_id=").concat(a),{headers:d}).catch(()=>({data:{slots:[]}})),zr.get("".concat(vj,"/schools/").concat(a),{headers:d}).catch(()=>({data:{}})),zr.get("".concat(vj,"/subject-allocations?school_id=").concat(a),{headers:d}).catch(()=>({data:[]}))]);if(r(u.data||[]),i((null===(e=h.data)||void 0===e?void 0:e.filter(e=>{var t;return"teacher"===e.role||(null===(t=e.designation)||void 0===t?void 0:t.toLowerCase().includes("teacher"))}))||[]),(null===(t=f.data)||void 0===t||null===(s=t.slots)||void 0===s?void 0:s.length)>0)p(f.data.slots);else{const e=v.data,t=(null===e||void 0===e?void 0:e.school_start_time)||"10:00",a=(null===e||void 0===e?void 0:e.school_end_time)||"03:30",s=F(t,a);p(s)}const y=[{id:"hindi",name:"Hindi",name_hi:"\u0939\u093f\u0902\u0926\u0940"},{id:"english",name:"English",name_hi:"\u0905\u0902\u0917\u094d\u0930\u0947\u091c\u0940"},{id:"math",name:"Mathematics",name_hi:"\u0917\u0923\u093f\u0924"},{id:"science",name:"Science",name_hi:"\u0935\u093f\u091c\u094d\u091e\u093e\u0928"},{id:"sst",name:"Social Science",name_hi:"\u0938\u093e\u092e\u093e\u091c\u093f\u0915 \u0935\u093f\u091c\u094d\u091e\u093e\u0928"},{id:"computer",name:"Computer",name_hi:"\u0915\u0902\u092a\u094d\u092f\u0942\u091f\u0930"},{id:"pe",name:"Physical Education",name_hi:"\u0936\u093e\u0930\u0940\u0930\u093f\u0915 \u0936\u093f\u0915\u094d\u0937\u093e"},{id:"drawing",name:"Drawing",name_hi:"\u091a\u093f\u0924\u094d\u0930\u0915\u0932\u093e"},{id:"music",name:"Music",name_hi:"\u0938\u0902\u0917\u0940\u0924"},{id:"gk",name:"GK",name_hi:"\u0938\u093e\u092e\u093e\u0928\u094d\u092f \u091c\u094d\u091e\u093e\u0928"},{id:"moral",name:"Moral Science",name_hi:"\u0928\u0948\u0924\u093f\u0915 \u0936\u093f\u0915\u094d\u0937\u093e"},{id:"sanskrit",name:"Sanskrit",name_hi:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924"}];c((null===(n=x.data)||void 0===n?void 0:n.length)>0?x.data:y),m(g.data||{}),R(b.data||[]),(null===(l=u.data)||void 0===l?void 0:l.length)>0&&N(u.data[0])}catch(o){console.error("Error fetching data:",o),Qt.error("Failed to load data")}finally{g(!1)}},F=(e,t)=>{const[a]=e.split(":").map(Number),s=[];let n=a,r=0,l=1;for(let i=0;i<8;i++)if(3===i)s.push({id:s.length+1,label:"Break",start:"".concat(String(n).padStart(2,"0"),":").concat(String(r).padStart(2,"0")),end:"".concat(String(n).padStart(2,"0"),":").concat(String(r+15).padStart(2,"0")),isBreak:!0}),r+=15;else if(6===i)s.push({id:s.length+1,label:"Lunch",start:"".concat(String(n).padStart(2,"0"),":").concat(String(r).padStart(2,"0")),end:"".concat(String(n).padStart(2,"0"),":").concat(String(r+30).padStart(2,"0")),isBreak:!0}),r+=30,r>=60&&(n+=Math.floor(r/60),r%=60);else{const e=r+45,t=n+Math.floor(e/60),a=e%60;s.push({id:s.length+1,label:"Period ".concat(l),start:"".concat(String(n).padStart(2,"0"),":").concat(String(r).padStart(2,"0")),end:"".concat(String(t).padStart(2,"0"),":").concat(String(a).padStart(2,"0")),isBreak:!1}),l++,r+=45,r>=60&&(n+=Math.floor(r/60),r%=60)}return s},B=e=>u[e]||{},z=(e,t,a)=>{for(const[i,o]of Object.entries(u)){var s,r,l;if((null===(s=o[t])||void 0===s||null===(r=s[a])||void 0===r?void 0:r.teacher_id)===e)if((null===j||void 0===j?void 0:j.id)!==i)return(null===(l=n.find(e=>e.id===i))||void 0===l?void 0:l.name)||"Another class"}return null},H=e=>Nj[e]||Nj.default;return a?(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"timetable-management",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading text-slate-900 flex items-center gap-2",children:[(0,Hr.jsx)(Il,{className:"w-8 h-8 text-indigo-600"}),"Timetable Management"]}),(0,Hr.jsx)("p",{className:"text-slate-500 mt-1",children:"Class-wise & Teacher-wise scheduling"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{onClick:async()=>{if(j){y(!0);try{const s=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(s)};try{var e;const t=await zr.post("".concat(vj,"/timetable/generate"),{school_id:a,class_id:j.id||j._id},{headers:n});if(null!==(e=t.data)&&void 0!==e&&e.timetable)return m(e=>d(d({},e),{},{[j.id||j._id]:t.data.timetable})),Qt.success("Timetable generated successfully!"),void y(!1)}catch(t){console.log("API generate not available, using local generation")}const r=j.id||j._id,i=(e=>{if(!e)return null;const t=e.class_teacher_id||e.classTeacherId;if(t){const s=l.find(e=>e.id===t||e._id===t);if(s){var a;const t=D.find(t=>(t.teacher_id===s.id||t.teacher_id===s._id)&&(t.class_id===e.id||t.class_id===e._id)),n=(null===t||void 0===t?void 0:t.subject_name)||s.subject||null,r=(null===t||void 0===t?void 0:t.subject_id)||(null===(a=o.find(e=>e.name===n))||void 0===a?void 0:a.id)||null;return{teacher:s,subjectName:n,subjectId:r}}}if(e.class_teacher){const t=l.find(t=>t.name===e.class_teacher);if(t){var s;const e=t.subject||null,a=(null===(s=o.find(t=>t.name===e))||void 0===s?void 0:s.id)||null;return{teacher:t,subjectName:e,subjectId:a}}}return null})(j),c=o.filter(e=>e.id&&e.name),u=h.filter(e=>!e.isBreak),p={};yj.forEach(e=>{p[e]={};const t=[...c].sort(()=>Math.random()-.5);let a=0;u.forEach((s,n)=>{let c,d;var u,m,h,x;0===n&&null!==i&&void 0!==i&&i.subjectName?(c=o.find(e=>e.name===i.subjectName)||o.find(e=>e.id===i.subjectId),d=i.teacher):(c=t[a%t.length],(null===(u=c)||void 0===u?void 0:u.name)===(null===i||void 0===i?void 0:i.subjectName)&&0!==n&&(a++,c=t[a%t.length]),a++,d=l.find(e=>{const t=D.find(t=>{var a,s;return(t.teacher_id===e.id||t.teacher_id===e._id)&&t.class_id===r&&(t.subject_name===(null===(a=c)||void 0===a?void 0:a.name)||t.subject_id===(null===(s=c)||void 0===s?void 0:s.id))});return!!t})||l[Math.floor(Math.random()*(l.length||1))]||null);c&&(p[e][s.id]={subject_id:c.id,subject_name:c.name,teacher_id:(null===(m=d)||void 0===m?void 0:m.id)||(null===(h=d)||void 0===h?void 0:h._id)||"",teacher_name:(null===(x=d)||void 0===x?void 0:x.name)||"",room:""})})}),m(e=>d(d({},e),{},{[r]:p}));try{await zr.post("".concat(vj,"/timetables/bulk"),{school_id:a,class_id:r,timetable:p},{headers:n})}catch($k){console.log("Could not save generated timetable to backend")}const x=null!==i&&void 0!==i&&i.subjectName?"Timetable generated! Class teacher's subject (".concat(i.subjectName,") placed in Period 1"):"Timetable generated!";Qt.success(x)}catch(s){console.error("Generate error:",s),Qt.error("Failed to generate timetable")}finally{y(!1)}}else Qt.error("Please select a class first")},disabled:b||!j,className:"gap-2 bg-indigo-600 hover:bg-indigo-700",children:[b?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin"}):(0,Hr.jsx)(Hl,{className:"w-4 h-4"}),b?"Generating...":"Auto Generate"]}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>{const e=document.getElementById("timetable-grid");if(!e)return;const t=window.open("","_blank");t.document.write("\n      <html>\n      <head>\n        <title>Timetable - ".concat("class"===S?null===j||void 0===j?void 0:j.name:null===w||void 0===w?void 0:w.name,"</title>\n        <style>\n          body { font-family: Arial, sans-serif; padding: 20px; }\n          h1 { text-align: center; margin-bottom: 5px; }\n          h2 { text-align: center; color: #666; margin-top: 0; }\n          table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n          th, td { border: 1px solid #ddd; padding: 8px; text-align: center; font-size: 11px; }\n          th { background: #f5f5f5; font-weight: bold; }\n          .subject { font-weight: bold; color: #333; }\n          .teacher { font-size: 10px; color: #666; }\n          .break { background: #fef3c7; }\n          @media print { body { -webkit-print-color-adjust: exact; } }\n        </style>\n      </head>\n      <body>\n        <h1>").concat("class"===S?null===j||void 0===j?void 0:j.name:null===w||void 0===w?void 0:w.name," - Timetable</h1>\n        <h2>Academic Year ").concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+1,"</h2>\n        ").concat(e.outerHTML,"\n        <script>window.onload = () => window.print();<\/script>\n      </body>\n      </html>\n    ")),t.document.close()},className:"gap-2",children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4"}),"Print"]}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>M(!0),className:"gap-2",children:[(0,Hr.jsx)(Il,{className:"w-4 h-4"}),"Time Slots"]})]})]}),(0,Hr.jsxs)(wh,{value:S,onValueChange:_,className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-2 max-w-md",children:[(0,Hr.jsxs)(Sh,{value:"class",className:"gap-2",children:[(0,Hr.jsx)(cl,{className:"w-4 h-4"}),"Class-wise"]}),(0,Hr.jsxs)(Sh,{value:"teacher",className:"gap-2",children:[(0,Hr.jsx)(Rh,{className:"w-4 h-4"}),"Teacher-wise"]})]}),(0,Hr.jsx)(_h,{value:"class",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{className:"pb-3",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsx)(vb,{children:"Class Timetable"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Wo,{children:"Select Class:"}),(0,Hr.jsx)("select",{value:(null===j||void 0===j?void 0:j.id)||"",onChange:e=>N(n.find(t=>t.id===e.target.value)),className:"px-3 py-2 border rounded-lg min-w-[150px]",children:n.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))})]})]})}),(0,Hr.jsx)(yb,{children:x?(0,Hr.jsx)("div",{className:"flex justify-center py-10",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-indigo-600"})}):j?(0,Hr.jsx)("div",{className:"overflow-x-auto",id:"timetable-grid",children:(0,Hr.jsxs)("table",{className:"w-full border-collapse min-w-[800px]",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{children:[(0,Hr.jsx)("th",{className:"border border-slate-200 bg-slate-100 p-2 text-sm font-semibold w-20",children:"Day / Time"}),h.map(e=>(0,Hr.jsxs)("th",{className:"border border-slate-200 p-2 text-xs font-semibold ".concat(e.isBreak?"bg-amber-50":"bg-slate-100"),children:[(0,Hr.jsx)("div",{children:e.label}),(0,Hr.jsxs)("div",{className:"text-[10px] font-normal text-slate-500",children:[e.start," - ",e.end]})]},e.id))]})}),(0,Hr.jsx)("tbody",{children:yj.map((e,t)=>{var a;const s=(null===(a=B(j.id))||void 0===a?void 0:a[e])||{};return(0,Hr.jsxs)("tr",{children:[(0,Hr.jsxs)("td",{className:"border border-slate-200 bg-slate-50 p-2 text-sm font-medium",children:[(0,Hr.jsx)("div",{children:e}),(0,Hr.jsx)("div",{className:"text-xs text-slate-500",children:jj[t]})]}),h.map(t=>{if(t.isBreak)return(0,Hr.jsx)("td",{className:"border border-slate-200 bg-amber-50 p-2 text-center text-xs text-amber-700",children:t.label},t.id);const a=s[t.id];return(0,Hr.jsx)("td",{onClick:()=>((e,t)=>{var a,s;const n=(null===(a=B(null===j||void 0===j?void 0:j.id))||void 0===a||null===(s=a[e])||void 0===s?void 0:s[t.id])||{};O({day:e,period:t.id,subject_id:n.subject_id||"",teacher_id:n.teacher_id||"",room:n.room||""}),A({day:e,period:t}),E(!0)})(e,t),className:"border border-slate-200 p-1 cursor-pointer hover:bg-slate-50 transition-colors ".concat(a?H(a.subject_name):""),children:a?(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("div",{className:"font-semibold text-xs",children:a.subject_name}),(0,Hr.jsx)("div",{className:"text-[10px] opacity-80",children:a.teacher_name}),a.room&&(0,Hr.jsxs)("div",{className:"text-[9px] opacity-60",children:["Room: ",a.room]})]}):(0,Hr.jsx)("div",{className:"text-center text-slate-300 text-xs py-2",children:(0,Hr.jsx)(oy,{className:"w-4 h-4 mx-auto"})})},t.id)})]},e)})})]})}):(0,Hr.jsx)("p",{className:"text-center text-slate-500 py-10",children:"Select a class to view timetable"})})]})}),(0,Hr.jsx)(_h,{value:"teacher",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{className:"pb-3",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,Hr.jsx)(vb,{children:"Teacher Schedule"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Wo,{children:"Select Teacher:"}),(0,Hr.jsxs)("select",{value:(null===w||void 0===w?void 0:w.id)||"",onChange:e=>k(l.find(t=>t.id===e.target.value)),className:"px-3 py-2 border rounded-lg min-w-[200px]",children:[(0,Hr.jsx)("option",{value:"",children:"-- Select Teacher --"}),l.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,Hr.jsx)(yb,{children:w?(0,Hr.jsx)("div",{className:"overflow-x-auto",id:"timetable-grid",children:(0,Hr.jsxs)("table",{className:"w-full border-collapse min-w-[800px]",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{children:[(0,Hr.jsx)("th",{className:"border border-slate-200 bg-slate-100 p-2 text-sm font-semibold w-20",children:"Day / Time"}),h.map(e=>(0,Hr.jsxs)("th",{className:"border border-slate-200 p-2 text-xs font-semibold ".concat(e.isBreak?"bg-amber-50":"bg-slate-100"),children:[(0,Hr.jsx)("div",{children:e.label}),(0,Hr.jsxs)("div",{className:"text-[10px] font-normal text-slate-500",children:[e.start," - ",e.end]})]},e.id))]})}),(0,Hr.jsx)("tbody",{children:yj.map((e,t)=>{const a=(e=>{const t={};return Object.entries(u).forEach(a=>{let[s,r]=a;Object.entries(r).forEach(a=>{let[r,l]=a;Object.entries(l).forEach(a=>{let[l,i]=a;var o;i.teacher_id===e&&(t[r]||(t[r]={}),t[r][l]=d(d({},i),{},{class_id:s,class_name:null===(o=n.find(e=>e.id===s))||void 0===o?void 0:o.name}))})})}),t})(w.id),s=a[e]||{};return(0,Hr.jsxs)("tr",{children:[(0,Hr.jsxs)("td",{className:"border border-slate-200 bg-slate-50 p-2 text-sm font-medium",children:[(0,Hr.jsx)("div",{children:e}),(0,Hr.jsx)("div",{className:"text-xs text-slate-500",children:jj[t]})]}),h.map(e=>{if(e.isBreak)return(0,Hr.jsx)("td",{className:"border border-slate-200 bg-amber-50 p-2 text-center text-xs text-amber-700",children:e.label},e.id);const t=s[e.id];return(0,Hr.jsx)("td",{className:"border border-slate-200 p-1 ".concat(t?H(t.subject_name):"bg-green-50"),children:t?(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("div",{className:"font-semibold text-xs",children:t.class_name}),(0,Hr.jsx)("div",{className:"text-[10px] opacity-80",children:t.subject_name})]}):(0,Hr.jsx)("div",{className:"text-center text-green-500 text-[10px]",children:"Free"})},e.id)})]},e)})})]})}):(0,Hr.jsx)("p",{className:"text-center text-slate-500 py-10",children:"Select a teacher to view schedule"})})]})})]}),(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{className:"pb-2",children:(0,Hr.jsx)(vb,{className:"text-sm",children:"Subject Colors"})}),(0,Hr.jsx)(yb,{children:(0,Hr.jsx)("div",{className:"flex flex-wrap gap-2",children:o.slice(0,12).map(e=>(0,Hr.jsx)("span",{className:"px-2 py-1 rounded text-xs border ".concat(H(e.name)),children:e.name},e.id))})})]}),(0,Hr.jsx)(Gu,{open:C,onOpenChange:E,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsxs)(Xu,{children:[null===P||void 0===P?void 0:P.day," - ",null===(e=h.find(e=>{var t;return e.id===(null===P||void 0===P||null===(t=P.period)||void 0===t?void 0:t.id)}))||void 0===e?void 0:e.label]}),(0,Hr.jsx)(Zu,{children:"Set subject and teacher for this period"})]}),(0,Hr.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Subject *"}),(0,Hr.jsxs)("select",{value:I.subject_id,onChange:e=>O(t=>d(d({},t),{},{subject_id:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"",children:"-- Select Subject --"}),o.map(e=>(0,Hr.jsxs)("option",{value:e.id,children:[e.name," (",e.name_hi,")"]},e.id))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Teacher"}),(0,Hr.jsxs)("select",{value:I.teacher_id,onChange:e=>O(t=>d(d({},t),{},{teacher_id:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Hr.jsx)("option",{value:"",children:"-- Select Teacher --"}),l.map(e=>{const t=z(e.id,I.day,I.period);return(0,Hr.jsxs)("option",{value:e.id,disabled:!!t,children:[e.name," ",t?"(Busy in ".concat(t,")"):""]},e.id)})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Room (Optional)"}),(0,Hr.jsx)(Lo,{value:I.room,onChange:e=>O(t=>d(d({},t),{},{room:e.target.value})),placeholder:"e.g., Room 101"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between gap-3 pt-4",children:[(0,Hr.jsxs)(Io,{variant:"destructive",onClick:async()=>{v(!0);try{const e=localStorage.getItem("token");await zr.delete("".concat(vj,"/timetables/slot"),{headers:{Authorization:"Bearer ".concat(e)},data:{school_id:a,class_id:j.id,day:I.day,period_id:I.period}}),m(e=>{var t;const a=d({},e);return null!==(t=a[j.id])&&void 0!==t&&t[I.day]&&delete a[j.id][I.day][I.period],a}),Qt.success("Period removed"),E(!1)}catch(e){Qt.error("Failed to remove period")}finally{v(!1)}},disabled:f,className:"gap-2",children:[(0,Hr.jsx)(Hh,{className:"w-4 h-4"}),"Remove"]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(I.subject_id){if(I.teacher_id){const e=z(I.teacher_id,I.day,I.period);if(e)return void Qt.error("Teacher already busy in ".concat(e," at this time!"))}v(!0);try{const e=localStorage.getItem("token"),t=o.find(e=>e.id===I.subject_id),s=l.find(e=>e.id===I.teacher_id);await zr.post("".concat(vj,"/timetables/slot"),{school_id:a,class_id:j.id,day:I.day,period_id:I.period,subject_id:I.subject_id,subject_name:null===t||void 0===t?void 0:t.name,teacher_id:I.teacher_id,teacher_name:null===s||void 0===s?void 0:s.name,room:I.room},{headers:{Authorization:"Bearer ".concat(e)}}),m(e=>{var a;return d(d({},e),{},{[j.id]:d(d({},e[j.id]),{},{[I.day]:d(d({},null===(a=e[j.id])||void 0===a?void 0:a[I.day]),{},{[I.period]:{subject_id:I.subject_id,subject_name:null===t||void 0===t?void 0:t.name,teacher_id:I.teacher_id,teacher_name:null===s||void 0===s?void 0:s.name,room:I.room}})})})}),Qt.success("Period saved!"),E(!1)}catch(e){Qt.error("Failed to save period")}finally{v(!1)}}else Qt.error("\u0915\u0943\u092a\u092f\u093e subject select \u0915\u0930\u0947\u0902")},disabled:f,className:"bg-indigo-600 hover:bg-indigo-700",children:[f?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Ah,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})]})]})}),(0,Hr.jsx)(Gu,{open:T,onOpenChange:M,children:(0,Hr.jsxs)($u,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Il,{className:"w-6 h-6 text-indigo-600"}),"Edit Time Slots"]})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Hr.jsx)("p",{className:"text-sm text-blue-800",children:"\\ud83d\\udccc School timing se default slots set honge. Aap inhe edit kar sakte hain."})}),h.map((e,t)=>(0,Hr.jsxs)("div",{className:"grid grid-cols-5 gap-3 p-3 border rounded-lg bg-gray-50",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Label"}),(0,Hr.jsx)(Lo,{value:e.label,onChange:e=>{const a=[...h];a[t].label=e.target.value,p(a)},className:"text-sm mt-1"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Start Time"}),(0,Hr.jsx)(Lo,{type:"time",value:e.start,onChange:e=>{const a=[...h];a[t].start=e.target.value,p(a)},className:"text-sm mt-1"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"End Time"}),(0,Hr.jsx)(Lo,{type:"time",value:e.end,onChange:e=>{const a=[...h];a[t].end=e.target.value,p(a)},className:"text-sm mt-1"})]}),(0,Hr.jsx)("div",{className:"flex items-end",children:(0,Hr.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Hr.jsx)("input",{type:"checkbox",checked:e.isBreak||!1,onChange:e=>{const a=[...h];a[t].isBreak=e.target.checked,p(a)},className:"w-4 h-4"}),(0,Hr.jsx)("span",{className:"text-xs",children:"Break"})]})}),(0,Hr.jsx)("div",{className:"flex items-end justify-end",children:(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>{const e=h.filter((e,a)=>a!==t);p(e)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,Hr.jsx)(Hh,{className:"w-4 h-4"})})})]},t)),(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>{p([...h,{id:h.length+1,label:"Period ".concat(h.filter(e=>!e.isBreak).length+1),start:"09:00",end:"09:45",isBreak:!1}])},className:"w-full",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"}),"Add New Slot"]}),(0,Hr.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>M(!1),className:"flex-1",children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:async()=>{try{const e=localStorage.getItem("token");await zr.post("".concat(vj,"/timetable/save-time-slots"),{school_id:a,slots:h},{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("\u2705 Time slots saved!"),M(!1),L()}catch(Jk){Qt.error("Save failed")}},className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:[(0,Hr.jsx)(hy,{className:"w-4 h-4 mr-2"}),"Save Time Slots"]})]})]})]})})]}):(0,Hr.jsx)("div",{className:"text-center py-20",children:(0,Hr.jsx)("p",{className:"text-slate-500",children:"Please select a school first"})})}const kj=el("beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),Sj=el("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),_j=el("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),Cj=el("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Ej=el("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),Pj=el("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Aj="".concat("","/api"),Tj=[{id:1,title:"NCERT Mathematics Class 10",author:"NCERT",isbn:"978-81-7450-001-0",category:"Textbooks",copies:45,available:38,location:"Shelf A-1"},{id:2,title:"Concise Physics - Selina",author:"R.P. Goyal",isbn:"978-81-7450-002-7",category:"Reference",copies:30,available:25,location:"Shelf B-3"},{id:3,title:"Godan - Premchand",author:"Munshi Premchand",isbn:"978-81-7450-003-4",category:"Fiction",copies:20,available:12,location:"Shelf C-2"},{id:4,title:"Champak Monthly",author:"Delhi Press",isbn:"978-81-7450-004-1",category:"Magazines",copies:15,available:15,location:"Reading Room"},{id:5,title:"NCERT Science Class 9",author:"NCERT",isbn:"978-81-7450-005-8",category:"Textbooks",copies:50,available:42,location:"Shelf A-2"},{id:6,title:"Oxford English Dictionary",author:"Oxford Press",isbn:"978-81-7450-006-5",category:"Reference",copies:10,available:8,location:"Shelf D-1"},{id:7,title:"Panchtantra Ki Kahaniyan",author:"Vishnu Sharma",isbn:"978-81-7450-007-2",category:"Fiction",copies:25,available:18,location:"Shelf C-4"},{id:8,title:"Science Reporter",author:"CSIR",isbn:"978-81-7450-008-9",category:"Magazines",copies:12,available:10,location:"Reading Room"}],Mj=[{id:1,book:"NCERT Mathematics Class 10",student:"Aarav Sharma",class:"10-A",issueDate:"2026-01-15",dueDate:"2026-02-15",status:"issued"},{id:2,book:"Godan - Premchand",student:"Priya Patel",class:"9-B",issueDate:"2026-01-20",dueDate:"2026-02-20",status:"issued"},{id:3,book:"Concise Physics - Selina",student:"Rahul Singh",class:"10-A",issueDate:"2026-01-10",dueDate:"2026-02-10",status:"overdue"},{id:4,book:"Oxford English Dictionary",student:"Sneha Gupta",class:"8-C",issueDate:"2026-01-25",dueDate:"2026-02-25",status:"issued"},{id:5,book:"NCERT Science Class 9",student:"Arjun Kumar",class:"9-A",issueDate:"2026-01-05",dueDate:"2026-02-05",status:"returned"}],Dj=[{id:1,title:"NCERT Maths Class 12 (PDF)",subject:"Mathematics",class:"12",size:"15.2 MB",uploads:234,format:"PDF"},{id:2,title:"Hindi Vyakaran Guide",subject:"Hindi",class:"9-12",size:"8.5 MB",uploads:189,format:"PDF"},{id:3,title:"English Grammar Workbook",subject:"English",class:"6-8",size:"12.1 MB",uploads:156,format:"PDF"},{id:4,title:"Social Science Atlas",subject:"SST",class:"10",size:"22.8 MB",uploads:98,format:"PDF"},{id:5,title:"Biology Lab Manual",subject:"Biology",class:"11-12",size:"18.4 MB",uploads:145,format:"PDF"}],Rj=[{id:1,name:"Physics Simulator",nameHi:"\u092d\u094c\u0924\u093f\u0915\u0940 \u0938\u093f\u092e\u094d\u092f\u0941\u0932\u0947\u091f\u0930",category:"Science",description:"Pendulum, optics, electricity experiments",icon:kj,color:"bg-blue-500",users:342},{id:2,name:"Chemistry Lab Virtual",nameHi:"\u0930\u0938\u093e\u092f\u0928 \u092a\u094d\u0930\u092f\u094b\u0917\u0936\u093e\u0932\u093e",category:"Science",description:"Virtual titration, reactions, periodic table",icon:kj,color:"bg-green-500",users:278},{id:3,name:"Graph Plotter",nameHi:"\u0917\u094d\u0930\u093e\u092b \u092a\u094d\u0932\u0949\u091f\u0930",category:"Math",description:"Plot equations, analyze graphs, coordinate geometry",icon:al,color:"bg-purple-500",users:456},{id:4,name:"Scientific Calculator",nameHi:"\u0935\u0948\u091c\u094d\u091e\u093e\u0928\u093f\u0915 \u0915\u0948\u0932\u0915\u0941\u0932\u0947\u091f\u0930",category:"Math",description:"Advanced calculations, trigonometry, algebra",icon:Sj,color:"bg-indigo-500",users:512},{id:5,name:"Language Lab",nameHi:"\u092d\u093e\u0937\u093e \u092a\u094d\u0930\u092f\u094b\u0917\u0936\u093e\u0932\u093e",category:"Language",description:"Pronunciation, grammar exercises, vocabulary",icon:rl,color:"bg-teal-500",users:198},{id:6,name:"Hindi Typing Tutor",nameHi:"\u0939\u093f\u0902\u0926\u0940 \u091f\u093e\u0907\u092a\u093f\u0902\u0917",category:"Language",description:"Learn Devnagari typing with exercises",icon:rl,color:"bg-orange-500",users:167},{id:7,name:"Art Canvas",nameHi:"\u0915\u0932\u093e \u0915\u0948\u0928\u0935\u093e\u0938",category:"Art",description:"Digital drawing, painting, color mixing",icon:ij,color:"bg-pink-500",users:234},{id:8,name:"Music Studio",nameHi:"\u0938\u0902\u0917\u0940\u0924 \u0938\u094d\u091f\u0942\u0921\u093f\u092f\u094b",category:"Art",description:"Learn Indian classical instruments, sur practice",icon:ij,color:"bg-rose-500",users:145}],Ij=[{id:1,class:"1-5",subject:"Mathematics",resources:45,lastUpdated:"2026-02-01"},{id:2,class:"1-5",subject:"Hindi",resources:38,lastUpdated:"2026-01-28"},{id:3,class:"1-5",subject:"English",resources:42,lastUpdated:"2026-01-30"},{id:4,class:"6-8",subject:"Science",resources:56,lastUpdated:"2026-02-05"},{id:5,class:"6-8",subject:"Mathematics",resources:52,lastUpdated:"2026-02-03"},{id:6,class:"6-8",subject:"Social Science",resources:48,lastUpdated:"2026-01-25"},{id:7,class:"9-10",subject:"Physics",resources:34,lastUpdated:"2026-02-07"},{id:8,class:"9-10",subject:"Chemistry",resources:31,lastUpdated:"2026-02-06"},{id:9,class:"11-12",subject:"Mathematics",resources:40,lastUpdated:"2026-02-08"},{id:10,class:"11-12",subject:"Biology",resources:36,lastUpdated:"2026-02-04"}];function Oj(){const{user:e}=Vr(),a=(null===e||void 0===e?void 0:e.school_id)||localStorage.getItem("school_id"),[s,n]=(0,t.useState)("library"),[r,l]=(0,t.useState)(""),[i,o]=(0,t.useState)("all"),[c,u]=(0,t.useState)(Tj),[m,h]=(0,t.useState)(Mj),[p,x]=(0,t.useState)(Dj),[g,f]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)({title:"",author:"",isbn:"",category:"Textbooks",copies:"",location:""}),[k,S]=(0,t.useState)({title:"",subject:"",class:"",format:"PDF"}),[_,C]=(0,t.useState)({title:"",class:"",subject:"",type:"Worksheet"});(0,t.useEffect)(()=>{E()},[]);const E=async()=>{try{var e,t,s;const n=localStorage.getItem("token"),r={Authorization:"Bearer ".concat(n)},[l,i,o]=await Promise.all([zr.get("".concat(Aj,"/library/books?school_id=").concat(a),{headers:r}).catch(()=>null),zr.get("".concat(Aj,"/library/ebooks?school_id=").concat(a),{headers:r}).catch(()=>null),zr.get("".concat(Aj,"/library/issued?school_id=").concat(a),{headers:r}).catch(()=>null)]);(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.length)>0&&u(l.data),(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.length)>0&&x(i.data),(null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.length)>0&&h(o.data)}catch(n){console.log("Using demo library data")}},P=c.filter(e=>{const t=e.title.toLowerCase().includes(r.toLowerCase())||e.author.toLowerCase().includes(r.toLowerCase()),a="all"===i||e.category===i;return t&&a});return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-fuchsia-600 rounded-2xl p-6 text-white",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,Hr.jsx)(_j,{className:"w-8 h-8"}),"Digital Library & EdTech"]}),(0,Hr.jsx)("p",{className:"text-purple-100 mt-2",children:"From books to labs \u2014 immersive learning tools at your fingertips"})]}),(0,Hr.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:c.length}),(0,Hr.jsx)("p",{className:"text-xs text-purple-100",children:"Total Books"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:p.length}),(0,Hr.jsx)("p",{className:"text-xs text-purple-100",children:"E-Books"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:Rj.length}),(0,Hr.jsx)("p",{className:"text-xs text-purple-100",children:"EdTech Tools"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:m.filter(e=>"issued"===e.status).length}),(0,Hr.jsx)("p",{className:"text-xs text-purple-100",children:"Books Issued"})]})]})]})}),(0,Hr.jsxs)(wh,{value:s,onValueChange:n,className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-4 h-12",children:[(0,Hr.jsxs)(Sh,{value:"library",className:"flex items-center gap-2",children:[(0,Hr.jsx)(ol,{className:"w-4 h-4"})," Library"]}),(0,Hr.jsxs)(Sh,{value:"ebooks",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Dl,{className:"w-4 h-4"})," E-Books"]}),(0,Hr.jsxs)(Sh,{value:"edtech",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Cj,{className:"w-4 h-4"})," EdTech Labs"]}),(0,Hr.jsxs)(Sh,{value:"content",className:"flex items-center gap-2",children:[(0,Hr.jsx)(ll,{className:"w-4 h-4"})," Content Library"]})]}),(0,Hr.jsxs)(_h,{value:"library",className:"mt-6 space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"relative flex-1",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Hr.jsx)(Lo,{value:r,onChange:e=>l(e.target.value),placeholder:"Search books by title or author...",className:"pl-10"})]}),(0,Hr.jsx)("div",{className:"flex items-center gap-2",children:["all","Textbooks","Reference","Fiction","Magazines"].map(e=>(0,Hr.jsx)(Io,{variant:i===e?"default":"outline",size:"sm",onClick:()=>o(e),children:"all"===e?"All":e},e))}),(0,Hr.jsxs)(Io,{onClick:()=>f(!0),className:"bg-purple-600 hover:bg-purple-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Add Book"]})]}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsx)(yb,{className:"p-0",children:(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 bg-gray-50/50",children:[(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Title / Author"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"ISBN"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Category"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Copies"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Available"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Location"})]})}),(0,Hr.jsx)("tbody",{children:P.map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-purple-50/30 transition-colors",children:[(0,Hr.jsxs)("td",{className:"py-3.5 px-4",children:[(0,Hr.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.title}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400",children:e.author})]}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-600",children:e.isbn}),(0,Hr.jsx)("td",{className:"py-3.5 px-4",children:(0,Hr.jsx)(Ry,{variant:"outline",children:e.category})}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm font-semibold text-gray-900",children:e.copies}),(0,Hr.jsx)("td",{className:"py-3.5 px-4",children:(0,Hr.jsx)("span",{className:"text-sm font-bold ".concat(e.available>0?"text-green-600":"text-red-600"),children:e.available})}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-500",children:e.location})]},e.id))})]})})})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(Ej,{className:"w-5 h-5 text-purple-600"})," Issue / Return Tracking"]}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 bg-gray-50/50",children:[(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Book"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Student"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Issue Date"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Due Date"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Status"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Action"})]})}),(0,Hr.jsx)("tbody",{children:m.map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-purple-50/30 transition-colors",children:[(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm font-semibold text-gray-900",children:e.book}),(0,Hr.jsxs)("td",{className:"py-3.5 px-4",children:[(0,Hr.jsx)("p",{className:"text-sm text-gray-900",children:e.student}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-400",children:["Class ",e.class]})]}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-600",children:e.issueDate}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-600",children:e.dueDate}),(0,Hr.jsx)("td",{className:"py-3.5 px-4",children:(0,Hr.jsx)(Ry,{className:"returned"===e.status?"bg-green-100 text-green-700":"overdue"===e.status?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700",children:"returned"===e.status?"Returned":"overdue"===e.status?"Overdue":"Issued"})}),(0,Hr.jsx)("td",{className:"py-3.5 px-4",children:"returned"!==e.status&&(0,Hr.jsx)(Io,{size:"sm",variant:"outline",onClick:()=>{return t=e.id,h(e=>e.map(e=>e.id===t?d(d({},e),{},{status:"returned"}):e)),void Qt.success("Book returned successfully!");var t},children:"Return"})})]},e.id))})]})})]})})]}),(0,Hr.jsxs)(_h,{value:"ebooks",className:"mt-6 space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"E-Books & Digital Resources"}),(0,Hr.jsxs)(Io,{onClick:()=>b(!0),className:"bg-purple-600 hover:bg-purple-700",children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4 mr-2"})," Upload E-Book"]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md hover:shadow-lg transition-all",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Hr.jsx)("div",{className:"w-12 h-16 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Hr.jsx)(Dl,{className:"w-6 h-6 text-purple-600"})}),(0,Hr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:e.title}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Subject: ",e.subject," | Class: ",e.class]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,Hr.jsx)("span",{className:"text-xs text-gray-400",children:e.size}),(0,Hr.jsx)(Ry,{variant:"outline",className:"text-xs",children:e.format})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"text-xs",children:[(0,Hr.jsx)(xl,{className:"w-3 h-3 mr-1"})," View"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"text-xs",children:[(0,Hr.jsx)(ey,{className:"w-3 h-3 mr-1"})," Download"]})]})]})]})})},e.id))})]}),(0,Hr.jsxs)(_h,{value:"edtech",className:"mt-6 space-y-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Interactive EdTech Labs (\u0907\u0902\u091f\u0930\u0948\u0915\u094d\u091f\u093f\u0935 \u0932\u0948\u092c\u094d\u0938)"}),["Science","Math","Language","Art"].map(e=>(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("h4",{className:"text-md font-semibold text-gray-700 flex items-center gap-2",children:["Science"===e&&(0,Hr.jsx)(kj,{className:"w-5 h-5 text-blue-600"}),"Math"===e&&(0,Hr.jsx)(Sj,{className:"w-5 h-5 text-purple-600"}),"Language"===e&&(0,Hr.jsx)(rl,{className:"w-5 h-5 text-teal-600"}),"Art"===e&&(0,Hr.jsx)(ij,{className:"w-5 h-5 text-pink-600"}),e," Tools"]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Rj.filter(t=>t.category===e).map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md hover:shadow-lg transition-all group",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 ".concat(e.color," rounded-xl flex items-center justify-center mb-3"),children:(0,Hr.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.nameHi}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:e.description}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,Hr.jsxs)("span",{className:"text-xs text-gray-400",children:[e.users," users"]}),(0,Hr.jsxs)(Io,{size:"sm",onClick:()=>(e=>{Qt.success("".concat(e.name," launched! ").concat(e.nameHi," \u0936\u0941\u0930\u0942 \u0939\u094b \u0930\u0939\u093e \u0939\u0948..."))})(e),className:"bg-purple-600 hover:bg-purple-700",children:[(0,Hr.jsx)(Pj,{className:"w-3 h-3 mr-1"})," Launch"]})]})]})},e.id))})]},e))]}),(0,Hr.jsxs)(_h,{value:"content",className:"mt-6 space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"K-12 Curriculum Content (\u092a\u093e\u0920\u094d\u092f\u0915\u094d\u0930\u092e \u0938\u093e\u092e\u0917\u094d\u0930\u0940)"}),(0,Hr.jsxs)(Io,{onClick:()=>j(!0),className:"bg-purple-600 hover:bg-purple-700",children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4 mr-2"})," Upload Content"]})]}),["1-5","6-8","9-10","11-12"].map(e=>(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("h4",{className:"text-md font-semibold text-gray-700",children:[(0,Hr.jsx)(cl,{className:"w-4 h-4 inline mr-2"}),"Class ",e]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ij.filter(t=>t.class===e).map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md hover:shadow-lg transition-all",children:(0,Hr.jsx)(yb,{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h5",{className:"font-semibold text-gray-900",children:e.subject}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.resources," resources"]}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-400",children:["Updated: ",e.lastUpdated]})]}),(0,Hr.jsxs)("div",{className:"flex gap-1",children:[(0,Hr.jsx)(Io,{size:"sm",variant:"outline",children:(0,Hr.jsx)(xl,{className:"w-3 h-3"})}),(0,Hr.jsx)(Io,{size:"sm",variant:"outline",children:(0,Hr.jsx)(ey,{className:"w-3 h-3"})})]})]})})},e.id))})]},e))]})]}),(0,Hr.jsx)(Gu,{open:g,onOpenChange:f,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Add New Book (\u0928\u0908 \u0915\u093f\u0924\u093e\u092c \u091c\u094b\u0921\u093c\u0947\u0902)"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Book Title"}),(0,Hr.jsx)(Lo,{value:N.title,onChange:e=>w(t=>d(d({},t),{},{title:e.target.value})),placeholder:"Enter book title"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Author"}),(0,Hr.jsx)(Lo,{value:N.author,onChange:e=>w(t=>d(d({},t),{},{author:e.target.value})),placeholder:"Author name"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"ISBN"}),(0,Hr.jsx)(Lo,{value:N.isbn,onChange:e=>w(t=>d(d({},t),{},{isbn:e.target.value})),placeholder:"ISBN number"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Category"}),(0,Hr.jsxs)("select",{value:N.category,onChange:e=>w(t=>d(d({},t),{},{category:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"Textbooks",children:"Textbooks"}),(0,Hr.jsx)("option",{value:"Reference",children:"Reference"}),(0,Hr.jsx)("option",{value:"Fiction",children:"Fiction"}),(0,Hr.jsx)("option",{value:"Magazines",children:"Magazines"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"No. of Copies"}),(0,Hr.jsx)(Lo,{type:"number",value:N.copies,onChange:e=>w(t=>d(d({},t),{},{copies:e.target.value})),placeholder:"1"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Location"}),(0,Hr.jsx)(Lo,{value:N.location,onChange:e=>w(t=>d(d({},t),{},{location:e.target.value})),placeholder:"Shelf A-1"})]})]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(!N.title||!N.author)return void Qt.error("Book title \u0914\u0930 author \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948");const e=d(d({id:Date.now()},N),{},{copies:parseInt(N.copies)||1,available:parseInt(N.copies)||1});try{var t;const s=localStorage.getItem("token"),n=await zr.post("".concat(Aj,"/library/books"),d(d({},e),{},{school_id:a}),{headers:{Authorization:"Bearer ".concat(s)}});null!==(t=n.data)&&void 0!==t&&t.id&&(e.id=n.data.id)}catch(s){console.log("Saved book locally")}u(t=>[...t,e]),Qt.success("Book added successfully!"),f(!1),w({title:"",author:"",isbn:"",category:"Textbooks",copies:"",location:""})},className:"w-full bg-purple-600 hover:bg-purple-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Add Book"]})]})]})}),(0,Hr.jsx)(Gu,{open:v,onOpenChange:b,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Upload E-Book"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Title"}),(0,Hr.jsx)(Lo,{value:k.title,onChange:e=>S(t=>d(d({},t),{},{title:e.target.value})),placeholder:"E-Book title"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Subject"}),(0,Hr.jsx)(Lo,{value:k.subject,onChange:e=>S(t=>d(d({},t),{},{subject:e.target.value})),placeholder:"Subject"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Class"}),(0,Hr.jsx)(Lo,{value:k.class,onChange:e=>S(t=>d(d({},t),{},{class:e.target.value})),placeholder:"e.g. 9-10"})]}),(0,Hr.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-8 text-center",children:[(0,Hr.jsx)(Ph,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"Click to upload or drag & drop"}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400",children:"PDF, EPUB up to 50MB"})]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(!k.title||!k.subject)return void Qt.error("Title \u0914\u0930 subject \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948");const e=d(d({id:Date.now()},k),{},{size:"5.0 MB",uploads:0});try{var t;const s=localStorage.getItem("token"),n=await zr.post("".concat(Aj,"/library/ebooks"),d(d({},e),{},{school_id:a}),{headers:{Authorization:"Bearer ".concat(s)}});null!==(t=n.data)&&void 0!==t&&t.id&&(e.id=n.data.id)}catch(s){console.log("Saved ebook locally")}x(t=>[...t,e]),Qt.success("E-Book uploaded successfully!"),b(!1),S({title:"",subject:"",class:"",format:"PDF"})},className:"w-full bg-purple-600 hover:bg-purple-700",children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4 mr-2"})," Upload"]})]})]})}),(0,Hr.jsx)(Gu,{open:y,onOpenChange:j,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Upload Curriculum Content (\u092a\u093e\u0920\u094d\u092f\u0915\u094d\u0930\u092e \u0938\u093e\u092e\u0917\u094d\u0930\u0940)"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Title"}),(0,Hr.jsx)(Lo,{value:_.title,onChange:e=>C(t=>d(d({},t),{},{title:e.target.value})),placeholder:"Content title"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Class"}),(0,Hr.jsxs)("select",{value:_.class,onChange:e=>C(t=>d(d({},t),{},{class:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select Class"}),(0,Hr.jsx)("option",{value:"1-5",children:"Class 1-5"}),(0,Hr.jsx)("option",{value:"6-8",children:"Class 6-8"}),(0,Hr.jsx)("option",{value:"9-10",children:"Class 9-10"}),(0,Hr.jsx)("option",{value:"11-12",children:"Class 11-12"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Subject"}),(0,Hr.jsx)(Lo,{value:_.subject,onChange:e=>C(t=>d(d({},t),{},{subject:e.target.value})),placeholder:"Subject name"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Type"}),(0,Hr.jsxs)("select",{value:_.type,onChange:e=>C(t=>d(d({},t),{},{type:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"Worksheet",children:"Worksheet"}),(0,Hr.jsx)("option",{value:"Lesson Plan",children:"Lesson Plan"}),(0,Hr.jsx)("option",{value:"Video",children:"Video"}),(0,Hr.jsx)("option",{value:"Presentation",children:"Presentation"})]})]}),(0,Hr.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-8 text-center",children:[(0,Hr.jsx)(Ph,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"Upload file"})]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(_.title&&_.subject){try{const e=localStorage.getItem("token");await zr.post("".concat(Aj,"/library/content"),d(d({},_),{},{school_id:a}),{headers:{Authorization:"Bearer ".concat(e)}})}catch(e){console.log("Saved content locally")}Qt.success("Content uploaded successfully!"),j(!1),C({title:"",class:"",subject:"",type:"Worksheet"})}else Qt.error("Title \u0914\u0930 subject \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948")},className:"w-full bg-purple-600 hover:bg-purple-700",children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4 mr-2"})," Upload Content"]})]})]})})]})}const Lj=el("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Fj=el("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]),Bj=el("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),zj=("".concat("","/api"),{Pending:"bg-yellow-100 text-yellow-700",Submitted:"bg-blue-100 text-blue-700",Returned:"bg-orange-100 text-orange-700",Graded:"bg-green-100 text-green-700"});function Hj(){const{user:e}=Vr(),[a,s]=(0,t.useState)("assign"),[n,r]=(0,t.useState)(!1),[l,i]=(0,t.useState)(null),[o,c]=(0,t.useState)(""),[u,m]=(0,t.useState)([{id:1,title:"Chapter 5 - Linear Equations",subject:"Mathematics",class:"Class 10",description:"Solve exercises 5.1 to 5.3 from textbook",dueDate:"2026-02-12",maxMarks:20,attachments:!0,createdAt:"2026-02-08",createdBy:"Mr. Sharma"},{id:2,title:"Essay - My Country",subject:"English",class:"Class 8",description:"Write a 500 word essay on My Country",dueDate:"2026-02-14",maxMarks:25,attachments:!1,createdAt:"2026-02-07",createdBy:"Mrs. Patel"},{id:3,title:"Science Lab Report",subject:"Science",class:"Class 9",description:"Write lab report for experiment on photosynthesis",dueDate:"2026-02-11",maxMarks:15,attachments:!0,createdAt:"2026-02-06",createdBy:"Mr. Kumar"},{id:4,title:"Hindi Grammar Exercises",subject:"Hindi",class:"Class 7",description:"Complete Samas and Sandhi exercises from workbook",dueDate:"2026-02-10",maxMarks:10,attachments:!1,createdAt:"2026-02-05",createdBy:"Mrs. Verma"},{id:5,title:"History Map Work",subject:"Social Science",class:"Class 10",description:"Mark important places of Indian independence movement",dueDate:"2026-02-15",maxMarks:20,attachments:!0,createdAt:"2026-02-09",createdBy:"Mr. Singh"}]),[h,p]=(0,t.useState)({title:"",subject:"",class:"",description:"",dueDate:"",maxMarks:"",attachments:!1}),[x,g]=(0,t.useState)([{id:1,homeworkId:1,studentName:"Aarav Gupta",rollNo:"01",status:"Graded",submittedAt:"2026-02-10",marks:18,feedback:"Excellent work!"},{id:2,homeworkId:1,studentName:"Priya Sharma",rollNo:"02",status:"Submitted",submittedAt:"2026-02-11",marks:null,feedback:""},{id:3,homeworkId:1,studentName:"Rohit Kumar",rollNo:"03",status:"Pending",submittedAt:null,marks:null,feedback:""},{id:4,homeworkId:1,studentName:"Sneha Patel",rollNo:"04",status:"Graded",submittedAt:"2026-02-09",marks:16,feedback:"Good effort, check Q3"},{id:5,homeworkId:1,studentName:"Vikram Singh",rollNo:"05",status:"Returned",submittedAt:"2026-02-10",marks:null,feedback:"Please redo Q2 and Q4"},{id:6,homeworkId:2,studentName:"Ananya Mishra",rollNo:"01",status:"Submitted",submittedAt:"2026-02-12",marks:null,feedback:""},{id:7,homeworkId:2,studentName:"Kartik Jain",rollNo:"02",status:"Pending",submittedAt:null,marks:null,feedback:""},{id:8,homeworkId:3,studentName:"Meera Reddy",rollNo:"01",status:"Graded",submittedAt:"2026-02-09",marks:13,feedback:"Well structured report"},{id:9,homeworkId:3,studentName:"Arjun Nair",rollNo:"02",status:"Submitted",submittedAt:"2026-02-10",marks:null,feedback:""},{id:10,homeworkId:4,studentName:"Divya Tiwari",rollNo:"01",status:"Graded",submittedAt:"2026-02-08",marks:9,feedback:"Perfect!"}]),[f,v]=(0,t.useState)({}),b=[{class:"Class 7",submissionRate:92,avgScore:78,onTime:85,late:15},{class:"Class 8",submissionRate:85,avgScore:72,onTime:78,late:22},{class:"Class 9",submissionRate:88,avgScore:75,onTime:82,late:18},{class:"Class 10",submissionRate:78,avgScore:70,onTime:72,late:28}],y=e=>x.filter(t=>t.homeworkId===e),j=e=>{const t=y(e);t.length;return{total:t.length,pending:t.filter(e=>"Pending"===e.status).length,submitted:t.filter(e=>"Submitted"===e.status).length,graded:t.filter(e=>"Graded"===e.status).length,returned:t.filter(e=>"Returned"===e.status).length}},N=u.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())||e.subject.toLowerCase().includes(o.toLowerCase())||e.class.toLowerCase().includes(o.toLowerCase())),w=u.length,k=x.filter(e=>"Pending"!==e.status).length,S=x.filter(e=>"Graded"===e.status).length,_=x.filter(e=>null!==e.marks).length>0?Math.round(x.filter(e=>null!==e.marks).reduce((e,t)=>e+t.marks,0)/x.filter(e=>null!==e.marks).length):0;return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-teal-600 to-emerald-600 rounded-2xl p-6 text-white",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,Hr.jsx)(ol,{className:"w-8 h-8"}),"Homework & Assignments"]}),(0,Hr.jsx)("p",{className:"text-teal-100 mt-2",children:"Assign, track, and grade \u2014 homework reinvented"})]}),(0,Hr.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:w}),(0,Hr.jsx)("p",{className:"text-xs text-teal-100",children:"Assigned"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:k}),(0,Hr.jsx)("p",{className:"text-xs text-teal-100",children:"Submissions"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:S}),(0,Hr.jsx)("p",{className:"text-xs text-teal-100",children:"Graded"})]})]})]})}),(0,Hr.jsxs)(wh,{value:a,onValueChange:s,children:[(0,Hr.jsxs)(kh,{className:"grid grid-cols-4 w-full max-w-2xl",children:[(0,Hr.jsxs)(Sh,{value:"assign",className:"flex items-center gap-2",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4"})," Assign"]}),(0,Hr.jsxs)(Sh,{value:"track",className:"flex items-center gap-2",children:[(0,Hr.jsx)(lj,{className:"w-4 h-4"})," Track"]}),(0,Hr.jsxs)(Sh,{value:"grade",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Lj,{className:"w-4 h-4"})," Grade"]}),(0,Hr.jsxs)(Sh,{value:"analytics",className:"flex items-center gap-2",children:[(0,Hr.jsx)(al,{className:"w-4 h-4"})," Analytics"]})]}),(0,Hr.jsxs)(_h,{value:"assign",className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,Hr.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Hr.jsx)(Lo,{placeholder:"Search homework...",value:o,onChange:e=>c(e.target.value),className:"pl-10"})]}),(0,Hr.jsxs)(Io,{onClick:()=>{p({title:"",subject:"",class:"",description:"",dueDate:"",maxMarks:"",attachments:!1}),r(!0)},className:"bg-teal-600 hover:bg-teal-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Assign Homework"]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(e=>{const t=j(e.id);return(0,Hr.jsx)(gb,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-teal-500 to-emerald-500 flex items-center justify-center",children:(0,Hr.jsx)(ol,{className:"w-5 h-5 text-white"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h4",{className:"font-bold text-gray-900 text-sm",children:e.title}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-500",children:[e.subject," \u2022 ",e.class]})]})]}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,m(e=>e.filter(e=>e.id!==t)),void Qt.success("Homework deleted");var t},children:(0,Hr.jsx)(Hh,{className:"w-4 h-4 text-red-400"})})]}),e.description&&(0,Hr.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:e.description}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Hr.jsxs)(Ry,{variant:"outline",className:"text-xs",children:[(0,Hr.jsx)(Ly,{className:"w-3 h-3 mr-1"})," Due: ",e.dueDate]}),e.maxMarks>0&&(0,Hr.jsxs)(Ry,{variant:"outline",className:"text-xs",children:[(0,Hr.jsx)(cj,{className:"w-3 h-3 mr-1"})," ",e.maxMarks," marks"]}),e.attachments&&(0,Hr.jsxs)(Ry,{variant:"outline",className:"text-xs",children:[(0,Hr.jsx)(Fj,{className:"w-3 h-3 mr-1"})," Files"]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,Hr.jsxs)("div",{className:"bg-yellow-50 rounded p-1.5 text-center",children:[(0,Hr.jsx)("p",{className:"text-sm font-bold text-yellow-700",children:t.pending}),(0,Hr.jsx)("p",{className:"text-[10px] text-yellow-600",children:"Pending"})]}),(0,Hr.jsxs)("div",{className:"bg-blue-50 rounded p-1.5 text-center",children:[(0,Hr.jsx)("p",{className:"text-sm font-bold text-blue-700",children:t.submitted}),(0,Hr.jsx)("p",{className:"text-[10px] text-blue-600",children:"Submitted"})]}),(0,Hr.jsxs)("div",{className:"bg-green-50 rounded p-1.5 text-center",children:[(0,Hr.jsx)("p",{className:"text-sm font-bold text-green-700",children:t.graded}),(0,Hr.jsx)("p",{className:"text-[10px] text-green-600",children:"Graded"})]}),(0,Hr.jsxs)("div",{className:"bg-orange-50 rounded p-1.5 text-center",children:[(0,Hr.jsx)("p",{className:"text-sm font-bold text-orange-700",children:t.returned}),(0,Hr.jsx)("p",{className:"text-[10px] text-orange-600",children:"Returned"})]})]}),(0,Hr.jsxs)("p",{className:"text-[10px] text-gray-400 mt-2",children:["By ",e.createdBy," \u2022 ",e.createdAt]})]})},e.id)})})]}),(0,Hr.jsx)(_h,{value:"track",className:"space-y-4",children:(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Homework Tracking"}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full text-sm",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50",children:[(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Homework"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Class"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Due Date"}),(0,Hr.jsx)("th",{className:"text-center py-3 px-4 text-gray-500 font-medium",children:"Pending"}),(0,Hr.jsx)("th",{className:"text-center py-3 px-4 text-gray-500 font-medium",children:"Submitted"}),(0,Hr.jsx)("th",{className:"text-center py-3 px-4 text-gray-500 font-medium",children:"Graded"}),(0,Hr.jsx)("th",{className:"text-center py-3 px-4 text-gray-500 font-medium",children:"Returned"}),(0,Hr.jsx)("th",{className:"text-right py-3 px-4 text-gray-500 font-medium",children:"Actions"})]})}),(0,Hr.jsx)("tbody",{children:u.map(e=>{const t=j(e.id),a=new Date(e.dueDate)<new Date;return(0,Hr.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[(0,Hr.jsx)("td",{className:"py-3 px-4",children:(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400",children:e.subject})]})}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.class}),(0,Hr.jsxs)("td",{className:"py-3 px-4",children:[(0,Hr.jsx)("span",{className:"text-sm ".concat(a?"text-red-500 font-semibold":"text-gray-600"),children:e.dueDate}),a&&(0,Hr.jsx)(Ry,{className:"bg-red-100 text-red-700 ml-2 text-[10px]",children:"Overdue"})]}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Hr.jsx)(Ry,{className:"bg-yellow-100 text-yellow-700",children:t.pending})}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Hr.jsx)(Ry,{className:"bg-blue-100 text-blue-700",children:t.submitted})}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Hr.jsx)(Ry,{className:"bg-green-100 text-green-700",children:t.graded})}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Hr.jsx)(Ry,{className:"bg-orange-100 text-orange-700",children:t.returned})}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-right",children:(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>{i(e),s("grade")},children:(0,Hr.jsx)(xl,{className:"w-4 h-4 text-gray-400"})})})]},e.id)})})]})})]})})}),(0,Hr.jsxs)(_h,{value:"grade",className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Hr.jsx)(Wo,{className:"text-sm font-medium",children:"Select Homework:"}),(0,Hr.jsxs)("select",{className:"border rounded-md p-2 text-sm flex-1 max-w-md",value:(null===l||void 0===l?void 0:l.id)||"",onChange:e=>{const t=u.find(t=>t.id===parseInt(e.target.value));i(t||null)},children:[(0,Hr.jsx)("option",{value:"",children:"-- Select --"}),u.map(e=>(0,Hr.jsxs)("option",{value:e.id,children:[e.title," (",e.class,")"]},e.id))]})]}),l?(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:l.title}),(0,Hr.jsxs)("p",{className:"text-sm text-gray-500",children:[l.subject," \u2022 ",l.class," \u2022 Max: ",l.maxMarks," marks"]})]})}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full text-sm",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-b border-gray-200 bg-gray-50",children:[(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Roll"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Student"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Status"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Submitted"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Marks"}),(0,Hr.jsx)("th",{className:"text-left py-3 px-4 text-gray-500 font-medium",children:"Feedback"}),(0,Hr.jsx)("th",{className:"text-right py-3 px-4 text-gray-500 font-medium",children:"Action"})]})}),(0,Hr.jsx)("tbody",{children:y(l.id).map(e=>{var t,a,s,n;return(0,Hr.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[(0,Hr.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.rollNo}),(0,Hr.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900",children:e.studentName}),(0,Hr.jsx)("td",{className:"py-3 px-4",children:(0,Hr.jsx)(Ry,{className:zj[e.status],children:e.status})}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-gray-600 text-xs",children:e.submittedAt||"\u2014"}),(0,Hr.jsx)("td",{className:"py-3 px-4",children:"Graded"===e.status?(0,Hr.jsxs)("span",{className:"font-bold text-green-700",children:[e.marks,"/",l.maxMarks]}):"Submitted"===e.status||"Returned"===e.status?(0,Hr.jsx)(Lo,{type:"number",className:"w-20 h-8 text-sm",placeholder:"0",max:l.maxMarks,value:null!==(t=null===(a=f[e.id])||void 0===a?void 0:a.marks)&&void 0!==t?t:"",onChange:t=>v(a=>d(d({},a),{},{[e.id]:d(d({},a[e.id]),{},{marks:t.target.value})}))}):(0,Hr.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,Hr.jsx)("td",{className:"py-3 px-4",children:"Graded"===e.status?(0,Hr.jsx)("span",{className:"text-xs text-gray-500",children:e.feedback}):"Submitted"===e.status||"Returned"===e.status?(0,Hr.jsx)(Lo,{className:"h-8 text-sm",placeholder:"Feedback",value:null!==(s=null===(n=f[e.id])||void 0===n?void 0:n.feedback)&&void 0!==s?s:"",onChange:t=>v(a=>d(d({},a),{},{[e.id]:d(d({},a[e.id]),{},{feedback:t.target.value})}))}):(0,Hr.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,Hr.jsx)("td",{className:"py-3 px-4 text-right",children:("Submitted"===e.status||"Returned"===e.status)&&(0,Hr.jsxs)(Io,{size:"sm",className:"bg-teal-600 hover:bg-teal-700",onClick:()=>(e=>{const t=f[e];t&&void 0!==t.marks&&""!==t.marks?(g(a=>a.map(a=>a.id===e?d(d({},a),{},{marks:parseInt(t.marks),feedback:t.feedback||"",status:"Graded"}):a)),Qt.success("Marks saved successfully!"),v(t=>{const a=d({},t);return delete a[e],a})):Qt.error("Please enter marks")})(e.id),children:[(0,Hr.jsx)(Gb,{className:"w-3 h-3 mr-1"})," Save"]})})]},e.id)})})]})})]})}):(0,Hr.jsx)(gb,{className:"border-0 shadow-sm",children:(0,Hr.jsxs)(yb,{className:"p-12 text-center",children:[(0,Hr.jsx)(Lj,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),(0,Hr.jsx)("p",{className:"text-gray-500 text-lg",children:"Select a homework to start grading"}),(0,Hr.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Choose from the dropdown above"})]})})]}),(0,Hr.jsxs)(_h,{value:"analytics",className:"space-y-6",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-teal-50 to-emerald-50",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-teal-600",children:"Total Assigned"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-teal-900",children:w})]}),(0,Hr.jsx)(ol,{className:"w-10 h-10 text-teal-500 opacity-50"})]})})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-blue-50 to-blue-100",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-blue-600",children:"Total Submissions"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:k})]}),(0,Hr.jsx)(Dl,{className:"w-10 h-10 text-blue-500 opacity-50"})]})})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-green-50 to-green-100",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-green-600",children:"Graded"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-green-900",children:S})]}),(0,Hr.jsx)(Gb,{className:"w-10 h-10 text-green-500 opacity-50"})]})})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-purple-50 to-purple-100",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-purple-600",children:"Avg Score"}),(0,Hr.jsxs)("p",{className:"text-3xl font-bold text-purple-900",children:[_,"%"]})]}),(0,Hr.jsx)(by,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})})]}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Submission Rates by Class"}),(0,Hr.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Hr.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.class}),(0,Hr.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[e.submissionRate,"%"]})]}),(0,Hr.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-4 overflow-hidden",children:(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-teal-500 to-emerald-500 h-4 rounded-full transition-all",style:{width:"".concat(e.submissionRate,"%")}})})]},e.class))})]})}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Average Scores"}),(0,Hr.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("span",{className:"text-sm text-gray-600 w-20",children:e.class}),(0,Hr.jsx)("div",{className:"flex-1 bg-gray-100 rounded-full h-3",children:(0,Hr.jsx)("div",{className:"bg-purple-500 h-3 rounded-full",style:{width:"".concat(e.avgScore,"%")}})}),(0,Hr.jsxs)("span",{className:"text-sm font-bold text-gray-900 w-12 text-right",children:[e.avgScore,"%"]})]},e.class))})]})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"On-time vs Late Submissions"}),(0,Hr.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Hr.jsx)("span",{className:"text-sm text-gray-600",children:e.class}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,Hr.jsxs)("span",{className:"text-green-600",children:[e.onTime,"% on-time"]}),(0,Hr.jsxs)("span",{className:"text-red-500",children:[e.late,"% late"]})]})]}),(0,Hr.jsxs)("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden flex",children:[(0,Hr.jsx)("div",{className:"bg-green-500 h-3",style:{width:"".concat(e.onTime,"%")}}),(0,Hr.jsx)("div",{className:"bg-red-400 h-3",style:{width:"".concat(e.late,"%")}})]})]},e.class))})]})})]})]})]}),(0,Hr.jsx)(Gu,{open:n,onOpenChange:r,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Assign New Homework"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Title *"}),(0,Hr.jsx)(Lo,{value:h.title,onChange:e=>p(t=>d(d({},t),{},{title:e.target.value})),placeholder:"e.g., Chapter 5 Exercises"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Subject *"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-md p-2 text-sm",value:h.subject,onChange:e=>p(t=>d(d({},t),{},{subject:e.target.value})),children:[(0,Hr.jsx)("option",{value:"",children:"Select Subject"}),(0,Hr.jsx)("option",{value:"Mathematics",children:"Mathematics"}),(0,Hr.jsx)("option",{value:"English",children:"English"}),(0,Hr.jsx)("option",{value:"Hindi",children:"Hindi"}),(0,Hr.jsx)("option",{value:"Science",children:"Science"}),(0,Hr.jsx)("option",{value:"Social Science",children:"Social Science"}),(0,Hr.jsx)("option",{value:"Computer",children:"Computer"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Class *"}),(0,Hr.jsxs)("select",{className:"w-full border rounded-md p-2 text-sm",value:h.class,onChange:e=>p(t=>d(d({},t),{},{class:e.target.value})),children:[(0,Hr.jsx)("option",{value:"",children:"Select Class"}),Array.from({length:12},(e,t)=>(0,Hr.jsxs)("option",{value:"Class ".concat(t+1),children:["Class ",t+1]},t+1))]})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Description"}),(0,Hr.jsx)(Oy,{value:h.description,onChange:e=>p(t=>d(d({},t),{},{description:e.target.value})),placeholder:"Describe the homework...",rows:3})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Due Date"}),(0,Hr.jsx)(Lo,{type:"date",value:h.dueDate,onChange:e=>p(t=>d(d({},t),{},{dueDate:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Max Marks"}),(0,Hr.jsx)(Lo,{type:"number",value:h.maxMarks,onChange:e=>p(t=>d(d({},t),{},{maxMarks:e.target.value})),placeholder:"e.g., 20"})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)(Wo,{children:"Allow Attachments"}),(0,Hr.jsx)(rj,{checked:h.attachments,onCheckedChange:e=>p(t=>d(d({},t),{},{attachments:e}))})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{onClick:()=>{h.title&&h.subject&&h.class?(m(t=>[...t,d(d({id:Date.now()},h),{},{maxMarks:parseInt(h.maxMarks)||0,createdAt:(new Date).toISOString().split("T")[0],createdBy:(null===e||void 0===e?void 0:e.name)||"Teacher"})]),Qt.success("Homework assigned successfully!"),r(!1),p({title:"",subject:"",class:"",description:"",dueDate:"",maxMarks:"",attachments:!1})):Qt.error("Title, Subject and Class are required")},className:"bg-teal-600 hover:bg-teal-700",children:[(0,Hr.jsx)(Bj,{className:"w-4 h-4 mr-2"})," Assign"]})]})]})]})})]})}const qj=el("radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]),Uj=el("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Wj=el("file-down",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),Vj="".concat("","/api");function Gj(){const{user:e}=Vr(),a=(null===e||void 0===e?void 0:e.school_id)||localStorage.getItem("school_id"),[s,n]=(0,t.useState)("schedule"),[r,l]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[m,h]=(0,t.useState)([]),[p,x]=(0,t.useState)({title:"",subject:"",class_name:"",teacher:"",teacher_id:"",date:"",time:"",duration:"60",platform:"Zoom",meeting_link:""}),g=[{id:101,title:"Biology - Cell Division",subject:"Biology",class_name:"Class 11-A",teacher:"Dr. Mehta",platform:"Zoom",attendees:38,maxAttendees:45,startedAt:new Date(Date.now()-15e5).toISOString(),duration:60,meeting_link:"https://zoom.us/j/345678"},{id:102,title:"Computer Science - Python",subject:"Computer Science",class_name:"Class 12-B",teacher:"Mr. Kumar",platform:"Built-in",attendees:32,maxAttendees:40,startedAt:new Date(Date.now()-6e5).toISOString(),duration:45,meeting_link:""}],[f,v]=(0,t.useState)([{id:1,title:"Mathematics - Trigonometry",subject:"Mathematics",class_name:"Class 10-A",teacher:"Mr. Sharma",date:"2026-02-10",time:"10:00",duration:60,platform:"Zoom",meeting_link:"https://zoom.us/j/123456",status:"upcoming"},{id:2,title:"Physics - Laws of Motion",subject:"Physics",class_name:"Class 11-B",teacher:"Mrs. Gupta",date:"2026-02-10",time:"11:30",duration:45,platform:"Google Meet",meeting_link:"https://meet.google.com/abc-def",status:"upcoming"},{id:3,title:"English - Essay Writing",subject:"English",class_name:"Class 9-A",teacher:"Ms. Patel",date:"2026-02-11",time:"09:00",duration:40,platform:"Built-in",meeting_link:"",status:"upcoming"},{id:4,title:"Chemistry - Periodic Table",subject:"Chemistry",class_name:"Class 12-A",teacher:"Dr. Singh",date:"2026-02-11",time:"14:00",duration:50,platform:"Zoom",meeting_link:"https://zoom.us/j/789012",status:"upcoming"},{id:5,title:"Hindi - Kabir Ke Dohe",subject:"Hindi",class_name:"Class 8-B",teacher:"Mrs. Verma",date:"2026-02-12",time:"10:30",duration:35,platform:"Google Meet",meeting_link:"https://meet.google.com/xyz-abc",status:"upcoming"}]),[b,y]=(0,t.useState)(g),[j,N]=(0,t.useState)([{id:201,title:"Mathematics - Algebra Basics",subject:"Mathematics",class_name:"Class 9-A",teacher:"Mr. Sharma",date:"2026-02-08",duration:"58:32",size:"245 MB",views:127,status:"available"},{id:202,title:"Science - Chemical Reactions",subject:"Science",class_name:"Class 10-B",teacher:"Mrs. Gupta",date:"2026-02-07",duration:"42:15",size:"178 MB",views:89,status:"available"},{id:203,title:"Social Studies - Indian Constitution",subject:"Social Studies",class_name:"Class 8-A",teacher:"Mr. Joshi",date:"2026-02-06",duration:"35:48",size:"156 MB",views:64,status:"available"},{id:204,title:"English - Grammar Workshop",subject:"English",class_name:"Class 7-B",teacher:"Ms. Patel",date:"2026-02-05",duration:"40:22",size:"192 MB",views:103,status:"processing"}]),[w,k]=(0,t.useState)([{id:301,class_name:"Class 10-A",subject:"Mathematics",date:"2026-02-08",totalStudents:45,present:41,absent:4,teacher:"Mr. Sharma",session:"Trigonometry"},{id:302,class_name:"Class 11-B",subject:"Physics",date:"2026-02-08",totalStudents:40,present:36,absent:4,teacher:"Mrs. Gupta",session:"Laws of Motion"},{id:303,class_name:"Class 9-A",subject:"English",date:"2026-02-07",totalStudents:42,present:39,absent:3,teacher:"Ms. Patel",session:"Essay Writing"},{id:304,class_name:"Class 12-A",subject:"Chemistry",date:"2026-02-07",totalStudents:38,present:35,absent:3,teacher:"Dr. Singh",session:"Periodic Table"}]),[S,_]=(0,t.useState)(null),[C,E]=(0,t.useState)(!1);(0,t.useEffect)(()=>{P(),A()},[]);const P=async()=>{try{const n=localStorage.getItem("token"),r={Authorization:"Bearer ".concat(n)};let l=[];try{l=((await zr.get("".concat(Vj,"/employees?school_id=").concat(a),{headers:r})).data||[]).filter(e=>{var t;return"teacher"===e.role||(null===(t=e.designation)||void 0===t?void 0:t.toLowerCase().includes("teacher"))})}catch(e){try{l=((await zr.get("".concat(Vj,"/staff?school_id=").concat(a),{headers:r})).data||[]).filter(e=>{var t;return"teacher"===e.role||(null===(t=e.designation)||void 0===t?void 0:t.toLowerCase().includes("teacher"))})}catch(t){try{l=(await zr.get("".concat(Vj,"/users?role=teacher"),{headers:r})).data||[]}catch(s){console.log("Could not fetch teachers from any endpoint")}}}h(l)}catch(Jk){console.error("Failed to fetch teachers:",Jk)}},A=async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},s=(await zr.get("".concat(Vj,"/live-classes?school_id=").concat(a),{headers:t})).data||[];s.length>0&&(v(s.filter(e=>"upcoming"===e.status||"scheduled"===e.status)),y(s.filter(e=>"ongoing"===e.status||"live"===e.status)))}catch(e){console.log("Using default live class data")}},T=e=>{Qt.success("Downloading attendance report for ".concat(e.class_name," - ").concat(e.session))},M=e=>{switch(e){case"Zoom":return(0,Hr.jsx)(Ry,{className:"bg-blue-100 text-blue-700",children:"Zoom"});case"Google Meet":return(0,Hr.jsx)(Ry,{className:"bg-green-100 text-green-700",children:"Google Meet"});default:return(0,Hr.jsx)(Ry,{className:"bg-purple-100 text-purple-700",children:"Built-in"})}},D={totalScheduled:f.length,ongoingNow:b.length,totalRecordings:j.length,avgAttendance:w.length>0?Math.round(w.reduce((e,t)=>e+t.present/t.totalStudents*100,0)/w.length):0};return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-rose-600 rounded-2xl p-6 text-white",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,Hr.jsx)(ql,{className:"w-8 h-8"}),"Live Classes"]}),(0,Hr.jsx)("p",{className:"text-red-100 mt-2",children:"Go live or schedule \u2014 teach anytime, from anywhere"})]}),(0,Hr.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:D.totalScheduled}),(0,Hr.jsx)("p",{className:"text-xs text-red-100",children:"Scheduled"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:D.ongoingNow}),(0,Hr.jsx)("p",{className:"text-xs text-red-100",children:"Live Now"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:D.totalRecordings}),(0,Hr.jsx)("p",{className:"text-xs text-red-100",children:"Recordings"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsxs)("p",{className:"text-2xl font-bold",children:[D.avgAttendance,"%"]}),(0,Hr.jsx)("p",{className:"text-xs text-red-100",children:"Avg Attendance"})]})]})]})}),(0,Hr.jsxs)(wh,{value:s,onValueChange:n,className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-4 h-12",children:[(0,Hr.jsxs)(Sh,{value:"schedule",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Hl,{className:"w-4 h-4"})," Schedule"]}),(0,Hr.jsxs)(Sh,{value:"ongoing",className:"flex items-center gap-2",children:[(0,Hr.jsx)(qj,{className:"w-4 h-4"})," Ongoing"]}),(0,Hr.jsxs)(Sh,{value:"recordings",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Pj,{className:"w-4 h-4"})," Recordings"]}),(0,Hr.jsxs)(Sh,{value:"attendance",className:"flex items-center gap-2",children:[(0,Hr.jsx)(gy,{className:"w-4 h-4"})," Attendance"]})]}),(0,Hr.jsxs)(_h,{value:"schedule",className:"mt-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,Hr.jsx)(Dh,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),(0,Hr.jsx)(Lo,{placeholder:"Search classes...",value:c,onChange:e=>u(e.target.value),className:"pl-10"})]}),(0,Hr.jsxs)(Io,{onClick:()=>o(!0),className:"bg-red-600 hover:bg-red-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Schedule Class"]})]}),(0,Hr.jsxs)("div",{className:"space-y-3",children:[f.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.subject.toLowerCase().includes(c.toLowerCase())).map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-sm hover:shadow-md transition-all",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-red-100 to-rose-100 flex items-center justify-center",children:(0,Hr.jsx)(ql,{className:"w-6 h-6 text-red-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Hl,{className:"w-3 h-3"})," ",e.date]}),(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Il,{className:"w-3 h-3"})," ",e.time]}),(0,Hr.jsxs)("span",{children:[e.duration," min"]}),(0,Hr.jsx)("span",{children:e.class_name})]}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Teacher: ",e.teacher]})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[M(e.platform),e.meeting_link&&(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:()=>window.open(e.meeting_link,"_blank"),children:[(0,Hr.jsx)(Uj,{className:"w-3 h-3 mr-1"})," Link"]}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:()=>{return t=e.id,v(e=>e.filter(e=>e.id!==t)),void Qt.success("Scheduled class removed");var t},children:(0,Hr.jsx)(Hh,{className:"w-4 h-4 text-red-400"})})]})]})})},e.id)),0===f.length&&(0,Hr.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Hr.jsx)(Hl,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,Hr.jsx)("p",{children:'No classes scheduled. Click "Schedule Class" to get started.'})]})]})]}),(0,Hr.jsx)(_h,{value:"ongoing",className:"mt-6",children:b.length>0?(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(e=>{const t=(a=e.startedAt,Math.floor((Date.now()-new Date(a).getTime())/6e4));var a;const s=e.duration-t;return(0,Hr.jsx)(gb,{className:"border-0 shadow-md border-l-4 border-l-red-500",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,Hr.jsx)(Ry,{className:"bg-red-100 text-red-700",children:"LIVE"}),M(e.platform)]}),(0,Hr.jsxs)("span",{className:"text-sm text-gray-500",children:[t," min elapsed"]})]}),(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900 text-lg",children:e.title}),(0,Hr.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.class_name," \u2022 ",e.teacher]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-4 mt-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,Hr.jsx)(tl,{className:"w-4 h-4"})," ",e.attendees,"/",e.maxAttendees]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,Hr.jsx)(Il,{className:"w-4 h-4"})," ",s>0?"".concat(s," min left"):"Overtime"]})]}),(0,Hr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:(0,Hr.jsx)("div",{className:"bg-red-500 h-2 rounded-full transition-all",style:{width:"".concat(Math.min(t/e.duration*100,100),"%")}})}),(0,Hr.jsxs)(Io,{className:"w-full mt-4 bg-red-600 hover:bg-red-700",onClick:()=>(e=>{e.meeting_link&&window.open(e.meeting_link,"_blank"),Qt.success("Joining ".concat(e.title,"..."))})(e),children:[(0,Hr.jsx)(Cj,{className:"w-4 h-4 mr-2"})," Join Class"]})]})},e.id)})}):(0,Hr.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Hr.jsx)(qj,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,Hr.jsx)("p",{children:"No live classes right now. Check the schedule tab for upcoming classes."})]})}),(0,Hr.jsx)(_h,{value:"recordings",className:"mt-6",children:(0,Hr.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-sm hover:shadow-md transition-all",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:(0,Hr.jsx)(Pj,{className:"w-6 h-6 text-purple-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[(0,Hr.jsx)("span",{children:e.class_name}),(0,Hr.jsx)("span",{children:e.date}),(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Il,{className:"w-3 h-3"})," ",e.duration]}),(0,Hr.jsx)("span",{children:e.size})]}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Teacher: ",e.teacher," \u2022 ",e.views," views"]})]})]}),(0,Hr.jsx)("div",{className:"flex items-center gap-2",children:"processing"===e.status?(0,Hr.jsxs)(Ry,{className:"bg-amber-100 text-amber-700",children:[(0,Hr.jsx)(ul,{className:"w-3 h-3 mr-1 animate-spin"})," Processing"]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:()=>Qt.success("Playing recording..."),children:[(0,Hr.jsx)(Pj,{className:"w-3 h-3 mr-1"})," Play"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:()=>Qt.success("Download started..."),children:[(0,Hr.jsx)(ey,{className:"w-3 h-3 mr-1"})," Download"]}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:()=>(e=>{navigator.clipboard.writeText("Check out: ".concat(e.title," - Live Class Recording")),Qt.success("Recording link copied to clipboard!")})(e),children:(0,Hr.jsx)(oj,{className:"w-4 h-4 text-gray-500"})})]})})]})})},e.id))})}),(0,Hr.jsx)(_h,{value:"attendance",className:"mt-6",children:(0,Hr.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-sm hover:shadow-md transition-all cursor-pointer",onClick:()=>(e=>{_(e),E(!0)})(e),children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-100 to-emerald-100 flex items-center justify-center",children:(0,Hr.jsx)(gy,{className:"w-6 h-6 text-green-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900",children:e.session}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[(0,Hr.jsx)("span",{children:e.class_name}),(0,Hr.jsx)("span",{children:e.subject}),(0,Hr.jsx)("span",{children:e.date}),(0,Hr.jsxs)("span",{children:["Teacher: ",e.teacher]})]})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"text-right",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsxs)(Ry,{className:"bg-green-100 text-green-700",children:[(0,Hr.jsx)(Gb,{className:"w-3 h-3 mr-1"})," ",e.present," Present"]}),(0,Hr.jsxs)(Ry,{className:"bg-red-100 text-red-700",children:[(0,Hr.jsx)(Kb,{className:"w-3 h-3 mr-1"})," ",e.absent," Absent"]})]}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[Math.round(e.present/e.totalStudents*100),"% attendance"]})]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:t=>{t.stopPropagation(),T(e)},children:[(0,Hr.jsx)(Wj,{className:"w-3 h-3 mr-1"})," Report"]})]})]})})},e.id))})})]}),(0,Hr.jsx)(Gu,{open:i,onOpenChange:o,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(ql,{className:"w-5 h-5 text-red-600"})," Schedule Live Class"]})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Title"}),(0,Hr.jsx)(Lo,{value:p.title,onChange:e=>x(t=>d(d({},t),{},{title:e.target.value})),placeholder:"e.g. Mathematics - Quadratic Equations"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Subject"}),(0,Hr.jsx)(Lo,{value:p.subject,onChange:e=>x(t=>d(d({},t),{},{subject:e.target.value})),placeholder:"Mathematics"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Class"}),(0,Hr.jsx)(Lo,{value:p.class_name,onChange:e=>x(t=>d(d({},t),{},{class_name:e.target.value})),placeholder:"Class 10-A"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Teacher"}),m.length>0?(0,Hr.jsxs)("select",{value:p.teacher_id,onChange:e=>{const t=m.find(t=>(t.id||t._id)===e.target.value);x(a=>d(d({},a),{},{teacher_id:e.target.value,teacher:(null===t||void 0===t?void 0:t.name)||""}))},className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"-- Select Teacher --"}),m.map(e=>(0,Hr.jsxs)("option",{value:e.id||e._id,children:[e.name," ",e.subject?"(".concat(e.subject,")"):""]},e.id||e._id))]}):(0,Hr.jsx)(Lo,{value:p.teacher,onChange:e=>x(t=>d(d({},t),{},{teacher:e.target.value})),placeholder:"Teacher name"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Date"}),(0,Hr.jsx)(Lo,{type:"date",value:p.date,onChange:e=>x(t=>d(d({},t),{},{date:e.target.value}))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Time"}),(0,Hr.jsx)(Lo,{type:"time",value:p.time,onChange:e=>x(t=>d(d({},t),{},{time:e.target.value}))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Duration (min)"}),(0,Hr.jsx)(Lo,{type:"number",value:p.duration,onChange:e=>x(t=>d(d({},t),{},{duration:e.target.value}))})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Platform"}),(0,Hr.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["Zoom","Google Meet","Built-in"].map(e=>(0,Hr.jsx)("button",{type:"button",onClick:()=>x(t=>d(d({},t),{},{platform:e})),className:"p-3 rounded-xl border-2 text-center text-sm font-medium transition-all ".concat(p.platform===e?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-red-200"),children:e},e))})]}),"Built-in"!==p.platform&&(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Meeting Link"}),(0,Hr.jsx)(Lo,{value:p.meeting_link,onChange:e=>x(t=>d(d({},t),{},{meeting_link:e.target.value})),placeholder:"https://zoom.us/j/..."})]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(!p.title||!p.subject||!p.date||!p.time)return void Qt.error("Please fill all required fields");const e=m.find(e=>(e.id||e._id)===p.teacher_id),t=(null===e||void 0===e?void 0:e.name)||p.teacher||"",s=d(d({id:Date.now()},p),{},{teacher:t,duration:parseInt(p.duration),status:"upcoming"});try{var n;const e=localStorage.getItem("token"),t=await zr.post("".concat(Vj,"/live-classes"),d(d({},s),{},{school_id:a}),{headers:{Authorization:"Bearer ".concat(e)}});null!==(n=t.data)&&void 0!==n&&n.id&&(s.id=t.data.id)}catch(r){console.log("Saved locally")}v(e=>[s,...e]),Qt.success("Live class scheduled successfully!"),o(!1),x({title:"",subject:"",class_name:"",teacher:"",teacher_id:"",date:"",time:"",duration:"60",platform:"Zoom",meeting_link:""})},className:"w-full bg-red-600 hover:bg-red-700",children:[(0,Hr.jsx)(Hl,{className:"w-4 h-4 mr-2"})," Schedule Class"]})]})]})}),(0,Hr.jsx)(Gu,{open:C,onOpenChange:E,children:(0,Hr.jsxs)($u,{className:"max-w-2xl",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(gy,{className:"w-5 h-5 text-green-600"})," Attendance Detail \u2014 ",null===S||void 0===S?void 0:S.session]})}),S&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,Hr.jsx)("span",{children:S.class_name}),(0,Hr.jsx)("span",{children:S.subject}),(0,Hr.jsx)("span",{children:S.date})]}),(0,Hr.jsx)("div",{className:"border rounded-xl overflow-hidden",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{className:"bg-gray-50",children:(0,Hr.jsxs)("tr",{children:[(0,Hr.jsx)("th",{className:"text-left p-3 text-sm font-medium text-gray-600",children:"Roll No"}),(0,Hr.jsx)("th",{className:"text-left p-3 text-sm font-medium text-gray-600",children:"Name"}),(0,Hr.jsx)("th",{className:"text-left p-3 text-sm font-medium text-gray-600",children:"Status"}),(0,Hr.jsx)("th",{className:"text-left p-3 text-sm font-medium text-gray-600",children:"Join Time"}),(0,Hr.jsx)("th",{className:"text-left p-3 text-sm font-medium text-gray-600",children:"Leave Time"})]})}),(0,Hr.jsx)("tbody",{className:"divide-y",children:[{id:"s1",name:"Aarav Patel",rollNo:1,status:"present",joinTime:"10:02",leaveTime:"10:58"},{id:"s2",name:"Ananya Sharma",rollNo:2,status:"present",joinTime:"10:00",leaveTime:"10:58"},{id:"s3",name:"Arjun Singh",rollNo:3,status:"absent",joinTime:"-",leaveTime:"-"},{id:"s4",name:"Diya Gupta",rollNo:4,status:"present",joinTime:"10:05",leaveTime:"10:58"},{id:"s5",name:"Ishaan Kumar",rollNo:5,status:"present",joinTime:"10:01",leaveTime:"10:55"},{id:"s6",name:"Kavya Verma",rollNo:6,status:"absent",joinTime:"-",leaveTime:"-"},{id:"s7",name:"Mohit Joshi",rollNo:7,status:"present",joinTime:"10:00",leaveTime:"10:58"},{id:"s8",name:"Priya Mehta",rollNo:8,status:"present",joinTime:"10:03",leaveTime:"10:58"}].map(e=>(0,Hr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Hr.jsx)("td",{className:"p-3 text-sm",children:e.rollNo}),(0,Hr.jsx)("td",{className:"p-3 text-sm font-medium",children:e.name}),(0,Hr.jsx)("td",{className:"p-3",children:(0,Hr.jsxs)(Ry,{className:"present"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:["present"===e.status?(0,Hr.jsx)(Gb,{className:"w-3 h-3 mr-1"}):(0,Hr.jsx)(Kb,{className:"w-3 h-3 mr-1"}),e.status]})}),(0,Hr.jsx)("td",{className:"p-3 text-sm text-gray-500",children:e.joinTime}),(0,Hr.jsx)("td",{className:"p-3 text-sm text-gray-500",children:e.leaveTime})]},e.id))})]})}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>T(S),className:"w-full",children:[(0,Hr.jsx)(Wj,{className:"w-4 h-4 mr-2"})," Download Full Report"]})]})]})})]})}const Kj=el("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),Yj=el("list-checks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),Qj=el("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),$j="".concat("","/api");function Jj(){const{user:e}=Vr(),a=we(),[s,n]=(0,t.useState)("sms"),[r,l]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(0),[p,x]=(0,t.useState)(!0),[g,f]=(0,t.useState)([]),[v,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)([]),[N,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)([]),[_,C]=(0,t.useState)({recipient_type:"all_parents",class_id:"",mobile:"",message:"",template:""}),[E,P]=(0,t.useState)({recipient_type:"all_parents",class_id:"",mobile:"",message:"",template:""}),[A,T]=(0,t.useState)(!1),[M,D]=(0,t.useState)(null),[R,I]=(0,t.useState)([{id:1,templateId:"DLT-1234567890",senderId:"SCHLTN",content:"Dear {#var#}, your child {#var#} fee of Rs.{#var#} is due. Pay before {#var#}. - Schooltino",status:"approved",category:"Fee Reminder"},{id:2,templateId:"DLT-0987654321",senderId:"SCHLTN",content:"Dear {#var#}, your child {#var#} was absent on {#var#}. Contact school for details. - Schooltino",status:"approved",category:"Attendance"},{id:3,templateId:"DLT-1122334455",senderId:"SCHLTN",content:"Dear {#var#}, exam results for {#var#} are available. Check Schooltino app. - Schooltino",status:"pending",category:"Exam Results"}]),[O,L]=(0,t.useState)(!1),[F,B]=(0,t.useState)(null),[z,H]=(0,t.useState)({templateId:"",senderId:"SCHLTN",content:"",category:""}),[q]=(0,t.useState)([{id:"wa_fee",name:"Fee Reminder",message:"\ud83c\udfeb Dear Parent, your child's fee of Rs.{amount} is pending. Please pay before {date}. Thank you! - Schooltino"},{id:"wa_attendance",name:"Attendance Alert",message:"\ud83d\udccb Dear Parent, your ward {student_name} was marked {status} on {date}. - Schooltino"},{id:"wa_exam",name:"Exam Notice",message:"\ud83d\udcdd Dear Parent, exams for {student_name} will begin from {date}. Please ensure regular attendance. - Schooltino"},{id:"wa_holiday",name:"Holiday Notice",message:"\ud83c\udf89 Dear Parent, school will remain closed on {date} due to {reason}. - Schooltino"}]),[U,W]=(0,t.useState)([{id:1,title:"Parent Satisfaction Survey",titleHi:"\u0905\u092d\u093f\u092d\u093e\u0935\u0915 \u0938\u0902\u0924\u0941\u0937\u094d\u091f\u093f \u0938\u0930\u094d\u0935\u0947\u0915\u094d\u0937\u0923",questions:5,responses:127,target:"All Parents",status:"active",createdAt:"2026-02-01"},{id:2,title:"Teacher Observation Form",titleHi:"\u0936\u093f\u0915\u094d\u0937\u0915 \u0928\u093f\u0930\u0940\u0915\u094d\u0937\u0923 \u092b\u0949\u0930\u094d\u092e",questions:8,responses:34,target:"Teachers",status:"active",createdAt:"2026-01-20"},{id:3,title:"Student Feedback - Annual Day",titleHi:"\u091b\u093e\u0924\u094d\u0930 \u092b\u0940\u0921\u092c\u0948\u0915 - \u0935\u093e\u0930\u094d\u0937\u093f\u0915\u094b\u0924\u094d\u0938\u0935",questions:6,responses:245,target:"Students",status:"closed",createdAt:"2026-01-10"}]),[V,G]=(0,t.useState)(!1),[K,Y]=(0,t.useState)({title:"",target:"All Parents",questions:[{type:"mcq",text:"",options:["",""]}]}),[Q,$]=(0,t.useState)(null),J={totalSent:12450,channels:[{name:"SMS",sent:4200,delivered:4150,failed:50,rate:98.8,color:"bg-blue-500"},{name:"WhatsApp",sent:3800,delivered:3750,failed:50,rate:98.7,color:"bg-green-500"},{name:"Email",sent:3100,delivered:2890,failed:210,rate:93.2,color:"bg-purple-500"},{name:"Push",sent:1350,delivered:1280,failed:70,rate:94.8,color:"bg-orange-500"}],monthlyTrend:[{month:"Sep",count:1800},{month:"Oct",count:2100},{month:"Nov",count:1950},{month:"Dec",count:2400},{month:"Jan",count:2200},{month:"Feb",count:2e3}],engagement:{opened:78.5,clicked:32.1,responded:15.8}},X=(0,t.useCallback)(async()=>{x(!0);try{const a=null===e||void 0===e?void 0:e.school_id;if(a){var t;const e=await zr.get("".concat($j,"/message-credits/balance/").concat(a));h((null===(t=e.data)||void 0===t?void 0:t.available_credits)||0)}}catch(n){try{var a,s;const e=await zr.get("".concat($j,"/credits/balance"));h((null===(a=e.data)||void 0===a?void 0:a.available_credits)||(null===(s=e.data)||void 0===s?void 0:s.balance)||0)}catch(r){h(0)}}finally{x(!1)}},[e]),Z=(0,t.useCallback)(async()=>{b(!0);try{var e;const t=await zr.get("".concat($j,"/sms/history"));f((null===(e=t.data)||void 0===e?void 0:e.history)||t.data||[])}catch(t){f([])}finally{b(!1)}},[]),ee=(0,t.useCallback)(async()=>{w(!0);try{var e;const t=await zr.get("".concat($j,"/whatsapp/history"));j((null===(e=t.data)||void 0===e?void 0:e.history)||t.data||[])}catch(t){j([])}finally{w(!1)}},[]),te=(0,t.useCallback)(async()=>{try{var e;const t=await zr.get("".concat($j,"/sms/templates"));S((null===(e=t.data)||void 0===e?void 0:e.templates)||[])}catch(t){S([])}},[]);(0,t.useEffect)(()=>{(async()=>{try{const e=await zr.get("".concat($j,"/classes"));l(e.data||[])}catch(e){console.error("Failed to fetch classes")}})(),X(),te()},[X,te]);const ae=e=>"individual"===e.recipient_type?1:"class"===e.recipient_type?30:100,se=(e,t,a)=>{Y(s=>d(d({},s),{},{questions:s.questions.map((s,n)=>n===e?d(d({},s),{},{[t]:a}):s)}))},ne=e=>{let{form:t,setForm:a,colorClass:s="indigo"}=e;return(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Send To (\u0915\u093f\u0938\u0915\u094b \u092d\u0947\u091c\u0947\u0902)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{type:"all_parents",icon:tl,label:"All Parents",labelHi:"\u0938\u092d\u0940 \u0905\u092d\u093f\u092d\u093e\u0935\u0915"},{type:"class",icon:cl,label:"By Class",labelHi:"\u0915\u0915\u094d\u0937\u093e \u0905\u0928\u0941\u0938\u093e\u0930"},{type:"individual",icon:vy,label:"Individual",labelHi:"\u0935\u094d\u092f\u0915\u094d\u0924\u093f\u0917\u0924"}].map(e=>(0,Hr.jsxs)("button",{type:"button",onClick:()=>a(t=>d(d({},t),{},{recipient_type:e.type})),className:"p-4 rounded-xl border-2 text-center transition-all ".concat(t.recipient_type===e.type?"border-".concat(s,"-500 bg-").concat(s,"-50"):"border-slate-200 hover:border-slate-300"),children:[(0,Hr.jsx)(e.icon,{className:"w-6 h-6 mx-auto mb-2 text-".concat(s,"-600")}),(0,Hr.jsx)("p",{className:"font-medium text-sm",children:e.label}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:e.labelHi})]},e.type))})]}),"class"===t.recipient_type&&(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Select Class (\u0915\u0915\u094d\u0937\u093e \u091a\u0941\u0928\u0947\u0902)"}),(0,Hr.jsxs)("select",{value:t.class_id,onChange:e=>a(t=>d(d({},t),{},{class_id:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",required:!0,children:[(0,Hr.jsx)("option",{value:"",children:"-- Select Class --"}),r.map(e=>(0,Hr.jsxs)("option",{value:e.id,children:[e.name," - ",e.section]},e.id))]})]}),"individual"===t.recipient_type&&(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Mobile Number"}),(0,Hr.jsx)(Lo,{value:t.mobile,onChange:e=>a(t=>d(d({},t),{},{mobile:e.target.value})),placeholder:"9876543210",required:!0})]})]})},re=e=>{let{form:t,costPerMsg:s}=e;const n=ae(t),r=n*s,l=m>=r;return(0,Hr.jsx)("div",{className:"p-3 rounded-lg border ".concat(l?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Kj,{className:"w-4 h-4"}),(0,Hr.jsxs)("span",{children:["Est. Cost: ",(0,Hr.jsxs)("strong",{children:[r," credits"]})," (~",n," recipients \xd7 ",s," credit)"]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsxs)("span",{className:l?"text-green-700":"text-red-700",children:["Balance: ",(0,Hr.jsx)("strong",{children:m})]}),!l&&(0,Hr.jsx)(Io,{size:"sm",variant:"outline",className:"text-red-600 border-red-300 h-7 text-xs",onClick:()=>a("/app/credit-system"),children:"Buy Credits"})]})]})})};return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-6 text-white",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,Hr.jsx)(Fl,{className:"w-8 h-8"}),"Communication Hub"]}),(0,Hr.jsx)("p",{className:"text-indigo-100 mt-2",children:"SMS, WhatsApp, Surveys \u2014 All in One Place"})]}),(0,Hr.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,Hr.jsx)(nl,{className:"w-4 h-4"}),(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:p?"...":m})]}),(0,Hr.jsx)("p",{className:"text-xs text-indigo-100",children:"Credits Available"})]}),(0,Hr.jsxs)(Io,{onClick:()=>a("/app/credit-system"),className:"bg-white/20 hover:bg-white/30 text-white border-0",children:[(0,Hr.jsx)(Fh,{className:"w-4 h-4 mr-2"})," Buy Credits"]}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",className:"text-white hover:bg-white/10",onClick:X,children:(0,Hr.jsx)(qh,{className:"w-4 h-4 ".concat(p?"animate-spin":"")})})]})]})}),(0,Hr.jsxs)(wh,{value:s,onValueChange:n,className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-4 h-12",children:[(0,Hr.jsxs)(Sh,{value:"sms",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Fl,{className:"w-4 h-4"})," SMS"]}),(0,Hr.jsxs)(Sh,{value:"whatsapp",className:"flex items-center gap-2",children:[(0,Hr.jsx)(vy,{className:"w-4 h-4"})," WhatsApp"]}),(0,Hr.jsxs)(Sh,{value:"surveys",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Yj,{className:"w-4 h-4"})," Surveys"]}),(0,Hr.jsxs)(Sh,{value:"analytics",className:"flex items-center gap-2",children:[(0,Hr.jsx)(al,{className:"w-4 h-4"})," Analytics"]})]}),(0,Hr.jsx)(_h,{value:"sms",className:"mt-6",children:(0,Hr.jsxs)(wh,{defaultValue:"send",className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"mb-4",children:[(0,Hr.jsxs)(Sh,{value:"send",className:"flex items-center gap-1",children:[(0,Hr.jsx)(Bj,{className:"w-3 h-3"})," Send SMS"]}),(0,Hr.jsxs)(Sh,{value:"templates",className:"flex items-center gap-1",children:[(0,Hr.jsx)(Dl,{className:"w-3 h-3"})," DLT Templates"]}),(0,Hr.jsxs)(Sh,{value:"history",className:"flex items-center gap-1",onClick:Z,children:[(0,Hr.jsx)(Sy,{className:"w-3 h-3"})," History"]})]}),(0,Hr.jsx)(_h,{value:"send",children:(0,Hr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Hr.jsx)("div",{className:"lg:col-span-2",children:(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(Bj,{className:"w-5 h-5 text-blue-600"})," Compose SMS"]}),(0,Hr.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!_.message.trim())return void Qt.error("Message \u0932\u093f\u0916\u0928\u093e \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948");const t=ae(_);D({type:"sms",form:_,estRecipients:t,totalCost:1*t}),T(!0)},className:"space-y-4",children:[(0,Hr.jsx)(ne,{form:_,setForm:C,colorClass:"blue"}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Message (\u0938\u0902\u0926\u0947\u0936)"}),(0,Hr.jsx)(Oy,{value:_.message,onChange:e=>C(t=>d(d({},t),{},{message:e.target.value})),placeholder:"\u0905\u092a\u0928\u093e SMS message \u092f\u0939\u093e\u0901 \u0932\u093f\u0916\u0947\u0902...",rows:4,required:!0}),(0,Hr.jsxs)("div",{className:"flex justify-between text-xs text-slate-500",children:[(0,Hr.jsxs)("span",{children:[_.message.length," characters"]}),(0,Hr.jsx)("span",{children:_.message.length>160?"".concat(Math.ceil(_.message.length/160)," SMS parts"):"1 SMS"})]})]}),(0,Hr.jsx)(re,{form:_,costPerMsg:1}),(0,Hr.jsxs)(Io,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:c,children:[c?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Bj,{className:"w-4 h-4 mr-2"}),"Send SMS (",1," credit/msg)"]})]})]})})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"\ud83d\udccb Quick Templates"}),(0,Hr.jsx)("div",{className:"space-y-2",children:(k.length>0?k:[{id:"fee_reminder",name:"Fee Reminder",message:"Dear Parent, your child's fee of Rs.{amount} is pending. Please pay before {date}. - Schooltino"},{id:"holiday",name:"Holiday Notice",message:"Dear Parent, school will remain closed on {date} due to {reason}. - Schooltino"},{id:"ptm",name:"PTM Reminder",message:"Dear Parent, PTM is scheduled on {date} at {time}. Please attend. - Schooltino"},{id:"result",name:"Result Declaration",message:"Dear Parent, exam results are now available on Schooltino app. Check now!"}]).map(e=>(0,Hr.jsxs)("button",{onClick:()=>C(t=>d(d({},t),{},{message:e.message,template:e.id})),className:"w-full p-3 rounded-lg text-left border transition-all ".concat(_.template===e.id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300 hover:bg-blue-50"),children:[(0,Hr.jsx)("p",{className:"font-medium text-sm text-gray-900",children:e.name}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:e.message})]},e.id))})]})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-blue-50 to-indigo-50",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\ud83d\udca1 SMS Tips"}),(0,Hr.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1",children:[(0,Hr.jsx)("li",{children:"\u2022 SMS 160 chars \u0924\u0915 = 1 SMS cost"}),(0,Hr.jsx)("li",{children:"\u2022 DLT approved templates use \u0915\u0930\u0947\u0902"}),(0,Hr.jsx)("li",{children:"\u2022 Bulk SMS class-wise \u092d\u0947\u091c\u0947\u0902"}),(0,Hr.jsxs)("li",{children:["\u2022 Each SMS = ",1," credit"]})]})]})})]})]})}),(0,Hr.jsx)(_h,{value:"templates",children:(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"DLT Approved Templates"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"TRAI DLT registered SMS templates manage \u0915\u0930\u0947\u0902"})]}),(0,Hr.jsxs)(Io,{onClick:()=>{B(null),H({templateId:"",senderId:"SCHLTN",content:"",category:""}),L(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Add Template"]})]}),(0,Hr.jsx)("div",{className:"grid gap-4",children:R.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Hr.jsxs)(Ry,{className:"approved"===e.status?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700",children:["approved"===e.status?(0,Hr.jsx)(Gb,{className:"w-3 h-3 mr-1"}):(0,Hr.jsx)(Il,{className:"w-3 h-3 mr-1"}),"approved"===e.status?"Approved":"Pending"]}),(0,Hr.jsx)(Ry,{variant:"outline",children:e.category})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-800 mb-2",children:e.content}),(0,Hr.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,Hr.jsxs)("span",{children:["Template ID: ",e.templateId]}),(0,Hr.jsxs)("span",{children:["Sender: ",e.senderId]})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,Hr.jsx)(Io,{size:"sm",variant:"outline",onClick:()=>{B(e),H({templateId:e.templateId,senderId:e.senderId,content:e.content,category:e.category}),L(!0)},children:(0,Hr.jsx)(Lh,{className:"w-4 h-4"})}),(0,Hr.jsx)(Io,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>{return t=e.id,I(e=>e.filter(e=>e.id!==t)),void Qt.success("Template deleted");var t},children:(0,Hr.jsx)(Hh,{className:"w-4 h-4"})})]})]})})},e.id))}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-amber-50",children:(0,Hr.jsx)(yb,{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Hr.jsx)(By,{className:"w-5 h-5 text-amber-500 mt-0.5"}),(0,Hr.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,Hr.jsx)("p",{className:"font-medium",children:"DLT Registration Required"}),(0,Hr.jsx)("p",{children:"TRAI \u0915\u0947 \u0905\u0928\u0941\u0938\u093e\u0930, \u0938\u092d\u0940 SMS templates \u0915\u094b DLT portal \u092a\u0930 register \u0915\u0930\u0928\u093e \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948\u0964 \u092c\u093f\u0928\u093e approved template \u0915\u0947 SMS \u092d\u0947\u091c\u0928\u093e \u0938\u0902\u092d\u0935 \u0928\u0939\u0940\u0902 \u0939\u0948\u0964"})]})]})})})]})}),(0,Hr.jsx)(_h,{value:"history",children:(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,Hr.jsx)(Sy,{className:"w-5 h-5 text-blue-600"})," SMS History"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:Z,disabled:v,children:[(0,Hr.jsx)(qh,{className:"w-4 h-4 mr-1 ".concat(v?"animate-spin":"")})," Refresh"]})]}),v?(0,Hr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Hr.jsx)(ul,{className:"w-6 h-6 animate-spin text-blue-500"})}):g.length>0?(0,Hr.jsx)("div",{className:"space-y-3",children:g.map((e,t)=>(0,Hr.jsxs)("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Hr.jsxs)(Ry,{className:"sent"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:["sent"===e.status?(0,Hr.jsx)(Gb,{className:"w-3 h-3 mr-1"}):(0,Hr.jsx)(By,{className:"w-3 h-3 mr-1"}),e.status||"sent"]}),(0,Hr.jsx)("span",{className:"text-xs text-gray-500",children:e.sent_at?new Date(e.sent_at).toLocaleString("en-IN"):""})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-800 line-clamp-2",children:e.message}),(0,Hr.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,Hr.jsxs)("span",{children:["Recipients: ",e.recipients_count||0]}),(0,Hr.jsxs)("span",{children:["Credits: ",1*(e.recipients_count||1)]})]})]},e.id||t))}):(0,Hr.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,Hr.jsx)(Fl,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,Hr.jsx)("p",{children:"No SMS history found"}),(0,Hr.jsx)("p",{className:"text-xs mt-1",children:"Send your first SMS to see history here"})]})]})})})]})}),(0,Hr.jsx)(_h,{value:"whatsapp",className:"mt-6",children:(0,Hr.jsxs)(wh,{defaultValue:"send",className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"mb-4",children:[(0,Hr.jsxs)(Sh,{value:"send",className:"flex items-center gap-1",children:[(0,Hr.jsx)(Bj,{className:"w-3 h-3"})," Send WhatsApp"]}),(0,Hr.jsxs)(Sh,{value:"templates",className:"flex items-center gap-1",children:[(0,Hr.jsx)(Dl,{className:"w-3 h-3"})," Templates"]}),(0,Hr.jsxs)(Sh,{value:"history",className:"flex items-center gap-1",onClick:ee,children:[(0,Hr.jsx)(Sy,{className:"w-3 h-3"})," History"]})]}),(0,Hr.jsx)(_h,{value:"send",children:(0,Hr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Hr.jsx)("div",{className:"lg:col-span-2",children:(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(Bj,{className:"w-5 h-5 text-green-600"})," Compose WhatsApp Message"]}),(0,Hr.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!E.message.trim())return void Qt.error("Message \u0932\u093f\u0916\u0928\u093e \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948");const t=ae(E);D({type:"whatsapp",form:E,estRecipients:t,totalCost:1*t}),T(!0)},className:"space-y-4",children:[(0,Hr.jsx)(ne,{form:E,setForm:P,colorClass:"green"}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Message (\u0938\u0902\u0926\u0947\u0936)"}),(0,Hr.jsx)(Oy,{value:E.message,onChange:e=>P(t=>d(d({},t),{},{message:e.target.value})),placeholder:"\u0905\u092a\u0928\u093e WhatsApp message \u092f\u0939\u093e\u0901 \u0932\u093f\u0916\u0947\u0902...",rows:4,required:!0}),(0,Hr.jsxs)("p",{className:"text-xs text-slate-500",children:[E.message.length," characters"]})]}),(0,Hr.jsx)(re,{form:E,costPerMsg:1}),(0,Hr.jsxs)(Io,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:c,children:[c?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Bj,{className:"w-4 h-4 mr-2"}),"Send WhatsApp (",1," credit/msg)"]})]})]})})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"\ud83d\udccb WhatsApp Templates"}),(0,Hr.jsx)("div",{className:"space-y-2",children:q.map(e=>(0,Hr.jsxs)("button",{onClick:()=>P(t=>d(d({},t),{},{message:e.message,template:e.id})),className:"w-full p-3 rounded-lg text-left border transition-all ".concat(E.template===e.id?"border-green-500 bg-green-50":"border-slate-200 hover:border-green-300 hover:bg-green-50"),children:[(0,Hr.jsx)("p",{className:"font-medium text-sm text-gray-900",children:e.name}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:e.message})]},e.id))})]})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-green-50 to-emerald-50",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"\ud83d\udca1 WhatsApp Tips"}),(0,Hr.jsxs)("ul",{className:"text-xs text-green-700 space-y-1",children:[(0,Hr.jsx)("li",{children:"\u2022 Emojis \u0914\u0930 formatting use \u0915\u0930\u0947\u0902"}),(0,Hr.jsx)("li",{children:"\u2022 Images/documents \u092d\u0940 \u092d\u0947\u091c \u0938\u0915\u0924\u0947 \u0939\u0948\u0902"}),(0,Hr.jsx)("li",{children:"\u2022 Bulk broadcast class-wise \u0915\u0930\u0947\u0902"}),(0,Hr.jsxs)("li",{children:["\u2022 Each message = ",1," credit"]})]})]})})]})]})}),(0,Hr.jsx)(_h,{value:"templates",children:(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:q.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Hr.jsxs)(Ry,{className:"bg-green-100 text-green-700",children:[(0,Hr.jsx)(Gb,{className:"w-3 h-3 mr-1"})," Active"]}),(0,Hr.jsx)(Ry,{variant:"outline",children:e.name})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-800 mb-3",children:e.message}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"text-green-600",onClick:()=>{P(t=>d(d({},t),{},{message:e.message,template:e.id})),n("whatsapp")},children:[(0,Hr.jsx)(Bj,{className:"w-3 h-3 mr-1"})," Use Template"]})]})},e.id))})}),(0,Hr.jsx)(_h,{value:"history",children:(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,Hr.jsx)(Sy,{className:"w-5 h-5 text-green-600"})," WhatsApp History"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:ee,disabled:N,children:[(0,Hr.jsx)(qh,{className:"w-4 h-4 mr-1 ".concat(N?"animate-spin":"")})," Refresh"]})]}),N?(0,Hr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Hr.jsx)(ul,{className:"w-6 h-6 animate-spin text-green-500"})}):y.length>0?(0,Hr.jsx)("div",{className:"space-y-3",children:y.map((e,t)=>(0,Hr.jsxs)("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Hr.jsxs)(Ry,{className:"sent"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:["sent"===e.status?(0,Hr.jsx)(Gb,{className:"w-3 h-3 mr-1"}):(0,Hr.jsx)(By,{className:"w-3 h-3 mr-1"}),e.status||"sent"]}),(0,Hr.jsx)("span",{className:"text-xs text-gray-500",children:e.sent_at?new Date(e.sent_at).toLocaleString("en-IN"):""})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-800 line-clamp-2",children:e.message}),(0,Hr.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,Hr.jsxs)("span",{children:["Recipients: ",e.recipients_count||0]}),(0,Hr.jsxs)("span",{children:["Credits: ",1*(e.recipients_count||1)]})]})]},e.id||t))}):(0,Hr.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,Hr.jsx)(vy,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),(0,Hr.jsx)("p",{children:"No WhatsApp history found"}),(0,Hr.jsx)("p",{className:"text-xs mt-1",children:"Send your first WhatsApp message to see history here"})]})]})})})]})}),(0,Hr.jsx)(_h,{value:"surveys",className:"mt-6",children:(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Surveys & Forms"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"Surveys \u092c\u0928\u093e\u090f\u0902 \u0914\u0930 responses \u0926\u0947\u0916\u0947\u0902"})]}),(0,Hr.jsxs)(Io,{onClick:()=>G(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Create Survey"]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Hr.jsx)(Ry,{className:"active"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500",children:"active"===e.status?"Active":"Closed"}),(0,Hr.jsx)("span",{className:"text-xs text-gray-400",children:e.createdAt})]}),(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:e.title}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:e.titleHi}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Hr.jsxs)("span",{className:"text-gray-500",children:[e.questions," Questions"]}),(0,Hr.jsxs)("span",{className:"text-gray-500",children:["Target: ",e.target]})]}),(0,Hr.jsxs)("div",{className:"mt-4 pt-3 border-t flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(tl,{className:"w-4 h-4 text-indigo-500"}),(0,Hr.jsxs)("span",{className:"text-sm font-medium text-indigo-600",children:[e.responses," Responses"]})]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:()=>$(e),children:[(0,Hr.jsx)(xl,{className:"w-4 h-4 mr-1"})," View"]})]})]})},e.id))})]})}),(0,Hr.jsx)(_h,{value:"analytics",className:"mt-6",children:(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:J.channels.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,Hr.jsxs)(Ry,{className:"bg-green-100 text-green-700",children:[e.rate,"%"]})]}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.sent.toLocaleString()}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"Messages Sent"}),(0,Hr.jsx)("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:(0,Hr.jsx)("div",{className:"".concat(e.color," h-2 rounded-full"),style:{width:"".concat(e.rate,"%")}})}),(0,Hr.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[(0,Hr.jsxs)("span",{children:["Delivered: ",e.delivered.toLocaleString()]}),(0,Hr.jsxs)("span",{children:["Failed: ",e.failed]})]})]})},e.name))}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(uj,{className:"w-5 h-5 text-indigo-600"})," Monthly Trend"]}),(0,Hr.jsx)("div",{className:"flex items-end gap-2 h-48",children:J.monthlyTrend.map(e=>{const t=Math.max(...J.monthlyTrend.map(e=>e.count)),a=e.count/t*100;return(0,Hr.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,Hr.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:e.count}),(0,Hr.jsx)("div",{className:"w-full bg-gradient-to-t from-indigo-500 to-purple-500 rounded-t-lg transition-all",style:{height:"".concat(a,"%")}}),(0,Hr.jsx)("span",{className:"text-xs text-gray-500",children:e.month})]},e.month)})})]})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(Qj,{className:"w-5 h-5 text-indigo-600"})," Engagement Metrics"]}),(0,Hr.jsx)("div",{className:"space-y-6",children:[{label:"Opened / Read",labelHi:"\u092a\u0922\u093c\u093e \u0917\u092f\u093e",value:J.engagement.opened,color:"bg-green-500"},{label:"Clicked / Interacted",labelHi:"\u0915\u094d\u0932\u093f\u0915 \u0915\u093f\u092f\u093e",value:J.engagement.clicked,color:"bg-blue-500"},{label:"Responded",labelHi:"\u091c\u0935\u093e\u092c \u0926\u093f\u092f\u093e",value:J.engagement.responded,color:"bg-purple-500"}].map(e=>(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.label}),(0,Hr.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:e.labelHi})]}),(0,Hr.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:[e.value,"%"]})]}),(0,Hr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,Hr.jsx)("div",{className:"".concat(e.color," h-3 rounded-full transition-all"),style:{width:"".concat(e.value,"%")}})})]},e.label))}),(0,Hr.jsxs)("div",{className:"mt-6 p-4 bg-indigo-50 rounded-xl",children:[(0,Hr.jsx)("h5",{className:"font-medium text-indigo-800 mb-2",children:"\ud83d\udcca Summary"}),(0,Hr.jsxs)("p",{className:"text-sm text-indigo-700",children:["Total ",J.totalSent.toLocaleString()," messages \u092d\u0947\u091c\u0947 \u0917\u090f\u0964 Average delivery rate 96.4% \u0939\u0948\u0964 \u0938\u092c\u0938\u0947 \u091c\u093c\u094d\u092f\u093e\u0926\u093e engagement WhatsApp \u092a\u0930 \u0939\u0948\u0964"]})]})]})})]}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(al,{className:"w-5 h-5 text-indigo-600"})," Channel-wise Breakdown"]}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full text-sm",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-b",children:[(0,Hr.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Channel"}),(0,Hr.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-500",children:"Sent"}),(0,Hr.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-500",children:"Delivered"}),(0,Hr.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-500",children:"Failed"}),(0,Hr.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-500",children:"Delivery Rate"})]})}),(0,Hr.jsx)("tbody",{children:J.channels.map(e=>(0,Hr.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,Hr.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),e.name]})}),(0,Hr.jsx)("td",{className:"text-right py-3 px-4 text-gray-700",children:e.sent.toLocaleString()}),(0,Hr.jsx)("td",{className:"text-right py-3 px-4 text-green-600",children:e.delivered.toLocaleString()}),(0,Hr.jsx)("td",{className:"text-right py-3 px-4 text-red-500",children:e.failed}),(0,Hr.jsx)("td",{className:"text-right py-3 px-4",children:(0,Hr.jsxs)(Ry,{className:"bg-green-100 text-green-700",children:[e.rate,"%"]})})]},e.name))}),(0,Hr.jsx)("tfoot",{children:(0,Hr.jsxs)("tr",{className:"bg-gray-50 font-semibold",children:[(0,Hr.jsx)("td",{className:"py-3 px-4 text-gray-900",children:"Total"}),(0,Hr.jsx)("td",{className:"text-right py-3 px-4 text-gray-900",children:J.channels.reduce((e,t)=>e+t.sent,0).toLocaleString()}),(0,Hr.jsx)("td",{className:"text-right py-3 px-4 text-green-600",children:J.channels.reduce((e,t)=>e+t.delivered,0).toLocaleString()}),(0,Hr.jsx)("td",{className:"text-right py-3 px-4 text-red-500",children:J.channels.reduce((e,t)=>e+t.failed,0)}),(0,Hr.jsx)("td",{className:"text-right py-3 px-4",children:(0,Hr.jsx)(Ry,{className:"bg-green-100 text-green-700",children:"96.4%"})})]})})]})})]})})]})})]}),(0,Hr.jsx)(Gu,{open:A,onOpenChange:T,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Bj,{className:"w-5 h-5 text-indigo-600"}),"Confirm Send"]})}),M&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl space-y-2",children:[(0,Hr.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Channel:"}),(0,Hr.jsx)("span",{className:"font-medium",children:"sms"===M.type?"SMS":"WhatsApp"})]}),(0,Hr.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Est. Recipients:"}),(0,Hr.jsxs)("span",{className:"font-medium",children:["~",M.estRecipients]})]}),(0,Hr.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Credit Cost:"}),(0,Hr.jsxs)("span",{className:"font-bold text-indigo-600",children:[M.totalCost," credits"]})]}),(0,Hr.jsxs)("div",{className:"flex justify-between text-sm border-t pt-2",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Your Balance:"}),(0,Hr.jsxs)("span",{className:"font-bold ".concat(m>=M.totalCost?"text-green-600":"text-red-600"),children:[m," credits"]})]}),m<M.totalCost&&(0,Hr.jsxs)("div",{className:"p-2 bg-red-50 rounded-lg text-xs text-red-700 flex items-center gap-2",children:[(0,Hr.jsx)(By,{className:"w-4 h-4"}),"Insufficient credits! Please buy more."]})]}),(0,Hr.jsx)("div",{className:"p-3 bg-indigo-50 rounded-lg",children:(0,Hr.jsx)("p",{className:"text-xs text-indigo-700 line-clamp-3",children:M.form.message})}),(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",className:"flex-1",onClick:()=>T(!1),children:"Cancel"}),m>=M.totalCost?(0,Hr.jsxs)(Io,{className:"flex-1 bg-indigo-600 hover:bg-indigo-700",onClick:async()=>{if(!M)return;const{type:e,form:t,totalCost:a}=M;if(m<a)return Qt.error("Insufficient credits! Need ".concat(a," credits, you have ").concat(m,". Please buy more credits.")),void T(!1);u(!0),T(!1);try{var s;const a="".concat($j,"sms"===e?"/sms/send":"/whatsapp/send"),n=(null===(s=(await zr.post(a,{recipient_type:t.recipient_type,class_id:t.class_id,mobile:t.mobile,message:t.message,template:t.template})).data)||void 0===s?void 0:s.recipients_count)||1;Qt.success("".concat("sms"===e?"SMS":"WhatsApp"," sent to ").concat(n," recipients! (").concat(1*n," credits used)")),"sms"===e?C(e=>d(d({},e),{},{message:"",template:""})):P(e=>d(d({},e),{},{message:"",template:""})),X()}catch(n){const t=M.estRecipients;Qt.success("Demo: ".concat("sms"===e?"SMS":"WhatsApp"," sent to ~").concat(t," recipients! (").concat(a," credits used)")),"sms"===e?C(e=>d(d({},e),{},{message:"",template:""})):P(e=>d(d({},e),{},{message:"",template:""}))}finally{u(!1),D(null)}},disabled:c,children:[c?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Bj,{className:"w-4 h-4 mr-2"}),"Confirm & Send"]}):(0,Hr.jsxs)(Io,{className:"flex-1 bg-orange-600 hover:bg-orange-700",onClick:()=>{T(!1),a("/app/credit-system")},children:[(0,Hr.jsx)(Fh,{className:"w-4 h-4 mr-2"})," Buy Credits"]})]})]})]})}),(0,Hr.jsx)(Gu,{open:O,onOpenChange:L,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:F?"Edit DLT Template":"Add New DLT Template"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"DLT Template ID"}),(0,Hr.jsx)(Lo,{value:z.templateId,onChange:e=>H(t=>d(d({},t),{},{templateId:e.target.value})),placeholder:"DLT-XXXXXXXXXX"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Sender ID (6 chars)"}),(0,Hr.jsx)(Lo,{value:z.senderId,onChange:e=>H(t=>d(d({},t),{},{senderId:e.target.value.toUpperCase().slice(0,6)})),placeholder:"SCHLTN",maxLength:6})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Category"}),(0,Hr.jsxs)("select",{value:z.category,onChange:e=>H(t=>d(d({},t),{},{category:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select Category"}),(0,Hr.jsx)("option",{value:"Fee Reminder",children:"Fee Reminder"}),(0,Hr.jsx)("option",{value:"Attendance",children:"Attendance"}),(0,Hr.jsx)("option",{value:"Exam Results",children:"Exam Results"}),(0,Hr.jsx)("option",{value:"General Notice",children:"General Notice"}),(0,Hr.jsx)("option",{value:"Transport",children:"Transport"}),(0,Hr.jsx)("option",{value:"Admission",children:"Admission"})]})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Template Content"}),(0,Hr.jsx)(Oy,{value:z.content,onChange:e=>H(t=>d(d({},t),{},{content:e.target.value})),placeholder:"Dear {#var#}, your child {#var#}...",rows:4}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-500",children:["Use ","{#var#}"," for variable placeholders as per DLT format"]})]}),(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",className:"flex-1",onClick:()=>L(!1),children:"Cancel"}),(0,Hr.jsx)(Io,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:()=>{z.templateId&&z.content?(F?(I(e=>e.map(e=>e.id===F.id?d(d(d({},e),z),{},{status:"pending"}):e)),Qt.success("Template updated successfully")):(I(e=>[...e,d(d({id:Date.now()},z),{},{status:"pending"})]),Qt.success("Template added - DLT approval pending")),L(!1),B(null),H({templateId:"",senderId:"SCHLTN",content:"",category:""})):Qt.error("Template ID \u0914\u0930 Content \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948")},children:F?"Update Template":"Add Template"})]})]})]})}),(0,Hr.jsx)(Gu,{open:V,onOpenChange:G,children:(0,Hr.jsxs)($u,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Create New Survey"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Survey Title"}),(0,Hr.jsx)(Lo,{value:K.title,onChange:e=>Y(t=>d(d({},t),{},{title:e.target.value})),placeholder:"Enter survey title..."})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Target Audience"}),(0,Hr.jsxs)("select",{value:K.target,onChange:e=>Y(t=>d(d({},t),{},{target:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"All Parents",children:"All Parents"}),(0,Hr.jsx)("option",{value:"Teachers",children:"Teachers"}),(0,Hr.jsx)("option",{value:"Students",children:"Students"}),(0,Hr.jsx)("option",{value:"Staff",children:"Staff"})]})]})]}),(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)(Wo,{children:"Questions"}),(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:()=>{Y(e=>d(d({},e),{},{questions:[...e.questions,{type:"mcq",text:"",options:["",""]}]}))},children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-1"})," Add Question"]})]}),K.questions.map((e,t)=>(0,Hr.jsx)(gb,{className:"border shadow-sm",children:(0,Hr.jsxs)(yb,{className:"p-4 space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["Question ",t+1]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsxs)("select",{value:e.type,onChange:e=>se(t,"type",e.target.value),className:"h-8 rounded border border-gray-200 px-2 text-sm",children:[(0,Hr.jsx)("option",{value:"mcq",children:"MCQ"}),(0,Hr.jsx)("option",{value:"rating",children:"Rating (1-5)"}),(0,Hr.jsx)("option",{value:"text",children:"Text Answer"})]}),K.questions.length>1&&(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",className:"text-red-500 h-8 w-8 p-0",onClick:()=>{return e=t,void Y(t=>d(d({},t),{},{questions:t.questions.filter((t,a)=>a!==e)}));var e},children:(0,Hr.jsx)(Hh,{className:"w-4 h-4"})})]})]}),(0,Hr.jsx)(Lo,{value:e.text,onChange:e=>se(t,"text",e.target.value),placeholder:"Enter your question..."}),"mcq"===e.type&&(0,Hr.jsxs)("div",{className:"space-y-2",children:[e.options.map((e,a)=>(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsxs)("span",{className:"text-xs text-gray-400 w-6",children:[String.fromCharCode(65+a),"."]}),(0,Hr.jsx)(Lo,{value:e,onChange:e=>((e,t,a)=>{Y(s=>d(d({},s),{},{questions:s.questions.map((s,n)=>n===e?d(d({},s),{},{options:s.options.map((e,s)=>s===t?a:e)}):s)}))})(t,a,e.target.value),placeholder:"Option ".concat(a+1),className:"flex-1"})]},a)),(0,Hr.jsxs)(Io,{size:"sm",variant:"ghost",className:"text-indigo-600",onClick:()=>(e=>{Y(t=>d(d({},t),{},{questions:t.questions.map((t,a)=>a===e?d(d({},t),{},{options:[...t.options,""]}):t)}))})(t),children:[(0,Hr.jsx)(oy,{className:"w-3 h-3 mr-1"})," Add Option"]})]}),"rating"===e.type&&(0,Hr.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(e=>(0,Hr.jsx)(cj,{className:"w-6 h-6 text-amber-400",fill:"#fbbf24"},e)),(0,Hr.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"1-5 Star Rating"})]})]})},t))]}),(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsx)(Io,{variant:"outline",className:"flex-1",onClick:()=>G(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{className:"flex-1 bg-indigo-600 hover:bg-indigo-700",onClick:()=>{if(!K.title.trim())return void Qt.error("Survey title \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948");const e=K.questions.filter(e=>e.text.trim());0!==e.length?(W(t=>[...t,{id:Date.now(),title:K.title,titleHi:K.title,questions:e.length,responses:0,target:K.target,status:"active",createdAt:(new Date).toISOString().split("T")[0]}]),Qt.success("Survey created successfully!"),G(!1),Y({title:"",target:"All Parents",questions:[{type:"mcq",text:"",options:["",""]}]})):Qt.error("\u0915\u092e \u0938\u0947 \u0915\u092e \u090f\u0915 question add \u0915\u0930\u0947\u0902")},children:[(0,Hr.jsx)(Yj,{className:"w-4 h-4 mr-2"})," Create Survey"]})]})]})]})}),(0,Hr.jsx)(Gu,{open:!!Q,onOpenChange:()=>$(null),children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:null===Q||void 0===Q?void 0:Q.title})}),Q&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Hr.jsxs)("div",{className:"p-3 bg-indigo-50 rounded-xl text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:Q.questions}),(0,Hr.jsx)("p",{className:"text-xs text-indigo-500",children:"Questions"})]}),(0,Hr.jsxs)("div",{className:"p-3 bg-green-50 rounded-xl text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:Q.responses}),(0,Hr.jsx)("p",{className:"text-xs text-green-500",children:"Responses"})]}),(0,Hr.jsxs)("div",{className:"p-3 bg-purple-50 rounded-xl text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:Q.target}),(0,Hr.jsx)("p",{className:"text-xs text-purple-500",children:"Target"})]})]}),(0,Hr.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl",children:[(0,Hr.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Response Summary"}),(0,Hr.jsxs)("p",{className:"text-sm text-gray-600",children:[Q.responses," responses collected from ",Q.target,". Survey ","active"===Q.status?"is currently active":"has been closed","."]})]}),(0,Hr.jsx)(Io,{variant:"outline",className:"w-full",onClick:()=>$(null),children:"Close"})]})]})})]})}const Xj=el("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),Zj=el("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),eN={meeting:"Meeting",delivery:"Delivery",parent_visit:"Parent Visit",vendor:"Vendor",interview:"Interview",other:"Other"},tN={meeting:"bg-blue-500/10 text-blue-600",delivery:"bg-orange-500/10 text-orange-600",parent_visit:"bg-green-500/10 text-green-600",vendor:"bg-purple-500/10 text-purple-600",interview:"bg-indigo-500/10 text-indigo-600",other:"bg-slate-500/10 text-slate-600"};function aN(){const{user:e}=Vr(),[a,s]=(0,t.useState)([]),[n,r]=(0,t.useState)(!0),[l,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)(null),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)({total:0,in:0,out:0}),x=(null===e||void 0===e?void 0:e.school_id)||"school123",[g,f]=(0,t.useState)({name:"",phone:"",purpose:"parent_visit",whom_to_meet:"",id_proof_type:"",id_proof_number:"",vehicle_number:"",num_visitors:1,expected_duration:30,notes:""}),[v,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(""),[N,w]=(0,t.useState)(""),k=(0,t.useCallback)(async()=>{try{r(!0);const e=await fetch("".concat("","/api/front-office/visitors/today?school_id=").concat(x)),t=await e.json();s(t.visitors||[]),p({total:t.total_visitors||0,in:t.currently_in||0,out:t.checked_out||0})}catch(e){console.error("Error:",e)}finally{r(!1)}},[x]);(0,t.useEffect)(()=>{k()},[k]);const S=e=>e?new Date(e).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"-",_=a.filter(e=>{var t,a,s;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(a=e.phone)||void 0===a?void 0:a.includes(u))||(null===(s=e.whom_to_meet)||void 0===s?void 0:s.toLowerCase().includes(u.toLowerCase()))});return(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"front-office-page",children:[(0,Hr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,Hr.jsx)(Wl,{className:"w-8 h-8 text-blue-500"}),"Visit Management"]}),(0,Hr.jsx)("p",{className:"text-muted-foreground mt-1",children:"Know who's in \u2014 real-time visitor tracking with OTP approval"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsxs)(Io,{variant:"outline",onClick:k,children:[(0,Hr.jsx)(qh,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,Hr.jsxs)(Io,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[(0,Hr.jsx)(Tl,{className:"w-4 h-4 mr-2"}),"New Visitor"]})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Hr.jsx)(gb,{className:"bg-gradient-to-br from-blue-500/10 to-indigo-500/10 border-blue-500/20",children:(0,Hr.jsx)(yb,{className:"pt-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Today"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold",children:h.total})]}),(0,Hr.jsx)(tl,{className:"w-10 h-10 text-blue-500"})]})})}),(0,Hr.jsx)(gb,{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/20",children:(0,Hr.jsx)(yb,{className:"pt-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-muted-foreground",children:"Currently In"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-green-600",children:h.in})]}),(0,Hr.jsx)(yl,{className:"w-10 h-10 text-green-500"})]})})}),(0,Hr.jsx)(gb,{className:"bg-gradient-to-br from-slate-500/10 to-gray-500/10 border-slate-500/20",children:(0,Hr.jsx)(yb,{className:"pt-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-muted-foreground",children:"Checked Out"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-slate-600",children:h.out})]}),(0,Hr.jsx)(zh,{className:"w-10 h-10 text-slate-500"})]})})})]}),(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,Hr.jsx)(Lo,{placeholder:"Search by name, phone or whom to meet...",value:u,onChange:e=>m(e.target.value),className:"pl-10","data-testid":"search-visitors-input"})]}),(0,Hr.jsx)("div",{className:"space-y-3",children:n?(0,Hr.jsx)("div",{className:"flex justify-center py-12",children:(0,Hr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===_.length?(0,Hr.jsx)(gb,{children:(0,Hr.jsxs)(yb,{className:"py-12 text-center",children:[(0,Hr.jsx)(tl,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,Hr.jsx)("h3",{className:"text-lg font-medium",children:"Aaj koi visitor nahi aaya"}),(0,Hr.jsx)("p",{className:"text-muted-foreground mt-1",children:"New visitor add karne ke liye button click karein"})]})}):_.map(e=>(0,Hr.jsx)(gb,{className:"transition-all hover:shadow-md ".concat("checked_out"===e.status?"opacity-60":""),children:(0,Hr.jsx)(yb,{className:"py-4",children:(0,Hr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,Hr.jsx)("div",{className:"flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-bold text-lg",children:e.badge_number}),(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,Hr.jsx)(Ry,{className:tN[e.purpose],children:eN[e.purpose]}),(0,Hr.jsx)(Ry,{variant:"checked_in"===e.status?"default":"secondary",children:"checked_in"===e.status?"Inside":"Left"})]}),(0,Hr.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-muted-foreground",children:[(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(vy,{className:"w-3 h-3"})," ",e.phone]}),(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(tl,{className:"w-3 h-3"})," Meeting: ",e.whom_to_meet]}),e.vehicle_number&&(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Xj,{className:"w-3 h-3"})," ",e.vehicle_number]}),(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Il,{className:"w-3 h-3"})," In: ",S(e.checkin_time),e.checkout_time&&" | Out: ".concat(S(e.checkout_time))]})]})]}),"checked_in"===e.status&&(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>(async e=>{try{const t=await fetch("".concat("","/api/front-office/visitors/").concat(e,"/checkout?school_id=").concat(x),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),a=await t.json();a.success&&(Qt.success("Visitor checked out! Duration: ".concat(a.duration)),k())}catch(t){Qt.error("Check-out failed")}})(e.visitor_id),className:"text-red-600 border-red-200 hover:bg-red-50","data-testid":"checkout-btn-".concat(e.visitor_id),children:[(0,Hr.jsx)(zh,{className:"w-4 h-4 mr-1"}),"Check Out"]})]})})},e.visitor_id))}),(0,Hr.jsx)(Gu,{open:l,onOpenChange:i,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"New Visitor Check-in"})}),(0,Hr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g.name&&g.phone&&g.whom_to_meet)try{const e=await fetch("".concat("","/api/front-office/visitors/checkin?school_id=").concat(x),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),a=await e.json();var t;if(a.success)Qt.success("Visitor checked in! Badge: ".concat(null===(t=a.gate_pass)||void 0===t?void 0:t.badge_number)),i(!1),f({name:"",phone:"",purpose:"parent_visit",whom_to_meet:"",id_proof_type:"",id_proof_number:"",vehicle_number:"",num_visitors:1,expected_duration:30,notes:""}),k()}catch(a){Qt.error("Check-in failed")}else Qt.error("Name, Phone aur Whom to Meet required hai")},className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Name *"}),(0,Hr.jsx)(Lo,{value:g.name,onChange:e=>f(d(d({},g),{},{name:e.target.value})),placeholder:"Visitor name","data-testid":"visitor-name-input"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Phone *"}),(0,Hr.jsx)(Lo,{value:g.phone,onChange:e=>f(d(d({},g),{},{phone:e.target.value})),placeholder:"Phone number"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Purpose *"}),(0,Hr.jsxs)("select",{value:g.purpose,onChange:e=>f(d(d({},g),{},{purpose:e.target.value})),className:"w-full h-10 px-3 border rounded-md",children:[(0,Hr.jsx)("option",{value:"parent_visit",children:"Parent Visit"}),(0,Hr.jsx)("option",{value:"meeting",children:"Meeting"}),(0,Hr.jsx)("option",{value:"delivery",children:"Delivery"}),(0,Hr.jsx)("option",{value:"vendor",children:"Vendor"}),(0,Hr.jsx)("option",{value:"interview",children:"Interview"}),(0,Hr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Whom to Meet *"}),(0,Hr.jsx)(Lo,{value:g.whom_to_meet,onChange:e=>f(d(d({},g),{},{whom_to_meet:e.target.value})),placeholder:"Staff name"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"ID Proof Type"}),(0,Hr.jsxs)("select",{value:g.id_proof_type,onChange:e=>f(d(d({},g),{},{id_proof_type:e.target.value})),className:"w-full h-10 px-3 border rounded-md",children:[(0,Hr.jsx)("option",{value:"",children:"Select"}),(0,Hr.jsx)("option",{value:"aadhar",children:"Aadhar Card"}),(0,Hr.jsx)("option",{value:"pan",children:"PAN Card"}),(0,Hr.jsx)("option",{value:"driving_license",children:"Driving License"}),(0,Hr.jsx)("option",{value:"voter_id",children:"Voter ID"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"ID Number"}),(0,Hr.jsx)(Lo,{value:g.id_proof_number,onChange:e=>f(d(d({},g),{},{id_proof_number:e.target.value})),placeholder:"ID number"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Vehicle Number"}),(0,Hr.jsx)(Lo,{value:g.vehicle_number,onChange:e=>f(d(d({},g),{},{vehicle_number:e.target.value})),placeholder:"UP32 AB 1234"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Expected Duration (min)"}),(0,Hr.jsx)(Lo,{type:"number",value:g.expected_duration,onChange:e=>f(d(d({},g),{},{expected_duration:parseInt(e.target.value)}))})]})]}),(0,Hr.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mt-4 border border-blue-200",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-sm text-blue-900 flex items-center gap-2 mb-3",children:[(0,Hr.jsx)(Bl,{className:"w-4 h-4"})," OTP Verification"]}),v?(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)("p",{className:"text-xs text-green-700",children:"OTP sent! Enter the code to verify visitor"}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsx)(Lo,{value:y,onChange:e=>j(e.target.value),placeholder:"Enter 4-digit OTP",className:"w-40",maxLength:4}),(0,Hr.jsx)(Ry,{className:y===N&&4===y.length?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500",children:y===N&&4===y.length?"\u2713 Verified":"Pending"})]})]}):(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-xs text-blue-700 mb-2",children:"Send OTP to the person being visited for approval"}),(0,Hr.jsx)(Io,{type:"button",size:"sm",variant:"outline",onClick:()=>{const e=Math.floor(1e3+9e3*Math.random()).toString();w(e),b(!0),Qt.success("OTP ".concat(e," sent to ").concat(g.whom_to_meet))},className:"text-blue-700 border-blue-300",children:"Send OTP"})]})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,Hr.jsx)(Io,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),(0,Hr.jsxs)(Io,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[(0,Hr.jsx)(Zj,{className:"w-4 h-4 mr-2"}),"Check In & Print Pass"]})]})]})]})})]})}const sN=el("route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),nN=el("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),rN=el("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),lN=el("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),iN="";function oN(){const{user:e}=Vr(),[a,s]=(0,t.useState)([]),[n,r]=(0,t.useState)([]),[l,i]=(0,t.useState)(null),[o,c]=(0,t.useState)(!0),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[x,g]=(0,t.useState)([]),[f,v]=(0,t.useState)(null),b=(null===e||void 0===e?void 0:e.school_id)||"school123",[y,j]=(0,t.useState)({vehicle_number:"",vehicle_type:"bus",capacity:40,driver_name:"",driver_phone:"",conductor_name:"",conductor_phone:""}),[N,w]=(0,t.useState)({route_name:"",route_number:"",morning_start_time:"07:00",evening_start_time:"14:00",monthly_fee:1500,stops:[]}),k=(0,t.useCallback)(async()=>{try{c(!0);const[e,t,a]=await Promise.all([fetch("".concat(iN,"/api/transport/vehicles?school_id=").concat(b)),fetch("".concat(iN,"/api/transport/routes?school_id=").concat(b)),fetch("".concat(iN,"/api/transport/analytics?school_id=").concat(b))]),n=await e.json(),l=await t.json(),o=await a.json();s(n.vehicles||[]),r(l.routes||[]),i(o)}catch(e){console.error("Error:",e)}finally{c(!1)}},[b]),S=(0,t.useCallback)(async()=>{try{const e=await fetch("".concat(iN,"/api/transport/track-all?school_id=").concat(b)),t=await e.json();g(t.vehicles||[])}catch(e){console.error("Tracking error:",e)}},[b]);(0,t.useEffect)(()=>{k(),S();const e=setInterval(S,1e4);return v(e),()=>{e&&clearInterval(e)}},[k,S]);return(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"transport-page",children:[(0,Hr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,Hr.jsx)(zl,{className:"w-8 h-8 text-amber-500"}),"Transport Management"]}),(0,Hr.jsx)("p",{className:"text-muted-foreground mt-1",children:"Vehicle Tracking, Routes & Student Transport"})]}),(0,Hr.jsx)("div",{className:"flex items-center gap-2",children:(0,Hr.jsxs)(Io,{variant:"outline",onClick:k,children:[(0,Hr.jsx)(qh,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]}),l&&(0,Hr.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,Hr.jsx)(gb,{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/20",children:(0,Hr.jsx)(yb,{className:"pt-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-muted-foreground",children:"Vehicles"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold",children:l.total_vehicles})]}),(0,Hr.jsx)(zl,{className:"w-10 h-10 text-amber-500"})]})})}),(0,Hr.jsx)(gb,{className:"bg-gradient-to-br from-blue-500/10 to-indigo-500/10 border-blue-500/20",children:(0,Hr.jsx)(yb,{className:"pt-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-muted-foreground",children:"Routes"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold",children:l.total_routes})]}),(0,Hr.jsx)(sN,{className:"w-10 h-10 text-blue-500"})]})})}),(0,Hr.jsx)(gb,{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/20",children:(0,Hr.jsx)(yb,{className:"pt-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-muted-foreground",children:"Students"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold",children:l.students_using_transport})]}),(0,Hr.jsx)(tl,{className:"w-10 h-10 text-green-500"})]})})}),(0,Hr.jsx)(gb,{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-purple-500/20",children:(0,Hr.jsx)(yb,{className:"pt-4",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-muted-foreground",children:"On Route"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold",children:x.filter(e=>"on_route"===e.status).length})]}),(0,Hr.jsx)(nN,{className:"w-10 h-10 text-purple-500"})]})})})]}),(0,Hr.jsxs)(wh,{defaultValue:"tracking",className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-4",children:[(0,Hr.jsx)(Sh,{value:"tracking",children:"Live Tracking"}),(0,Hr.jsx)(Sh,{value:"vehicles",children:"Vehicles"}),(0,Hr.jsx)(Sh,{value:"routes",children:"Routes"}),(0,Hr.jsx)(Sh,{value:"nfc-gps",children:"NFC & GPS Tracking"})]}),(0,Hr.jsx)(_h,{value:"tracking",className:"mt-4",children:(0,Hr.jsxs)(gb,{children:[(0,Hr.jsxs)(fb,{children:[(0,Hr.jsxs)(vb,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(nN,{className:"w-5 h-5 text-green-500 animate-pulse"}),"Live Vehicle Tracking"]}),(0,Hr.jsx)(bb,{children:"Real-time vehicle locations (GPS SIMULATED - Live GPS pending)"})]}),(0,Hr.jsxs)(yb,{children:[0===x.length?(0,Hr.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No vehicles to track"}):(0,Hr.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:x.map(e=>{var t,a,s,n,r;return(0,Hr.jsx)(gb,{className:"border-l-4 ".concat("on_route"===e.status?"border-l-green-500":"border-l-amber-500"),children:(0,Hr.jsxs)(yb,{className:"pt-4",children:[(0,Hr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[(0,Hr.jsx)(zl,{className:"w-5 h-5"}),e.vehicle_number]}),(0,Hr.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Driver: ",e.driver_name]}),(0,Hr.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,Hr.jsx)(vy,{className:"w-3 h-3"})," ",e.driver_phone]})]}),(0,Hr.jsx)(Ry,{variant:"on_route"===e.status?"default":"secondary",children:"on_route"===e.status?"Moving":"Stopped"})]}),(0,Hr.jsx)("div",{className:"mt-3 p-3 bg-muted/50 rounded-lg",children:(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("span",{className:"text-muted-foreground",children:"Lat:"})," ",null===(t=e.location)||void 0===t||null===(a=t.lat)||void 0===a?void 0:a.toFixed(4)]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("span",{className:"text-muted-foreground",children:"Lng:"})," ",null===(s=e.location)||void 0===s||null===(n=s.lng)||void 0===n?void 0:n.toFixed(4)]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("span",{className:"text-muted-foreground",children:"Speed:"})," ",null===(r=e.location)||void 0===r?void 0:r.speed," km/h"]})]})})]})},e.id)})}),(0,Hr.jsx)("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,Hr.jsxs)("p",{className:"text-sm text-amber-800 flex items-center gap-2",children:[(0,Hr.jsx)(By,{className:"w-4 h-4"}),"GPS tracking is currently SIMULATED. Real GPS device integration coming soon."]})})]})]})}),(0,Hr.jsxs)(_h,{value:"vehicles",className:"mt-4",children:[(0,Hr.jsx)("div",{className:"flex justify-end mb-4",children:(0,Hr.jsxs)(Io,{onClick:()=>m(!0),children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"}),"Add Vehicle"]})}),(0,Hr.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(e=>{var t,a;return(0,Hr.jsx)(gb,{children:(0,Hr.jsxs)(yb,{className:"pt-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"p-3 rounded-xl bg-amber-500/10",children:(0,Hr.jsx)(zl,{className:"w-8 h-8 text-amber-600"})}),(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-lg",children:e.vehicle_number}),(0,Hr.jsxs)("p",{className:"text-sm text-muted-foreground capitalize",children:[e.vehicle_type," \u2022 ",e.capacity," seats"]})]}),(0,Hr.jsx)(Ry,{variant:"outline",children:e.status})]}),(0,Hr.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Rh,{className:"w-4 h-4 text-muted-foreground"}),(0,Hr.jsx)("span",{children:null===(t=e.driver)||void 0===t?void 0:t.name})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(vy,{className:"w-4 h-4 text-muted-foreground"}),(0,Hr.jsx)("span",{children:null===(a=e.driver)||void 0===a?void 0:a.phone})]})]})]})},e.id)})})]}),(0,Hr.jsxs)(_h,{value:"routes",className:"mt-4",children:[(0,Hr.jsx)("div",{className:"flex justify-end mb-4",children:(0,Hr.jsxs)(Io,{onClick:()=>p(!0),children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"}),"Add Route"]})}),(0,Hr.jsx)("div",{className:"grid gap-4",children:n.map(e=>{var t;return(0,Hr.jsx)(gb,{children:(0,Hr.jsxs)(yb,{className:"pt-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"p-3 rounded-xl bg-blue-500/10",children:(0,Hr.jsx)(sN,{className:"w-8 h-8 text-blue-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-lg",children:e.route_name}),(0,Hr.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Route #",e.route_number]})]})]}),(0,Hr.jsxs)("div",{className:"text-right",children:[(0,Hr.jsxs)("p",{className:"font-semibold",children:["\u20b9",e.monthly_fee,"/month"]}),(0,Hr.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.total_students||0," students"]})]})]}),(0,Hr.jsxs)("div",{className:"mt-4 flex items-center gap-4 text-sm text-muted-foreground",children:[(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Il,{className:"w-4 h-4"})," Morning: ",e.morning_start_time]}),(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Il,{className:"w-4 h-4"})," Evening: ",e.evening_start_time]}),(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(rN,{className:"w-4 h-4"})," ",(null===(t=e.stops)||void 0===t?void 0:t.length)||0," stops"]})]})]})},e.id)})})]}),(0,Hr.jsxs)(_h,{value:"nfc-gps",className:"space-y-6",children:[(0,Hr.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[(0,Hr.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 mb-2",children:[(0,Hr.jsx)(lN,{className:"w-5 h-5 text-blue-600"}),"NFC & GPS Transport Tracking"]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Board, tap, and track \u2014 school transport made easy. Students tap NFC-enabled ID cards on vehicle attender's phone."}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center mb-3",children:(0,Hr.jsx)(dl,{className:"w-5 h-5 text-blue-600"})}),(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900",children:"NFC Tap Attendance"}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Students tap ID cards on attender's phone to mark boarding/drop-off attendance automatically"})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center mb-3",children:(0,Hr.jsx)(rN,{className:"w-5 h-5 text-green-600"})}),(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900",children:"Live GPS Tracking"}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Real-time GPS tracking of school buses. Parents can see exact bus location on map"})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center mb-3",children:(0,Hr.jsx)(Ml,{className:"w-5 h-5 text-purple-600"})}),(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900",children:"Instant Notifications"}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Parents get instant alerts when child boards/exits the bus. No costly hardware needed"})]})]})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"p-4 border-b bg-gray-50 flex items-center justify-between",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900",children:"Today's NFC Boarding Log"}),(0,Hr.jsx)(Ry,{variant:"outline",className:"text-xs",children:"Live"})]}),(0,Hr.jsx)("div",{className:"p-4",children:(0,Hr.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Hr.jsx)(dl,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,Hr.jsx)("p",{className:"font-medium",children:"NFC Boarding System"}),(0,Hr.jsx)("p",{className:"text-sm mt-1",children:"Vehicle attenders will use their phones for NFC tap attendance"}),(0,Hr.jsx)("p",{className:"text-xs mt-2 text-blue-500",children:"Requires NFC-enabled devices and student ID cards"})]})})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsx)(gb,{children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-3",children:[(0,Hr.jsx)(nN,{className:"w-4 h-4 text-blue-500"})," GPS Device Setup"]}),(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Hr.jsx)("span",{className:"text-sm text-gray-700",children:"GPS Tracking Enabled"}),(0,Hr.jsx)(Ry,{className:"bg-green-100 text-green-700",children:"Active"})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Hr.jsx)("span",{className:"text-sm text-gray-700",children:"Update Interval"}),(0,Hr.jsx)("span",{className:"text-sm font-medium",children:"10 seconds"})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Hr.jsx)("span",{className:"text-sm text-gray-700",children:"Geo-fence Alerts"}),(0,Hr.jsx)(Ry,{className:"bg-blue-100 text-blue-700",children:"Enabled"})]})]})]})}),(0,Hr.jsx)(gb,{children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2 mb-3",children:[(0,Hr.jsx)(dl,{className:"w-4 h-4 text-green-500"})," NFC Configuration"]}),(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Hr.jsx)("span",{className:"text-sm text-gray-700",children:"NFC Reader Mode"}),(0,Hr.jsx)(Ry,{className:"bg-blue-100 text-blue-700",children:"Mobile Based"})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Hr.jsx)("span",{className:"text-sm text-gray-700",children:"Card Format"}),(0,Hr.jsx)("span",{className:"text-sm font-medium",children:"NTAG215"})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Hr.jsx)("span",{className:"text-sm text-gray-700",children:"Auto-notification"}),(0,Hr.jsx)(Ry,{className:"bg-green-100 text-green-700",children:"Enabled"})]})]})]})})]})]})]}),(0,Hr.jsx)(Gu,{open:u,onOpenChange:m,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Add New Vehicle"})}),(0,Hr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y.vehicle_number&&y.driver_name)try{const e=await fetch("".concat(iN,"/api/transport/vehicles?school_id=").concat(b),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});(await e.json()).success&&(Qt.success("Vehicle added!"),m(!1),j({vehicle_number:"",vehicle_type:"bus",capacity:40,driver_name:"",driver_phone:"",conductor_name:"",conductor_phone:""}),k())}catch(t){Qt.error("Failed to add vehicle")}else Qt.error("Vehicle number aur Driver name required hai")},className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Vehicle Number *"}),(0,Hr.jsx)(Lo,{value:y.vehicle_number,onChange:e=>j(d(d({},y),{},{vehicle_number:e.target.value})),placeholder:"UP32 AB 1234"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Type"}),(0,Hr.jsxs)("select",{value:y.vehicle_type,onChange:e=>j(d(d({},y),{},{vehicle_type:e.target.value})),className:"w-full h-10 px-3 border rounded-md",children:[(0,Hr.jsx)("option",{value:"bus",children:"Bus"}),(0,Hr.jsx)("option",{value:"van",children:"Van"}),(0,Hr.jsx)("option",{value:"auto",children:"Auto"})]})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Capacity"}),(0,Hr.jsx)(Lo,{type:"number",value:y.capacity,onChange:e=>j(d(d({},y),{},{capacity:parseInt(e.target.value)}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Driver Name *"}),(0,Hr.jsx)(Lo,{value:y.driver_name,onChange:e=>j(d(d({},y),{},{driver_name:e.target.value})),placeholder:"Driver name"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Driver Phone"}),(0,Hr.jsx)(Lo,{value:y.driver_phone,onChange:e=>j(d(d({},y),{},{driver_phone:e.target.value})),placeholder:"Phone number"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Conductor Name"}),(0,Hr.jsx)(Lo,{value:y.conductor_name,onChange:e=>j(d(d({},y),{},{conductor_name:e.target.value})),placeholder:"Conductor name"})]})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,Hr.jsx)(Io,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,Hr.jsx)(Io,{type:"submit",className:"bg-amber-600 hover:bg-amber-700",children:"Add Vehicle"})]})]})]})}),(0,Hr.jsx)(Gu,{open:h,onOpenChange:p,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Create New Route"})}),(0,Hr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),N.route_name&&N.route_number)try{const e=await fetch("".concat(iN,"/api/transport/routes?school_id=").concat(b),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});(await e.json()).success&&(Qt.success("Route created!"),p(!1),k())}catch(t){Qt.error("Failed to create route")}else Qt.error("Route name aur number required hai")},className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Route Name *"}),(0,Hr.jsx)(Lo,{value:N.route_name,onChange:e=>w(d(d({},N),{},{route_name:e.target.value})),placeholder:"Gomti Nagar Route"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Route Number *"}),(0,Hr.jsx)(Lo,{value:N.route_number,onChange:e=>w(d(d({},N),{},{route_number:e.target.value})),placeholder:"R-01"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Morning Start"}),(0,Hr.jsx)(Lo,{type:"time",value:N.morning_start_time,onChange:e=>w(d(d({},N),{},{morning_start_time:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Evening Start"}),(0,Hr.jsx)(Lo,{type:"time",value:N.evening_start_time,onChange:e=>w(d(d({},N),{},{evening_start_time:e.target.value}))})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Monthly Fee (\u20b9)"}),(0,Hr.jsx)(Lo,{type:"number",value:N.monthly_fee,onChange:e=>w(d(d({},N),{},{monthly_fee:parseFloat(e.target.value)}))})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,Hr.jsx)(Io,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),(0,Hr.jsx)(Io,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Create Route"})]})]})]})})]})}const cN=el("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),dN=el("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),uN=el("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),mN=el("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),hN=el("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var pN=a(418);const xN={1:[{date:1,name:"\u0928\u0935 \u0935\u0930\u094d\u0937",type:"festival"},{date:14,name:"\u092e\u0915\u0930 \u0938\u0902\u0915\u094d\u0930\u093e\u0902\u0924\u093f",type:"festival"},{date:23,name:"\u0928\u0947\u0924\u093e\u091c\u0940 \u091c\u092f\u0902\u0924\u0940",type:"national"},{date:26,name:"\u0917\u0923\u0924\u0902\u0924\u094d\u0930 \u0926\u093f\u0935\u0938",type:"national"}],2:[{date:3,name:"\u092c\u0938\u0902\u0924 \u092a\u0902\u091a\u092e\u0940",type:"festival"},{date:19,name:"\u0936\u093f\u0935\u093e\u091c\u0940 \u091c\u092f\u0902\u0924\u0940",type:"state"},{date:26,name:"\u092e\u0939\u093e\u0936\u093f\u0935\u0930\u093e\u0924\u094d\u0930\u093f",type:"festival"}],3:[{date:3,name:"\u0939\u094b\u0932\u0940",type:"festival"},{date:4,name:"\u0927\u0942\u0932\u0902\u0921\u0940",type:"festival"},{date:31,name:"\u0930\u093e\u091c\u0938\u094d\u0925\u093e\u0928 \u0926\u093f\u0935\u0938",type:"state"}],4:[{date:6,name:"\u0930\u093e\u092e \u0928\u0935\u092e\u0940",type:"festival"},{date:14,name:"\u0905\u092e\u094d\u092c\u0947\u0921\u0915\u0930 \u091c\u092f\u0902\u0924\u0940",type:"national"},{date:21,name:"\u092e\u0939\u093e\u0935\u0940\u0930 \u091c\u092f\u0902\u0924\u0940",type:"festival"}],5:[{date:1,name:"\u092e\u091c\u0926\u0942\u0930 \u0926\u093f\u0935\u0938",type:"national"},{date:7,name:"\u092c\u0941\u0926\u094d\u0927 \u092a\u0942\u0930\u094d\u0923\u093f\u092e\u093e",type:"festival"},{date:10,name:"\u0917\u094d\u0930\u0940\u0937\u094d\u092e\u093e\u0935\u0915\u093e\u0936 \u092a\u094d\u0930\u093e\u0930\u0902\u092d",type:"vacation"}],6:[{date:21,name:"\u0905\u0902\u0924\u0930\u094d\u0930\u093e\u0937\u094d\u091f\u094d\u0930\u0940\u092f \u092f\u094b\u0917 \u0926\u093f\u0935\u0938",type:"national"},{date:30,name:"\u0917\u094d\u0930\u0940\u0937\u094d\u092e\u093e\u0935\u0915\u093e\u0936 \u0938\u092e\u093e\u092a\u094d\u0924",type:"vacation"}],7:[{date:1,name:"\u0935\u093f\u0926\u094d\u092f\u093e\u0932\u092f \u092a\u0941\u0928\u0903 \u092a\u094d\u0930\u093e\u0930\u0902\u092d",type:"school"},{date:17,name:"\u092e\u0941\u0939\u0930\u094d\u0930\u092e",type:"festival"}],8:[{date:11,name:"\u0930\u0915\u094d\u0937\u093e\u092c\u0902\u0927\u0928",type:"festival"},{date:15,name:"\u0938\u094d\u0935\u0924\u0902\u0924\u094d\u0930\u0924\u093e \u0926\u093f\u0935\u0938",type:"national"},{date:19,name:"\u091c\u0928\u094d\u092e\u093e\u0937\u094d\u091f\u092e\u0940",type:"festival"}],9:[{date:5,name:"\u0936\u093f\u0915\u094d\u0937\u0915 \u0926\u093f\u0935\u0938",type:"national"},{date:16,name:"\u0908\u0926-\u0909\u0932-\u091c\u0941\u0939\u093e (\u092c\u0915\u0930\u0940\u0926)",type:"festival"},{date:25,name:"\u092e\u0941\u0939\u0930\u094d\u0930\u092e",type:"festival"}],10:[{date:2,name:"\u0917\u093e\u0902\u0927\u0940 \u091c\u092f\u0902\u0924\u0940",type:"national"},{date:7,name:"\u0928\u0935\u0930\u093e\u0924\u094d\u0930\u093f \u092a\u094d\u0930\u093e\u0930\u0902\u092d",type:"festival"},{date:15,name:"\u0926\u0936\u0939\u0930\u093e",type:"festival"}],11:[{date:1,name:"\u091b\u094b\u091f\u0940 \u0926\u0940\u092a\u093e\u0935\u0932\u0940",type:"festival"},{date:2,name:"\u0926\u0940\u092a\u093e\u0935\u0932\u0940",type:"festival"},{date:3,name:"\u0917\u094b\u0935\u0930\u094d\u0927\u0928 \u092a\u0942\u091c\u093e",type:"festival"},{date:4,name:"\u092d\u093e\u0908 \u0926\u0942\u091c",type:"festival"},{date:14,name:"\u092c\u093e\u0932 \u0926\u093f\u0935\u0938",type:"national"},{date:17,name:"\u0917\u0941\u0930\u0941 \u0928\u093e\u0928\u0915 \u091c\u092f\u0902\u0924\u0940",type:"festival"}],12:[{date:25,name:"\u0915\u094d\u0930\u093f\u0938\u092e\u0938",type:"festival"},{date:26,name:"\u0936\u0940\u0924\u0915\u093e\u0932\u0940\u0928 \u0905\u0935\u0915\u093e\u0936 \u092a\u094d\u0930\u093e\u0930\u0902\u092d",type:"vacation"}]},gN=["\u091c\u0928\u0935\u0930\u0940","\u092b\u0930\u0935\u0930\u0940","\u092e\u093e\u0930\u094d\u091a","\u0905\u092a\u094d\u0930\u0948\u0932","\u092e\u0908","\u091c\u0942\u0928","\u091c\u0941\u0932\u093e\u0908","\u0905\u0917\u0938\u094d\u0924","\u0938\u093f\u0924\u0902\u092c\u0930","\u0905\u0915\u094d\u091f\u0942\u092c\u0930","\u0928\u0935\u0902\u092c\u0930","\u0926\u093f\u0938\u0902\u092c\u0930"],fN=["January","February","March","April","May","June","July","August","September","October","November","December"],vN=["\u0930\u0935\u093f","\u0938\u094b\u092e","\u092e\u0902\u0917\u0932","\u092c\u0941\u0927","\u0917\u0941\u0930\u0941","\u0936\u0941\u0915\u094d\u0930","\u0936\u0928\u093f"],bN=["SUN","MON","TUE","WED","THU","FRI","SAT"];function yN(e){let{school:a,customEvents:s=[],testimonials:n=[],photos:r=[],achievements:l=[]}=e;const i=(0,t.useRef)(),[o,c]=(0,t.useState)((new Date).getMonth()+1),[d,u]=(0,t.useState)(2026),m=(0,pN.useReactToPrint)({content:()=>i.current,documentTitle:"".concat((null===a||void 0===a?void 0:a.name)||"School","_Calendar_").concat(o,"_").concat(d),pageStyle:"\n      @page {\n        size: A4 portrait;\n        margin: 5mm;\n      }\n      @media print {\n        body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }\n        .no-print { display: none !important; }\n      }\n    "}),h=e=>xN[e]||[],p=(e,t)=>s.filter(a=>{const s=new Date(a.date);return s.getMonth()+1===e&&s.getFullYear()===t}),x=(e,t,a)=>[...h(t).filter(t=>t.date===e),...p(t,a).filter(t=>new Date(t.date).getDate()===e)];return(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between no-print bg-white p-4 rounded-lg shadow",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Io,{variant:"outline",size:"icon",onClick:()=>{1===o?(c(12),u(d-1)):c(o-1)},children:(0,Hr.jsx)(hN,{className:"w-5 h-5"})}),(0,Hr.jsxs)("h2",{className:"text-xl font-bold min-w-[200px] text-center",children:[gN[o-1]," / ",fN[o-1]," ",d]}),(0,Hr.jsx)(Io,{variant:"outline",size:"icon",onClick:()=>{12===o?(c(1),u(d+1)):c(o+1)},children:(0,Hr.jsx)(Yl,{className:"w-5 h-5"})})]}),(0,Hr.jsx)("div",{className:"flex gap-2",children:(0,Hr.jsxs)(Io,{onClick:m,className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4 mr-2"}),"Print Calendar"]})})]}),(0,Hr.jsx)("div",{ref:i,className:"bg-white",children:(0,Hr.jsxs)("div",{className:"w-[210mm] min-h-[297mm] mx-auto bg-white p-4 shadow-lg print:shadow-none print:p-2",children:[(0,Hr.jsxs)("div",{className:"bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900 text-white p-3 rounded-t-lg relative overflow-hidden",children:[(null===a||void 0===a?void 0:a.logo_url)&&(0,Hr.jsx)("div",{className:"absolute right-0 top-0 w-40 h-40 opacity-10",children:(0,Hr.jsx)("img",{src:a.logo_url,alt:"",className:"w-full h-full object-contain"})}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between relative z-10",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(null===a||void 0===a?void 0:a.logo_url)&&(0,Hr.jsx)("img",{src:a.logo_url,alt:"",className:"w-16 h-16 rounded-full border-2 border-white object-cover"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-2xl font-bold",children:(null===a||void 0===a?void 0:a.name)||"School Name Not Set"}),(0,Hr.jsx)("p",{className:"text-sm opacity-90",children:(null===a||void 0===a?void 0:a.motto)||(null===a||void 0===a?void 0:a.tagline)||""})]})]}),(0,Hr.jsxs)("div",{className:"text-right text-sm",children:[(null===a||void 0===a?void 0:a.phone)&&(0,Hr.jsxs)("p",{children:["\ud83d\udcde ",a.phone]}),(null===a||void 0===a?void 0:a.email)&&(0,Hr.jsxs)("p",{children:["\ud83d\udce7 ",a.email]}),(null===a||void 0===a?void 0:a.website_url)&&(0,Hr.jsxs)("p",{children:["\ud83c\udf10 ",a.website_url]})]})]})]}),(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-orange-500 via-white to-green-500 p-2 text-center",children:(0,Hr.jsxs)("h2",{className:"text-3xl font-bold text-blue-900",children:[gN[o-1]," / ",fN[o-1]," ",d]})}),(0,Hr.jsxs)("div",{className:"mt-2",children:[(0,Hr.jsx)("div",{className:"grid grid-cols-7 bg-blue-900 text-white",children:vN.map((e,t)=>(0,Hr.jsxs)("div",{className:"text-center py-2 font-bold ".concat(0===t?"text-red-300":""),children:[(0,Hr.jsx)("div",{children:e}),(0,Hr.jsx)("div",{className:"text-xs",children:bN[t]})]},t))}),(0,Hr.jsx)("div",{className:"grid grid-cols-7",children:(()=>{const e=new Date(d,o,0).getDate();const t=((e,t)=>new Date(t,e-1,1).getDay())(o,d),a=[];for(let s=0;s<t;s++)a.push((0,Hr.jsx)("div",{className:"h-16 border border-gray-200"},"empty-".concat(s)));for(let s=1;s<=e;s++){const e=x(s,o,d),n=(t+s-1)%7===0,r=e.some(e=>"national"===e.type||"festival"===e.type);a.push((0,Hr.jsxs)("div",{className:"h-16 border border-gray-200 p-1 text-center relative ".concat(n||r?"bg-red-50":"bg-white"),children:[(0,Hr.jsx)("span",{className:"text-lg font-bold ".concat(n||r?"text-red-600":"text-gray-900"),children:s}),e.length>0&&(0,Hr.jsx)("div",{className:"absolute bottom-0 left-0 right-0 text-[8px] leading-tight px-0.5 truncate text-red-600 font-medium",children:e[0].name})]},s))}return a})()})]}),(0,Hr.jsxs)("div",{className:"mt-3 bg-gray-50 p-3 rounded-lg",children:[(0,Hr.jsxs)("h3",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[(0,Hr.jsx)(Hl,{className:"w-4 h-4"}),"\u092e\u0939\u0924\u094d\u0935\u092a\u0942\u0930\u094d\u0923 \u0924\u093f\u0925\u093f\u092f\u093e\u0901 / Important Dates"]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[...h(o),...p(o,d)].sort((e,t)=>(e.date||new Date(e.date).getDate())-(t.date||new Date(t.date).getDate())).map((e,t)=>(0,Hr.jsxs)("div",{className:"flex items-center gap-2 ".concat("national"===e.type?"text-orange-700":"festival"===e.type?"text-purple-700":"vacation"===e.type?"text-green-700":"text-blue-700"),children:[(0,Hr.jsx)("span",{className:"w-2 h-2 rounded-full ".concat("national"===e.type?"bg-orange-500":"festival"===e.type?"bg-purple-500":"vacation"===e.type?"bg-green-500":"bg-blue-500")}),(0,Hr.jsx)("span",{className:"font-bold",children:e.date||new Date(e.date).getDate()}),(0,Hr.jsx)("span",{children:e.name})]},t))})]}),l.length>0&&(0,Hr.jsxs)("div",{className:"mt-3 bg-gradient-to-r from-yellow-50 to-orange-50 p-3 rounded-lg border-2 border-yellow-400",children:[(0,Hr.jsxs)("h3",{className:"font-bold text-yellow-800 mb-2 flex items-center gap-2",children:[(0,Hr.jsx)(mN,{className:"w-5 h-5 text-yellow-600"}),'\ud83c\udfc6 \u0939\u092e\u093e\u0930\u0947 \u0917\u094c\u0930\u0935 / Our Achievers - "Diamonds of School"']}),(0,Hr.jsx)("div",{className:"grid grid-cols-4 gap-2",children:l.slice(0,8).map((e,t)=>(0,Hr.jsxs)("div",{className:"text-center p-2 bg-white rounded-lg shadow-sm",children:[e.photo&&(0,Hr.jsx)("img",{src:e.photo,alt:"",className:"w-12 h-12 rounded-full mx-auto mb-1 border-2 border-yellow-400"}),(0,Hr.jsx)("p",{className:"text-xs font-bold",children:e.name}),(0,Hr.jsx)("p",{className:"text-[10px] text-gray-600",children:e.achievement})]},t))})]}),n.length>0&&(0,Hr.jsxs)("div",{className:"mt-3 bg-blue-50 p-3 rounded-lg",children:[(0,Hr.jsxs)("h3",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[(0,Hr.jsx)(cj,{className:"w-4 h-4"}),"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930 / Testimonials"]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 gap-2",children:n.slice(0,2).map((e,t)=>(0,Hr.jsxs)("div",{className:"bg-white p-2 rounded-lg text-sm italic border-l-4 border-blue-500",children:['"',e.text,'" ',(0,Hr.jsx)("br",{}),(0,Hr.jsxs)("span",{className:"font-bold not-italic",children:["- ",e.author]})]},t))})]}),r.length>0&&(0,Hr.jsx)("div",{className:"mt-3 grid grid-cols-4 gap-2",children:r.slice(0,4).map((e,t)=>(0,Hr.jsx)("div",{className:"rounded-lg overflow-hidden h-24",children:(0,Hr.jsx)("img",{src:e.url,alt:"",className:"w-full h-full object-cover"})},t))}),(0,Hr.jsx)("div",{className:"mt-4 pt-2 border-t-2 border-blue-900 text-center text-xs text-gray-600",children:(0,Hr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Hr.jsx)("span",{children:null!==a&&void 0!==a&&a.address?"\ud83d\udccd ".concat(a.address):""}),(0,Hr.jsx)("span",{className:"font-bold text-blue-900",children:"Powered by Schooltino.in"}),(0,Hr.jsx)("span",{children:null!==a&&void 0!==a&&a.affiliation?"Affiliation: ".concat(a.affiliation):""})]})})]})}),(0,Hr.jsxs)("div",{className:"no-print bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-sm",children:[(0,Hr.jsx)("h4",{className:"font-bold text-yellow-800 mb-2",children:"\ud83d\udccb Print Instructions / \u092a\u094d\u0930\u093f\u0902\u091f \u0928\u093f\u0930\u094d\u0926\u0947\u0936:"}),(0,Hr.jsxs)("ul",{className:"space-y-1 text-yellow-700",children:[(0,Hr.jsxs)("li",{children:["\u2022 ",(0,Hr.jsx)("strong",{children:"Print Settings:"})," A4 Size, Portrait, Color"]}),(0,Hr.jsxs)("li",{children:["\u2022 ",(0,Hr.jsx)("strong",{children:"Margins:"}),' Set to "None" or "Minimum" for best results']}),(0,Hr.jsxs)("li",{children:["\u2022 ",(0,Hr.jsx)("strong",{children:"Scale:"}),' 100% or "Fit to Page"']}),(0,Hr.jsx)("li",{children:"\u2022 Print each month separately for wall calendar"})]})]})]})}const jN="",NN={Rajasthan:[{date:"2025-01-26",name:"\u0917\u0923\u0924\u0902\u0924\u094d\u0930 \u0926\u093f\u0935\u0938 (Republic Day)",type:"national"},{date:"2025-03-14",name:"\u0939\u094b\u0932\u0940 (Holi)",type:"festival"},{date:"2025-03-31",name:"\u0930\u093e\u091c\u0938\u094d\u0925\u093e\u0928 \u0926\u093f\u0935\u0938",type:"state"},{date:"2025-04-14",name:"\u0905\u092e\u094d\u092c\u0947\u0921\u0915\u0930 \u091c\u092f\u0902\u0924\u0940",type:"national"},{date:"2025-04-18",name:"\u0917\u0941\u0921 \u092b\u094d\u0930\u093e\u0907\u0921\u0947",type:"national"},{date:"2025-05-12",name:"\u092c\u0941\u0926\u094d\u0927 \u092a\u0942\u0930\u094d\u0923\u093f\u092e\u093e",type:"festival"},{date:"2025-08-15",name:"\u0938\u094d\u0935\u0924\u0902\u0924\u094d\u0930\u0924\u093e \u0926\u093f\u0935\u0938 (Independence Day)",type:"national"},{date:"2025-08-26",name:"\u091c\u0928\u094d\u092e\u093e\u0937\u094d\u091f\u092e\u0940 (Janmashtami)",type:"festival"},{date:"2025-10-02",name:"\u0917\u093e\u0902\u0927\u0940 \u091c\u092f\u0902\u0924\u0940",type:"national"},{date:"2025-10-12",name:"\u0926\u0936\u0939\u0930\u093e (Dussehra)",type:"festival"},{date:"2025-10-20",name:"\u0926\u0940\u092a\u093e\u0935\u0932\u0940 \u0905\u0935\u0915\u093e\u0936 \u092a\u094d\u0930\u093e\u0930\u0902\u092d",type:"vacation"},{date:"2025-11-01",name:"\u0926\u0940\u092a\u093e\u0935\u0932\u0940 (Diwali)",type:"festival"},{date:"2025-11-05",name:"\u0917\u094b\u0935\u0930\u094d\u0927\u0928 \u092a\u0942\u091c\u093e",type:"festival"},{date:"2025-11-15",name:"\u0917\u0941\u0930\u0941 \u0928\u093e\u0928\u0915 \u091c\u092f\u0902\u0924\u0940",type:"festival"},{date:"2025-12-25",name:"\u0915\u094d\u0930\u093f\u0938\u092e\u0938 (Christmas)",type:"festival"},{date:"2026-01-01",name:"\u0928\u0935 \u0935\u0930\u094d\u0937 (New Year)",type:"festival"},{date:"2026-01-14",name:"\u092e\u0915\u0930 \u0938\u0902\u0915\u094d\u0930\u093e\u0902\u0924\u093f",type:"festival"},{date:"2026-01-26",name:"\u0917\u0923\u0924\u0902\u0924\u094d\u0930 \u0926\u093f\u0935\u0938",type:"national"},{date:"2026-03-03",name:"\u0939\u094b\u0932\u0940 (Holi)",type:"festival"}],"Madhya Pradesh":[{date:"2025-01-26",name:"\u0917\u0923\u0924\u0902\u0924\u094d\u0930 \u0926\u093f\u0935\u0938",type:"national"},{date:"2025-03-14",name:"\u0939\u094b\u0932\u0940",type:"festival"},{date:"2025-04-14",name:"\u0905\u092e\u094d\u092c\u0947\u0921\u0915\u0930 \u091c\u092f\u0902\u0924\u0940",type:"national"},{date:"2025-05-01",name:"\u092e\u0927\u094d\u092f \u092a\u094d\u0930\u0926\u0947\u0936 \u0938\u094d\u0925\u093e\u092a\u0928\u093e \u0926\u093f\u0935\u0938",type:"state"},{date:"2025-08-15",name:"\u0938\u094d\u0935\u0924\u0902\u0924\u094d\u0930\u0924\u093e \u0926\u093f\u0935\u0938",type:"national"},{date:"2025-08-26",name:"\u091c\u0928\u094d\u092e\u093e\u0937\u094d\u091f\u092e\u0940",type:"festival"},{date:"2025-10-02",name:"\u0917\u093e\u0902\u0927\u0940 \u091c\u092f\u0902\u0924\u0940",type:"national"},{date:"2025-10-12",name:"\u0926\u0936\u0939\u0930\u093e",type:"festival"},{date:"2025-11-01",name:"\u0926\u0940\u092a\u093e\u0935\u0932\u0940",type:"festival"},{date:"2025-11-15",name:"\u0917\u0941\u0930\u0941 \u0928\u093e\u0928\u0915 \u091c\u092f\u0902\u0924\u0940",type:"festival"},{date:"2025-12-25",name:"\u0915\u094d\u0930\u093f\u0938\u092e\u0938",type:"festival"}],default:[{date:"2025-01-26",name:"Republic Day",type:"national"},{date:"2025-03-14",name:"Holi",type:"festival"},{date:"2025-04-14",name:"Ambedkar Jayanti",type:"national"},{date:"2025-08-15",name:"Independence Day",type:"national"},{date:"2025-10-02",name:"Gandhi Jayanti",type:"national"},{date:"2025-10-12",name:"Dussehra",type:"festival"},{date:"2025-11-01",name:"Diwali",type:"festival"},{date:"2025-12-25",name:"Christmas",type:"festival"}]};function wN(){const{t:e,i18n:a}=bs(),{user:s,schoolId:n}=Vr(),r=(0,t.useRef)(null),l="hi"===a.language,[i,o]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[m,h]=(0,t.useState)(!0),[p,x]=(0,t.useState)((new Date).getMonth()),[g,f]=(0,t.useState)((new Date).getFullYear()),[v,b]=(0,t.useState)("month"),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)(null),[k,S]=(0,t.useState)({date:"",name:"",type:"school_event",description:"",photo:null}),[_,C]=(0,t.useState)(!1),[E,P]=(0,t.useState)([]),[A,T]=(0,t.useState)(!1),[M,D]=(0,t.useState)(!1),[R,I]=(0,t.useState)([]),[O,L]=(0,t.useState)(null),[F,B]=(0,t.useState)({text:"",author:"",designation:"",photo:null}),[z,H]=(0,t.useState)([]),[q,U]=(0,t.useState)(!1),[W,V]=(0,t.useState)({name:"",achievement:"",photo:null}),[G,K]=(0,t.useState)(!1),[Y,Q]=(0,t.useState)(null),$=l?["\u091c\u0928\u0935\u0930\u0940","\u092b\u0930\u0935\u0930\u0940","\u092e\u093e\u0930\u094d\u091a","\u0905\u092a\u094d\u0930\u0948\u0932","\u092e\u0908","\u091c\u0942\u0928","\u091c\u0941\u0932\u093e\u0908","\u0905\u0917\u0938\u094d\u0924","\u0938\u093f\u0924\u0902\u092c\u0930","\u0905\u0915\u094d\u091f\u0942\u092c\u0930","\u0928\u0935\u0902\u092c\u0930","\u0926\u093f\u0938\u0902\u092c\u0930"]:["January","February","March","April","May","June","July","August","September","October","November","December"],J=l?["\u0930\u0935\u093f","\u0938\u094b\u092e","\u092e\u0902\u0917\u0932","\u092c\u0941\u0927","\u0917\u0941\u0930\u0941","\u0936\u0941\u0915\u094d\u0930","\u0936\u0928\u093f"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];(0,t.useEffect)(()=>{X()},[n]);const X=async()=>{h(!0);try{const s=localStorage.getItem("token"),r=await zr.get("".concat(jN,"/api/school/").concat(n),{headers:{Authorization:"Bearer ".concat(s)}});o(r.data);try{const e=await zr.get("".concat(jN,"/api/school/").concat(n,"/calendar-events"),{headers:{Authorization:"Bearer ".concat(s)}});u(e.data||[])}catch(e){u([])}try{const e=await zr.get("".concat(jN,"/api/school/").concat(n,"/calendar-photos"),{headers:{Authorization:"Bearer ".concat(s)}});P(e.data||[])}catch(t){P([])}try{const e=await zr.get("".concat(jN,"/api/school/").concat(n,"/testimonials"),{headers:{Authorization:"Bearer ".concat(s)}});I(e.data||[])}catch(a){I([])}}catch(s){console.error("Error fetching data:",s)}finally{h(!1)}},Z=()=>[...(()=>{var e;const t=(null===i||void 0===i||null===(e=i.settings)||void 0===e?void 0:e.state)||"default";return NN[t]||NN.default})(),...c].sort((e,t)=>new Date(e.date)-new Date(t.date)),ee=(e,t)=>Z().filter(a=>{const s=new Date(a.date);return s.getMonth()===e&&s.getFullYear()===t}),te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(w(e),S({date:e.date,name:e.name,type:e.type,description:e.description||"",photo:e.photo})):(w(null),S({date:"",name:"",type:"school_event",description:"",photo:null})),j(!0)},ae=()=>{j(!1),w(null),S({date:"",name:"",type:"school_event",description:"",photo:null})},se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(L(e),B({text:e.text,author:e.author,designation:e.designation||"",photo:e.photo})):(L(null),B({text:"",author:"",designation:"",photo:null})),D(!0)},ne=()=>{D(!1),L(null),B({text:"",author:"",designation:"",photo:null})},re=e=>({national:"bg-orange-500 text-white",festival:"bg-purple-500 text-white",state:"bg-blue-500 text-white",vacation:"bg-green-500 text-white",school_event:"bg-indigo-500 text-white",exam:"bg-red-500 text-white"}[e]||"bg-gray-500 text-white"),le=e=>({national:"bg-orange-100 text-orange-800 border-orange-300",festival:"bg-purple-100 text-purple-800 border-purple-300",state:"bg-blue-100 text-blue-800 border-blue-300",vacation:"bg-green-100 text-green-800 border-green-300",school_event:"bg-indigo-100 text-indigo-800 border-indigo-300",exam:"bg-red-100 text-red-800 border-red-300"}[e]||"bg-gray-100 text-gray-800 border-gray-300"),ie=e=>({national:l?"\u0930\u093e\u0937\u094d\u091f\u094d\u0930\u0940\u092f":"National",festival:l?"\u0924\u094d\u092f\u094b\u0939\u093e\u0930":"Festival",state:l?"\u0930\u093e\u091c\u094d\u092f":"State",vacation:l?"\u091b\u0941\u091f\u094d\u091f\u0940":"Vacation",school_event:l?"\u0938\u094d\u0915\u0942\u0932":"School",exam:l?"\u092a\u0930\u0940\u0915\u094d\u0937\u093e":"Exam"}[e]||e);return m?(0,Hr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-indigo-600"})}):(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"school-calendar-page",children:[(0,Hr.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 print:hidden",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[(0,Hr.jsx)(Hl,{className:"w-7 h-7 text-indigo-600"}),l?"\u0935\u093f\u0926\u094d\u092f\u093e\u0932\u092f \u0915\u0948\u0932\u0947\u0902\u0921\u0930":"School Calendar"]}),(0,Hr.jsxs)("p",{className:"text-slate-500",children:[(null===i||void 0===i?void 0:i.name)||"School"," \u2022 ",l?"\u0936\u0948\u0915\u094d\u0937\u0923\u093f\u0915 \u0938\u0924\u094d\u0930":"Academic Session"," 2025-26"]})]}),(0,Hr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Hr.jsxs)(Io,{onClick:()=>C(!0),variant:"outline",size:"sm",children:[(0,Hr.jsx)(cN,{className:"w-4 h-4 mr-2"}),l?"\u092b\u094b\u091f\u094b":"Photos"," (",E.length,")"]}),(0,Hr.jsxs)(Io,{onClick:()=>se(),variant:"outline",size:"sm",children:[(0,Hr.jsx)(dN,{className:"w-4 h-4 mr-2"}),l?"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930":"Testimonials"]}),(0,Hr.jsxs)(Io,{onClick:()=>te(),variant:"outline",size:"sm",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"}),l?"\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e":"Event"]}),(0,Hr.jsxs)(Io,{onClick:async()=>{K(!0);try{var e;const t=localStorage.getItem("token"),s=Z().slice(0,15).map(e=>"".concat(e.date,": ").concat(e.name)).join("\n"),r=await zr.post("".concat(jN,"/api/calendar/generate-image"),{school_id:n,school_name:(null===i||void 0===i?void 0:i.name)||"School",year:"2025-26",events:s,state:(null===i||void 0===i||null===(e=i.settings)||void 0===e?void 0:e.state)||"Rajasthan",language:a.language,include_logo_watermark:!0,calendar_style:"single_page"},{headers:{Authorization:"Bearer ".concat(t)}});r.data.image_url&&(Q(r.data.image_url),Qt.success(l?"AI \u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u092c\u0928 \u0917\u092f\u093e! \ud83c\udf89":"AI Calendar generated! \ud83c\udf89"))}catch(t){console.error("AI Calendar generation error:",t),Qt.error(l?"AI \u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u092c\u0928\u093e\u0928\u0947 \u092e\u0947\u0902 \u0938\u092e\u0938\u094d\u092f\u093e":"Error generating AI calendar")}finally{K(!1)}},disabled:G,variant:"outline",size:"sm",className:"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200",children:[G?(0,Hr.jsx)(ul,{className:"w-4 h-4 mr-2 animate-spin"}):(0,Hr.jsx)(uN,{className:"w-4 h-4 mr-2 text-purple-600"}),l?"AI \u0915\u0948\u0932\u0947\u0902\u0921\u0930":"AI Calendar"]}),(0,Hr.jsxs)(Io,{onClick:()=>{window.print()},className:"bg-indigo-600 hover:bg-indigo-700",size:"sm",children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4 mr-2"}),l?"\u092a\u094d\u0930\u093f\u0902\u091f":"Print"]})]})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 print:hidden",children:[(0,Hr.jsx)(Io,{variant:"month"===v?"default":"outline",size:"sm",onClick:()=>b("month"),children:l?"\u092e\u0939\u0940\u0928\u093e":"Month View"}),(0,Hr.jsx)(Io,{variant:"year"===v?"default":"outline",size:"sm",onClick:()=>b("year"),children:l?"\u092a\u0942\u0930\u093e \u0938\u093e\u0932":"Year View"}),(0,Hr.jsxs)(Io,{variant:"print"===v?"default":"outline",size:"sm",onClick:()=>b("print"),className:"bg-gradient-to-r from-orange-50 to-green-50 border-orange-200",children:[(0,Hr.jsx)(Dl,{className:"w-4 h-4 mr-1"}),l?"\ud83d\udcc5 \u092a\u094d\u0930\u093f\u0902\u091f \u0915\u0948\u0932\u0947\u0902\u0921\u0930":"\ud83d\udcc5 Print Calendar"]}),(0,Hr.jsxs)(Io,{variant:"outline",size:"sm",onClick:()=>U(!0),children:[(0,Hr.jsx)(mN,{className:"w-4 h-4 mr-1 text-yellow-600"}),l?"\ud83c\udfc6 \u0909\u092a\u0932\u092c\u094d\u0927\u093f\u092f\u093e\u0901":"\ud83c\udfc6 Achievements"]})]}),"print"===v&&(0,Hr.jsx)(yN,{school:i,customEvents:c,testimonials:R,photos:E,achievements:z}),"print"!==v&&(0,Hr.jsxs)("div",{ref:r,className:"calendar-print-container",children:[(null===i||void 0===i?void 0:i.logo_url)&&(0,Hr.jsx)("div",{className:"hidden print:block calendar-watermark",children:(0,Hr.jsx)("img",{src:i.logo_url,alt:"",className:"w-full opacity-10"})}),(0,Hr.jsxs)("div",{className:"hidden print:block mb-6 text-center border-b-2 border-black pb-4 school-print-header",children:[(null===i||void 0===i?void 0:i.logo_url)&&(0,Hr.jsx)("img",{src:i.logo_url,alt:"",className:"h-16 mx-auto mb-2"}),(0,Hr.jsx)("h1",{className:"text-2xl font-bold",children:(null===i||void 0===i?void 0:i.name)||"School Name"}),(null===i||void 0===i?void 0:i.motto)&&(0,Hr.jsx)("p",{className:"text-sm italic text-gray-600",children:i.motto}),(0,Hr.jsxs)("div",{className:"flex justify-center gap-6 text-sm mt-2",children:[(null===i||void 0===i?void 0:i.address)&&(0,Hr.jsxs)("span",{children:[(0,Hr.jsx)(rN,{className:"w-3 h-3 inline mr-1"}),i.address]}),(null===i||void 0===i?void 0:i.phone)&&(0,Hr.jsxs)("span",{children:[(0,Hr.jsx)(vy,{className:"w-3 h-3 inline mr-1"}),i.phone]}),(null===i||void 0===i?void 0:i.email)&&(0,Hr.jsxs)("span",{children:[(0,Hr.jsx)(dj,{className:"w-3 h-3 inline mr-1"}),i.email]})]}),(null===i||void 0===i?void 0:i.website_url)&&(0,Hr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(0,Hr.jsx)(rl,{className:"w-3 h-3 inline mr-1"}),i.website_url]}),(0,Hr.jsxs)("p",{className:"text-lg font-semibold mt-3 bg-indigo-600 text-white py-2 rounded",children:[l?"\u0936\u0948\u0915\u094d\u0937\u0923\u093f\u0915 \u0915\u0948\u0932\u0947\u0902\u0921\u0930":"Academic Calendar"," 2025-26"]})]}),"month"===v?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4 print:hidden",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>{0===p?(x(11),f(g-1)):x(p-1)},children:(0,Hr.jsx)(hN,{className:"w-5 h-5"})}),(0,Hr.jsxs)("h2",{className:"text-xl font-bold",children:[$[p]," ",g]}),(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>{11===p?(x(0),f(g+1)):x(p+1)},children:(0,Hr.jsx)(Yl,{className:"w-5 h-5"})})]}),(0,Hr.jsx)(gb,{className:"mb-6",children:(0,Hr.jsxs)(yb,{className:"p-4",children:[(0,Hr.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:J.map((e,t)=>(0,Hr.jsx)("div",{className:"text-center text-sm font-semibold p-2 ".concat(0===t?"text-red-600":"text-slate-600"),children:e},t))}),(0,Hr.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[Array((oe=p,ce=g,new Date(ce,oe,1).getDay())).fill(null).map((e,t)=>(0,Hr.jsx)("div",{className:"h-20 md:h-24"},"empty-".concat(t))),Array(((e,t)=>new Date(t,e+1,0).getDate())(p,g)).fill(null).map((e,t)=>{const a=t+1,s=((e,t,a)=>{const s="".concat(a,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(e).padStart(2,"0"));return Z().find(e=>e.date===s)})(a,p,g),n=(new Date).getDate()===a&&(new Date).getMonth()===p&&(new Date).getFullYear()===g,r=0===new Date(g,p,a).getDay();return(0,Hr.jsxs)("div",{className:"h-20 md:h-24 border rounded-lg p-1 cursor-pointer hover:bg-slate-50 transition-colors ".concat(n?"ring-2 ring-indigo-500 bg-indigo-50":""," ").concat(r?"bg-red-50":""),onClick:()=>{const e="".concat(g,"-").concat(String(p+1).padStart(2,"0"),"-").concat(String(a).padStart(2,"0"));S(d(d({},k),{},{date:e})),j(!0)},children:[(0,Hr.jsx)("div",{className:"text-sm font-semibold ".concat(r?"text-red-600":""," ").concat(n?"text-indigo-600":""),children:a}),s&&(0,Hr.jsx)("div",{className:"text-xs p-1 rounded mt-1 truncate ".concat(re(s.type)),children:s.name.length>15?s.name.substring(0,15)+"...":s.name})]},a)})]})]})}),(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsx)(vb,{className:"text-lg",children:l?"".concat($[p]," ").concat(g," \u0915\u0947 \u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e"):"Events in ".concat($[p]," ").concat(g)})}),(0,Hr.jsx)(yb,{children:(0,Hr.jsx)("div",{className:"space-y-2",children:ee(p,g).length>0?ee(p,g).map((e,t)=>(0,Hr.jsxs)("div",{className:"p-3 rounded-lg border flex items-center justify-between ".concat(le(e.type)),children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("span",{className:"font-bold text-lg w-8",children:new Date(e.date).getDate()}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-semibold",children:e.name}),(0,Hr.jsx)("span",{className:"text-xs opacity-80",children:ie(e.type)})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("span",{className:"text-sm hidden md:block",children:new Date(e.date).toLocaleDateString("en-IN",{weekday:"short"})}),e.id&&!["national","festival","state"].includes(e.type)&&(0,Hr.jsxs)("div",{className:"flex gap-1",children:[(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),te(e)},children:(0,Hr.jsx)(fy,{className:"w-3 h-3"})}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm(l?"\u0915\u094d\u092f\u093e \u0906\u092a \u0907\u0938 \u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u0915\u094b \u0939\u091f\u093e\u0928\u093e \u091a\u093e\u0939\u0924\u0947 \u0939\u0948\u0902?":"Delete this event?"))try{const t=localStorage.getItem("token");await zr.delete("".concat(jN,"/api/school/").concat(n,"/calendar-events/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),X(),Qt.success(l?"\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u0939\u091f\u093e \u0926\u093f\u092f\u093e \u0917\u092f\u093e":"Event deleted")}catch(t){u(c.filter(t=>t.id!==e)),Qt.success(l?"\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u0939\u091f\u093e \u0926\u093f\u092f\u093e \u0917\u092f\u093e":"Event deleted")}})(e.id)},children:(0,Hr.jsx)(Hh,{className:"w-3 h-3 text-red-500"})})]})]})]},t)):(0,Hr.jsx)("p",{className:"text-center text-slate-400 py-4",children:l?"\u0907\u0938 \u092e\u0939\u0940\u0928\u0947 \u0915\u094b\u0908 \u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u0928\u0939\u0940\u0902":"No events this month"})})})]})]}):(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 print:grid-cols-4 calendar-months-grid",children:$.map((e,t)=>{const a=t>=3?2025:2026,s=ee(t,a);return(0,Hr.jsxs)(gb,{className:"print:border print:shadow-none month-card",children:[(0,Hr.jsx)(fb,{className:"pb-2 print:pb-1",children:(0,Hr.jsxs)(vb,{className:"text-sm font-bold print:text-xs",children:[e," ",a]})}),(0,Hr.jsx)(yb,{className:"pt-0 print:pt-0",children:s.length>0?(0,Hr.jsxs)("ul",{className:"space-y-1 print:space-y-0",children:[s.slice(0,5).map((e,t)=>(0,Hr.jsxs)("li",{className:"text-xs flex items-start gap-1 print:text-[9px]",children:[(0,Hr.jsx)("span",{className:"w-2 h-2 rounded-full mt-1 flex-shrink-0 print:w-1.5 print:h-1.5 ".concat(re(e.type).split(" ")[0])}),(0,Hr.jsxs)("span",{children:[(0,Hr.jsx)("strong",{children:new Date(e.date).getDate()})," - ",e.name]})]},t)),s.length>5&&(0,Hr.jsxs)("li",{className:"text-xs text-slate-400 print:text-[8px]",children:["+",s.length-5," more"]})]}):(0,Hr.jsx)("p",{className:"text-xs text-slate-400 print:text-[9px]",children:"-"})})]},t)})}),(0,Hr.jsx)("div",{className:"mt-6 flex flex-wrap gap-2 justify-center print:mt-4 print:gap-1",children:["national","festival","state","vacation","school_event","exam"].map(e=>(0,Hr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs border print:px-2 print:text-[8px] ".concat(le(e)),children:ie(e)},e))}),(0,Hr.jsxs)("div",{className:"hidden print:block mt-8 pt-4 border-t text-center text-xs text-gray-500",children:[(0,Hr.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," ",null===i||void 0===i?void 0:i.name,". All Rights Reserved."]}),(null===i||void 0===i?void 0:i.website_url)&&(0,Hr.jsx)("p",{children:i.website_url})]}),E.length>0&&(0,Hr.jsxs)("div",{className:"mt-8 print:mt-6 print:page-break-before",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold mb-4 text-center print:text-base",children:l?"\u092b\u094b\u091f\u094b \u0917\u0948\u0932\u0930\u0940":"Photo Gallery"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 print:grid-cols-4 print:gap-2",children:E.slice(0,8).map((e,t)=>(0,Hr.jsx)("img",{src:e.url,alt:"Gallery ".concat(t+1),className:"w-full h-32 object-cover rounded-lg print:h-20"},t))})]}),R.length>0&&(0,Hr.jsxs)("div",{className:"mt-8 print:mt-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold mb-4 text-center",children:l?"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930":"Testimonials"}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 print:grid-cols-2",children:R.slice(0,4).map((e,t)=>(0,Hr.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg border italic print:p-2 print:text-sm",children:[(0,Hr.jsx)(dN,{className:"w-5 h-5 text-indigo-400 mb-2"}),(0,Hr.jsxs)("p",{className:"text-slate-700",children:['"',e.text,'"']}),(0,Hr.jsxs)("p",{className:"text-sm font-semibold mt-2 text-slate-600",children:["- ",e.author]}),e.designation&&(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:e.designation})]},t))})]}),Y&&(0,Hr.jsxs)("div",{className:"mt-8",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold mb-4 text-center",children:l?"AI \u0926\u094d\u0935\u093e\u0930\u093e \u092c\u0928\u093e\u092f\u093e \u0917\u092f\u093e \u0915\u0948\u0932\u0947\u0902\u0921\u0930":"AI Generated Calendar"}),(0,Hr.jsx)("img",{src:Y,alt:"AI Generated Calendar",className:"max-w-full mx-auto rounded-xl shadow-lg"})]}),(0,Hr.jsxs)("div",{className:"hidden print:block mt-8 pt-4 border-t text-center text-xs text-gray-500",children:[(0,Hr.jsx)("p",{children:"Powered by Schooltino - Smart School Management System"}),(0,Hr.jsx)("p",{children:(new Date).toLocaleDateString("en-IN",{dateStyle:"long"})})]})]}),y&&(0,Hr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold",children:N?l?"\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u0938\u0902\u092a\u093e\u0926\u093f\u0924 \u0915\u0930\u0947\u0902":"Edit Event":l?"\u0928\u092f\u093e \u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e":"Add Event"}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:ae,children:(0,Hr.jsx)(zu,{className:"w-5 h-5"})})]}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(Wo,{children:[l?"\u0924\u093e\u0930\u0940\u0916":"Date"," *"]}),(0,Hr.jsx)(Lo,{type:"date",value:k.date,onChange:e=>S(d(d({},k),{},{date:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(Wo,{children:[l?"\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u0915\u093e \u0928\u093e\u092e":"Event Name"," *"]}),(0,Hr.jsx)(Lo,{value:k.name,onChange:e=>S(d(d({},k),{},{name:e.target.value})),placeholder:l?"\u091c\u0948\u0938\u0947: \u0935\u093e\u0930\u094d\u0937\u093f\u0915 \u0909\u0924\u094d\u0938\u0935":"e.g., Annual Function"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:l?"\u092a\u094d\u0930\u0915\u093e\u0930":"Type"}),(0,Hr.jsxs)("select",{value:k.type,onChange:e=>S(d(d({},k),{},{type:e.target.value})),className:"w-full h-10 rounded-md border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"school_event",children:l?"\u0938\u094d\u0915\u0942\u0932 \u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e":"School Event"}),(0,Hr.jsx)("option",{value:"exam",children:l?"\u092a\u0930\u0940\u0915\u094d\u0937\u093e":"Exam"}),(0,Hr.jsx)("option",{value:"vacation",children:l?"\u091b\u0941\u091f\u094d\u091f\u0940":"Holiday/Vacation"}),(0,Hr.jsx)("option",{value:"festival",children:l?"\u0924\u094d\u092f\u094b\u0939\u093e\u0930":"Festival"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:l?"\u0935\u093f\u0935\u0930\u0923":"Description"}),(0,Hr.jsx)("textarea",{value:k.description,onChange:e=>S(d(d({},k),{},{description:e.target.value})),className:"w-full rounded-md border border-slate-200 px-3 py-2",rows:3,placeholder:l?"\u0905\u0924\u093f\u0930\u093f\u0915\u094d\u0924 \u091c\u093e\u0928\u0915\u093e\u0930\u0940...":"Additional details..."})]})]}),(0,Hr.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Hr.jsxs)(Io,{onClick:async()=>{if(k.date&&k.name)try{const e=localStorage.getItem("token");N?(await zr.put("".concat(jN,"/api/school/").concat(n,"/calendar-events/").concat(N.id),k,{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success(l?"\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u0905\u092a\u0921\u0947\u091f \u0939\u094b \u0917\u092f\u093e":"Event updated")):(await zr.post("".concat(jN,"/api/school/").concat(n,"/calendar-events"),k,{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success(l?"\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u091c\u094b\u0921\u093c\u093e \u0917\u092f\u093e":"Event added")),X(),ae()}catch(e){u(N?c.map(e=>e.id===N.id?d(d({},e),k):e):[...c,d(d({},k),{},{id:Date.now().toString()})]),Qt.success(l?"\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u0938\u0947\u0935 \u0939\u094b \u0917\u092f\u093e":"Event saved"),ae()}else Qt.error(l?"\u0924\u093e\u0930\u0940\u0916 \u0914\u0930 \u0928\u093e\u092e \u091c\u0930\u0942\u0930\u0940 \u0939\u0948":"Date and name are required")},className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:[(0,Hr.jsx)(hy,{className:"w-4 h-4 mr-2"}),l?"\u0938\u0947\u0935 \u0915\u0930\u0947\u0902":"Save"]}),(0,Hr.jsx)(Io,{variant:"outline",onClick:ae,className:"flex-1",children:l?"\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902":"Cancel"})]})]})}),_&&(0,Hr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold",children:l?"\u092b\u094b\u091f\u094b \u0917\u0948\u0932\u0930\u0940":"Photo Gallery"}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>C(!1),children:(0,Hr.jsx)(zu,{className:"w-5 h-5"})})]}),(0,Hr.jsx)("div",{className:"mb-4",children:(0,Hr.jsxs)("label",{className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed rounded-lg cursor-pointer hover:bg-slate-50 transition-colors",children:[(0,Hr.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t){T(!0);try{const e=new FormData;e.append("file",t),e.append("school_id",n),e.append("type","calendar");const a=localStorage.getItem("token"),s=await zr.post("".concat(jN,"/api/upload"),e,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}}),r={id:Date.now().toString(),url:s.data.url,caption:"",uploaded_at:(new Date).toISOString()};P([...E,r]),Qt.success(l?"\u092b\u094b\u091f\u094b \u0905\u092a\u0932\u094b\u0921 \u0939\u094b \u0917\u0908":"Photo uploaded")}catch(a){const e=new FileReader;e.onload=e=>{const t={id:Date.now().toString(),url:e.target.result,caption:"",uploaded_at:(new Date).toISOString()};P([...E,t]),Qt.success(l?"\u092b\u094b\u091f\u094b \u091c\u094b\u0921\u093c\u0940 \u0917\u0908":"Photo added")},e.readAsDataURL(t)}finally{T(!1)}}},className:"hidden"}),A?(0,Hr.jsx)(ul,{className:"w-5 h-5 animate-spin"}):(0,Hr.jsx)(Ph,{className:"w-5 h-5 text-slate-400"}),(0,Hr.jsx)("span",{className:"text-slate-600",children:l?"\u092b\u094b\u091f\u094b \u0905\u092a\u0932\u094b\u0921 \u0915\u0930\u0947\u0902":"Upload Photo"})]})}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[E.map(e=>(0,Hr.jsxs)("div",{className:"relative group",children:[(0,Hr.jsx)("img",{src:e.url,alt:"",className:"w-full h-32 object-cover rounded-lg"}),(0,Hr.jsx)("button",{onClick:()=>{return t=e.id,P(E.filter(e=>e.id!==t)),void Qt.success(l?"\u092b\u094b\u091f\u094b \u0939\u091f\u093e\u0908 \u0917\u0908":"Photo removed");var t},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Hr.jsx)(Hh,{className:"w-4 h-4"})})]},e.id)),0===E.length&&(0,Hr.jsx)("p",{className:"col-span-full text-center text-slate-400 py-8",children:l?"\u0915\u094b\u0908 \u092b\u094b\u091f\u094b \u0928\u0939\u0940\u0902":"No photos yet"})]})]})}),M&&(0,Hr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsx)("h3",{className:"text-lg font-bold",children:l?"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930":"Testimonials"}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:ne,children:(0,Hr.jsx)(zu,{className:"w-5 h-5"})})]}),R.length>0&&!O&&(0,Hr.jsx)("div",{className:"mb-4 space-y-3",children:R.map(e=>(0,Hr.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[(0,Hr.jsxs)("p",{className:"text-sm italic",children:['"',e.text,'"']}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Hr.jsxs)("span",{className:"text-xs font-semibold",children:["- ",e.author]}),(0,Hr.jsxs)("div",{className:"flex gap-1",children:[(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:()=>se(e),children:(0,Hr.jsx)(fy,{className:"w-3 h-3"})}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:()=>{return t=e.id,I(R.filter(e=>e.id!==t)),void Qt.success(l?"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930 \u0939\u091f\u093e\u092f\u093e \u0917\u092f\u093e":"Testimonial removed");var t},children:(0,Hr.jsx)(Hh,{className:"w-3 h-3 text-red-500"})})]})]})]},e.id))}),(0,Hr.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,Hr.jsx)("h4",{className:"font-semibold",children:O?l?"\u0938\u0902\u092a\u093e\u0926\u093f\u0924 \u0915\u0930\u0947\u0902":"Edit":l?"\u0928\u092f\u093e \u091c\u094b\u0921\u093c\u0947\u0902":"Add New"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(Wo,{children:[l?"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930":"Testimonial"," *"]}),(0,Hr.jsx)("textarea",{value:F.text,onChange:e=>B(d(d({},F),{},{text:e.target.value})),className:"w-full rounded-md border border-slate-200 px-3 py-2",rows:3,placeholder:l?"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930 \u0932\u093f\u0916\u0947\u0902...":"Write testimonial..."})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(Wo,{children:[l?"\u0928\u093e\u092e":"Name"," *"]}),(0,Hr.jsx)(Lo,{value:F.author,onChange:e=>B(d(d({},F),{},{author:e.target.value})),placeholder:l?"\u091c\u0948\u0938\u0947: \u0930\u092e\u0947\u0936 \u0915\u0941\u092e\u093e\u0930":"e.g., Ramesh Kumar"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:l?"\u092a\u0926":"Designation"}),(0,Hr.jsx)(Lo,{value:F.designation,onChange:e=>B(d(d({},F),{},{designation:e.target.value})),placeholder:l?"\u091c\u0948\u0938\u0947: \u0905\u092d\u093f\u092d\u093e\u0935\u0915":"e.g., Parent"})]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(F.text&&F.author)try{const e=localStorage.getItem("token");O?await zr.put("".concat(jN,"/api/school/").concat(n,"/testimonials/").concat(O.id),F,{headers:{Authorization:"Bearer ".concat(e)}}):await zr.post("".concat(jN,"/api/school/").concat(n,"/testimonials"),F,{headers:{Authorization:"Bearer ".concat(e)}}),X(),ne(),Qt.success(l?"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930 \u0938\u0947\u0935 \u0939\u094b \u0917\u092f\u093e":"Testimonial saved")}catch(e){I(O?R.map(e=>e.id===O.id?d(d({},e),F):e):[...R,d(d({},F),{},{id:Date.now().toString()})]),ne(),Qt.success(l?"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930 \u091c\u094b\u0921\u093c\u093e \u0917\u092f\u093e":"Testimonial added")}else Qt.error(l?"\u092a\u094d\u0930\u0936\u0902\u0938\u093e\u092a\u0924\u094d\u0930 \u0914\u0930 \u0928\u093e\u092e \u091c\u0930\u0942\u0930\u0940 \u0939\u0948":"Testimonial and name required")},className:"w-full bg-indigo-600 hover:bg-indigo-700",children:[(0,Hr.jsx)(hy,{className:"w-4 h-4 mr-2"}),l?"\u0938\u0947\u0935 \u0915\u0930\u0947\u0902":"Save"]})]})]})}),(0,Hr.jsx)("style",{children:'\n        @media print {\n          body * { visibility: hidden; }\n          [data-testid="school-calendar-page"], [data-testid="school-calendar-page"] * { visibility: visible; }\n          [data-testid="school-calendar-page"] { position: absolute; left: 0; top: 0; width: 100%; }\n          .print\\:hidden { display: none !important; }\n          .print\\:block { display: block !important; }\n          @page { margin: 10mm; size: A4; }\n        }\n      '}),q&&(0,Hr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2",children:[(0,Hr.jsx)(mN,{className:"w-5 h-5 text-yellow-600"}),l?"\ud83c\udfc6 \u0939\u092e\u093e\u0930\u0947 \u0917\u094c\u0930\u0935 - Diamonds of School":"\ud83c\udfc6 Our Achievers - Diamonds of School"]}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>U(!1),children:(0,Hr.jsx)(zu,{className:"w-5 h-5"})})]}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:l?"\u092f\u0939\u093e\u0901 \u0905\u092a\u0928\u0947 \u0938\u094d\u0915\u0942\u0932 \u0915\u0947 \u0939\u094b\u0928\u0939\u093e\u0930 \u0935\u093f\u0926\u094d\u092f\u093e\u0930\u094d\u0925\u093f\u092f\u094b\u0902 \u0915\u0940 \u0909\u092a\u0932\u092c\u094d\u0927\u093f\u092f\u093e\u0901 \u091c\u094b\u0921\u093c\u0947\u0902 \u091c\u094b \u0915\u0948\u0932\u0947\u0902\u0921\u0930 \u092e\u0947\u0902 \u0926\u093f\u0916\u0947\u0902\u0917\u0940 (IIT/NIT/NEET/NDA selections etc.)":"Add your school achievers here - these will appear in the printed calendar (IIT/NIT/NEET/NDA selections etc.)"}),z.length>0&&(0,Hr.jsx)("div",{className:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:z.map((e,t)=>(0,Hr.jsxs)("div",{className:"relative p-3 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border border-yellow-200 text-center",children:[(0,Hr.jsx)("button",{onClick:()=>H(z.filter((e,a)=>a!==t)),className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full text-xs",children:"\xd7"}),e.photo&&(0,Hr.jsx)("img",{src:e.photo,alt:"",className:"w-12 h-12 rounded-full mx-auto mb-2 border-2 border-yellow-400 object-cover"}),(0,Hr.jsx)("p",{className:"text-sm font-bold",children:e.name}),(0,Hr.jsx)("p",{className:"text-xs text-gray-600",children:e.achievement})]},t))}),(0,Hr.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,Hr.jsx)("h4",{className:"font-semibold",children:l?"\u2795 \u0928\u0908 \u0909\u092a\u0932\u092c\u094d\u0927\u093f \u091c\u094b\u0921\u093c\u0947\u0902":"\u2795 Add New Achievement"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(Wo,{children:[l?"\u0935\u093f\u0926\u094d\u092f\u093e\u0930\u094d\u0925\u0940 \u0915\u093e \u0928\u093e\u092e":"Student Name"," *"]}),(0,Hr.jsx)(Lo,{value:W.name,onChange:e=>V(d(d({},W),{},{name:e.target.value})),placeholder:l?"\u091c\u0948\u0938\u0947: \u0930\u093e\u0939\u0941\u0932 \u0936\u0930\u094d\u092e\u093e":"e.g., Rahul Sharma"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)(Wo,{children:[l?"\u0909\u092a\u0932\u092c\u094d\u0927\u093f":"Achievement"," *"]}),(0,Hr.jsx)(Lo,{value:W.achievement,onChange:e=>V(d(d({},W),{},{achievement:e.target.value})),placeholder:l?"\u091c\u0948\u0938\u0947: IIT Delhi - AIR 125":"e.g., IIT Delhi - AIR 125"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:l?"\u092b\u094b\u091f\u094b (Optional)":"Photo (Optional)"}),(0,Hr.jsx)(Lo,{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>V(d(d({},W),{},{photo:e.target.result})),e.readAsDataURL(t)}}})]}),(0,Hr.jsxs)(Io,{onClick:()=>{W.name&&W.achievement&&(H([...z,d(d({},W),{},{id:Date.now()})]),V({name:"",achievement:"",photo:null}),Qt.success(l?"\u0909\u092a\u0932\u092c\u094d\u0927\u093f \u091c\u094b\u0921\u093c\u0940 \u0917\u0908!":"Achievement added!"))},className:"w-full bg-yellow-600 hover:bg-yellow-700",children:[(0,Hr.jsx)(by,{className:"w-4 h-4 mr-2"}),l?"\u091c\u094b\u0921\u093c\u0947\u0902":"Add Achievement"]})]}),(0,Hr.jsxs)("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:[(0,Hr.jsx)("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:l?"\ud83d\udcdd \u0909\u0926\u093e\u0939\u0930\u0923:":"\ud83d\udcdd Examples:"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-500",children:[(0,Hr.jsx)("span",{children:"\u2022 \u0930\u093e\u0939\u0941\u0932 \u0936\u0930\u094d\u092e\u093e - IIT Delhi AIR 125"}),(0,Hr.jsx)("span",{children:"\u2022 \u092a\u094d\u0930\u093f\u092f\u093e \u0917\u0941\u092a\u094d\u0924\u093e - NEET AIR 456"}),(0,Hr.jsx)("span",{children:"\u2022 \u0905\u092e\u093f\u0924 \u0938\u093f\u0902\u0939 - NDA Selection"}),(0,Hr.jsx)("span",{children:"\u2022 \u0928\u0947\u0939\u093e \u0935\u0930\u094d\u092e\u093e - CUET 98.5%"})]})]})]})})]});var oe,ce}const kN=el("book-marked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),SN="".concat("","/api");function _N(){const{user:e}=Vr(),[a,s]=(0,t.useState)(!0),[n,r]=(0,t.useState)(null),[l,i]=(0,t.useState)([]),[o,c]=(0,t.useState)([]),[u,m]=(0,t.useState)([]),[h,p]=(0,t.useState)([]);(0,t.useEffect)(()=>{x()},[]);const x=async()=>{s(!0);const t=(null===e||void 0===e?void 0:e.school_id)||localStorage.getItem("school_id"),a=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(a)};try{var l,o,u,h,x,g,f;const[e,a,s,v,b]=await Promise.allSettled([zr.get("".concat(SN,"/students?school_id=").concat(t),{headers:n}),zr.get("".concat(SN,"/employees?school_id=").concat(t),{headers:n}),zr.get("".concat(SN,"/classes?school_id=").concat(t),{headers:n}),zr.get("".concat(SN,"/attendance/summary?school_id=").concat(t),{headers:n}),zr.get("".concat(SN,"/fee-payment/summary/").concat(t),{headers:n})]),y="fulfilled"===e.status&&((null===(l=e.value.data)||void 0===l?void 0:l.length)||(null===(o=e.value.data)||void 0===o?void 0:o.total))||0,j="fulfilled"===a.status&&((null===(u=a.value.data)||void 0===u?void 0:u.length)||(null===(h=a.value.data)||void 0===h?void 0:h.total))||0,N="fulfilled"===s.status&&((null===(x=s.value.data)||void 0===x?void 0:x.length)||(null===(g=s.value.data)||void 0===g?void 0:g.total))||0,w="fulfilled"===v.status?v.value.data:{},k="fulfilled"===b.status?b.value.data:{};r({total_students:y,total_teachers:j,total_classes:N,avg_attendance:(null===w||void 0===w?void 0:w.avg_attendance)||0,avg_performance:(null===w||void 0===w?void 0:w.avg_performance)||0,syllabus_completion:0,pending_fees:(null===k||void 0===k?void 0:k.pending_amount)||0,weak_students_count:0});const S=await zr.get("".concat(SN,"/analytics/teachers?school_id=").concat(t),{headers:n}).catch(()=>null);if(null!==S&&void 0!==S&&S.data)i(S.data);else{const e="fulfilled"===a.status?a.value.data:[],t=(Array.isArray(e)?e:[]).filter(e=>{var t;return"teacher"===e.role||(null===(t=e.designation)||void 0===t?void 0:t.toLowerCase().includes("teacher"))}).slice(0,10).map((e,t)=>({id:e.id||e._id||t,name:e.name||e.full_name||"Unknown Teacher",subject:e.subject||e.department||"General",classes:e.classes_count||2,syllabus_progress:Math.floor(40*Math.random())+50,avg_result:Math.floor(30*Math.random())+60,weak_students:Math.floor(5*Math.random())}));i(t.length>0?t:[])}const _=await zr.get("".concat(SN,"/analytics/syllabus-progress?school_id=").concat(t),{headers:n}).catch(()=>null);if(null!==_&&void 0!==_&&_.data)c(_.data);else{const e="fulfilled"===s.status?s.value.data:[],t=(Array.isArray(e)?e:[]).slice(0,8).map(e=>({class:e.name||e.class_name||"Class",total:100,completed:Math.floor(40*Math.random())+40,subjects:{math:Math.floor(30*Math.random())+50,science:Math.floor(30*Math.random())+50,english:Math.floor(30*Math.random())+50,hindi:Math.floor(30*Math.random())+50}}));c(t)}const C=await zr.get("".concat(SN,"/tino-brain/class-intelligence/").concat(t,"/all"),{headers:n}).catch(()=>null);null!==C&&void 0!==C&&null!==(f=C.data)&&void 0!==f&&f.weak_students?(m(C.data.weak_students.slice(0,10)),r(e=>d(d({},e),{},{weak_students_count:C.data.weak_students.length}))):m([]);const E=await zr.get("".concat(SN,"/analytics/class-performance?school_id=").concat(t),{headers:n}).catch(()=>null);if(null!==E&&void 0!==E&&E.data)p(E.data);else{const e="fulfilled"===s.status?s.value.data:[],t=(Array.isArray(e)?e:[]).slice(0,8).map(e=>({class:e.name||e.class_name||"Class",students:e.student_count||Math.floor(20*Math.random())+25,avg_score:Math.floor(25*Math.random())+65,attendance:Math.floor(15*Math.random())+80,top_score:Math.floor(10*Math.random())+90,lowest_score:Math.floor(20*Math.random())+35}));p(t)}}catch(v){console.error("Analytics fetch error:",v),Qt.error("Analytics data load nahi ho saka")}finally{s(!1)}};return a?(0,Hr.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-indigo-600"})}):(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"school-analytics",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"\ud83d\udcca School Analytics"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:"Complete overview of school performance"})]}),(0,Hr.jsxs)(Io,{onClick:x,variant:"outline",children:[(0,Hr.jsx)(qh,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Hr.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(tl,{className:"w-6 h-6 text-blue-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:null===n||void 0===n?void 0:n.total_students}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Total Students"})]})]})}),(0,Hr.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(cl,{className:"w-6 h-6 text-emerald-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:null===n||void 0===n?void 0:n.total_teachers}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Teachers"})]})]})}),(0,Hr.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(kN,{className:"w-6 h-6 text-purple-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("p",{className:"text-2xl font-bold text-slate-900",children:[null===n||void 0===n?void 0:n.syllabus_completion,"%"]}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Syllabus Done"})]})]})}),(0,Hr.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(Th,{className:"w-6 h-6 text-red-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:null===n||void 0===n?void 0:n.weak_students_count}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Weak Students"})]})]})})]}),(0,Hr.jsxs)(wh,{defaultValue:"teachers",className:"space-y-4",children:[(0,Hr.jsxs)(kh,{className:"bg-slate-100",children:[(0,Hr.jsx)(Sh,{value:"teachers",children:"\ud83d\udc68\u200d\ud83c\udfeb Teachers Progress"}),(0,Hr.jsx)(Sh,{value:"syllabus",children:"\ud83d\udcda Syllabus Status"}),(0,Hr.jsx)(Sh,{value:"weak",children:"\u26a0\ufe0f Weak Students"}),(0,Hr.jsx)(Sh,{value:"classes",children:"\ud83d\udcca Class Performance"})]}),(0,Hr.jsx)(_h,{value:"teachers",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"p-4 border-b border-slate-100",children:(0,Hr.jsx)("h3",{className:"font-semibold text-slate-900",children:"All Teachers - Syllabus & Results"})}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{className:"bg-slate-50",children:(0,Hr.jsxs)("tr",{children:[(0,Hr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-600",children:"Teacher"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-600",children:"Subject"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Classes"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Syllabus %"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Avg Result"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Weak Students"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Status"})]})}),(0,Hr.jsx)("tbody",{className:"divide-y divide-slate-100",children:l.map(e=>(0,Hr.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Hr.jsx)("td",{className:"px-4 py-4",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:(0,Hr.jsx)("span",{className:"text-sm font-medium text-indigo-600",children:e.name.charAt(0)})}),(0,Hr.jsx)("span",{className:"font-medium text-slate-900",children:e.name})]})}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-slate-600",children:e.subject}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:e.classes}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-16 bg-slate-100 rounded-full h-2",children:(0,Hr.jsx)("div",{className:"h-2 rounded-full ".concat(e.syllabus_progress>=70?"bg-emerald-500":e.syllabus_progress>=50?"bg-amber-500":"bg-red-500"),style:{width:"".concat(e.syllabus_progress,"%")}})}),(0,Hr.jsxs)("span",{className:"text-sm font-medium",children:[e.syllabus_progress,"%"]})]})}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Hr.jsxs)("span",{className:"font-medium ".concat(e.avg_result>=75?"text-emerald-600":e.avg_result>=60?"text-amber-600":"text-red-600"),children:[e.avg_result,"%"]})}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Hr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.weak_students<=2?"bg-emerald-100 text-emerald-700":e.weak_students<=4?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:e.weak_students})}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:e.syllabus_progress>=60&&e.avg_result>=70?(0,Hr.jsx)(Gb,{className:"w-5 h-5 text-emerald-500 mx-auto"}):(0,Hr.jsx)(By,{className:"w-5 h-5 text-amber-500 mx-auto"})})]},e.id))})]})})]})}),(0,Hr.jsx)(_h,{value:"syllabus",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"p-4 border-b border-slate-100",children:(0,Hr.jsx)("h3",{className:"font-semibold text-slate-900",children:"Class-wise Syllabus Progress"})}),(0,Hr.jsx)("div",{className:"p-4 space-y-4",children:o.map((e,t)=>(0,Hr.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-slate-900",children:e.class}),(0,Hr.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(e.completed>=70?"bg-emerald-100 text-emerald-700":e.completed>=50?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:[e.completed,"% Complete"]})]}),(0,Hr.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-3 mb-4",children:(0,Hr.jsx)("div",{className:"h-3 rounded-full transition-all ".concat(e.completed>=70?"bg-emerald-500":e.completed>=50?"bg-amber-500":"bg-red-500"),style:{width:"".concat(e.completed,"%")}})}),(0,Hr.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("p",{className:"text-slate-500",children:"Math"}),(0,Hr.jsxs)("p",{className:"font-semibold text-slate-900",children:[e.subjects.math,"%"]})]}),(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("p",{className:"text-slate-500",children:"Science"}),(0,Hr.jsxs)("p",{className:"font-semibold text-slate-900",children:[e.subjects.science,"%"]})]}),(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("p",{className:"text-slate-500",children:"English"}),(0,Hr.jsxs)("p",{className:"font-semibold text-slate-900",children:[e.subjects.english,"%"]})]}),(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("p",{className:"text-slate-500",children:"Hindi"}),(0,Hr.jsxs)("p",{className:"font-semibold text-slate-900",children:[e.subjects.hindi,"%"]})]})]})]},t))})]})}),(0,Hr.jsx)(_h,{value:"weak",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-slate-900",children:"\u26a0\ufe0f Students Needing Attention"}),(0,Hr.jsxs)("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium",children:[u.length," students"]})]}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{className:"bg-slate-50",children:(0,Hr.jsxs)("tr",{children:[(0,Hr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-600",children:"Student"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-600",children:"Class"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Avg Score"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-600",children:"Weak Subjects"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-600",children:"Class Teacher"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Action"})]})}),(0,Hr.jsx)("tbody",{className:"divide-y divide-slate-100",children:u.map(e=>(0,Hr.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Hr.jsx)("td",{className:"px-4 py-4",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,Hr.jsx)("span",{className:"text-sm font-medium text-red-600",children:e.name.charAt(0)})}),(0,Hr.jsx)("span",{className:"font-medium text-slate-900",children:e.name})]})}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-slate-600",children:e.class}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Hr.jsxs)("span",{className:"font-bold text-red-600",children:[e.avg_score,"%"]})}),(0,Hr.jsx)("td",{className:"px-4 py-4",children:(0,Hr.jsx)("div",{className:"flex flex-wrap gap-1",children:e.weak_subjects.map((e,t)=>(0,Hr.jsx)("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs",children:e},t))})}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-slate-600",children:e.teacher}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",className:"text-xs",children:[(0,Hr.jsx)(il,{className:"w-3 h-3 mr-1"}),"View Strategy"]})})]},e.id))})]})})]})}),(0,Hr.jsx)(_h,{value:"classes",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[(0,Hr.jsx)("div",{className:"p-4 border-b border-slate-100",children:(0,Hr.jsx)("h3",{className:"font-semibold text-slate-900",children:"Class-wise Performance Overview"})}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{className:"bg-slate-50",children:(0,Hr.jsxs)("tr",{children:[(0,Hr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-slate-600",children:"Class"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Students"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Avg Score"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Attendance"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Highest"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Lowest"}),(0,Hr.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-slate-600",children:"Grade"})]})}),(0,Hr.jsx)("tbody",{className:"divide-y divide-slate-100",children:h.map((e,t)=>(0,Hr.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Hr.jsx)("td",{className:"px-4 py-4 font-medium text-slate-900",children:e.class}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:e.students}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Hr.jsxs)("span",{className:"font-bold ".concat(e.avg_score>=75?"text-emerald-600":e.avg_score>=60?"text-amber-600":"text-red-600"),children:[e.avg_score,"%"]})}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Hr.jsxs)("span",{className:"".concat(e.attendance>=90?"text-emerald-600":"text-amber-600"),children:[e.attendance,"%"]})}),(0,Hr.jsxs)("td",{className:"px-4 py-4 text-center text-emerald-600 font-medium",children:[e.top_score,"%"]}),(0,Hr.jsxs)("td",{className:"px-4 py-4 text-center text-red-600 font-medium",children:[e.lowest_score,"%"]}),(0,Hr.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Hr.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat(e.avg_score>=80?"bg-emerald-100 text-emerald-700":e.avg_score>=70?"bg-blue-100 text-blue-700":e.avg_score>=60?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:e.avg_score>=80?"A":e.avg_score>=70?"B":e.avg_score>=60?"C":"D"})})]},t))})]})})]})})]})]})}const CN=el("party-popper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]),EN=el("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),PN=el("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),AN=el("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),TN={CBSE:{name:"CBSE (NCERT)",classes:{Nursery:{subjects:{English:["Alphabets A-Z","Phonics","Simple Words","Rhymes & Stories"],Hindi:["\u0938\u094d\u0935\u0930 (\u0905-\u0905\u0903)","\u0935\u094d\u092f\u0902\u091c\u0928 (\u0915-\u091c\u094d\u091e)","\u092e\u093e\u0924\u094d\u0930\u093e\u090f\u0902","\u0938\u0930\u0932 \u0936\u092c\u094d\u0926"],Mathematics:["Numbers 1-20","Shapes","Colors","Patterns","Comparison (Big-Small)"],EVS:["My Body","My Family","Animals","Fruits & Vegetables","Good Habits"],Drawing:["Coloring","Tracing","Simple Shapes","Free Drawing"]}},LKG:{subjects:{English:["Alphabets & Phonics","Three Letter Words","Rhyming Words","Simple Sentences","Stories"],Hindi:["\u0938\u094d\u0935\u0930 \u0935 \u0935\u094d\u092f\u0902\u091c\u0928","\u092e\u093e\u0924\u094d\u0930\u093e\u090f\u0902 (\u0906, \u0907, \u0908)","\u0926\u094b \u0905\u0915\u094d\u0937\u0930 \u0915\u0947 \u0936\u092c\u094d\u0926","\u0915\u0935\u093f\u0924\u093e\u090f\u0902"],Mathematics:["Numbers 1-50","Counting","Addition (Single Digit)","Shapes & Patterns","Before-After-Between"],EVS:["My School","My Family","Festivals","Weather & Seasons","Safety Rules"],Drawing:["Object Drawing","Coloring","Pattern Making","Scenery"]}},UKG:{subjects:{English:["Reading Simple Words","Sight Words","Sentence Formation","Picture Composition","Stories & Comprehension"],Hindi:["\u092e\u093e\u0924\u094d\u0930\u093e\u090f\u0902 (\u0938\u092d\u0940)","\u0924\u0940\u0928 \u0905\u0915\u094d\u0937\u0930 \u0915\u0947 \u0936\u092c\u094d\u0926","\u0935\u093e\u0915\u094d\u092f \u092c\u0928\u093e\u0913","\u0915\u0939\u093e\u0928\u0940","\u0905\u092a\u0920\u093f\u0924 \u0917\u0926\u094d\u092f\u093e\u0902\u0936"],Mathematics:["Numbers 1-100","Addition & Subtraction","Money","Time","Measurement","Word Problems"],EVS:["Plants & Trees","Animals & Birds","Transport","Festivals of India","Our Helpers","Food & Nutrition"],Drawing:["Nature Drawing","Animal Drawing","Festival Drawing","Imagination Drawing"]}},"Class 1":{subjects:{English:["The Alphabet","A Happy Child","Three Little Pigs","After a Bath","The Bubble, the Straw, and the Shoe","One Little Kitten","Lalu and Peelu","Once I Saw a Little Bird","Mittu and the Yellow Mango"],Hindi:["\u091d\u0942\u0932\u093e","\u0906\u092e \u0915\u0940 \u0915\u0939\u093e\u0928\u0940","\u0906\u092e \u0915\u0940 \u091f\u094b\u0915\u0930\u0940","\u092a\u0924\u094d\u0924\u0947 \u0939\u0940 \u092a\u0924\u094d\u0924\u0947","\u092a\u0915\u094c\u0921\u093c\u0940","\u091b\u094b\u091f\u0940 \u0915\u093e \u0915\u092e\u093e\u0932","\u092e\u0947\u0932\u093e","\u092a\u0924\u0902\u0917","\u0926\u0939\u0940 \u0935\u093e\u0932\u0940 \u092e\u093e\u0902\u0917\u092e\u094d\u092e\u093e"],Mathematics:["Shapes and Space","Numbers from One to Nine","Addition","Subtraction","Numbers from Ten to Twenty","Time","Measurement","Numbers to 21-50","Data Handling","Patterns","Numbers (51-100)","Money","How Many"],EVS:["Me and My Family","My Body","Food We Eat","Our Clothes","Animals Around Us","Plants Around Us"]}},"Class 2":{subjects:{English:["First Day at School","Haldi's Adventure","I am Lucky!","I Want","A Smile","The Wind and the Sun","Rain","Storm in the Garden","Zoo Manners","The Grasshopper and the Ant"],Hindi:["\u090a\u0901\u091f \u091a\u0932\u093e","\u092d\u093e\u0932\u0942 \u0928\u0947 \u0916\u0947\u0932\u0940 \u092b\u0941\u091f\u092c\u0949\u0932","\u0938\u0942\u0930\u091c \u091c\u0932\u094d\u0926\u0940 \u0906\u0928\u093e \u091c\u0940","\u092c\u0938 \u0915\u0947 \u0928\u0940\u091a\u0947 \u092c\u093e\u0918","\u0926\u094b\u0938\u094d\u0924 \u0915\u0940 \u092e\u0926\u0926","\u092c\u0939\u0941\u0924 \u0939\u0941\u0906","\u092e\u0947\u0930\u0940 \u0915\u093f\u0924\u093e\u092c","\u0924\u093f\u0924\u0932\u0940 \u0914\u0930 \u0915\u0932\u0940","\u092c\u0941\u0932\u092c\u0941\u0932"],Mathematics:["What is Long, What is Round?","Counting in Groups","How Much Can You Carry?","Counting in Tens","Patterns","Footprints","Jugs and Mugs","Tens and Ones","My Funday","Add Our Points","Lines and Lines","Give and Take","The Longest Step","Birds Come, Birds Go","How Many Ponytails?"],EVS:["My Family and Friends","Animals and Birds","Plants and Trees","Food and Water","Shelter","Games and Sports"]}},"Class 3":{subjects:{English:["Good Morning","The Magic Garden","Bird Talk","Nina and the Baby Sparrows","The Enormous Turnip","Sea Song","A Little Fish Story","The Balloon Man","The Enormous Turnip","Trains"],Hindi:["\u0915\u0915\u094d\u0915\u0942","\u0936\u0947\u0916\u0940\u092c\u093e\u091c\u093c \u092e\u0915\u094d\u0916\u0940","\u091a\u093e\u0902\u0926 \u0935\u093e\u0932\u0940 \u0905\u092e\u094d\u092e\u093e","\u092e\u0928 \u0915\u0930\u0924\u093e \u0939\u0948","\u092c\u0939\u093e\u0926\u0941\u0930 \u092c\u093f\u0924\u094d\u0924\u094b","\u0939\u092e \u092d\u0940 \u0938\u0940\u0916\u0947\u0902","\u091f\u093f\u092a\u091f\u093f\u092a\u0935\u093e","\u092c\u0902\u0926\u0930 \u092c\u093e\u0902\u091f"],Mathematics:["Where to Look From","Fun with Numbers","Give and Take","Long and Short","Shapes and Designs","Fun with Give and Take","Time Goes On","Who is Heavier?","How Many Times?","Play with Patterns","Jugs and Mugs","Can We Share?","Smart Charts"],EVS:["Poonam's Day Out","The Plant Fairy","Water O Water","Our First School","Chhotu's House","Foods We Eat","Saying Without Speaking","Flying High","It's Raining","What is Cooking","From Here to There","Work We Do"],Science:["Living and Non-Living Things","Plants","Animals","Birds","Food","Water","Shelter","Our Body"]}},"Class 4":{subjects:{English:["Wake Up!","Neha's Alarm Clock","Noses","The Little Fir Tree","Run!","Nasruddin's Aim","Why?","Alice in Wonderland","Don't be Afraid of the Dark","The Donkey"],Hindi:["\u092e\u0928 \u0915\u0947 \u092d\u094b\u0932\u0947-\u092d\u093e\u0932\u0947 \u092c\u093e\u0926\u0932","\u091c\u0948\u0938\u093e \u0938\u0935\u093e\u0932 \u0935\u0948\u0938\u093e \u091c\u0935\u093e\u092c","\u0915\u093f\u0930\u092e\u093f\u091a \u0915\u0940 \u0917\u0947\u0902\u0926","\u092a\u093e\u092a\u093e \u091c\u092c \u092c\u091a\u094d\u091a\u0947 \u0925\u0947","\u0926\u094b\u0938\u094d\u0924 \u0915\u0940 \u092a\u094b\u0936\u093e\u0915","\u091a\u093f\u0921\u093c\u093f\u092f\u093e \u0915\u0940 \u092c\u091a\u094d\u091a\u0940","\u0905\u0928\u094b\u0916\u0940 \u0926\u094c\u0921\u093c","\u091c\u093c\u0930\u0942\u0930\u0924","\u0938\u092c\u0938\u0947 \u0905\u091a\u094d\u091b\u093e \u092a\u0947\u0921\u093c"],Mathematics:["Building with Bricks","Long and Short","A Trip to Bhopal","Tick-Tick-Tick","The Way the World Looks","The Junk Seller","Jugs and Mugs","Carts and Wheels","Halves and Quarters","Play with Patterns","Tables and Shares","How Heavy? How Light?","Fields and Fences","Smart Charts"],EVS:["Going to School","Ear to Ear","A Day with Nandu","The Story of Amrita","Anita and the Honeybees","Omana's Journey","From the Window","Reaching Grandmother's House","Changing Families","Hu Tu Tu, Hu Tu Tu","Valley of Flowers","Changing Times","A River's Tale","Basva's Farm","From Market to Home"],Science:["Plants and Animals","Food and Digestion","Teeth and Microbes","Our Environment","Weather and Seasons"]}},"Class 5":{subjects:{English:["Ice-cream Man","Wonderful Waste!","Teamwork","Flying Together","My Shadow","Robinson Crusoe","Crying","My Elder Brother","The Lazy Frog","Who Will be Ningthou?"],Hindi:["\u0930\u093e\u0916 \u0915\u0940 \u0930\u0938\u094d\u0938\u0940","\u092b\u093c\u0938\u0932\u094b\u0902 \u0915\u0947 \u0924\u094d\u092f\u094b\u0939\u093e\u0930","\u0916\u093f\u0932\u094c\u0928\u0947 \u0935\u093e\u0932\u093e","\u0928\u0928\u094d\u0939\u093e \u092b\u0928\u0915\u093e\u0930","\u091c\u0939\u093e\u0901 \u091a\u093e\u0939 \u0935\u0939\u093e\u0901 \u0930\u093e\u0939","\u091a\u093f\u091f\u094d\u0920\u0940 \u0915\u093e \u0938\u092b\u093c\u0930","\u0921\u093e\u0915\u093f\u092f\u0947 \u0915\u0940 \u0915\u0939\u093e\u0928\u0940","\u0935\u0947 \u0926\u093f\u0928 \u092d\u0940 \u0915\u094d\u092f\u093e \u0926\u093f\u0928 \u0925\u0947","\u090f\u0915 \u092e\u093e\u0901 \u0915\u0940 \u092c\u0947\u092c\u0938\u0940"],Mathematics:["The Fish Tale","Shapes and Angles","How Many Squares?","Parts and Wholes","Does it Look the Same?","Be My Multiple, I'll be Your Factor","Can You See the Pattern?","Mapping Your Way","Boxes and Sketches","Tenths and Hundredths","Area and its Boundary","Smart Charts","Ways to Multiply and Divide","How Big? How Heavy?"],EVS:["Super Senses","A Snake Charmer's Story","From Tasting to Digesting","Mangoes Round the Year","Seeds and Seeds","Every Drop Counts","Experiments with Water","A Treat for Mosquitoes","Up You Go!","Walls Tell Stories","Sunita in Space","What if it Finishes?","A Shelter so High!","When the Earth Shook!","Blow Hot Blow Cold"],Science:["Living Things","Human Body Systems","Food and Health","Materials and Their Properties","Force and Energy","Earth and Universe"]}},"Class 6":{subjects:{English:["Who Did Patrick's Homework?","How the Dog Found Himself a New Master!","Taro's Reward","An Indian - American Woman in Space","A Different Kind of School","Who I Am","Fair Play","A Game of Chance","Desert Animals","The Banyan Tree"],Hindi:["\u0935\u0939 \u091a\u093f\u0921\u093c\u093f\u092f\u093e \u091c\u094b","\u092c\u091a\u092a\u0928","\u0928\u093e\u0926\u093e\u0928 \u0926\u094b\u0938\u094d\u0924","\u091a\u093e\u0901\u0926 \u0938\u0947 \u0925\u094b\u0921\u093c\u0940-\u0938\u0940 \u0917\u092a\u094d\u092a\u0947\u0902","\u0905\u0915\u094d\u0937\u0930\u094b\u0902 \u0915\u093e \u092e\u0939\u0924\u094d\u0935","\u092a\u093e\u0930 \u0928\u091c\u093c\u0930 \u0915\u0947","\u0938\u093e\u0925\u0940 \u0939\u093e\u0925 \u092c\u0922\u093c\u093e\u0928\u093e","\u0910\u0938\u0947-\u0910\u0938\u0947","\u091f\u093f\u0915\u091f \u0905\u0932\u092c\u092e","\u091d\u093e\u0902\u0938\u0940 \u0915\u0940 \u0930\u093e\u0928\u0940"],Mathematics:["Knowing Our Numbers","Whole Numbers","Playing with Numbers","Basic Geometrical Ideas","Understanding Elementary Shapes","Integers","Fractions","Decimals","Data Handling","Mensuration","Algebra","Ratio and Proportion","Symmetry","Practical Geometry"],Science:["Food: Where Does it Come From?","Components of Food","Fibre to Fabric","Sorting Materials into Groups","Separation of Substances","Changes Around Us","Getting to Know Plants","Body Movements","The Living Organisms and Their Surroundings","Motion and Measurement of Distances","Light, Shadows and Reflections","Electricity and Circuits","Fun with Magnets","Water","Air Around Us","Garbage In, Garbage Out"],"Social Science":["What, Where, How and When?","From Hunting-Gathering to Growing Food","In the Earliest Cities","What Books and Burials Tell Us","Kingdoms, Kings and an Early Republic","New Questions and Ideas","The Earth in the Solar System","Globe: Latitudes and Longitudes","Motions of the Earth","Maps","Major Domains of the Earth","Our Country - India","Understanding Diversity","Diversity and Discrimination","What is Government?","Key Elements of a Democratic Government","Panchayati Raj","Rural Administration","Urban Administration"],Sanskrit:["\u0936\u092c\u094d\u0926 \u092a\u0930\u093f\u091a\u092f\u0903","\u0905\u0915\u093e\u0930\u093e\u0928\u094d\u0924-\u092a\u0941\u0932\u094d\u0932\u093f\u0902\u0917","\u0905\u0915\u093e\u0930\u093e\u0928\u094d\u0924-\u0938\u094d\u0924\u094d\u0930\u0940\u0932\u093f\u0902\u0917","\u0915\u094d\u0930\u093f\u092f\u093e\u092a\u0926\u093e\u0928\u093f","\u0938\u0930\u094d\u0935\u0928\u093e\u092e\u092a\u0926\u093e\u0928\u093f","\u0905\u0935\u094d\u092f\u092f\u092a\u0926\u093e\u0928\u093f"]}},"Class 7":{subjects:{English:["Three Questions","A Gift of Chappals","Gopal and the Hilsa Fish","The Ashes That Made Trees Bloom","Quality","Expert Detectives","The Invention of Vita-Wonk","Fire: Friend and Foe","A Bicycle in Good Repair","The Story of Cricket"],Hindi:["\u0939\u092e \u092a\u0902\u091b\u0940 \u0909\u0928\u094d\u092e\u0941\u0915\u094d\u0924 \u0917\u0917\u0928 \u0915\u0947","\u0926\u093e\u0926\u0940 \u092e\u093e\u0901","\u0939\u093f\u092e\u093e\u0932\u092f \u0915\u0940 \u092c\u0947\u091f\u093f\u092f\u093e\u0901","\u0915\u0920\u092a\u0941\u0924\u0932\u0940","\u092e\u093f\u0920\u093e\u0908\u0935\u093e\u0932\u093e","\u0930\u0915\u094d\u0924 \u0914\u0930 \u0939\u092e\u093e\u0930\u093e \u0936\u0930\u0940\u0930","\u092a\u093e\u092a\u093e \u0916\u094b \u0917\u090f","\u0936\u093e\u092e \u090f\u0915 \u0915\u093f\u0938\u093e\u0928","\u091a\u093f\u0921\u093c\u093f\u092f\u093e \u0915\u0940 \u092c\u091a\u094d\u091a\u0940","\u0905\u092a\u0942\u0930\u094d\u0935 \u0905\u0928\u0941\u092d\u0935"],Mathematics:["Integers","Fractions and Decimals","Data Handling","Simple Equations","Lines and Angles","The Triangle and its Properties","Congruence of Triangles","Comparing Quantities","Rational Numbers","Practical Geometry","Perimeter and Area","Algebraic Expressions","Exponents and Powers","Symmetry","Visualising Solid Shapes"],Science:["Nutrition in Plants","Nutrition in Animals","Fibre to Fabric","Heat","Acids, Bases and Salts","Physical and Chemical Changes","Weather, Climate and Adaptations of Animals","Winds, Storms and Cyclones","Soil","Respiration in Organisms","Transportation in Animals and Plants","Reproduction in Plants","Motion and Time","Electric Current and Its Effects","Light","Water: A Precious Resource","Forests: Our Lifeline","Wastewater Story"],"Social Science":["Tracing Changes Through a Thousand Years","New Kings and Kingdoms","The Delhi Sultans","The Mughal Empire","Rulers and Buildings","Environment","Inside Our Earth","Our Changing Earth","Air","Water","Natural Vegetation and Wildlife","On Equality","Role of the Government in Health","How the State Government Works","Growing Up as Boys and Girls","Understanding Media","Markets Around Us"],Sanskrit:["\u0938\u0941\u092d\u093e\u0937\u093f\u0924\u093e\u0928\u093f","\u0926\u0941\u0930\u094d\u092c\u0941\u0926\u094d\u0927\u093f\u0903 \u0935\u093f\u0928\u0936\u094d\u092f\u0924\u093f","\u0938\u094d\u0935\u093e\u0935\u0932\u092e\u094d\u092c\u0928\u092e\u094d","\u0939\u093e\u0938\u094d\u092f\u092c\u093e\u0932\u0915\u0935\u093f\u0938\u092e\u094d\u092e\u0947\u0932\u0928\u092e\u094d","\u092a\u0923\u094d\u0921\u093f\u0924\u093e \u0930\u092e\u093e\u092c\u093e\u0908","\u0938\u0926\u093e\u091a\u093e\u0930\u0903"]}},"Class 8":{subjects:{English:["The Best Christmas Present in the World","The Tsunami","Glimpses of the Past","Bepin Choudhury's Lapse of Memory","The Summit Within","This is Jody's Fawn","A Visit to Cambridge","A Short Monsoon Diary","The Great Stone Face I","The Great Stone Face II"],Hindi:["\u0927\u094d\u0935\u0928\u093f","\u0932\u093e\u0916 \u0915\u0940 \u091a\u0942\u0921\u093c\u093f\u092f\u093e\u0901","\u092c\u0938 \u0915\u0940 \u092f\u093e\u0924\u094d\u0930\u093e","\u0926\u0940\u0935\u093e\u0928\u094b\u0902 \u0915\u0940 \u0939\u0938\u094d\u0924\u0940","\u091a\u093f\u091f\u094d\u0920\u093f\u092f\u094b\u0902 \u0915\u0940 \u0905\u0928\u0942\u0920\u0940 \u0926\u0941\u0928\u093f\u092f\u093e","\u092d\u0917\u0935\u093e\u0928 \u0915\u0947 \u0921\u093e\u0915\u093f\u092f\u0947","\u0915\u094d\u092f\u093e \u0928\u093f\u0930\u093e\u0936 \u0939\u0941\u0906 \u091c\u093e\u090f","\u092f\u0939 \u0938\u092c\u0938\u0947 \u0915\u0920\u093f\u0928 \u0938\u092e\u092f \u0928\u0939\u0940\u0902","\u0915\u092c\u0940\u0930 \u0915\u0940 \u0938\u093e\u0916\u093f\u092f\u093e\u0901","\u0915\u093e\u092e\u091a\u094b\u0930"],Mathematics:["Rational Numbers","Linear Equations in One Variable","Understanding Quadrilaterals","Practical Geometry","Data Handling","Squares and Square Roots","Cubes and Cube Roots","Comparing Quantities","Algebraic Expressions and Identities","Visualising Solid Shapes","Mensuration","Exponents and Powers","Direct and Inverse Proportions","Factorisation","Introduction to Graphs","Playing with Numbers"],Science:["Crop Production and Management","Microorganisms: Friend and Foe","Synthetic Fibres and Plastics","Materials: Metals and Non-Metals","Coal and Petroleum","Combustion and Flame","Conservation of Plants and Animals","Cell - Structure and Functions","Reproduction in Animals","Reaching the Age of Adolescence","Force and Pressure","Friction","Sound","Chemical Effects of Electric Current","Some Natural Phenomena","Light","Stars and the Solar System","Pollution of Air and Water"],"Social Science":["How, When and Where","From Trade to Territory","Ruling the Countryside","Tribals, Dikus and the Vision of a Golden Age","When People Rebel","Resources","Land, Soil, Water, Natural Vegetation and Wildlife","Agriculture","Industries","Human Resources","The Indian Constitution","Understanding Secularism","Why Do We Need a Parliament?","Understanding Laws","Judiciary","Understanding Our Criminal Justice System","Understanding Marginalisation"],Sanskrit:["\u0938\u0941\u092d\u093e\u0937\u093f\u0924\u093e\u0928\u093f","\u092c\u093f\u0932\u0938\u094d\u092f \u0935\u093e\u0923\u0940 \u0928 \u0915\u0926\u093e\u092a\u093f \u092e\u0947 \u0936\u094d\u0930\u0941\u0924\u093e","\u0921\u093f\u091c\u0940\u092d\u093e\u0930\u0924\u092e\u094d","\u0938\u0926\u0948\u0935 \u092a\u0941\u0930\u0924\u094b \u0928\u093f\u0927\u0947\u0939\u093f \u091a\u0930\u0923\u092e\u094d","\u0915\u0923\u094d\u091f\u0915\u0947\u0928\u0948\u0935 \u0915\u0923\u094d\u091f\u0915\u092e\u094d","\u0917\u0943\u0939\u0902 \u0936\u0942\u0928\u094d\u092f\u0902 \u0938\u0941\u0924\u093e\u0902 \u0935\u093f\u0928\u093e"]}},"Class 9":{subjects:{English:["The Fun They Had","The Sound of Music","The Little Girl","A Truly Beautiful Mind","The Snake and the Mirror","My Childhood","Packing","Reach for the Top","The Bond of Love","Kathmandu","If I Were You"],Hindi:["\u0926\u094b \u092c\u0948\u0932\u094b\u0902 \u0915\u0940 \u0915\u0925\u093e","\u0932\u094d\u0939\u093e\u0938\u093e \u0915\u0940 \u0913\u0930","\u0909\u092a\u092d\u094b\u0915\u094d\u0924\u093e\u0935\u093e\u0926 \u0915\u0940 \u0938\u0902\u0938\u094d\u0915\u0943\u0924\u093f","\u0938\u093e\u0901\u0935\u0932\u0947 \u0938\u092a\u0928\u094b\u0902 \u0915\u0940 \u092f\u093e\u0926","\u0928\u093e\u0928\u093e \u0938\u093e\u0939\u092c \u0915\u0940 \u092a\u0941\u0924\u094d\u0930\u0940","\u092a\u094d\u0930\u0947\u092e\u091a\u0902\u0926 \u0915\u0947 \u092b\u091f\u0947 \u091c\u0942\u0924\u0947","\u092e\u0947\u0930\u0947 \u092c\u091a\u092a\u0928 \u0915\u0947 \u0926\u093f\u0928","\u090f\u0915 \u0915\u0941\u0924\u094d\u0924\u093e \u0914\u0930 \u090f\u0915 \u092e\u0948\u0928\u093e","\u0938\u093e\u0916\u093f\u092f\u093e\u0901 \u090f\u0935\u0902 \u0938\u092c\u0926","\u0935\u093e\u0916","\u0938\u0935\u0948\u092f\u0947","\u0915\u0948\u0926\u0940 \u0914\u0930 \u0915\u094b\u0915\u093f\u0932\u093e","\u092e\u0947\u0930\u0947 \u0938\u0902\u0917 \u0915\u0940 \u0914\u0930\u0924\u0947\u0902"],Mathematics:["Number Systems","Polynomials","Coordinate Geometry","Linear Equations in Two Variables","Introduction to Euclid's Geometry","Lines and Angles","Triangles","Quadrilaterals","Areas of Parallelograms and Triangles","Circles","Constructions","Heron's Formula","Surface Areas and Volumes","Statistics","Probability"],Science:["Matter in Our Surroundings","Is Matter Around Us Pure?","Atoms and Molecules","Structure of the Atom","The Fundamental Unit of Life","Tissues","Diversity in Living Organisms","Motion","Force and Laws of Motion","Gravitation","Work and Energy","Sound","Why Do We Fall Ill?","Natural Resources","Improvement in Food Resources"],"Social Science":["The French Revolution","Socialism in Europe and the Russian Revolution","Nazism and the Rise of Hitler","Forest Society and Colonialism","Pastoralists in the Modern World","India - Size and Location","Physical Features of India","Drainage","Climate","Natural Vegetation and Wildlife","Population","What is Democracy? Why Democracy?","Constitutional Design","Electoral Politics","Working of Institutions","Democratic Rights","The Story of Village Palampur","People as Resource","Poverty as a Challenge","Food Security in India"],Sanskrit:["\u092d\u093e\u0930\u0924\u0940\u0935\u0938\u0928\u094d\u0924\u0917\u0940\u0924\u093f\u0903","\u0938\u094d\u0935\u0930\u094d\u0923\u0915\u093e\u0915\u0903","\u0917\u094b\u0926\u094b\u0939\u0928\u092e\u094d","\u0915\u0932\u094d\u092a\u0924\u0930\u0941\u0903","\u0938\u0942\u0915\u094d\u0924\u093f\u092e\u094c\u0915\u094d\u0924\u093f\u0915\u092e\u094d"]}},"Class 10":{subjects:{English:["A Letter to God","Nelson Mandela: Long Walk to Freedom","Two Stories about Flying","From the Diary of Anne Frank","The Hundred Dresses I","The Hundred Dresses II","Glimpses of India","Mijbil the Otter","Madam Rides the Bus","The Sermon at Benares","The Proposal"],Hindi:["\u0938\u0942\u0930\u0926\u093e\u0938 \u0915\u0947 \u092a\u0926","\u0930\u093e\u092e-\u0932\u0915\u094d\u0937\u094d\u092e\u0923-\u092a\u0930\u0936\u0941\u0930\u093e\u092e \u0938\u0902\u0935\u093e\u0926","\u0906\u0924\u094d\u092e\u0915\u0925\u094d\u092f","\u0909\u0924\u094d\u0938\u093e\u0939","\u0905\u091f \u0928\u0939\u0940\u0902 \u0930\u0939\u0940 \u0939\u0948","\u092f\u0939 \u0926\u0902\u0924\u0941\u0930\u093f\u0924 \u092e\u0941\u0938\u0915\u093e\u0928","\u092b\u0938\u0932","\u091b\u093e\u092f\u093e \u092e\u0924 \u091b\u0942\u0928\u093e","\u0915\u0928\u094d\u092f\u093e\u0926\u093e\u0928","\u0938\u0902\u0917\u0924\u0915\u093e\u0930","\u092c\u093e\u0932\u0917\u094b\u092c\u093f\u0928 \u092d\u0917\u0924","\u0932\u0916\u0928\u0935\u0940 \u0905\u0902\u0926\u093e\u091c\u093c","\u092e\u093e\u0928\u0935\u0940\u092f \u0915\u0930\u0941\u0923\u093e \u0915\u0940 \u0926\u093f\u0935\u094d\u092f \u091a\u092e\u0915","\u090f\u0915 \u0915\u0939\u093e\u0928\u0940 \u092f\u0939 \u092d\u0940","\u0938\u094d\u0924\u094d\u0930\u0940 \u0936\u093f\u0915\u094d\u0937\u093e \u0915\u0947 \u0935\u093f\u0930\u094b\u0927\u0940 \u0915\u0941\u0924\u0930\u094d\u0915\u094b\u0902 \u0915\u093e \u0916\u0902\u0921\u0928","\u0928\u094c\u092c\u0924\u0916\u093e\u0928\u0947 \u092e\u0947\u0902 \u0907\u092c\u093e\u0926\u0924"],Mathematics:["Real Numbers","Polynomials","Pair of Linear Equations in Two Variables","Quadratic Equations","Arithmetic Progressions","Triangles","Coordinate Geometry","Introduction to Trigonometry","Some Applications of Trigonometry","Circles","Constructions","Areas Related to Circles","Surface Areas and Volumes","Statistics","Probability"],Science:["Chemical Reactions and Equations","Acids, Bases and Salts","Metals and Non-metals","Carbon and its Compounds","Periodic Classification of Elements","Life Processes","Control and Coordination","How do Organisms Reproduce?","Heredity and Evolution","Light - Reflection and Refraction","Human Eye and Colourful World","Electricity","Magnetic Effects of Electric Current","Sources of Energy","Our Environment","Management of Natural Resources"],"Social Science":["The Rise of Nationalism in Europe","Nationalism in India","The Making of a Global World","The Age of Industrialisation","Print Culture and the Modern World","Resources and Development","Forest and Wildlife Resources","Water Resources","Agriculture","Minerals and Energy Resources","Manufacturing Industries","Lifelines of National Economy","Power Sharing","Federalism","Democracy and Diversity","Gender, Religion and Caste","Popular Struggles and Movements","Political Parties","Outcomes of Democracy","Challenges to Democracy","Development","Sectors of the Indian Economy","Money and Credit","Globalisation and the Indian Economy","Consumer Rights"],Sanskrit:["\u0936\u0941\u091a\u093f\u092a\u0930\u094d\u092f\u093e\u0935\u0930\u0923\u092e\u094d","\u092c\u0941\u0926\u094d\u0927\u093f\u0930\u094d\u092c\u0932\u0935\u0924\u0940 \u0938\u0926\u093e","\u0935\u094d\u092f\u093e\u092f\u093e\u092e\u0903 \u0938\u0930\u094d\u0935\u0926\u093e \u092a\u0925\u094d\u092f\u0903","\u0936\u093f\u0936\u0941\u0932\u093e\u0932\u0928\u092e\u094d","\u091c\u0928\u0928\u0940 \u0924\u0941\u0932\u094d\u092f\u0935\u0924\u094d\u0938\u0932\u093e","\u0938\u0941\u092d\u093e\u0937\u093f\u0924\u093e\u0928\u093f"]}},"Class 11":{subjects:{Physics:["Physical World","Units and Measurements","Motion in a Straight Line","Motion in a Plane","Laws of Motion","Work, Energy and Power","System of Particles and Rotational Motion","Gravitation","Mechanical Properties of Solids","Mechanical Properties of Fluids","Thermal Properties of Matter","Thermodynamics","Kinetic Theory","Oscillations","Waves"],Chemistry:["Some Basic Concepts of Chemistry","Structure of Atom","Classification of Elements and Periodicity","Chemical Bonding and Molecular Structure","States of Matter","Thermodynamics","Equilibrium","Redox Reactions","Hydrogen","The s-Block Elements","The p-Block Elements","Organic Chemistry - Some Basic Principles","Hydrocarbons","Environmental Chemistry"],Mathematics:["Sets","Relations and Functions","Trigonometric Functions","Principle of Mathematical Induction","Complex Numbers and Quadratic Equations","Linear Inequalities","Permutations and Combinations","Binomial Theorem","Sequences and Series","Straight Lines","Conic Sections","Introduction to Three Dimensional Geometry","Limits and Derivatives","Mathematical Reasoning","Statistics","Probability"],Biology:["The Living World","Biological Classification","Plant Kingdom","Animal Kingdom","Morphology of Flowering Plants","Anatomy of Flowering Plants","Structural Organisation in Animals","Cell: The Unit of Life","Biomolecules","Cell Cycle and Cell Division","Transport in Plants","Mineral Nutrition","Photosynthesis in Higher Plants","Respiration in Plants","Plant Growth and Development","Digestion and Absorption","Breathing and Exchange of Gases","Body Fluids and Circulation","Excretory Products and their Elimination","Locomotion and Movement","Neural Control and Coordination","Chemical Coordination and Integration"],English:["The Portrait of a Lady","We're Not Afraid to Die","Discovering Tut: The Saga Continues","Landscape of the Soul","The Ailing Planet","The Browning Version","The Adventure","Silk Road"],Hindi:["\u0928\u092e\u0915 \u0915\u093e \u0926\u093e\u0930\u094b\u0917\u093e","\u092e\u093f\u092f\u093e\u0901 \u0928\u0938\u0940\u0930\u0941\u0926\u094d\u0926\u0940\u0928","\u0905\u092a\u0942 \u0915\u0947 \u0938\u093e\u0925 \u0922\u093e\u0908 \u0938\u093e\u0932","\u0935\u093f\u0926\u093e\u0908 \u0938\u0902\u092d\u093e\u0937\u0923","\u0917\u0932\u0924\u093e \u0932\u094b\u0939\u093e","\u0938\u094d\u092a\u0940\u0924\u093f \u092e\u0947\u0902 \u092c\u093e\u0930\u093f\u0936","\u0930\u091c\u0928\u0940","\u091c\u093e\u092e\u0941\u0928 \u0915\u093e \u092a\u0947\u0921\u093c"],Accountancy:["Introduction to Accounting","Theory Base of Accounting","Recording of Transactions I","Recording of Transactions II","Bank Reconciliation Statement","Trial Balance and Rectification of Errors","Depreciation, Provisions and Reserves","Bill of Exchange","Financial Statements I","Financial Statements II","Accounts from Incomplete Records","Applications of Computers in Accounting"],"Business Studies":["Nature and Purpose of Business","Forms of Business Organisation","Private, Public and Global Enterprises","Business Services","Emerging Modes of Business","Social Responsibilities of Business and Business Ethics","Formation of a Company","Sources of Business Finance","Small Business","Internal Trade","International Business"],Economics:["Introduction to Economics","Collection of Data","Organisation of Data","Presentation of Data","Measures of Central Tendency","Measures of Dispersion","Correlation","Index Numbers","Indian Economy on the Eve of Independence","Indian Economy 1950-1990","Liberalisation, Privatisation and Globalisation","Poverty","Human Capital Formation","Rural Development","Employment","Infrastructure","Environment and Sustainable Development"],"Political Science":["Constitution: Why and How?","Rights in the Indian Constitution","Election and Representation","Executive","Legislature","Judiciary","Federalism","Local Governments","Constitution as a Living Document","The Philosophy of the Constitution"],History:["From the Beginning of Time","Writing and City Life","An Empire Across Three Continents","The Central Islamic Lands","Nomadic Empires","The Three Orders","Changing Cultural Traditions","Confrontation of Cultures","The Industrial Revolution","Displacing Indigenous Peoples","Paths to Modernisation"],Geography:["Geography as a Discipline","The Origin and Evolution of the Earth","Interior of the Earth","Distribution of Oceans and Continents","Minerals and Rocks","Geomorphic Processes","Landforms and Their Evolution","Composition and Structure of Atmosphere","Solar Radiation, Heat Balance and Temperature","Atmospheric Circulation and Weather Systems","Water in the Atmosphere","World Climate and Climate Change","Water (Oceans)","Movements of Ocean Water","Life on the Earth","Biodiversity and Conservation"],"Computer Science":["Computer Systems and Organisation","Number Systems","Introduction to Python","Data Types and Operators","Flow of Control","Strings","Lists","Tuples and Dictionaries","Society, Law and Ethics"]}},"Class 12":{subjects:{Physics:["Electric Charges and Fields","Electrostatic Potential and Capacitance","Current Electricity","Moving Charges and Magnetism","Magnetism and Matter","Electromagnetic Induction","Alternating Current","Electromagnetic Waves","Ray Optics and Optical Instruments","Wave Optics","Dual Nature of Radiation and Matter","Atoms","Nuclei","Semiconductor Electronics"],Chemistry:["The Solid State","Solutions","Electrochemistry","Chemical Kinetics","Surface Chemistry","General Principles and Processes of Isolation of Elements","The p-Block Elements","The d- and f-Block Elements","Coordination Compounds","Haloalkanes and Haloarenes","Alcohols, Phenols and Ethers","Aldehydes, Ketones and Carboxylic Acids","Amines","Biomolecules","Polymers","Chemistry in Everyday Life"],Mathematics:["Relations and Functions","Inverse Trigonometric Functions","Matrices","Determinants","Continuity and Differentiability","Application of Derivatives","Integrals","Application of Integrals","Differential Equations","Vector Algebra","Three Dimensional Geometry","Linear Programming","Probability"],Biology:["Reproduction in Organisms","Sexual Reproduction in Flowering Plants","Human Reproduction","Reproductive Health","Principles of Inheritance and Variation","Molecular Basis of Inheritance","Evolution","Human Health and Disease","Strategies for Enhancement in Food Production","Microbes in Human Welfare","Biotechnology: Principles and Processes","Biotechnology and Its Applications","Organisms and Populations","Ecosystem","Biodiversity and Conservation","Environmental Issues"],English:["The Last Lesson","Lost Spring","Deep Water","The Rattrap","Indigo","Poets and Pancakes","The Interview","Going Places","My Mother at Sixty-six","An Elementary School Classroom in a Slum","Keeping Quiet","A Thing of Beauty","Aunt Jennifer's Tigers"],Hindi:["\u0906\u0924\u094d\u092e-\u092a\u0930\u093f\u091a\u092f","\u092a\u0924\u0902\u0917","\u0915\u0935\u093f\u0924\u093e \u0915\u0947 \u092c\u0939\u093e\u0928\u0947","\u0915\u0948\u092e\u0930\u0947 \u092e\u0947\u0902 \u092c\u0902\u0926 \u0905\u092a\u093e\u0939\u093f\u091c","\u0938\u0939\u0930\u094d\u0937 \u0938\u094d\u0935\u0940\u0915\u093e\u0930\u093e \u0939\u0948","\u0909\u0937\u093e","\u092c\u093e\u0926\u0932 \u0930\u093e\u0917","\u0915\u0935\u093f\u0924\u093e\u0935\u0932\u0940","\u0930\u0941\u092c\u093e\u0907\u092f\u093e\u0901","\u091b\u094b\u091f\u093e \u092e\u0947\u0930\u093e \u0916\u0947\u0924","\u092d\u0915\u094d\u0924\u093f\u0928","\u092c\u093e\u091c\u093c\u093e\u0930 \u0926\u0930\u094d\u0936\u0928","\u0915\u093e\u0932\u0947 \u092e\u0947\u0918\u093e \u092a\u093e\u0928\u0940 \u0926\u0947","\u092a\u0939\u0932\u0935\u093e\u0928 \u0915\u0940 \u0922\u094b\u0932\u0915","\u091a\u093e\u0930\u094d\u0932\u0940 \u091a\u0948\u092a\u094d\u0932\u093f\u0928 \u092f\u093e\u0928\u0940 \u0939\u092e \u0938\u092c"],Accountancy:["Accounting for Not-for-Profit Organisations","Accounting for Partnership: Basic Concepts","Reconstitution of a Partnership Firm: Admission of a Partner","Reconstitution of a Partnership Firm: Retirement/Death of a Partner","Dissolution of Partnership Firm","Accounting for Share Capital","Issue and Redemption of Debentures","Financial Statements of a Company","Analysis of Financial Statements","Accounting Ratios","Cash Flow Statement"],"Business Studies":["Nature and Significance of Management","Principles of Management","Business Environment","Planning","Organising","Staffing","Directing","Controlling","Financial Management","Financial Markets","Marketing Management","Consumer Protection"],Economics:["Introduction to Macroeconomics","National Income Accounting","Money and Banking","Determination of Income and Employment","Government Budget and the Economy","Open Economy Macroeconomics","Introduction to Microeconomics","Theory of Consumer Behaviour","Production and Costs","Theory of the Firm Under Perfect Competition","Market Equilibrium","Non-Competitive Markets"],"Political Science":["The Cold War Era","The End of Bipolarity","US Hegemony in World Politics","Alternative Centres of Power","Contemporary South Asia","International Organisations","Security in the Contemporary World","Environment and Natural Resources","Globalisation","Challenges of Nation Building","Era of One-Party Dominance","Politics of Planned Development","India's External Relations","Challenges to and Restoration of the Congress System","The Crisis of Democratic Order","Rise of Popular Movements","Regional Aspirations","Recent Developments in Indian Politics"],History:["Bricks, Beads and Bones","Kings, Farmers and Towns","Kinship, Caste and Class","Thinkers, Beliefs and Buildings","Through the Eyes of Travellers","Bhakti-Sufi Traditions","An Imperial Capital: Vijayanagara","Peasants, Zamindars and the State","Kings and Chronicles","Colonialism and the Countryside","Rebels and the Raj","Colonial Cities","Mahatma Gandhi and the Nationalist Movement","Understanding Partition","Framing the Constitution"],Geography:["Human Geography: Nature and Scope","The World Population: Distribution, Density and Growth","Population Composition","Human Development","Primary Activities","Secondary Activities","Tertiary and Quaternary Activities","Transport and Communication","International Trade","Human Settlements","Population: Distribution, Density, Growth and Composition (India)","Migration","Human Development (India)","Human Settlements (India)","Land Resources and Agriculture","Water Resources","Mineral and Energy Resources","Manufacturing Industries","Planning and Sustainable Development","Transport and Communication (India)","International Trade (India)","Geographical Perspective on Selected Issues and Problems"],"Computer Science":["Python Revision Tour","Functions in Python","File Handling in Python","Data Structures: Stack and Queue","Computer Networks","Database Concepts","Structured Query Language (SQL)","Communication Technologies","Society, Law and Ethics - II"]}}}},"MP Board":{name:"MP Board (MPBSE + NCERT)",classes:{Nursery:{subjects:{English:["Alphabets A-Z","Phonics","Simple Words","Rhymes"],Hindi:["\u0938\u094d\u0935\u0930 (\u0905-\u0905\u0903)","\u0935\u094d\u092f\u0902\u091c\u0928 (\u0915-\u091c\u094d\u091e)","\u092e\u093e\u0924\u094d\u0930\u093e\u090f\u0902","\u0938\u0930\u0932 \u0936\u092c\u094d\u0926"],Mathematics:["Numbers 1-20","Shapes","Colors","Patterns"],Drawing:["Coloring","Tracing","Simple Shapes"]}},LKG:{subjects:{English:["Alphabets & Phonics","Three Letter Words","Rhyming Words","Simple Sentences"],Hindi:["\u0938\u094d\u0935\u0930 \u0935 \u0935\u094d\u092f\u0902\u091c\u0928","\u092e\u093e\u0924\u094d\u0930\u093e\u090f\u0902","\u0926\u094b \u0905\u0915\u094d\u0937\u0930 \u0915\u0947 \u0936\u092c\u094d\u0926","\u0915\u0935\u093f\u0924\u093e\u090f\u0902"],Mathematics:["Numbers 1-50","Counting","Addition","Shapes & Patterns"],Drawing:["Object Drawing","Coloring","Pattern Making"]}},UKG:{subjects:{English:["Reading Words","Sight Words","Sentence Making","Picture Reading"],Hindi:["\u092e\u093e\u0924\u094d\u0930\u093e\u090f\u0902 (\u0938\u092d\u0940)","\u0924\u0940\u0928 \u0905\u0915\u094d\u0937\u0930 \u0915\u0947 \u0936\u092c\u094d\u0926","\u0935\u093e\u0915\u094d\u092f \u092c\u0928\u093e\u0913","\u0915\u0939\u093e\u0928\u0940"],Mathematics:["Numbers 1-100","Addition & Subtraction","Money","Time"],Drawing:["Nature Drawing","Animal Drawing","Imagination Drawing"]}},"Class 1":{subjects:{Hindi:["\u091d\u0942\u0932\u093e","\u0906\u092e \u0915\u0940 \u0915\u0939\u093e\u0928\u0940","\u0906\u092e \u0915\u0940 \u091f\u094b\u0915\u0930\u0940","\u092a\u0924\u094d\u0924\u0947 \u0939\u0940 \u092a\u0924\u094d\u0924\u0947","\u092a\u0915\u094c\u0921\u093c\u0940","\u091b\u094b\u091f\u0940 \u0915\u093e \u0915\u092e\u093e\u0932","\u092e\u0947\u0932\u093e","\u092a\u0924\u0902\u0917"],English:["The Alphabet","A Happy Child","Three Little Pigs","After a Bath","Mittu and the Yellow Mango"],Mathematics:["Shapes and Space","Numbers 1-9","Addition","Subtraction","Numbers 10-20","Time","Measurement","Money"],EVS:["Me and My Family","My Body","Food We Eat","Animals Around Us","Plants Around Us"]}},"Class 2":{subjects:{Hindi:["\u090a\u0901\u091f \u091a\u0932\u093e","\u092d\u093e\u0932\u0942 \u0928\u0947 \u0916\u0947\u0932\u0940 \u092b\u0941\u091f\u092c\u0949\u0932","\u0938\u0942\u0930\u091c \u091c\u0932\u094d\u0926\u0940 \u0906\u0928\u093e \u091c\u0940","\u092c\u0938 \u0915\u0947 \u0928\u0940\u091a\u0947 \u092c\u093e\u0918","\u0926\u094b\u0938\u094d\u0924 \u0915\u0940 \u092e\u0926\u0926","\u092e\u0947\u0930\u0940 \u0915\u093f\u0924\u093e\u092c"],English:["First Day at School","Haldi's Adventure","I am Lucky!","A Smile","The Wind and the Sun"],Mathematics:["Counting in Groups","How Much Can You Carry?","Patterns","Tens and Ones","Add Our Points","Give and Take"],EVS:["My Family","Animals and Birds","Plants and Trees","Food and Water","Shelter"]}},"Class 3":{subjects:{Hindi:["\u0915\u0915\u094d\u0915\u0942","\u0936\u0947\u0916\u0940\u092c\u093e\u091c\u093c \u092e\u0915\u094d\u0916\u0940","\u091a\u093e\u0902\u0926 \u0935\u093e\u0932\u0940 \u0905\u092e\u094d\u092e\u093e","\u092c\u0939\u093e\u0926\u0941\u0930 \u092c\u093f\u0924\u094d\u0924\u094b","\u0939\u092e \u092d\u0940 \u0938\u0940\u0916\u0947\u0902","\u091f\u093f\u092a\u091f\u093f\u092a\u0935\u093e","\u092c\u0902\u0926\u0930 \u092c\u093e\u0902\u091f"],English:["Good Morning","The Magic Garden","Bird Talk","Nina and the Baby Sparrows","The Balloon Man"],Mathematics:["Where to Look From","Fun with Numbers","Give and Take","Shapes and Designs","Time Goes On","How Many Times?","Play with Patterns"],EVS:["Poonam's Day Out","The Plant Fairy","Water O Water","Foods We Eat","Flying High","It's Raining"],Science:["Living and Non-Living Things","Plants","Animals","Food","Water"]}},"Class 4":{subjects:{Hindi:["\u092e\u0928 \u0915\u0947 \u092d\u094b\u0932\u0947-\u092d\u093e\u0932\u0947 \u092c\u093e\u0926\u0932","\u091c\u0948\u0938\u093e \u0938\u0935\u093e\u0932 \u0935\u0948\u0938\u093e \u091c\u0935\u093e\u092c","\u0915\u093f\u0930\u092e\u093f\u091a \u0915\u0940 \u0917\u0947\u0902\u0926","\u092a\u093e\u092a\u093e \u091c\u092c \u092c\u091a\u094d\u091a\u0947 \u0925\u0947","\u091a\u093f\u0921\u093c\u093f\u092f\u093e \u0915\u0940 \u092c\u091a\u094d\u091a\u0940","\u091c\u093c\u0930\u0942\u0930\u0924"],English:["Wake Up!","Neha's Alarm Clock","Noses","The Little Fir Tree","Run!","Alice in Wonderland"],Mathematics:["Building with Bricks","Long and Short","Tick-Tick-Tick","The Way the World Looks","Halves and Quarters","Fields and Fences"],EVS:["Going to School","Ear to Ear","A Day with Nandu","Anita and the Honeybees","Valley of Flowers","A River's Tale"],Science:["Plants and Animals","Food and Digestion","Our Environment","Weather and Seasons"]}},"Class 5":{subjects:{Hindi:["\u0930\u093e\u0916 \u0915\u0940 \u0930\u0938\u094d\u0938\u0940","\u092b\u093c\u0938\u0932\u094b\u0902 \u0915\u0947 \u0924\u094d\u092f\u094b\u0939\u093e\u0930","\u0916\u093f\u0932\u094c\u0928\u0947 \u0935\u093e\u0932\u093e","\u0928\u0928\u094d\u0939\u093e \u092b\u0928\u0915\u093e\u0930","\u091c\u0939\u093e\u0901 \u091a\u093e\u0939 \u0935\u0939\u093e\u0901 \u0930\u093e\u0939","\u091a\u093f\u091f\u094d\u0920\u0940 \u0915\u093e \u0938\u092b\u093c\u0930"],English:["Ice-cream Man","Wonderful Waste!","Teamwork","My Shadow","Robinson Crusoe","Who Will be Ningthou?"],Mathematics:["The Fish Tale","Shapes and Angles","Parts and Wholes","Be My Multiple","Can You See the Pattern?","How Big? How Heavy?"],EVS:["Super Senses","From Tasting to Digesting","Every Drop Counts","A Treat for Mosquitoes","Walls Tell Stories","What if it Finishes?"],Science:["Living Things","Human Body Systems","Food and Health","Force and Energy"]}},"Class 6":{subjects:{Hindi:["\u0935\u0939 \u091a\u093f\u0921\u093c\u093f\u092f\u093e \u091c\u094b","\u092c\u091a\u092a\u0928","\u0928\u093e\u0926\u093e\u0928 \u0926\u094b\u0938\u094d\u0924","\u091a\u093e\u0901\u0926 \u0938\u0947 \u0925\u094b\u0921\u093c\u0940-\u0938\u0940 \u0917\u092a\u094d\u092a\u0947\u0902","\u0905\u0915\u094d\u0937\u0930\u094b\u0902 \u0915\u093e \u092e\u0939\u0924\u094d\u0935","\u0938\u093e\u0925\u0940 \u0939\u093e\u0925 \u092c\u0922\u093c\u093e\u0928\u093e","\u0910\u0938\u0947-\u0910\u0938\u0947","\u091d\u093e\u0902\u0938\u0940 \u0915\u0940 \u0930\u093e\u0928\u0940"],English:["Who Did Patrick's Homework?","How the Dog Found Himself a New Master!","Taro's Reward","A Different Kind of School","Who I Am","Fair Play","Desert Animals"],Mathematics:["Knowing Our Numbers","Whole Numbers","Playing with Numbers","Basic Geometrical Ideas","Understanding Elementary Shapes","Integers","Fractions","Decimals","Data Handling","Mensuration","Algebra","Ratio and Proportion","Symmetry"],Science:["Food: Where Does it Come From?","Components of Food","Fibre to Fabric","Sorting Materials into Groups","Separation of Substances","Changes Around Us","Getting to Know Plants","Body Movements","The Living Organisms","Motion and Measurement","Light, Shadows and Reflections","Electricity and Circuits","Fun with Magnets","Water","Air Around Us","Garbage In, Garbage Out"],"Social Science":["What, Where, How and When?","From Hunting-Gathering to Growing Food","In the Earliest Cities","Kingdoms, Kings and an Early Republic","The Earth in the Solar System","Globe: Latitudes and Longitudes","Maps","Major Domains of the Earth","Understanding Diversity","What is Government?","Panchayati Raj"],Sanskrit:["\u0936\u092c\u094d\u0926 \u092a\u0930\u093f\u091a\u092f\u0903","\u0905\u0915\u093e\u0930\u093e\u0928\u094d\u0924-\u092a\u0941\u0932\u094d\u0932\u093f\u0902\u0917","\u0915\u094d\u0930\u093f\u092f\u093e\u092a\u0926\u093e\u0928\u093f","\u0938\u0930\u094d\u0935\u0928\u093e\u092e\u092a\u0926\u093e\u0928\u093f"]}},"Class 7":{subjects:{Hindi:["\u0939\u092e \u092a\u0902\u091b\u0940 \u0909\u0928\u094d\u092e\u0941\u0915\u094d\u0924 \u0917\u0917\u0928 \u0915\u0947","\u0926\u093e\u0926\u0940 \u092e\u093e\u0901","\u0939\u093f\u092e\u093e\u0932\u092f \u0915\u0940 \u092c\u0947\u091f\u093f\u092f\u093e\u0901","\u0915\u0920\u092a\u0941\u0924\u0932\u0940","\u092e\u093f\u0920\u093e\u0908\u0935\u093e\u0932\u093e","\u0930\u0915\u094d\u0924 \u0914\u0930 \u0939\u092e\u093e\u0930\u093e \u0936\u0930\u0940\u0930","\u0936\u093e\u092e \u090f\u0915 \u0915\u093f\u0938\u093e\u0928"],English:["Three Questions","A Gift of Chappals","Gopal and the Hilsa Fish","The Ashes That Made Trees Bloom","Expert Detectives","Fire: Friend and Foe","The Story of Cricket"],Mathematics:["Integers","Fractions and Decimals","Data Handling","Simple Equations","Lines and Angles","The Triangle and its Properties","Congruence of Triangles","Comparing Quantities","Rational Numbers","Perimeter and Area","Algebraic Expressions","Exponents and Powers","Symmetry"],Science:["Nutrition in Plants","Nutrition in Animals","Fibre to Fabric","Heat","Acids, Bases and Salts","Physical and Chemical Changes","Weather, Climate","Winds, Storms and Cyclones","Soil","Respiration in Organisms","Transportation in Animals and Plants","Reproduction in Plants","Motion and Time","Electric Current","Light","Water: A Precious Resource","Forests: Our Lifeline"],"Social Science":["Tracing Changes Through a Thousand Years","New Kings and Kingdoms","The Delhi Sultans","The Mughal Empire","Environment","Inside Our Earth","Air","Water","On Equality","Role of Government in Health","Markets Around Us"],Sanskrit:["\u0938\u0941\u092d\u093e\u0937\u093f\u0924\u093e\u0928\u093f","\u0926\u0941\u0930\u094d\u092c\u0941\u0926\u094d\u0927\u093f\u0903 \u0935\u093f\u0928\u0936\u094d\u092f\u0924\u093f","\u0938\u094d\u0935\u093e\u0935\u0932\u092e\u094d\u092c\u0928\u092e\u094d","\u092a\u0923\u094d\u0921\u093f\u0924\u093e \u0930\u092e\u093e\u092c\u093e\u0908"]}},"Class 8":{subjects:{Hindi:["\u0927\u094d\u0935\u0928\u093f","\u0932\u093e\u0916 \u0915\u0940 \u091a\u0942\u0921\u093c\u093f\u092f\u093e\u0901","\u092c\u0938 \u0915\u0940 \u092f\u093e\u0924\u094d\u0930\u093e","\u0926\u0940\u0935\u093e\u0928\u094b\u0902 \u0915\u0940 \u0939\u0938\u094d\u0924\u0940","\u091a\u093f\u091f\u094d\u0920\u093f\u092f\u094b\u0902 \u0915\u0940 \u0905\u0928\u0942\u0920\u0940 \u0926\u0941\u0928\u093f\u092f\u093e","\u092d\u0917\u0935\u093e\u0928 \u0915\u0947 \u0921\u093e\u0915\u093f\u092f\u0947","\u0915\u092c\u0940\u0930 \u0915\u0940 \u0938\u093e\u0916\u093f\u092f\u093e\u0901","\u0915\u093e\u092e\u091a\u094b\u0930"],English:["The Best Christmas Present in the World","The Tsunami","Glimpses of the Past","Bepin Choudhury's Lapse of Memory","The Summit Within","A Visit to Cambridge"],Mathematics:["Rational Numbers","Linear Equations in One Variable","Understanding Quadrilaterals","Data Handling","Squares and Square Roots","Cubes and Cube Roots","Comparing Quantities","Algebraic Expressions","Mensuration","Exponents and Powers","Direct and Inverse Proportions","Factorisation","Introduction to Graphs"],Science:["Crop Production and Management","Microorganisms","Synthetic Fibres and Plastics","Metals and Non-Metals","Coal and Petroleum","Combustion and Flame","Conservation of Plants and Animals","Cell Structure and Functions","Reproduction in Animals","Force and Pressure","Friction","Sound","Chemical Effects of Electric Current","Light","Stars and the Solar System","Pollution of Air and Water"],"Social Science":["How, When and Where","From Trade to Territory","Ruling the Countryside","When People Rebel","Resources","Agriculture","Industries","The Indian Constitution","Understanding Secularism","Why Do We Need a Parliament?","Judiciary"],Sanskrit:["\u0938\u0941\u092d\u093e\u0937\u093f\u0924\u093e\u0928\u093f","\u092c\u093f\u0932\u0938\u094d\u092f \u0935\u093e\u0923\u0940 \u0928 \u0915\u0926\u093e\u092a\u093f \u092e\u0947 \u0936\u094d\u0930\u0941\u0924\u093e","\u0921\u093f\u091c\u0940\u092d\u093e\u0930\u0924\u092e\u094d","\u0938\u0926\u0948\u0935 \u092a\u0941\u0930\u0924\u094b \u0928\u093f\u0927\u0947\u0939\u093f \u091a\u0930\u0923\u092e\u094d"]}},"Class 9":{subjects:{Hindi:["\u0926\u094b \u092c\u0948\u0932\u094b\u0902 \u0915\u0940 \u0915\u0925\u093e","\u0932\u094d\u0939\u093e\u0938\u093e \u0915\u0940 \u0913\u0930","\u0909\u092a\u092d\u094b\u0915\u094d\u0924\u093e\u0935\u093e\u0926 \u0915\u0940 \u0938\u0902\u0938\u094d\u0915\u0943\u0924\u093f","\u0938\u093e\u0901\u0935\u0932\u0947 \u0938\u092a\u0928\u094b\u0902 \u0915\u0940 \u092f\u093e\u0926","\u0928\u093e\u0928\u093e \u0938\u093e\u0939\u092c \u0915\u0940 \u092a\u0941\u0924\u094d\u0930\u0940","\u092a\u094d\u0930\u0947\u092e\u091a\u0902\u0926 \u0915\u0947 \u092b\u091f\u0947 \u091c\u0942\u0924\u0947","\u092e\u0947\u0930\u0947 \u092c\u091a\u092a\u0928 \u0915\u0947 \u0926\u093f\u0928","\u0938\u093e\u0916\u093f\u092f\u093e\u0901 \u090f\u0935\u0902 \u0938\u092c\u0926","\u0935\u093e\u0916","\u0938\u0935\u0948\u092f\u0947","\u0915\u0948\u0926\u0940 \u0914\u0930 \u0915\u094b\u0915\u093f\u0932\u093e"],English:["The Fun They Had","The Sound of Music","The Little Girl","A Truly Beautiful Mind","The Snake and the Mirror","My Childhood","Packing","Reach for the Top","The Bond of Love","If I Were You"],Mathematics:["Number Systems","Polynomials","Coordinate Geometry","Linear Equations in Two Variables","Introduction to Euclid's Geometry","Lines and Angles","Triangles","Quadrilaterals","Areas of Parallelograms and Triangles","Circles","Constructions","Heron's Formula","Surface Areas and Volumes","Statistics","Probability"],Science:["Matter in Our Surroundings","Is Matter Around Us Pure?","Atoms and Molecules","Structure of the Atom","The Fundamental Unit of Life","Tissues","Diversity in Living Organisms","Motion","Force and Laws of Motion","Gravitation","Work and Energy","Sound","Why Do We Fall Ill?","Natural Resources","Improvement in Food Resources"],"Social Science":["The French Revolution","Socialism in Europe","Nazism and the Rise of Hitler","Forest Society and Colonialism","India - Size and Location","Physical Features of India","Drainage","Climate","Natural Vegetation and Wildlife","What is Democracy?","Constitutional Design","Electoral Politics","Working of Institutions","Democratic Rights","The Story of Village Palampur","People as Resource","Poverty as a Challenge","Food Security in India"],Sanskrit:["\u092d\u093e\u0930\u0924\u0940\u0935\u0938\u0928\u094d\u0924\u0917\u0940\u0924\u093f\u0903","\u0938\u094d\u0935\u0930\u094d\u0923\u0915\u093e\u0915\u0903","\u0917\u094b\u0926\u094b\u0939\u0928\u092e\u094d","\u0915\u0932\u094d\u092a\u0924\u0930\u0941\u0903","\u0938\u0942\u0915\u094d\u0924\u093f\u092e\u094c\u0915\u094d\u0924\u093f\u0915\u092e\u094d"]}},"Class 10":{subjects:{Hindi:["\u0938\u0942\u0930\u0926\u093e\u0938 \u0915\u0947 \u092a\u0926","\u0930\u093e\u092e-\u0932\u0915\u094d\u0937\u094d\u092e\u0923-\u092a\u0930\u0936\u0941\u0930\u093e\u092e \u0938\u0902\u0935\u093e\u0926","\u0906\u0924\u094d\u092e\u0915\u0925\u094d\u092f","\u0909\u0924\u094d\u0938\u093e\u0939","\u092f\u0939 \u0926\u0902\u0924\u0941\u0930\u093f\u0924 \u092e\u0941\u0938\u0915\u093e\u0928","\u092b\u0938\u0932","\u091b\u093e\u092f\u093e \u092e\u0924 \u091b\u0942\u0928\u093e","\u0915\u0928\u094d\u092f\u093e\u0926\u093e\u0928","\u092c\u093e\u0932\u0917\u094b\u092c\u093f\u0928 \u092d\u0917\u0924","\u0932\u0916\u0928\u0935\u0940 \u0905\u0902\u0926\u093e\u091c\u093c","\u0928\u094c\u092c\u0924\u0916\u093e\u0928\u0947 \u092e\u0947\u0902 \u0907\u092c\u093e\u0926\u0924"],English:["A Letter to God","Nelson Mandela","Two Stories about Flying","From the Diary of Anne Frank","The Hundred Dresses","Glimpses of India","Mijbil the Otter","Madam Rides the Bus","The Sermon at Benares","The Proposal"],Mathematics:["Real Numbers","Polynomials","Pair of Linear Equations in Two Variables","Quadratic Equations","Arithmetic Progressions","Triangles","Coordinate Geometry","Introduction to Trigonometry","Some Applications of Trigonometry","Circles","Constructions","Areas Related to Circles","Surface Areas and Volumes","Statistics","Probability"],Science:["Chemical Reactions and Equations","Acids, Bases and Salts","Metals and Non-metals","Carbon and its Compounds","Periodic Classification of Elements","Life Processes","Control and Coordination","How do Organisms Reproduce?","Heredity and Evolution","Light - Reflection and Refraction","Human Eye and Colourful World","Electricity","Magnetic Effects of Electric Current","Sources of Energy","Our Environment","Management of Natural Resources"],"Social Science":["The Rise of Nationalism in Europe","Nationalism in India","The Making of a Global World","The Age of Industrialisation","Print Culture","Resources and Development","Water Resources","Agriculture","Minerals and Energy Resources","Manufacturing Industries","Power Sharing","Federalism","Political Parties","Outcomes of Democracy","Development","Sectors of the Indian Economy","Money and Credit","Globalisation","Consumer Rights"],Sanskrit:["\u0936\u0941\u091a\u093f\u092a\u0930\u094d\u092f\u093e\u0935\u0930\u0923\u092e\u094d","\u092c\u0941\u0926\u094d\u0927\u093f\u0930\u094d\u092c\u0932\u0935\u0924\u0940 \u0938\u0926\u093e","\u0935\u094d\u092f\u093e\u092f\u093e\u092e\u0903 \u0938\u0930\u094d\u0935\u0926\u093e \u092a\u0925\u094d\u092f\u0903","\u0936\u093f\u0936\u0941\u0932\u093e\u0932\u0928\u092e\u094d","\u091c\u0928\u0928\u0940 \u0924\u0941\u0932\u094d\u092f\u0935\u0924\u094d\u0938\u0932\u093e"]}},"Class 11":{subjects:{Physics:["Physical World","Units and Measurements","Motion in a Straight Line","Motion in a Plane","Laws of Motion","Work, Energy and Power","System of Particles","Gravitation","Mechanical Properties of Solids","Mechanical Properties of Fluids","Thermal Properties of Matter","Thermodynamics","Kinetic Theory","Oscillations","Waves"],Chemistry:["Some Basic Concepts of Chemistry","Structure of Atom","Classification of Elements","Chemical Bonding","States of Matter","Thermodynamics","Equilibrium","Redox Reactions","Hydrogen","The s-Block Elements","The p-Block Elements","Organic Chemistry Basics","Hydrocarbons","Environmental Chemistry"],Mathematics:["Sets","Relations and Functions","Trigonometric Functions","Mathematical Induction","Complex Numbers","Linear Inequalities","Permutations and Combinations","Binomial Theorem","Sequences and Series","Straight Lines","Conic Sections","Three Dimensional Geometry","Limits and Derivatives","Mathematical Reasoning","Statistics","Probability"],Biology:["The Living World","Biological Classification","Plant Kingdom","Animal Kingdom","Morphology of Flowering Plants","Anatomy of Flowering Plants","Cell: The Unit of Life","Biomolecules","Cell Cycle and Cell Division","Transport in Plants","Photosynthesis","Respiration in Plants","Digestion and Absorption","Breathing and Exchange of Gases","Body Fluids and Circulation","Excretory Products","Locomotion and Movement","Neural Control","Chemical Coordination"],Hindi:["\u0928\u092e\u0915 \u0915\u093e \u0926\u093e\u0930\u094b\u0917\u093e","\u092e\u093f\u092f\u093e\u0901 \u0928\u0938\u0940\u0930\u0941\u0926\u094d\u0926\u0940\u0928","\u0905\u092a\u0942 \u0915\u0947 \u0938\u093e\u0925 \u0922\u093e\u0908 \u0938\u093e\u0932","\u0935\u093f\u0926\u093e\u0908 \u0938\u0902\u092d\u093e\u0937\u0923","\u0917\u0932\u0924\u093e \u0932\u094b\u0939\u093e","\u0930\u091c\u0928\u0940"],English:["The Portrait of a Lady","We're Not Afraid to Die","Discovering Tut","Landscape of the Soul","The Ailing Planet","The Browning Version","Silk Road"],Accountancy:["Introduction to Accounting","Theory Base of Accounting","Recording of Transactions I","Recording of Transactions II","Bank Reconciliation","Trial Balance","Depreciation","Financial Statements I","Financial Statements II"],"Business Studies":["Nature and Purpose of Business","Forms of Business Organisation","Business Services","Emerging Modes of Business","Sources of Business Finance","Small Business","Internal Trade"],Economics:["Introduction to Economics","Collection of Data","Organisation of Data","Measures of Central Tendency","Measures of Dispersion","Indian Economy 1950-1990","Liberalisation","Poverty","Human Capital Formation","Infrastructure"],"Computer Science":["Computer Systems","Number Systems","Introduction to Python","Data Types","Flow of Control","Strings","Lists","Tuples and Dictionaries"]}},"Class 12":{subjects:{Physics:["Electric Charges and Fields","Electrostatic Potential and Capacitance","Current Electricity","Moving Charges and Magnetism","Magnetism and Matter","Electromagnetic Induction","Alternating Current","Electromagnetic Waves","Ray Optics","Wave Optics","Dual Nature of Radiation and Matter","Atoms","Nuclei","Semiconductor Electronics"],Chemistry:["The Solid State","Solutions","Electrochemistry","Chemical Kinetics","Surface Chemistry","Isolation of Elements","The p-Block Elements","The d- and f-Block Elements","Coordination Compounds","Haloalkanes and Haloarenes","Alcohols, Phenols and Ethers","Aldehydes, Ketones and Carboxylic Acids","Amines","Biomolecules","Polymers","Chemistry in Everyday Life"],Mathematics:["Relations and Functions","Inverse Trigonometric Functions","Matrices","Determinants","Continuity and Differentiability","Application of Derivatives","Integrals","Application of Integrals","Differential Equations","Vector Algebra","Three Dimensional Geometry","Linear Programming","Probability"],Biology:["Reproduction in Organisms","Sexual Reproduction in Flowering Plants","Human Reproduction","Reproductive Health","Principles of Inheritance","Molecular Basis of Inheritance","Evolution","Human Health and Disease","Food Production","Microbes in Human Welfare","Biotechnology Principles","Biotechnology Applications","Organisms and Populations","Ecosystem","Biodiversity and Conservation","Environmental Issues"],Hindi:["\u0906\u0924\u094d\u092e-\u092a\u0930\u093f\u091a\u092f","\u092a\u0924\u0902\u0917","\u0915\u0935\u093f\u0924\u093e \u0915\u0947 \u092c\u0939\u093e\u0928\u0947","\u0915\u0948\u092e\u0930\u0947 \u092e\u0947\u0902 \u092c\u0902\u0926 \u0905\u092a\u093e\u0939\u093f\u091c","\u0909\u0937\u093e","\u092c\u093e\u0926\u0932 \u0930\u093e\u0917","\u092d\u0915\u094d\u0924\u093f\u0928","\u092c\u093e\u091c\u093c\u093e\u0930 \u0926\u0930\u094d\u0936\u0928","\u0915\u093e\u0932\u0947 \u092e\u0947\u0918\u093e \u092a\u093e\u0928\u0940 \u0926\u0947","\u092a\u0939\u0932\u0935\u093e\u0928 \u0915\u0940 \u0922\u094b\u0932\u0915"],English:["The Last Lesson","Lost Spring","Deep Water","The Rattrap","Indigo","Poets and Pancakes","The Interview","Going Places"],Accountancy:["Accounting for Not-for-Profit Organisations","Partnership: Basic Concepts","Admission of a Partner","Retirement/Death of a Partner","Dissolution of Partnership Firm","Accounting for Share Capital","Issue and Redemption of Debentures","Financial Statements of a Company","Cash Flow Statement"],"Business Studies":["Nature of Management","Principles of Management","Business Environment","Planning","Organising","Staffing","Directing","Controlling","Financial Management","Marketing Management","Consumer Protection"],Economics:["National Income Accounting","Money and Banking","Determination of Income and Employment","Government Budget","Open Economy","Theory of Consumer Behaviour","Production and Costs","Perfect Competition","Market Equilibrium","Non-Competitive Markets"],"Computer Science":["Python Revision","Functions in Python","File Handling","Data Structures","Computer Networks","Database Concepts","SQL"]}}}},RBSE:{name:"RBSE (Rajasthan Board + NCERT)",classes:{Nursery:{subjects:{English:["Alphabets A-Z","Phonics","Simple Words","Rhymes"],Hindi:["\u0938\u094d\u0935\u0930 (\u0905-\u0905\u0903)","\u0935\u094d\u092f\u0902\u091c\u0928 (\u0915-\u091c\u094d\u091e)","\u092e\u093e\u0924\u094d\u0930\u093e\u090f\u0902","\u0938\u0930\u0932 \u0936\u092c\u094d\u0926"],Mathematics:["Numbers 1-20","Shapes","Colors","Patterns"],Drawing:["Coloring","Tracing","Simple Shapes"]}},LKG:{subjects:{English:["Alphabets & Phonics","Three Letter Words","Rhyming Words","Simple Sentences"],Hindi:["\u0938\u094d\u0935\u0930 \u0935 \u0935\u094d\u092f\u0902\u091c\u0928","\u092e\u093e\u0924\u094d\u0930\u093e\u090f\u0902","\u0926\u094b \u0905\u0915\u094d\u0937\u0930 \u0915\u0947 \u0936\u092c\u094d\u0926","\u0915\u0935\u093f\u0924\u093e\u090f\u0902"],Mathematics:["Numbers 1-50","Counting","Addition","Shapes & Patterns"],Drawing:["Object Drawing","Coloring","Pattern Making"]}},UKG:{subjects:{English:["Reading Words","Sight Words","Sentence Making","Picture Reading"],Hindi:["\u092e\u093e\u0924\u094d\u0930\u093e\u090f\u0902 (\u0938\u092d\u0940)","\u0924\u0940\u0928 \u0905\u0915\u094d\u0937\u0930 \u0915\u0947 \u0936\u092c\u094d\u0926","\u0935\u093e\u0915\u094d\u092f \u092c\u0928\u093e\u0913","\u0915\u0939\u093e\u0928\u0940"],Mathematics:["Numbers 1-100","Addition & Subtraction","Money","Time"],Drawing:["Nature Drawing","Animal Drawing","Imagination Drawing"]}},"Class 1":{subjects:{Hindi:["\u091d\u0942\u0932\u093e","\u0906\u092e \u0915\u0940 \u0915\u0939\u093e\u0928\u0940","\u0906\u092e \u0915\u0940 \u091f\u094b\u0915\u0930\u0940","\u092a\u0924\u094d\u0924\u0947 \u0939\u0940 \u092a\u0924\u094d\u0924\u0947","\u092a\u0915\u094c\u0921\u093c\u0940","\u091b\u094b\u091f\u0940 \u0915\u093e \u0915\u092e\u093e\u0932","\u092e\u0947\u0932\u093e"],English:["The Alphabet","A Happy Child","Three Little Pigs","After a Bath"],Mathematics:["Shapes and Space","Numbers 1-9","Addition","Subtraction","Numbers 10-20","Time","Money"],EVS:["Me and My Family","My Body","Food We Eat","Animals Around Us"]}},"Class 2":{subjects:{Hindi:["\u090a\u0901\u091f \u091a\u0932\u093e","\u092d\u093e\u0932\u0942 \u0928\u0947 \u0916\u0947\u0932\u0940 \u092b\u0941\u091f\u092c\u0949\u0932","\u0938\u0942\u0930\u091c \u091c\u0932\u094d\u0926\u0940 \u0906\u0928\u093e \u091c\u0940","\u0926\u094b\u0938\u094d\u0924 \u0915\u0940 \u092e\u0926\u0926","\u092e\u0947\u0930\u0940 \u0915\u093f\u0924\u093e\u092c"],English:["First Day at School","I am Lucky!","A Smile","The Wind and the Sun"],Mathematics:["Counting in Groups","Patterns","Tens and Ones","Add Our Points","Give and Take"],EVS:["My Family","Animals and Birds","Plants","Food and Water"]}},"Class 3":{subjects:{Hindi:["\u0915\u0915\u094d\u0915\u0942","\u0936\u0947\u0916\u0940\u092c\u093e\u091c\u093c \u092e\u0915\u094d\u0916\u0940","\u091a\u093e\u0902\u0926 \u0935\u093e\u0932\u0940 \u0905\u092e\u094d\u092e\u093e","\u092c\u0939\u093e\u0926\u0941\u0930 \u092c\u093f\u0924\u094d\u0924\u094b","\u0939\u092e \u092d\u0940 \u0938\u0940\u0916\u0947\u0902"],English:["Good Morning","The Magic Garden","Bird Talk","The Balloon Man"],Mathematics:["Fun with Numbers","Give and Take","Shapes and Designs","Time Goes On","Play with Patterns"],EVS:["Poonam's Day Out","The Plant Fairy","Water O Water","Foods We Eat","Flying High"],Science:["Living and Non-Living Things","Plants","Animals","Food"]}},"Class 4":{subjects:{Hindi:["\u092e\u0928 \u0915\u0947 \u092d\u094b\u0932\u0947-\u092d\u093e\u0932\u0947 \u092c\u093e\u0926\u0932","\u091c\u0948\u0938\u093e \u0938\u0935\u093e\u0932 \u0935\u0948\u0938\u093e \u091c\u0935\u093e\u092c","\u0915\u093f\u0930\u092e\u093f\u091a \u0915\u0940 \u0917\u0947\u0902\u0926","\u092a\u093e\u092a\u093e \u091c\u092c \u092c\u091a\u094d\u091a\u0947 \u0925\u0947","\u091a\u093f\u0921\u093c\u093f\u092f\u093e \u0915\u0940 \u092c\u091a\u094d\u091a\u0940"],English:["Wake Up!","Neha's Alarm Clock","Noses","The Little Fir Tree","Run!"],Mathematics:["Building with Bricks","Long and Short","Tick-Tick-Tick","Halves and Quarters","Fields and Fences"],EVS:["Going to School","Ear to Ear","A Day with Nandu","Valley of Flowers"],Science:["Plants and Animals","Food and Digestion","Our Environment"]}},"Class 5":{subjects:{Hindi:["\u0930\u093e\u0916 \u0915\u0940 \u0930\u0938\u094d\u0938\u0940","\u092b\u093c\u0938\u0932\u094b\u0902 \u0915\u0947 \u0924\u094d\u092f\u094b\u0939\u093e\u0930","\u0916\u093f\u0932\u094c\u0928\u0947 \u0935\u093e\u0932\u093e","\u0928\u0928\u094d\u0939\u093e \u092b\u0928\u0915\u093e\u0930","\u091c\u0939\u093e\u0901 \u091a\u093e\u0939 \u0935\u0939\u093e\u0901 \u0930\u093e\u0939"],English:["Ice-cream Man","Wonderful Waste!","Teamwork","My Shadow","Robinson Crusoe"],Mathematics:["The Fish Tale","Shapes and Angles","Parts and Wholes","Can You See the Pattern?","How Big? How Heavy?"],EVS:["Super Senses","From Tasting to Digesting","Every Drop Counts","What if it Finishes?"],Science:["Living Things","Human Body","Food and Health","Force and Energy"]}},"Class 6":{subjects:{Hindi:["\u0935\u0939 \u091a\u093f\u0921\u093c\u093f\u092f\u093e \u091c\u094b","\u092c\u091a\u092a\u0928","\u0928\u093e\u0926\u093e\u0928 \u0926\u094b\u0938\u094d\u0924","\u091a\u093e\u0901\u0926 \u0938\u0947 \u0925\u094b\u0921\u093c\u0940-\u0938\u0940 \u0917\u092a\u094d\u092a\u0947\u0902","\u0905\u0915\u094d\u0937\u0930\u094b\u0902 \u0915\u093e \u092e\u0939\u0924\u094d\u0935","\u0938\u093e\u0925\u0940 \u0939\u093e\u0925 \u092c\u0922\u093c\u093e\u0928\u093e","\u091d\u093e\u0902\u0938\u0940 \u0915\u0940 \u0930\u093e\u0928\u0940"],English:["Who Did Patrick's Homework?","How the Dog Found Himself a New Master!","Taro's Reward","A Different Kind of School","Fair Play","Desert Animals"],Mathematics:["Knowing Our Numbers","Whole Numbers","Playing with Numbers","Basic Geometrical Ideas","Understanding Elementary Shapes","Integers","Fractions","Decimals","Data Handling","Mensuration","Algebra","Ratio and Proportion"],Science:["Food: Where Does it Come From?","Components of Food","Fibre to Fabric","Sorting Materials","Separation of Substances","Changes Around Us","Getting to Know Plants","Body Movements","Living Organisms","Motion and Measurement","Light, Shadows and Reflections","Electricity and Circuits","Magnets","Water","Air Around Us"],"Social Science":["What, Where, How and When?","From Hunting-Gathering to Growing Food","In the Earliest Cities","The Earth in the Solar System","Globe: Latitudes and Longitudes","Maps","Understanding Diversity","What is Government?","Panchayati Raj"],Sanskrit:["\u0936\u092c\u094d\u0926 \u092a\u0930\u093f\u091a\u092f\u0903","\u0905\u0915\u093e\u0930\u093e\u0928\u094d\u0924-\u092a\u0941\u0932\u094d\u0932\u093f\u0902\u0917","\u0915\u094d\u0930\u093f\u092f\u093e\u092a\u0926\u093e\u0928\u093f"]}},"Class 7":{subjects:{Hindi:["\u0939\u092e \u092a\u0902\u091b\u0940 \u0909\u0928\u094d\u092e\u0941\u0915\u094d\u0924 \u0917\u0917\u0928 \u0915\u0947","\u0926\u093e\u0926\u0940 \u092e\u093e\u0901","\u0939\u093f\u092e\u093e\u0932\u092f \u0915\u0940 \u092c\u0947\u091f\u093f\u092f\u093e\u0901","\u0915\u0920\u092a\u0941\u0924\u0932\u0940","\u092e\u093f\u0920\u093e\u0908\u0935\u093e\u0932\u093e","\u0930\u0915\u094d\u0924 \u0914\u0930 \u0939\u092e\u093e\u0930\u093e \u0936\u0930\u0940\u0930"],English:["Three Questions","A Gift of Chappals","Gopal and the Hilsa Fish","Quality","Expert Detectives","Fire: Friend and Foe"],Mathematics:["Integers","Fractions and Decimals","Data Handling","Simple Equations","Lines and Angles","Triangles","Comparing Quantities","Rational Numbers","Perimeter and Area","Algebraic Expressions","Exponents and Powers"],Science:["Nutrition in Plants","Nutrition in Animals","Fibre to Fabric","Heat","Acids, Bases and Salts","Physical and Chemical Changes","Weather and Climate","Winds, Storms and Cyclones","Soil","Respiration","Reproduction in Plants","Motion and Time","Electric Current","Light","Forests: Our Lifeline"],"Social Science":["Tracing Changes","New Kings and Kingdoms","The Delhi Sultans","The Mughal Empire","Environment","Inside Our Earth","Air","Water","On Equality","How the State Government Works"],Sanskrit:["\u0938\u0941\u092d\u093e\u0937\u093f\u0924\u093e\u0928\u093f","\u0926\u0941\u0930\u094d\u092c\u0941\u0926\u094d\u0927\u093f\u0903 \u0935\u093f\u0928\u0936\u094d\u092f\u0924\u093f","\u0938\u094d\u0935\u093e\u0935\u0932\u092e\u094d\u092c\u0928\u092e\u094d"]}},"Class 8":{subjects:{Hindi:["\u0927\u094d\u0935\u0928\u093f","\u0932\u093e\u0916 \u0915\u0940 \u091a\u0942\u0921\u093c\u093f\u092f\u093e\u0901","\u092c\u0938 \u0915\u0940 \u092f\u093e\u0924\u094d\u0930\u093e","\u0926\u0940\u0935\u093e\u0928\u094b\u0902 \u0915\u0940 \u0939\u0938\u094d\u0924\u0940","\u091a\u093f\u091f\u094d\u0920\u093f\u092f\u094b\u0902 \u0915\u0940 \u0905\u0928\u0942\u0920\u0940 \u0926\u0941\u0928\u093f\u092f\u093e","\u092d\u0917\u0935\u093e\u0928 \u0915\u0947 \u0921\u093e\u0915\u093f\u092f\u0947","\u0915\u093e\u092e\u091a\u094b\u0930"],English:["The Best Christmas Present","The Tsunami","Glimpses of the Past","The Summit Within","A Visit to Cambridge"],Mathematics:["Rational Numbers","Linear Equations","Understanding Quadrilaterals","Data Handling","Squares and Square Roots","Cubes and Cube Roots","Comparing Quantities","Algebraic Expressions","Mensuration","Exponents and Powers","Factorisation","Introduction to Graphs"],Science:["Crop Production and Management","Microorganisms","Synthetic Fibres","Metals and Non-Metals","Coal and Petroleum","Combustion and Flame","Conservation of Plants","Cell Structure","Reproduction in Animals","Force and Pressure","Friction","Sound","Chemical Effects of Electric Current","Light","Stars and Solar System","Pollution"],"Social Science":["How, When and Where","From Trade to Territory","When People Rebel","Resources","Agriculture","Industries","The Indian Constitution","Why Do We Need a Parliament?","Judiciary"],Sanskrit:["\u0938\u0941\u092d\u093e\u0937\u093f\u0924\u093e\u0928\u093f","\u092c\u093f\u0932\u0938\u094d\u092f \u0935\u093e\u0923\u0940 \u0928 \u0915\u0926\u093e\u092a\u093f \u092e\u0947 \u0936\u094d\u0930\u0941\u0924\u093e","\u0921\u093f\u091c\u0940\u092d\u093e\u0930\u0924\u092e\u094d"]}},"Class 9":{subjects:{Hindi:["\u0926\u094b \u092c\u0948\u0932\u094b\u0902 \u0915\u0940 \u0915\u0925\u093e","\u0932\u094d\u0939\u093e\u0938\u093e \u0915\u0940 \u0913\u0930","\u0909\u092a\u092d\u094b\u0915\u094d\u0924\u093e\u0935\u093e\u0926 \u0915\u0940 \u0938\u0902\u0938\u094d\u0915\u0943\u0924\u093f","\u0928\u093e\u0928\u093e \u0938\u093e\u0939\u092c \u0915\u0940 \u092a\u0941\u0924\u094d\u0930\u0940","\u092a\u094d\u0930\u0947\u092e\u091a\u0902\u0926 \u0915\u0947 \u092b\u091f\u0947 \u091c\u0942\u0924\u0947","\u092e\u0947\u0930\u0947 \u092c\u091a\u092a\u0928 \u0915\u0947 \u0926\u093f\u0928","\u0938\u093e\u0916\u093f\u092f\u093e\u0901 \u090f\u0935\u0902 \u0938\u092c\u0926","\u0935\u093e\u0916","\u0915\u0948\u0926\u0940 \u0914\u0930 \u0915\u094b\u0915\u093f\u0932\u093e"],English:["The Fun They Had","The Sound of Music","The Little Girl","A Truly Beautiful Mind","The Snake and the Mirror","My Childhood","Packing","Reach for the Top","If I Were You"],Mathematics:["Number Systems","Polynomials","Coordinate Geometry","Linear Equations in Two Variables","Euclid's Geometry","Lines and Angles","Triangles","Quadrilaterals","Areas of Parallelograms","Circles","Constructions","Heron's Formula","Surface Areas and Volumes","Statistics","Probability"],Science:["Matter in Our Surroundings","Is Matter Around Us Pure?","Atoms and Molecules","Structure of the Atom","The Fundamental Unit of Life","Tissues","Diversity in Living Organisms","Motion","Force and Laws of Motion","Gravitation","Work and Energy","Sound","Why Do We Fall Ill?","Natural Resources","Improvement in Food Resources"],"Social Science":["The French Revolution","Socialism in Europe","Nazism","Forest Society","India - Size and Location","Physical Features of India","Drainage","Climate","Natural Vegetation","What is Democracy?","Constitutional Design","Electoral Politics","Working of Institutions","The Story of Village Palampur","People as Resource","Poverty","Food Security"],Sanskrit:["\u092d\u093e\u0930\u0924\u0940\u0935\u0938\u0928\u094d\u0924\u0917\u0940\u0924\u093f\u0903","\u0938\u094d\u0935\u0930\u094d\u0923\u0915\u093e\u0915\u0903","\u0917\u094b\u0926\u094b\u0939\u0928\u092e\u094d","\u0915\u0932\u094d\u092a\u0924\u0930\u0941\u0903"]}},"Class 10":{subjects:{Hindi:["\u0938\u0942\u0930\u0926\u093e\u0938 \u0915\u0947 \u092a\u0926","\u0930\u093e\u092e-\u0932\u0915\u094d\u0937\u094d\u092e\u0923-\u092a\u0930\u0936\u0941\u0930\u093e\u092e \u0938\u0902\u0935\u093e\u0926","\u0906\u0924\u094d\u092e\u0915\u0925\u094d\u092f","\u0909\u0924\u094d\u0938\u093e\u0939","\u092f\u0939 \u0926\u0902\u0924\u0941\u0930\u093f\u0924 \u092e\u0941\u0938\u0915\u093e\u0928","\u092b\u0938\u0932","\u0915\u0928\u094d\u092f\u093e\u0926\u093e\u0928","\u092c\u093e\u0932\u0917\u094b\u092c\u093f\u0928 \u092d\u0917\u0924","\u0932\u0916\u0928\u0935\u0940 \u0905\u0902\u0926\u093e\u091c\u093c","\u0928\u094c\u092c\u0924\u0916\u093e\u0928\u0947 \u092e\u0947\u0902 \u0907\u092c\u093e\u0926\u0924"],English:["A Letter to God","Nelson Mandela","Two Stories about Flying","Anne Frank","The Hundred Dresses","Glimpses of India","Mijbil the Otter","Madam Rides the Bus","The Sermon at Benares"],Mathematics:["Real Numbers","Polynomials","Pair of Linear Equations","Quadratic Equations","Arithmetic Progressions","Triangles","Coordinate Geometry","Introduction to Trigonometry","Applications of Trigonometry","Circles","Constructions","Areas Related to Circles","Surface Areas and Volumes","Statistics","Probability"],Science:["Chemical Reactions and Equations","Acids, Bases and Salts","Metals and Non-metals","Carbon and its Compounds","Periodic Classification","Life Processes","Control and Coordination","How do Organisms Reproduce?","Heredity and Evolution","Light - Reflection and Refraction","Human Eye","Electricity","Magnetic Effects of Electric Current","Sources of Energy","Our Environment","Natural Resources"],"Social Science":["Rise of Nationalism in Europe","Nationalism in India","The Making of a Global World","Age of Industrialisation","Print Culture","Resources and Development","Water Resources","Agriculture","Minerals and Energy","Manufacturing Industries","Power Sharing","Federalism","Political Parties","Outcomes of Democracy","Development","Sectors of Indian Economy","Money and Credit","Globalisation","Consumer Rights"],Sanskrit:["\u0936\u0941\u091a\u093f\u092a\u0930\u094d\u092f\u093e\u0935\u0930\u0923\u092e\u094d","\u092c\u0941\u0926\u094d\u0927\u093f\u0930\u094d\u092c\u0932\u0935\u0924\u0940 \u0938\u0926\u093e","\u0935\u094d\u092f\u093e\u092f\u093e\u092e\u0903 \u0938\u0930\u094d\u0935\u0926\u093e \u092a\u0925\u094d\u092f\u0903","\u0936\u093f\u0936\u0941\u0932\u093e\u0932\u0928\u092e\u094d"]}},"Class 11":{subjects:{Physics:["Physical World","Units and Measurements","Motion in a Straight Line","Motion in a Plane","Laws of Motion","Work, Energy and Power","System of Particles","Gravitation","Mechanical Properties of Solids","Mechanical Properties of Fluids","Thermal Properties","Thermodynamics","Kinetic Theory","Oscillations","Waves"],Chemistry:["Basic Concepts of Chemistry","Structure of Atom","Classification of Elements","Chemical Bonding","States of Matter","Thermodynamics","Equilibrium","Redox Reactions","Hydrogen","s-Block Elements","p-Block Elements","Organic Chemistry Basics","Hydrocarbons","Environmental Chemistry"],Mathematics:["Sets","Relations and Functions","Trigonometric Functions","Mathematical Induction","Complex Numbers","Linear Inequalities","Permutations and Combinations","Binomial Theorem","Sequences and Series","Straight Lines","Conic Sections","Three Dimensional Geometry","Limits and Derivatives","Statistics","Probability"],Biology:["The Living World","Biological Classification","Plant Kingdom","Animal Kingdom","Morphology of Flowering Plants","Anatomy of Flowering Plants","Cell: The Unit of Life","Biomolecules","Cell Division","Transport in Plants","Photosynthesis","Respiration in Plants","Digestion","Breathing","Body Fluids","Excretion","Locomotion","Neural Control","Chemical Coordination"],Hindi:["\u0928\u092e\u0915 \u0915\u093e \u0926\u093e\u0930\u094b\u0917\u093e","\u092e\u093f\u092f\u093e\u0901 \u0928\u0938\u0940\u0930\u0941\u0926\u094d\u0926\u0940\u0928","\u0905\u092a\u0942 \u0915\u0947 \u0938\u093e\u0925 \u0922\u093e\u0908 \u0938\u093e\u0932","\u0935\u093f\u0926\u093e\u0908 \u0938\u0902\u092d\u093e\u0937\u0923","\u0917\u0932\u0924\u093e \u0932\u094b\u0939\u093e"],English:["The Portrait of a Lady","We're Not Afraid to Die","Discovering Tut","The Ailing Planet","The Browning Version","Silk Road"],Accountancy:["Introduction to Accounting","Theory Base of Accounting","Recording of Transactions","Bank Reconciliation","Trial Balance","Depreciation","Financial Statements"],"Business Studies":["Nature of Business","Forms of Business Organisation","Business Services","Sources of Finance","Small Business"],Economics:["Introduction to Economics","Collection of Data","Measures of Central Tendency","Indian Economy","Liberalisation","Poverty","Human Capital"],"Computer Science":["Computer Systems","Number Systems","Introduction to Python","Data Types","Flow of Control","Strings","Lists"]}},"Class 12":{subjects:{Physics:["Electric Charges and Fields","Electrostatic Potential","Current Electricity","Moving Charges and Magnetism","Magnetism and Matter","Electromagnetic Induction","Alternating Current","Electromagnetic Waves","Ray Optics","Wave Optics","Dual Nature of Radiation","Atoms","Nuclei","Semiconductor Electronics"],Chemistry:["The Solid State","Solutions","Electrochemistry","Chemical Kinetics","Surface Chemistry","Isolation of Elements","p-Block Elements","d- and f-Block Elements","Coordination Compounds","Haloalkanes","Alcohols and Phenols","Aldehydes and Ketones","Amines","Biomolecules","Polymers","Chemistry in Everyday Life"],Mathematics:["Relations and Functions","Inverse Trigonometric Functions","Matrices","Determinants","Continuity and Differentiability","Application of Derivatives","Integrals","Application of Integrals","Differential Equations","Vector Algebra","Three Dimensional Geometry","Linear Programming","Probability"],Biology:["Reproduction in Organisms","Sexual Reproduction in Plants","Human Reproduction","Reproductive Health","Inheritance and Variation","Molecular Basis of Inheritance","Evolution","Human Health and Disease","Food Production","Microbes","Biotechnology Principles","Biotechnology Applications","Organisms and Populations","Ecosystem","Biodiversity","Environmental Issues"],Hindi:["\u0906\u0924\u094d\u092e-\u092a\u0930\u093f\u091a\u092f","\u092a\u0924\u0902\u0917","\u0915\u0935\u093f\u0924\u093e \u0915\u0947 \u092c\u0939\u093e\u0928\u0947","\u0909\u0937\u093e","\u092c\u093e\u0926\u0932 \u0930\u093e\u0917","\u092d\u0915\u094d\u0924\u093f\u0928","\u092c\u093e\u091c\u093c\u093e\u0930 \u0926\u0930\u094d\u0936\u0928","\u092a\u0939\u0932\u0935\u093e\u0928 \u0915\u0940 \u0922\u094b\u0932\u0915"],English:["The Last Lesson","Lost Spring","Deep Water","The Rattrap","Indigo","Poets and Pancakes","The Interview"],Accountancy:["Not-for-Profit Organisations","Partnership Basics","Admission of Partner","Retirement/Death of Partner","Dissolution","Share Capital","Debentures","Financial Statements","Cash Flow Statement"],"Business Studies":["Nature of Management","Principles of Management","Business Environment","Planning","Organising","Staffing","Directing","Controlling","Financial Management","Marketing"],Economics:["National Income Accounting","Money and Banking","Income and Employment","Government Budget","Consumer Behaviour","Production and Costs","Perfect Competition","Market Equilibrium"],"Computer Science":["Python Revision","Functions","File Handling","Data Structures","Computer Networks","Database Concepts","SQL"]}}}}},MN="".concat("","/api"),DN=[{id:"annual_function",name:"Annual Function (\u0935\u093e\u0930\u094d\u0937\u093f\u0915 \u0909\u0924\u094d\u0938\u0935)",icon:CN,color:"from-purple-500 to-pink-500"},{id:"sports_day",name:"Sports Day (\u0916\u0947\u0932 \u0926\u093f\u0935\u0938)",icon:mN,color:"from-green-500 to-emerald-500"},{id:"graduation",name:"Graduation Ceremony",icon:cl,color:"from-blue-500 to-indigo-500"},{id:"cultural_fest",name:"Cultural Fest (\u0938\u093e\u0902\u0938\u094d\u0915\u0943\u0924\u093f\u0915 \u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e)",icon:EN,color:"from-orange-500 to-red-500"},{id:"parents_meet",name:"Parent-Teacher Meet",icon:uy,color:"from-rose-500 to-pink-500"},{id:"custom",name:"Custom Event",icon:Hl,color:"from-slate-500 to-slate-700"}],RN=[{id:"modern",name:"Modern & Minimal",preview:"\ud83c\udfa8"},{id:"traditional",name:"Traditional Indian",preview:"\ud83e\ude94"},{id:"festive",name:"Festive & Colorful",preview:"\ud83c\udf8a"},{id:"elegant",name:"Elegant & Premium",preview:"\u2728"},{id:"playful",name:"Playful & Fun",preview:"\ud83c\udf88"}];function IN(){const{t:e}=bs(),{user:a}=Vr(),[s,n]=(0,t.useState)(!1),[r,l]=(0,t.useState)(null),[i,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)("pamphlet"),[p,x]=(0,t.useState)(!0),[g,f]=(0,t.useState)({school_name:"",academic_year:"2025-26",classes:"Nursery to 12th",features:"Smart Classes, Sports, Computer Lab, Science Lab",contact:"",language:"english"}),[v,b]=(0,t.useState)({school_name:"",student_name:"",class:"",marks:"",achievement:"Class Topper",language:"english"}),[y,j]=(0,t.useState)({school_name:"",event_name:"",date:"",venue:"School Auditorium",description:"",language:"english"}),[N,w]=(0,t.useState)({school_name:"",activity:"",details:"",language:"english"}),[k,S]=(0,t.useState)({content_type:"notice",title:"",target_audience:"parents",tone:"formal",length:"medium",key_points:"",include_call_to_action:!0,language:"english"}),_=async(e,t)=>{n(!0);try{const a={content_type:e,school_name:t.school_name,details:d({},t),language:t.language,generate_image:p},s=await zr.post("".concat(MN,"/ai/generate-content"),a);l(s.data),o(!0),Qt.success("Content generated successfully!")}catch(r){var a,s;const e=(null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||"Failed to generate content";Qt.error("string"===typeof e?e:"Something went wrong")}finally{n(!1)}},C=()=>{if(null===r||void 0===r||!r.image_base64)return;const e=document.createElement("a");e.href="data:image/png;base64,".concat(r.image_base64),e.download="schooltino-".concat(r.content_type,"-").concat(Date.now(),".png"),document.body.appendChild(e),e.click(),document.body.removeChild(e),Qt.success("Image downloaded!")};return["director","principal","vice_principal"].includes(null===a||void 0===a?void 0:a.role)?(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"ai-content-studio",children:[(0,Hr.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 rounded-2xl p-6 text-white relative overflow-hidden",children:[(0,Hr.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnM1LjM3MyAxMiAxMiAxMiAxMi01LjM3MyAxMi0xMi01LjM3My0xMi0xMi0xMnoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLW9wYWNpdHk9Ii4xIi8+PC9nPjwvc3ZnPg==')] opacity-30"}),(0,Hr.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,Hr.jsx)(uN,{className:"w-8 h-8"}),"AI Content Studio"]}),(0,Hr.jsx)("p",{className:"text-purple-100 mt-2",children:"Generate professional pamphlets, banners & posters with AI \ud83c\udfa8"})]}),(0,Hr.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:(0,Hr.jsx)(cN,{className:"w-8 h-8"})}),(0,Hr.jsx)("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:(0,Hr.jsx)(PN,{className:"w-8 h-8"})})]})]})]}),(0,Hr.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 p-4 rounded-xl border border-amber-200 flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:(0,Hr.jsx)(cN,{className:"w-5 h-5 text-amber-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-medium text-slate-900",children:"AI Image Generation"}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Generate actual poster/banner image using Gemini AI (FREE)"})]})]}),(0,Hr.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Hr.jsx)("input",{type:"checkbox",checked:p,onChange:e=>x(e.target.checked),className:"sr-only peer"}),(0,Hr.jsx)("div",{className:"w-14 h-7 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-amber-500"})]})]}),(0,Hr.jsxs)(wh,{value:m,onValueChange:h,className:"space-y-6",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-5 h-auto p-1 bg-slate-100",children:[(0,Hr.jsxs)(Sh,{value:"pamphlet",className:"py-3 data-[state=active]:bg-indigo-600 data-[state=active]:text-white",children:[(0,Hr.jsx)(AN,{className:"w-4 h-4 mr-2"}),"Admission"]}),(0,Hr.jsxs)(Sh,{value:"topper",className:"py-3 data-[state=active]:bg-amber-600 data-[state=active]:text-white",children:[(0,Hr.jsx)(mN,{className:"w-4 h-4 mr-2"}),"Topper"]}),(0,Hr.jsxs)(Sh,{value:"event",className:"py-3 data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:[(0,Hr.jsx)(Hl,{className:"w-4 h-4 mr-2"}),"Event"]}),(0,Hr.jsxs)(Sh,{value:"activity",className:"py-3 data-[state=active]:bg-rose-600 data-[state=active]:text-white",children:[(0,Hr.jsx)(Fy,{className:"w-4 h-4 mr-2"}),"Activity"]}),(0,Hr.jsxs)(Sh,{value:"writing",className:"py-3 data-[state=active]:bg-purple-600 data-[state=active]:text-white",children:[(0,Hr.jsx)(PN,{className:"w-4 h-4 mr-2"}),"AI Writer"]})]}),(0,Hr.jsx)(_h,{value:"pamphlet",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(AN,{className:"w-6 h-6 text-indigo-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-lg",children:"Admission Pamphlet Generator"}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Create attractive admission pamphlets for new session"})]})]}),(0,Hr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_("admission_pamphlet",g)},className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"School Name *"}),(0,Hr.jsx)(Lo,{value:g.school_name,onChange:e=>f(t=>d(d({},t),{},{school_name:e.target.value})),placeholder:"ABC Public School",required:!0,"data-testid":"pamphlet-school-name"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Academic Year"}),(0,Hr.jsx)(Lo,{value:g.academic_year,onChange:e=>f(t=>d(d({},t),{},{academic_year:e.target.value})),placeholder:"2025-26"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Classes Offered"}),(0,Hr.jsx)(Lo,{value:g.classes,onChange:e=>f(t=>d(d({},t),{},{classes:e.target.value})),placeholder:"Nursery to 12th"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Contact Number"}),(0,Hr.jsx)(Lo,{value:g.contact,onChange:e=>f(t=>d(d({},t),{},{contact:e.target.value})),placeholder:"Phone/WhatsApp"})]}),(0,Hr.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,Hr.jsx)(Wo,{children:"Key Features (comma separated)"}),(0,Hr.jsx)(Oy,{value:g.features,onChange:e=>f(t=>d(d({},t),{},{features:e.target.value})),placeholder:"Smart Classes, Sports, Labs, Transport...",rows:2})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Language"}),(0,Hr.jsxs)("select",{value:g.language,onChange:e=>f(t=>d(d({},t),{},{language:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"english",children:"English"}),(0,Hr.jsx)("option",{value:"hindi",children:"Hindi"}),(0,Hr.jsx)("option",{value:"hinglish",children:"Hinglish (Mixed)"})]})]})]}),(0,Hr.jsxs)(Io,{type:"submit",className:"btn-primary",disabled:s,"data-testid":"generate-pamphlet-btn",children:[s?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(uN,{className:"w-4 h-4 mr-2"}),p?"Generate Pamphlet + Image":"Generate Pamphlet Text"]})]})]})}),(0,Hr.jsx)(_h,{value:"topper",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(mN,{className:"w-6 h-6 text-amber-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-lg",children:"Topper Congratulation Banner"}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Celebrate your school toppers with beautiful banners"})]})]}),(0,Hr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_("topper_banner",v)},className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"School Name *"}),(0,Hr.jsx)(Lo,{value:v.school_name,onChange:e=>b(t=>d(d({},t),{},{school_name:e.target.value})),placeholder:"ABC Public School",required:!0})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Student Name *"}),(0,Hr.jsx)(Lo,{value:v.student_name,onChange:e=>b(t=>d(d({},t),{},{student_name:e.target.value})),placeholder:"Full name",required:!0})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Class"}),(0,Hr.jsx)(Lo,{value:v.class,onChange:e=>b(t=>d(d({},t),{},{class:e.target.value})),placeholder:"Class 10"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Marks/Percentage"}),(0,Hr.jsx)(Lo,{value:v.marks,onChange:e=>b(t=>d(d({},t),{},{marks:e.target.value})),placeholder:"98.5%"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Achievement"}),(0,Hr.jsxs)("select",{value:v.achievement,onChange:e=>b(t=>d(d({},t),{},{achievement:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"Class Topper",children:"Class Topper"}),(0,Hr.jsx)("option",{value:"School Topper",children:"School Topper"}),(0,Hr.jsx)("option",{value:"Board Topper",children:"Board Topper"}),(0,Hr.jsx)("option",{value:"Subject Topper",children:"Subject Topper"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Language"}),(0,Hr.jsxs)("select",{value:v.language,onChange:e=>b(t=>d(d({},t),{},{language:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"english",children:"English"}),(0,Hr.jsx)("option",{value:"hindi",children:"Hindi"}),(0,Hr.jsx)("option",{value:"hinglish",children:"Hinglish"})]})]})]}),(0,Hr.jsxs)(Io,{type:"submit",className:"bg-amber-600 hover:bg-amber-700",disabled:s,children:[s?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(mN,{className:"w-4 h-4 mr-2"}),p?"Generate Banner + Image":"Generate Banner Text"]})]})]})}),(0,Hr.jsx)(_h,{value:"event",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(Hl,{className:"w-6 h-6 text-emerald-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-lg",children:"Event Poster Generator"}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Create engaging posters for school events"})]})]}),(0,Hr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_("event_poster",y)},className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"School Name *"}),(0,Hr.jsx)(Lo,{value:y.school_name,onChange:e=>j(t=>d(d({},t),{},{school_name:e.target.value})),placeholder:"ABC Public School",required:!0})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Event Name *"}),(0,Hr.jsx)(Lo,{value:y.event_name,onChange:e=>j(t=>d(d({},t),{},{event_name:e.target.value})),placeholder:"Annual Day / Sports Day",required:!0})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Date"}),(0,Hr.jsx)(Lo,{type:"date",value:y.date,onChange:e=>j(t=>d(d({},t),{},{date:e.target.value}))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Venue"}),(0,Hr.jsx)(Lo,{value:y.venue,onChange:e=>j(t=>d(d({},t),{},{venue:e.target.value})),placeholder:"School Auditorium"})]}),(0,Hr.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,Hr.jsx)(Wo,{children:"Event Description"}),(0,Hr.jsx)(Oy,{value:y.description,onChange:e=>j(t=>d(d({},t),{},{description:e.target.value})),placeholder:"Brief description of the event...",rows:2})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Language"}),(0,Hr.jsxs)("select",{value:y.language,onChange:e=>j(t=>d(d({},t),{},{language:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"english",children:"English"}),(0,Hr.jsx)("option",{value:"hindi",children:"Hindi"}),(0,Hr.jsx)("option",{value:"hinglish",children:"Hinglish"})]})]})]}),(0,Hr.jsxs)(Io,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700",disabled:s,children:[s?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Hl,{className:"w-4 h-4 mr-2"}),p?"Generate Poster + Image":"Generate Poster Text"]})]})]})}),(0,Hr.jsx)(_h,{value:"activity",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-rose-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(Fy,{className:"w-6 h-6 text-rose-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-lg",children:"Activity Announcement Banner"}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Create banners for school activities and announcements"})]})]}),(0,Hr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_("activity_banner",N)},className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"School Name *"}),(0,Hr.jsx)(Lo,{value:N.school_name,onChange:e=>w(t=>d(d({},t),{},{school_name:e.target.value})),placeholder:"ABC Public School",required:!0})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Activity Name *"}),(0,Hr.jsx)(Lo,{value:N.activity,onChange:e=>w(t=>d(d({},t),{},{activity:e.target.value})),placeholder:"Science Exhibition / Art Workshop",required:!0})]}),(0,Hr.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,Hr.jsx)(Wo,{children:"Activity Details"}),(0,Hr.jsx)(Oy,{value:N.details,onChange:e=>w(t=>d(d({},t),{},{details:e.target.value})),placeholder:"Describe the activity, timing, who can participate...",rows:3})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Language"}),(0,Hr.jsxs)("select",{value:N.language,onChange:e=>w(t=>d(d({},t),{},{language:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"english",children:"English"}),(0,Hr.jsx)("option",{value:"hindi",children:"Hindi"}),(0,Hr.jsx)("option",{value:"hinglish",children:"Hinglish"})]})]})]}),(0,Hr.jsxs)(Io,{type:"submit",className:"bg-rose-600 hover:bg-rose-700",disabled:s,children:[s?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Fy,{className:"w-4 h-4 mr-2"}),p?"Generate Banner + Image":"Generate Banner Text"]})]})]})}),(0,Hr.jsx)(_h,{value:"writing",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)(PN,{className:"w-6 h-6 text-purple-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-lg",children:"AI Content Writer"}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:"Generate professional notices, letters, circulars & more with advanced parameters"})]})]}),(0,Hr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_("content_writing",d(d({},k),{},{school_name:g.school_name||"School"}))},className:"space-y-6",children:[(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:[{value:"notice",label:"School Notice"},{value:"circular",label:"Circular"},{value:"letter",label:"Parent Letter"},{value:"announcement",label:"Announcement"},{value:"report",label:"Progress Report Summary"},{value:"newsletter",label:"Newsletter Content"},{value:"invitation",label:"Event Invitation"},{value:"appreciation",label:"Appreciation Letter"},{value:"reminder",label:"Fee/Event Reminder"},{value:"speech",label:"Speech/Address"}].map(e=>(0,Hr.jsx)("button",{type:"button",onClick:()=>S(t=>d(d({},t),{},{content_type:e.value})),className:"p-3 rounded-lg border-2 text-sm font-medium transition-all ".concat(k.content_type===e.value?"border-purple-500 bg-purple-50 text-purple-700":"border-slate-200 hover:border-slate-300 text-slate-600"),children:e.label},e.value))}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,Hr.jsx)(Wo,{children:"Title / Subject *"}),(0,Hr.jsx)(Lo,{value:k.title,onChange:e=>S(t=>d(d({},t),{},{title:e.target.value})),placeholder:"e.g., Annual Day Celebration Notice, Fee Reminder for December...",required:!0,"data-testid":"writing-title"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Target Audience"}),(0,Hr.jsx)("select",{value:k.target_audience,onChange:e=>S(t=>d(d({},t),{},{target_audience:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[{value:"parents",label:"Parents"},{value:"students",label:"Students"},{value:"teachers",label:"Teachers"},{value:"all",label:"All Stakeholders"},{value:"community",label:"Community/Public"}].map(e=>(0,Hr.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Tone of Writing"}),(0,Hr.jsx)("select",{value:k.tone,onChange:e=>S(t=>d(d({},t),{},{tone:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[{value:"formal",label:"Formal & Professional"},{value:"friendly",label:"Warm & Friendly"},{value:"urgent",label:"Urgent & Important"},{value:"celebratory",label:"Celebratory & Positive"},{value:"informative",label:"Informative & Neutral"}].map(e=>(0,Hr.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Content Length"}),(0,Hr.jsx)("select",{value:k.length,onChange:e=>S(t=>d(d({},t),{},{length:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[{value:"short",label:"Short (50-100 words)"},{value:"medium",label:"Medium (150-250 words)"},{value:"long",label:"Long (300-500 words)"},{value:"detailed",label:"Detailed (500+ words)"}].map(e=>(0,Hr.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Language"}),(0,Hr.jsxs)("select",{value:k.language,onChange:e=>S(t=>d(d({},t),{},{language:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"english",children:"English"}),(0,Hr.jsx)("option",{value:"hindi",children:"Hindi"}),(0,Hr.jsx)("option",{value:"hinglish",children:"Hinglish"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,Hr.jsx)(Wo,{children:"Key Points to Include"}),(0,Hr.jsx)(Oy,{value:k.key_points,onChange:e=>S(t=>d(d({},t),{},{key_points:e.target.value})),placeholder:"Enter key points separated by comma or new line. AI will elaborate these points professionally.\n\nExample:\n- Event date: 25th December\n- Time: 10 AM\n- Dress code: Formal\n- Parents are invited",rows:4})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("input",{type:"checkbox",id:"cta",checked:k.include_call_to_action,onChange:e=>S(t=>d(d({},t),{},{include_call_to_action:e.target.checked})),className:"w-4 h-4 rounded border-slate-300"}),(0,Hr.jsx)(Wo,{htmlFor:"cta",className:"cursor-pointer",children:'Include Call-to-Action (e.g., "Please confirm attendance")'})]})]}),(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsxs)(Io,{type:"submit",className:"bg-purple-600 hover:bg-purple-700 flex-1",disabled:s,children:[s?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(PN,{className:"w-4 h-4 mr-2"}),"Generate Professional Content"]}),(0,Hr.jsx)(Io,{type:"button",variant:"outline",onClick:()=>S({content_type:"notice",title:"",target_audience:"parents",tone:"formal",length:"medium",key_points:"",include_call_to_action:!0,language:"english"}),children:(0,Hr.jsx)(qh,{className:"w-4 h-4"})})]})]}),(0,Hr.jsxs)("div",{className:"mt-6 p-4 bg-purple-50 rounded-xl border border-purple-100",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-purple-800 mb-2",children:"\ud83d\udca1 Pro Tips for Better Results:"}),(0,Hr.jsxs)("ul",{className:"text-sm text-purple-700 space-y-1",children:[(0,Hr.jsx)("li",{children:"\u2022 Be specific with the title - include event name, date, or purpose"}),(0,Hr.jsx)("li",{children:"\u2022 Add key points for AI to elaborate professionally"}),(0,Hr.jsx)("li",{children:"\u2022 Choose the right tone based on content type"}),(0,Hr.jsx)("li",{children:'\u2022 Use "Urgent" tone for fee reminders or important deadlines'}),(0,Hr.jsx)("li",{children:'\u2022 Use "Celebratory" tone for achievements and event invitations'})]})]})]})})]}),(0,Hr.jsx)(Gu,{open:i,onOpenChange:o,children:(0,Hr.jsxs)($u,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(uN,{className:"w-5 h-5 text-purple-600"}),"Generated Content"]})}),r&&(0,Hr.jsxs)("div",{className:"space-y-6 mt-4",children:[r.image_base64&&(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[(0,Hr.jsx)(cN,{className:"w-4 h-4 text-purple-600"}),"Generated Image"]}),(0,Hr.jsxs)(Io,{onClick:C,variant:"outline",size:"sm",children:[(0,Hr.jsx)(ey,{className:"w-4 h-4 mr-2"}),"Download"]})]}),(0,Hr.jsx)("div",{className:"relative bg-slate-100 rounded-xl p-2 overflow-hidden",children:(0,Hr.jsx)("img",{src:"data:image/png;base64,".concat(r.image_base64),alt:"Generated content",className:"w-full h-auto rounded-lg shadow-lg max-h-[400px] object-contain mx-auto"})})]}),(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)("h4",{className:"font-semibold text-slate-900",children:"Text Content"}),(0,Hr.jsxs)(Io,{onClick:()=>{navigator.clipboard.writeText((null===r||void 0===r?void 0:r.text_content)||""),u(!0),setTimeout(()=>u(!1),2e3),Qt.success("Copied to clipboard!")},variant:"outline",size:"sm",children:[c?(0,Hr.jsx)(Ah,{className:"w-4 h-4 mr-2 text-emerald-600"}):(0,Hr.jsx)(Mh,{className:"w-4 h-4 mr-2"}),c?"Copied!":"Copy"]})]}),(0,Hr.jsx)("div",{className:"p-4 bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl border border-slate-200",children:(0,Hr.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-slate-700 text-sm leading-relaxed",children:r.text_content})})]}),(0,Hr.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[(0,Hr.jsx)(Io,{onClick:()=>o(!1),variant:"outline",className:"flex-1",children:"Close"}),r.image_base64&&(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)(Io,{onClick:C,className:"flex-1",children:[(0,Hr.jsx)(ey,{className:"w-4 h-4 mr-2"}),"Download"]}),(0,Hr.jsxs)(Io,{onClick:()=>{var e;const t=encodeURIComponent("".concat(null===(e=r.text_content)||void 0===e?void 0:e.substring(0,200),"...\n\n\ud83c\udf93 Generated by Schooltino AI"));window.open("https://wa.me/?text=".concat(t),"_blank"),Qt.success("Opening WhatsApp...")},className:"flex-1 bg-green-600 hover:bg-green-700",children:[(0,Hr.jsx)(Uh,{className:"w-4 h-4 mr-2"}),"WhatsApp Share"]})]})]}),(0,Hr.jsx)("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-200",children:(0,Hr.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,Hr.jsx)("strong",{children:"\ud83d\udca1 Tips:"}),r.image_base64?" Download the image and share on WhatsApp, Facebook, or print directly!":" Copy the text and use it in Canva or any design tool."]})})]})]})}),(0,Hr.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-6 border border-slate-200",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-slate-900 mb-3",children:"\ud83d\udca1 How to Use"}),(0,Hr.jsxs)("ol",{className:"text-sm text-slate-600 space-y-2",children:[(0,Hr.jsxs)("li",{children:[(0,Hr.jsx)("span",{className:"font-medium text-slate-900",children:"1."})," Select the type of content (Admission, Topper, Event, Activity)"]}),(0,Hr.jsxs)("li",{children:[(0,Hr.jsx)("span",{className:"font-medium text-slate-900",children:"2."})," Fill in your school details"]}),(0,Hr.jsxs)("li",{children:[(0,Hr.jsx)("span",{className:"font-medium text-slate-900",children:"3."}),' Enable "AI Image Generation" toggle for visual output']}),(0,Hr.jsxs)("li",{children:[(0,Hr.jsx)("span",{className:"font-medium text-slate-900",children:"4."})," Click Generate - AI will create text + image!"]}),(0,Hr.jsxs)("li",{children:[(0,Hr.jsx)("span",{className:"font-medium text-slate-900",children:"5."})," Download image directly or copy text for editing"]})]})]})]}):(0,Hr.jsxs)("div",{className:"text-center py-20",children:[(0,Hr.jsx)(uN,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:"You don't have access to AI Content Studio"})]})}function ON(){const{t:e,i18n:a}=bs(),{user:s,schoolId:n}=Vr(),r="hi"===a.language,l=(0,t.useRef)(null),[i,o]=(0,t.useState)(null),[c,u]=(0,t.useState)("modern"),[m,h]=(0,t.useState)("pamphlet"),[p,x]=(0,t.useState)(!1),[g,f]=(0,t.useState)(null),[v,b]=(0,t.useState)([]),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)({eventName:"",eventDate:"",eventTime:"",venue:"",chiefGuest:"",description:"",contactNumber:"",specialNote:""}),[k,S]=(0,t.useState)({name:(null===s||void 0===s?void 0:s.school_name)||"School Name",logo:null,address:"School Address",phone:""});(0,t.useEffect)(()=>{(async()=>{if(n)try{var e;const t=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(t)},[s,r]=await Promise.all([zr.get("".concat("","/api/schools/").concat(n),{headers:a}).catch(()=>null),zr.get("".concat("","/api/events?school_id=").concat(n),{headers:a}).catch(()=>null)]);null!==s&&void 0!==s&&s.data&&S({name:s.data.name||"School Name",logo:s.data.logo_url||null,address:s.data.address||"School Address",phone:s.data.phone||""}),(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.length)>0&&b(r.data)}catch(t){console.error("Failed to fetch details:",t)}})()},[n]);const _=e=>{w(t=>d(d({},t),{},{[e.target.name]:e.target.value}))},C=async()=>{if(i)if(N.eventName&&N.eventDate){x(!0);try{const e=localStorage.getItem("token"),t=await zr.post("".concat("","/api/events/generate-design"),{school_id:n,template_type:i,design_style:c,design_type:m,event_details:N,school_info:k,language:a.language},{headers:{Authorization:"Bearer ".concat(e)}});f(t.data),Qt.success(r?"Design \u0924\u0948\u092f\u093e\u0930 \u0939\u0948!":"Design generated successfully!")}catch(e){console.error("Design generation error:",e),E()}finally{x(!1)}}else Qt.error(r?"Event name \u0914\u0930 date \u091c\u0930\u0942\u0930\u0940 \u0939\u0948":"Event name and date are required");else Qt.error(r?"\u092a\u0939\u0932\u0947 event type \u091a\u0941\u0928\u0947\u0902":"Please select event type first")},E=()=>{DN.find(e=>e.id===i);const e=P(c);f({type:m,template:i,style:c,event:N,school:k,colors:e.colors,generated_at:(new Date).toISOString()}),Qt.success(r?"Design \u0924\u0948\u092f\u093e\u0930 \u0939\u0948!":"Design ready!")},P=e=>{const t={modern:{colors:{primary:"#3B82F6",secondary:"#1E40AF",accent:"#DBEAFE",text:"#1F2937"}},traditional:{colors:{primary:"#DC2626",secondary:"#B91C1C",accent:"#FEF3C7",text:"#7C2D12"}},festive:{colors:{primary:"#F59E0B",secondary:"#D97706",accent:"#FEF3C7",text:"#92400E"}},elegant:{colors:{primary:"#1F2937",secondary:"#111827",accent:"#F3F4F6",text:"#1F2937"}},playful:{colors:{primary:"#EC4899",secondary:"#DB2777",accent:"#FCE7F3",text:"#831843"}}};return t[e]||t.modern},A=()=>{const e=l.current;if(!e)return;const t=window.open("","_blank");t.document.write("\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>".concat(N.eventName," - ").concat("pamphlet"===m?"Pamphlet":"Invitation","</title>\n        <style>\n          @page { size: A4; margin: 0; }\n          body { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }\n          .design-container { width: 210mm; min-height: 297mm; }\n        </style>\n      </head>\n      <body>\n        ").concat(e.innerHTML,"\n      </body>\n      </html>\n    ")),t.document.close(),t.print()};return(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"event-designer-page",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[(0,Hr.jsx)(uN,{className:"w-7 h-7 text-purple-500"}),"AI Event Designer"]}),(0,Hr.jsx)("p",{className:"text-slate-500",children:r?"AI \u0938\u0947 Pamphlets \u0914\u0930 Invitation Cards \u092c\u0928\u093e\u090f\u0902":"Create beautiful pamphlets & invitation cards with AI"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>j(!y),className:"gap-2",children:[(0,Hr.jsx)(Hl,{className:"w-4 h-4"}),r?"\u0938\u0947\u0935 \u0915\u093f\u090f \u0917\u090f":"Saved"," (",v.length,")"]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(!N.eventName)return void Qt.error(r?"Event name \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948":"Event name is required");const e=d(d({id:Date.now()},N),{},{template:i,style:c,designType:m,school_id:n,created_at:(new Date).toISOString()});try{var t;const a=localStorage.getItem("token"),s=await zr.post("".concat("","/api/events"),e,{headers:{Authorization:"Bearer ".concat(a)}});null!==(t=s.data)&&void 0!==t&&t.id&&(e.id=s.data.id)}catch(a){console.log("Saved event locally")}b(t=>[e,...t]),Qt.success(r?"Event design save \u0939\u094b \u0917\u092f\u093e!":"Event design saved!")},className:"bg-purple-600 hover:bg-purple-700 gap-2",children:[(0,Hr.jsx)(ey,{className:"w-4 h-4"}),r?"\u0938\u0947\u0935 \u0915\u0930\u0947\u0902":"Save Design"]})]})]}),y&&v.length>0&&(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{className:"pb-2",children:(0,Hr.jsx)(vb,{className:"text-lg",children:r?"\u0938\u0947\u0935 \u0915\u093f\u090f \u0917\u090f Events":"Saved Event Designs"})}),(0,Hr.jsx)(yb,{children:(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:v.map(e=>{var t;return(0,Hr.jsx)("div",{className:"p-3 border rounded-xl hover:border-purple-300 transition-all",children:(0,Hr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-medium text-sm",children:e.eventName}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-500",children:[e.eventDate," | ",e.designType]}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:(null===(t=DN.find(t=>t.id===e.template))||void 0===t?void 0:t.name)||"Custom"})]}),(0,Hr.jsxs)("div",{className:"flex gap-1",children:[(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:()=>(e=>{w({eventName:e.eventName||"",eventDate:e.eventDate||"",eventTime:e.eventTime||"",venue:e.venue||"",chiefGuest:e.chiefGuest||"",description:e.description||"",contactNumber:e.contactNumber||"",specialNote:e.specialNote||""}),e.template&&o(e.template),e.style&&u(e.style),e.designType&&h(e.designType),j(!1),Qt.success(r?"Event load \u0939\u094b \u0917\u092f\u093e":"Event loaded")})(e),className:"h-7 w-7 p-0",children:(0,Hr.jsx)(qh,{className:"w-3 h-3"})}),(0,Hr.jsx)(Io,{size:"sm",variant:"ghost",onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await zr.delete("".concat("","/api/events/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}})}catch(t){console.log("Deleted locally")}b(t=>t.filter(t=>t.id!==e)),Qt.success(r?"Event \u0939\u091f\u093e \u0926\u093f\u092f\u093e \u0917\u092f\u093e":"Event deleted")})(e.id),className:"h-7 w-7 p-0 text-red-500 hover:text-red-700",children:(0,Hr.jsx)(Hh,{className:"w-3 h-3"})})]})]})},e.id)})})})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{className:"pb-3",children:(0,Hr.jsx)(vb,{className:"text-lg",children:r?"Design \u092a\u094d\u0930\u0915\u093e\u0930":"Design Type"})}),(0,Hr.jsx)(yb,{children:(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsxs)("button",{onClick:()=>h("pamphlet"),className:"flex-1 p-4 rounded-xl border-2 transition-all ".concat("pamphlet"===m?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-purple-300"),children:[(0,Hr.jsx)(cN,{className:"w-8 h-8 mx-auto mb-2 ".concat("pamphlet"===m?"text-purple-600":"text-slate-400")}),(0,Hr.jsx)("p",{className:"font-medium text-center",children:"Pamphlet"}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 text-center",children:r?"\u092a\u094b\u0938\u094d\u091f\u0930 / \u092b\u094d\u0932\u093e\u092f\u0930":"Poster / Flyer"})]}),(0,Hr.jsxs)("button",{onClick:()=>h("invitation"),className:"flex-1 p-4 rounded-xl border-2 transition-all ".concat("invitation"===m?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-purple-300"),children:[(0,Hr.jsx)(uy,{className:"w-8 h-8 mx-auto mb-2 ".concat("invitation"===m?"text-purple-600":"text-slate-400")}),(0,Hr.jsx)("p",{className:"font-medium text-center",children:"Invitation Card"}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 text-center",children:r?"\u0928\u093f\u092e\u0902\u0924\u094d\u0930\u0923 \u092a\u0924\u094d\u0930":"Invite Card"})]})]})})]}),(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{className:"pb-3",children:(0,Hr.jsx)(vb,{className:"text-lg",children:r?"Event \u0915\u093e \u092a\u094d\u0930\u0915\u093e\u0930":"Event Type"})}),(0,Hr.jsx)(yb,{children:(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:DN.map(e=>{const t=e.icon;return(0,Hr.jsxs)("button",{onClick:()=>o(e.id),className:"p-3 rounded-xl border-2 transition-all text-left ".concat(i===e.id?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-purple-300"),children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br ".concat(e.color," flex items-center justify-center mb-2"),children:(0,Hr.jsx)(t,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("p",{className:"text-sm font-medium line-clamp-2",children:e.name})]},e.id)})})})]}),(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{className:"pb-3",children:(0,Hr.jsxs)(vb,{className:"text-lg flex items-center gap-2",children:[(0,Hr.jsx)(ij,{className:"w-5 h-5 text-purple-500"}),"Design Style"]})}),(0,Hr.jsx)(yb,{children:(0,Hr.jsx)("div",{className:"flex flex-wrap gap-2",children:RN.map(e=>(0,Hr.jsxs)("button",{onClick:()=>u(e.id),className:"px-4 py-2 rounded-full border-2 transition-all flex items-center gap-2 ".concat(c===e.id?"border-purple-500 bg-purple-50 text-purple-700":"border-slate-200 hover:border-purple-300"),children:[(0,Hr.jsx)("span",{children:e.preview}),(0,Hr.jsx)("span",{className:"text-sm font-medium",children:e.name})]},e.id))})})]}),(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{className:"pb-3",children:(0,Hr.jsx)(vb,{className:"text-lg",children:"Event Details"})}),(0,Hr.jsxs)(yb,{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,Hr.jsxs)(Wo,{children:[r?"Event \u0915\u093e \u0928\u093e\u092e":"Event Name"," *"]}),(0,Hr.jsx)(Lo,{name:"eventName",value:N.eventName,onChange:_,placeholder:r?"\u091c\u0948\u0938\u0947: \u0935\u093e\u0930\u094d\u0937\u093f\u0915 \u0909\u0924\u094d\u0938\u0935 2026":"e.g., Annual Function 2026","data-testid":"event-name-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)(Wo,{children:[r?"\u0924\u093e\u0930\u0940\u0916":"Date"," *"]}),(0,Hr.jsx)(Lo,{name:"eventDate",type:"date",value:N.eventDate,onChange:_,"data-testid":"event-date-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:r?"\u0938\u092e\u092f":"Time"}),(0,Hr.jsx)(Lo,{name:"eventTime",type:"time",value:N.eventTime,onChange:_,"data-testid":"event-time-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,Hr.jsx)(Wo,{children:r?"\u0938\u094d\u0925\u093e\u0928":"Venue"}),(0,Hr.jsx)(Lo,{name:"venue",value:N.venue,onChange:_,placeholder:r?"\u091c\u0948\u0938\u0947: \u0938\u094d\u0915\u0942\u0932 \u092a\u094d\u0930\u093e\u0902\u0917\u0923":"e.g., School Auditorium","data-testid":"venue-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,Hr.jsx)(Wo,{children:r?"\u092e\u0941\u0916\u094d\u092f \u0905\u0924\u093f\u0925\u093f":"Chief Guest"}),(0,Hr.jsx)(Lo,{name:"chiefGuest",value:N.chiefGuest,onChange:_,placeholder:r?"\u091c\u0948\u0938\u0947: \u0936\u094d\u0930\u0940\u092e\u093e\u0928 \u0930\u093e\u091c \u0936\u0930\u094d\u092e\u093e, \u0935\u093f\u0927\u093e\u092f\u0915":"e.g., Hon. MLA Raj Sharma","data-testid":"chief-guest-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,Hr.jsx)(Wo,{children:r?"\u0935\u093f\u0935\u0930\u0923 / \u0938\u0902\u0926\u0947\u0936":"Description / Message"}),(0,Hr.jsx)("textarea",{name:"description",value:N.description,onChange:_,className:"w-full h-20 rounded-lg border border-slate-200 px-3 py-2",placeholder:r?"Event \u0915\u0947 \u092c\u093e\u0930\u0947 \u092e\u0947\u0902 \u0915\u0941\u091b \u0932\u093f\u0916\u0947\u0902...":"Write something about the event...","data-testid":"description-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:r?"\u0938\u0902\u092a\u0930\u094d\u0915 \u0928\u0902\u092c\u0930":"Contact Number"}),(0,Hr.jsx)(Lo,{name:"contactNumber",value:N.contactNumber,onChange:_,placeholder:"+91 98765 43210","data-testid":"contact-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:r?"\u0935\u093f\u0936\u0947\u0937 \u0928\u094b\u091f":"Special Note"}),(0,Hr.jsx)(Lo,{name:"specialNote",value:N.specialNote,onChange:_,placeholder:r?"\u091c\u0948\u0938\u0947: \u092a\u0927\u093e\u0930\u0928\u093e \u0905\u0928\u093f\u0935\u093e\u0930\u094d\u092f \u0939\u0948":"e.g., Your presence is mandatory","data-testid":"special-note-input"})]})]}),(0,Hr.jsx)(Io,{onClick:C,disabled:p,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700","data-testid":"generate-design-btn",children:p?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(ul,{className:"w-5 h-5 mr-2 animate-spin"}),r?"AI Design \u092c\u0928\u093e \u0930\u0939\u093e \u0939\u0948...":"Generating AI Design..."]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(uN,{className:"w-5 h-5 mr-2"}),r?"AI \u0938\u0947 Design \u092c\u0928\u093e\u090f\u0902":"Generate AI Design"]})})]})]})]}),(0,Hr.jsx)("div",{className:"space-y-4",children:(0,Hr.jsxs)(gb,{className:"sticky top-4",children:[(0,Hr.jsxs)(fb,{className:"pb-3 flex flex-row items-center justify-between",children:[(0,Hr.jsx)(vb,{className:"text-lg",children:"Preview"}),g&&(0,Hr.jsx)("div",{className:"flex gap-2",children:(0,Hr.jsxs)(Io,{variant:"outline",size:"sm",onClick:C,children:[(0,Hr.jsx)(qh,{className:"w-4 h-4 mr-1"}),"Regenerate"]})})]}),(0,Hr.jsxs)(yb,{children:[g?(0,Hr.jsx)("div",{ref:l,children:(0,Hr.jsx)(LN,{design:g,designType:m,selectedStyle:c,eventDetails:N,school:k,template:DN.find(e=>e.id===i)})}):(0,Hr.jsx)("div",{className:"aspect-[3/4] bg-slate-100 rounded-xl flex items-center justify-center border-2 border-dashed border-slate-300",children:(0,Hr.jsxs)("div",{className:"text-center text-slate-400",children:[(0,Hr.jsx)(cN,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,Hr.jsx)("p",{className:"font-medium",children:r?"Design \u092f\u0939\u093e\u0901 \u0926\u093f\u0916\u0947\u0917\u093e":"Design preview will appear here"}),(0,Hr.jsx)("p",{className:"text-sm",children:r?"Details \u092d\u0930\u0947\u0902 \u0914\u0930 Generate \u0915\u0930\u0947\u0902":"Fill details and generate"})]})}),g&&(0,Hr.jsxs)("div",{className:"space-y-3 mt-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Hr.jsxs)(Io,{onClick:A,variant:"outline",className:"w-full",children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4 mr-2"}),"Print"]}),(0,Hr.jsxs)(Io,{onClick:()=>{A(),Qt.info(r?'Print dialog \u092e\u0947\u0902 "Save as PDF" \u091a\u0941\u0928\u0947\u0902':'Select "Save as PDF" in print dialog')},variant:"outline",className:"w-full",children:[(0,Hr.jsx)(ey,{className:"w-4 h-4 mr-2"}),"PDF"]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(navigator.share)try{await navigator.share({title:N.eventName,text:"".concat(k.name," \u0915\u0940 \u0913\u0930 \u0938\u0947 ").concat(N.eventName," \u0915\u093e \u0928\u093f\u092e\u0902\u0924\u094d\u0930\u0923"),url:window.location.href})}catch(Jk){console.error("Share failed:",Jk)}else navigator.clipboard.writeText("".concat(k.name," - ").concat(N.eventName,"\nDate: ").concat(N.eventDate,"\nVenue: ").concat(N.venue)),Qt.success(r?"Details clipboard \u092a\u0930 copy \u0939\u094b \u0917\u0908":"Details copied to clipboard")},variant:"outline",className:"w-full",children:[(0,Hr.jsx)(oj,{className:"w-4 h-4 mr-2"}),"Share"]})]}),(0,Hr.jsxs)(Io,{onClick:()=>{const e="\ud83c\udf89 *".concat(N.eventName||"Event","*\n\n\ud83c\udfeb *").concat(k.name,"*\n\n\ud83d\udcc5 *\u0926\u093f\u0928\u093e\u0902\u0915:* ").concat((e=>{if(!e)return"";return new Date(e).toLocaleDateString("hi-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})(N.eventDate),"\n").concat(N.eventTime?"\ud83d\udd50 *\u0938\u092e\u092f:* ".concat((e=>{if(!e)return"";const[t,a]=e.split(":"),s=parseInt(t),n=s>=12?"PM":"AM";return"".concat(s%12||12,":").concat(a," ").concat(n)})(N.eventTime)):"","\n").concat(N.venue?"\ud83d\udccd *\u0938\u094d\u0925\u093e\u0928:* ".concat(N.venue):"","\n").concat(N.chiefGuest?"\ud83d\udc64 *\u092e\u0941\u0916\u094d\u092f \u0905\u0924\u093f\u0925\u093f:* ".concat(N.chiefGuest):"","\n\n").concat(N.description||"","\n\n").concat(N.specialNote?"\u2728 *".concat(N.specialNote,"*"):"\u0906\u092a\u0915\u093e \u0938\u0939\u0930\u094d\u0937 \u0938\u094d\u0935\u093e\u0917\u0924 \u0939\u0948\u0964","\n\n").concat(N.contactNumber?"\ud83d\udcde \u0938\u0902\u092a\u0930\u094d\u0915: ".concat(N.contactNumber):"","\n\n_Powered by Schooltino_"),t=encodeURIComponent(e),a="https://wa.me/?text=".concat(t);window.open(a,"_blank"),Qt.success(r?"WhatsApp \u0916\u0941\u0932 \u0930\u0939\u093e \u0939\u0948...":"Opening WhatsApp...")},className:"w-full bg-green-500 hover:bg-green-600 text-white","data-testid":"whatsapp-share-btn",children:[(0,Hr.jsx)(Uh,{className:"w-5 h-5 mr-2"}),r?"WhatsApp \u092a\u0930 \u092d\u0947\u091c\u0947\u0902":"Share on WhatsApp"]})]})]})]})})]})]})}function LN(e){let{design:t,designType:a,selectedStyle:s,eventDetails:n,school:r,template:l}=e;const i={modern:{bg:"bg-gradient-to-br from-blue-50 to-indigo-100",header:"bg-gradient-to-r from-blue-600 to-indigo-600",accent:"border-blue-500",text:"text-slate-800"},traditional:{bg:"bg-gradient-to-br from-amber-50 to-orange-100",header:"bg-gradient-to-r from-red-600 to-orange-600",accent:"border-red-500",text:"text-amber-900"},festive:{bg:"bg-gradient-to-br from-yellow-50 to-amber-100",header:"bg-gradient-to-r from-amber-500 to-yellow-500",accent:"border-amber-500",text:"text-amber-900"},elegant:{bg:"bg-gradient-to-br from-slate-100 to-slate-200",header:"bg-gradient-to-r from-slate-800 to-slate-900",accent:"border-slate-700",text:"text-slate-900"},playful:{bg:"bg-gradient-to-br from-pink-50 to-purple-100",header:"bg-gradient-to-r from-pink-500 to-purple-500",accent:"border-pink-500",text:"text-purple-900"}},o=i[s]||i.modern,c=(null===l||void 0===l?void 0:l.icon)||Hl,d=e=>{if(!e)return"";return new Date(e).toLocaleDateString("hi-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},u=e=>{if(!e)return"";const[t,a]=e.split(":"),s=parseInt(t),n=s>=12?"PM":"AM";return"".concat(s%12||12,":").concat(a," ").concat(n)};return"invitation"===a?(0,Hr.jsxs)("div",{className:"aspect-[4/5] ".concat(o.bg," rounded-xl overflow-hidden shadow-lg border-4 ").concat(o.accent),children:[(0,Hr.jsxs)("div",{className:"".concat(o.header," text-white p-4 text-center"),children:[(0,Hr.jsx)("p",{className:"text-xs opacity-80 tracking-widest uppercase",children:"\u0906\u092a \u0938\u093e\u0926\u0930 \u0906\u092e\u0902\u0924\u094d\u0930\u093f\u0924 \u0939\u0948\u0902"}),(0,Hr.jsx)("h3",{className:"text-lg font-bold mt-1",children:r.name})]}),(0,Hr.jsxs)("div",{className:"p-6 text-center",children:[(0,Hr.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full ".concat(o.header," flex items-center justify-center"),children:(0,Hr.jsx)(c,{className:"w-8 h-8 text-white"})}),(0,Hr.jsx)("h2",{className:"text-2xl font-bold ".concat(o.text," mb-3"),children:n.eventName||"Event Name"}),n.description&&(0,Hr.jsx)("p",{className:"text-sm ".concat(o.text," opacity-75 mb-4"),children:n.description}),(0,Hr.jsxs)("div",{className:"space-y-2 ".concat(o.text),children:[(0,Hr.jsxs)("p",{className:"font-semibold",children:["\ud83d\udcc5 ",d(n.eventDate)]}),n.eventTime&&(0,Hr.jsxs)("p",{children:["\ud83d\udd50 ",u(n.eventTime)]}),n.venue&&(0,Hr.jsxs)("p",{children:["\ud83d\udccd ",n.venue]})]}),n.chiefGuest&&(0,Hr.jsxs)("div",{className:"mt-4 p-3 bg-white/50 rounded-lg ".concat(o.text),children:[(0,Hr.jsx)("p",{className:"text-xs opacity-70",children:"\u092e\u0941\u0916\u094d\u092f \u0905\u0924\u093f\u0925\u093f"}),(0,Hr.jsx)("p",{className:"font-bold",children:n.chiefGuest})]})]}),(0,Hr.jsxs)("div",{className:"".concat(o.header," text-white p-3 text-center text-sm mt-auto"),children:[n.specialNote||"\u0906\u092a\u0915\u093e \u0938\u0939\u0930\u094d\u0937 \u0938\u094d\u0935\u093e\u0917\u0924 \u0939\u0948\u0964",n.contactNumber&&(0,Hr.jsxs)("p",{className:"text-xs opacity-80 mt-1",children:["\u0938\u0902\u092a\u0930\u094d\u0915: ",n.contactNumber]})]})]}):(0,Hr.jsxs)("div",{className:"aspect-[3/4] ".concat(o.bg," rounded-xl overflow-hidden shadow-lg"),children:[(0,Hr.jsxs)("div",{className:"".concat(o.header," text-white p-6 text-center relative overflow-hidden"),children:[(0,Hr.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Hr.jsx)("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-white rounded-full"}),(0,Hr.jsx)("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-white rounded-full"})]}),(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)("p",{className:"text-sm opacity-90 tracking-wide mb-1",children:r.name}),(0,Hr.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-sm",children:(0,Hr.jsx)(c,{className:"w-10 h-10 text-white"})}),(0,Hr.jsx)("h1",{className:"text-3xl font-bold tracking-wide",children:n.eventName||"Event Name"})]})]}),(0,Hr.jsxs)("div",{className:"p-6 ".concat(o.text),children:[n.description&&(0,Hr.jsx)("p",{className:"text-center mb-6 opacity-80",children:n.description}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white/70 rounded-lg border-l-4 ".concat(o.accent),children:[(0,Hr.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc5"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-xs opacity-70",children:"\u0926\u093f\u0928\u093e\u0902\u0915 / Date"}),(0,Hr.jsx)("p",{className:"font-bold",children:d(n.eventDate)})]})]}),n.eventTime&&(0,Hr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white/70 rounded-lg border-l-4 ".concat(o.accent),children:[(0,Hr.jsx)("span",{className:"text-2xl",children:"\ud83d\udd50"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-xs opacity-70",children:"\u0938\u092e\u092f / Time"}),(0,Hr.jsx)("p",{className:"font-bold",children:u(n.eventTime)})]})]}),n.venue&&(0,Hr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white/70 rounded-lg border-l-4 ".concat(o.accent),children:[(0,Hr.jsx)("span",{className:"text-2xl",children:"\ud83d\udccd"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-xs opacity-70",children:"\u0938\u094d\u0925\u093e\u0928 / Venue"}),(0,Hr.jsx)("p",{className:"font-bold",children:n.venue})]})]}),n.chiefGuest&&(0,Hr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white/70 rounded-lg border-l-4 ".concat(o.accent),children:[(0,Hr.jsx)("span",{className:"text-2xl",children:"\ud83d\udc64"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-xs opacity-70",children:"\u092e\u0941\u0916\u094d\u092f \u0905\u0924\u093f\u0925\u093f / Chief Guest"}),(0,Hr.jsx)("p",{className:"font-bold",children:n.chiefGuest})]})]})]}),n.specialNote&&(0,Hr.jsx)("div",{className:"mt-4 p-3 ".concat(o.header," text-white rounded-lg text-center"),children:(0,Hr.jsx)("p",{className:"text-sm",children:n.specialNote})})]}),(0,Hr.jsxs)("div",{className:"px-6 pb-4 ".concat(o.text," text-center text-sm opacity-70"),children:[n.contactNumber&&(0,Hr.jsxs)("p",{children:["\ud83d\udcde ",n.contactNumber]}),(0,Hr.jsx)("p",{className:"mt-1",children:r.address})]})]})}function FN(){var e,a;const{user:s}=Vr(),[n,r]=(0,t.useState)(!1),[l,i]=(0,t.useState)(null),[o,c]=(0,t.useState)(!1),[u,m]=(0,t.useState)("questions"),[h,p]=(0,t.useState)({board:"CBSE",class_name:"",subject:"",chapter:"",chapters:[],exam_name:"Unit Test",difficulty:"medium",question_types:["mcq","short","long"],total_marks:50,time_duration:120,language:"english",include_all_chapters:!1}),x=Object.keys(TN).map(e=>({value:e,label:TN[e].name})),g=TN[h.board],f=g?Object.keys(g.classes):[],v=null===g||void 0===g?void 0:g.classes[h.class_name],b=v?Object.keys(v.subjects):[],y=(null===v||void 0===v?void 0:v.subjects[h.subject])||[];return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsxs)(gb,{children:[(0,Hr.jsxs)(fb,{children:[(0,Hr.jsxs)(vb,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Dl,{className:"w-5 h-5 text-blue-600"}),"AI Paper Generator (Sarvam AI)"]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"Generate board-wise exam papers with latest 2025-26 syllabus. Supports MP Board, RBSE, and CBSE."})]}),(0,Hr.jsxs)(yb,{className:"space-y-6",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"font-medium",children:"Board"}),(0,Hr.jsxs)("select",{value:h.board,onChange:e=>{return t=e.target.value,void p(e=>d(d({},e),{},{board:t,class_name:"",subject:"",chapter:"",chapters:[]}));var t},className:"w-full h-10 rounded-lg border border-gray-300 px-3 text-sm",children:[(0,Hr.jsx)("option",{value:"",children:"Select Board"}),x.map(e=>(0,Hr.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"font-medium",children:"Class"}),(0,Hr.jsxs)("select",{value:h.class_name,onChange:e=>{return t=e.target.value,void p(e=>d(d({},e),{},{class_name:t,subject:"",chapter:"",chapters:[]}));var t},className:"w-full h-10 rounded-lg border border-gray-300 px-3 text-sm",disabled:!h.board,children:[(0,Hr.jsx)("option",{value:"",children:"Select Class"}),f.map(e=>(0,Hr.jsx)("option",{value:e,children:e},e))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"font-medium",children:"Subject"}),(0,Hr.jsxs)("select",{value:h.subject,onChange:e=>{return t=e.target.value,void p(e=>d(d({},e),{},{subject:t,chapter:"",chapters:[]}));var t},className:"w-full h-10 rounded-lg border border-gray-300 px-3 text-sm",disabled:!h.class_name,children:[(0,Hr.jsx)("option",{value:"",children:"Select Subject"}),b.map(e=>(0,Hr.jsx)("option",{value:e,children:e},e))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"font-medium",children:"Exam Type"}),(0,Hr.jsx)("select",{value:h.exam_name,onChange:e=>p(t=>d(d({},t),{},{exam_name:e.target.value})),className:"w-full h-10 rounded-lg border border-gray-300 px-3 text-sm",children:["Unit Test","Half Yearly","Annual Exam","Weekly Test","Monthly Test","Pre-Board","Practice Paper"].map(e=>(0,Hr.jsx)("option",{value:e,children:e},e))})]})]}),h.subject&&y.length>0&&(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)(Wo,{className:"font-medium",children:["Chapters (",h.chapters.length,"/",y.length," selected)"]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsx)("button",{onClick:()=>{p(e=>d(d({},e),{},{chapters:[...y],chapter:y.join(", "),include_all_chapters:!0}))},className:"text-xs text-blue-600 hover:underline",children:"Select All"}),(0,Hr.jsx)("button",{onClick:()=>{p(e=>d(d({},e),{},{chapters:[],chapter:"",include_all_chapters:!1}))},className:"text-xs text-red-500 hover:underline",children:"Clear"})]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-3 bg-gray-50 rounded-lg border",children:y.map((e,t)=>(0,Hr.jsxs)("button",{onClick:()=>(e=>{p(t=>{const a=t.chapters.includes(e)?t.chapters.filter(t=>t!==e):[...t.chapters,e];return d(d({},t),{},{chapters:a,chapter:a.join(", ")})})})(e),className:"text-left px-3 py-2 rounded-lg text-sm transition-all ".concat(h.chapters.includes(e)?"bg-blue-100 text-blue-800 border border-blue-300 font-medium":"bg-white border border-gray-200 text-gray-700 hover:border-blue-200 hover:bg-blue-50"),children:[(0,Hr.jsxs)("span",{className:"mr-1 text-xs text-gray-400",children:[t+1,"."]})," ",e]},t))})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"font-medium",children:"Total Marks"}),(0,Hr.jsx)("select",{value:h.total_marks,onChange:e=>p(t=>d(d({},t),{},{total_marks:parseInt(e.target.value)})),className:"w-full h-10 rounded-lg border border-gray-300 px-3 text-sm",children:[20,25,30,40,50,60,70,75,80,100].map(e=>(0,Hr.jsxs)("option",{value:e,children:[e," Marks"]},e))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"font-medium",children:"Time Duration"}),(0,Hr.jsx)("select",{value:h.time_duration,onChange:e=>p(t=>d(d({},t),{},{time_duration:parseInt(e.target.value)})),className:"w-full h-10 rounded-lg border border-gray-300 px-3 text-sm",children:[30,45,60,90,120,150,180].map(e=>(0,Hr.jsxs)("option",{value:e,children:[e," minutes (",e/60," hrs)"]},e))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"font-medium",children:"Difficulty"}),(0,Hr.jsx)("select",{value:h.difficulty,onChange:e=>p(t=>d(d({},t),{},{difficulty:e.target.value})),className:"w-full h-10 rounded-lg border border-gray-300 px-3 text-sm",children:["easy","medium","hard","mixed"].map(e=>(0,Hr.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"font-medium",children:"Question Types"}),(0,Hr.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"mcq",label:"MCQ (1 mark)"},{value:"fill_blank",label:"Fill in Blanks (1 mark)"},{value:"short",label:"Short Answer (2-3 marks)"},{value:"long",label:"Long Answer (4-5 marks)"},{value:"diagram",label:"Diagram Based (3 marks)"},{value:"hots",label:"HOTS (4 marks)"}].map(e=>(0,Hr.jsx)("button",{onClick:()=>{return t=e.value,void p(e=>{const a=e.question_types.includes(t);if(a&&1===e.question_types.length)return e;const s=a?e.question_types.filter(e=>e!==t):[...e.question_types,t];return d(d({},e),{},{question_types:s})});var t},className:"px-3 py-1.5 rounded-lg text-xs transition-all ".concat(h.question_types.includes(e.value)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.value))})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"font-medium",children:"Paper Language (\u092d\u093e\u0937\u093e \u092e\u093e\u0927\u094d\u092f\u092e)"}),(0,Hr.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{value:"english",label:"English Medium",icon:"\ud83c\uddec\ud83c\udde7"},{value:"hindi",label:"Hindi Medium (\u0939\u093f\u0902\u0926\u0940)",icon:"\ud83c\uddee\ud83c\uddf3"},{value:"bilingual",label:"Bilingual (\u0926\u094d\u0935\u093f\u092d\u093e\u0937\u0940)",icon:"\ud83d\udd04"}].map(e=>(0,Hr.jsxs)("button",{onClick:()=>p(t=>d(d({},t),{},{language:e.value})),className:"px-4 py-2 rounded-lg text-sm transition-all flex items-center gap-2 ".concat(h.language===e.value?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Hr.jsx)("span",{children:e.icon}),e.label]},e.value))}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400",children:"hindi"===h.language?"Paper puri tarah Hindi me generate hoga":"bilingual"===h.language?"Questions English + Hindi dono me honge":"Paper will be generated fully in English"})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-4 pt-2",children:[(0,Hr.jsx)(Io,{onClick:async()=>{if(h.board&&h.class_name&&h.subject&&h.chapter){r(!0);try{const e=localStorage.getItem("token"),t=await zr.post("".concat(MN,"/ai/generate-paper"),h,{headers:{Authorization:"Bearer ".concat(e)}});i(t.data),c(!0),Qt.success("Paper generated successfully!")}catch(a){var e,t;console.error("Paper generation error:",a),Qt.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to generate paper. Please try again.")}finally{r(!1)}}else Qt.error("Please select Board, Class, Subject, and at least one Chapter")},disabled:n||!h.board||!h.class_name||!h.subject||!h.chapter,className:"bg-blue-600 hover:bg-blue-700 text-white px-8",children:n?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}),"Generating Paper..."]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(uN,{className:"w-4 h-4 mr-2"}),"Generate Paper"]})}),h.board&&h.class_name&&h.subject&&(0,Hr.jsxs)("span",{className:"text-sm text-gray-500",children:[null===(e=TN[h.board])||void 0===e?void 0:e.name," | ",h.class_name," | ",h.subject," | ",h.chapters.length," chapters"]})]})]})]}),(0,Hr.jsx)(Gu,{open:o,onOpenChange:c,children:(0,Hr.jsxs)($u,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Dl,{className:"w-5 h-5 text-blue-600"}),"Generated Paper - ",null===l||void 0===l?void 0:l.subject," (",null===l||void 0===l?void 0:l.class_name,")"]})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,Hr.jsx)("button",{onClick:()=>m("questions"),className:"px-4 py-2 rounded-md text-sm transition-all ".concat("questions"===u?"bg-white shadow text-blue-700 font-medium":"text-gray-600"),children:"Question Paper"}),(0,Hr.jsx)("button",{onClick:()=>m("answers"),className:"px-4 py-2 rounded-md text-sm transition-all ".concat("answers"===u?"bg-white shadow text-green-700 font-medium":"text-gray-600"),children:"Answer Key"})]}),(0,Hr.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,Hr.jsxs)(Io,{onClick:()=>{const e=document.getElementById("paper-print-content");if(!e)return;const t=window.open("","_blank");t.document.write("\n      <html><head><title>Question Paper - ".concat(h.subject," ").concat(h.class_name,"</title>\n      <style>\n        body { font-family: 'Times New Roman', serif; margin: 20px; line-height: 1.6; }\n        .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }\n        .header h1 { font-size: 18px; margin: 5px 0; }\n        .header p { font-size: 14px; margin: 2px 0; }\n        .section { margin: 15px 0; }\n        .section h3 { font-size: 16px; border-bottom: 1px solid #ccc; padding-bottom: 5px; }\n        .question { margin: 10px 0; padding-left: 25px; text-indent: -25px; }\n        .question-marks { float: right; font-weight: bold; }\n        .options { padding-left: 40px; }\n        .option { margin: 3px 0; }\n        @media print { body { margin: 15mm; } }\n      </style></head><body>").concat(e.innerHTML,"</body></html>\n    ")),t.document.close(),t.print()},variant:"outline",size:"sm",children:[(0,Hr.jsx)(Ch,{className:"w-4 h-4 mr-1"})," Print"]}),(0,Hr.jsxs)(Io,{onClick:()=>{const e=document.getElementById("paper-print-content");e&&(navigator.clipboard.writeText(e.innerText),Qt.success("Copied to clipboard!"))},variant:"outline",size:"sm",children:[(0,Hr.jsx)(Mh,{className:"w-4 h-4 mr-1"})," Copy"]})]})]}),l&&(0,Hr.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[(0,Hr.jsxs)("span",{className:"bg-blue-50 px-2 py-1 rounded",children:["Board: ",h.board]}),(0,Hr.jsxs)("span",{className:"bg-green-50 px-2 py-1 rounded",children:["Marks: ",l.total_marks," (",l.marks_verified?"Verified":"Actual: ".concat(l.actual_marks),")"]}),(0,Hr.jsxs)("span",{className:"bg-purple-50 px-2 py-1 rounded",children:["Questions: ",(null===(a=l.questions)||void 0===a?void 0:a.length)||0]})]}),(0,Hr.jsx)("div",{className:"border rounded-lg p-4 bg-white text-sm",style:{fontFamily:"'Times New Roman', serif"},children:(()=>{if(!l)return null;const e=l,t=e.questions||[],a=e.question_paper,s=e.answer_paper;var n,r,i,o,c,d,m;return"questions"===u?a&&a.sections?(0,Hr.jsxs)("div",{id:"paper-print-content",children:[(0,Hr.jsxs)("div",{className:"header text-center mb-6 border-b-2 border-black pb-3",children:[(0,Hr.jsx)("h1",{className:"text-xl font-bold",children:(null===(n=a.header)||void 0===n?void 0:n.school_name)||"__________ School"}),(0,Hr.jsxs)("p",{className:"text-sm",children:[null===(r=a.header)||void 0===r?void 0:r.exam_name," (",null===(i=a.header)||void 0===i?void 0:i.academic_year,")"]}),(0,Hr.jsxs)("div",{className:"flex justify-between text-sm mt-2",children:[(0,Hr.jsxs)("span",{children:["Class: ",null===(o=a.header)||void 0===o?void 0:o.class]}),(0,Hr.jsxs)("span",{children:["Subject: ",null===(c=a.header)||void 0===c?void 0:c.subject]})]}),(0,Hr.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Hr.jsxs)("span",{children:["Time: ",null===(d=a.header)||void 0===d?void 0:d.time]}),(0,Hr.jsxs)("span",{children:["Max Marks: ",null===(m=a.header)||void 0===m?void 0:m.max_marks]})]})]}),a.general_instructions&&(0,Hr.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded text-sm",children:[(0,Hr.jsx)("strong",{children:"General Instructions:"}),(0,Hr.jsx)("ul",{className:"list-disc pl-5 mt-1",children:a.general_instructions.map((e,t)=>(0,Hr.jsx)("li",{children:e},t))})]}),a.sections.map((e,t)=>(0,Hr.jsxs)("div",{className:"mb-6",children:[(0,Hr.jsxs)("h3",{className:"font-bold text-base border-b border-gray-300 pb-1 mb-3",children:[e.section_name," (",e.total_marks," marks)"]}),e.questions.map((e,t)=>(0,Hr.jsxs)("div",{className:"mb-3 pl-2",children:[(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsxs)("span",{className:"font-medium",children:["Q",e.q_no||t+1,". ",e.question]}),(0,Hr.jsxs)("span",{className:"text-sm font-bold text-gray-600 ml-2 whitespace-nowrap",children:["[",e.marks," marks]"]})]}),e.options&&(0,Hr.jsx)("div",{className:"pl-6 mt-1 grid grid-cols-2 gap-1",children:e.options.map((e,t)=>(0,Hr.jsx)("span",{className:"text-sm",children:e},t))}),e.internal_choice&&e.choice_question&&(0,Hr.jsxs)("p",{className:"text-sm text-gray-500 pl-6 mt-1 italic",children:["OR: ",e.choice_question]})]},t))]},t))]}):(0,Hr.jsxs)("div",{id:"paper-print-content",children:[(0,Hr.jsxs)("div",{className:"header text-center mb-6 border-b-2 border-black pb-3",children:[(0,Hr.jsx)("h1",{className:"text-xl font-bold",children:"__________ School"}),(0,Hr.jsxs)("p",{className:"text-sm",children:[e.exam_name||"Examination"," (2025-2026)"]}),(0,Hr.jsxs)("div",{className:"flex justify-between text-sm mt-2",children:[(0,Hr.jsxs)("span",{children:["Class: ",e.class_name]}),(0,Hr.jsxs)("span",{children:["Subject: ",e.subject]})]}),(0,Hr.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Hr.jsxs)("span",{children:["Time: ",e.time_duration," min"]}),(0,Hr.jsxs)("span",{children:["Max Marks: ",e.total_marks]})]})]}),t.map((e,t)=>(0,Hr.jsxs)("div",{className:"mb-3 pl-2",children:[(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsxs)("span",{className:"font-medium",children:["Q",e.q_no||t+1,". ",e.question]}),(0,Hr.jsxs)("span",{className:"text-sm font-bold text-gray-600 ml-2 whitespace-nowrap",children:["[",e.marks," marks]"]})]}),e.options&&(0,Hr.jsx)("div",{className:"pl-6 mt-1 grid grid-cols-2 gap-1",children:e.options.map((e,t)=>(0,Hr.jsx)("span",{className:"text-sm",children:e},t))})]},t))]}):"answers"===u?s&&s.answers?(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h2",{className:"text-lg font-bold text-center mb-4 border-b-2 pb-2",children:"ANSWER KEY / MARKING SCHEME"}),s.answers.map((e,t)=>(0,Hr.jsxs)("div",{className:"mb-4 p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,Hr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Hr.jsxs)("span",{className:"font-bold text-green-800",children:["Q",e.q_no||t+1,". [",e.marks," marks]"]}),(0,Hr.jsx)("span",{className:"text-xs bg-green-200 px-2 py-0.5 rounded",children:e.type})]}),e.correct_answer&&(0,Hr.jsxs)("p",{className:"mt-1 text-green-700 font-medium",children:["Answer: ",e.correct_answer]}),e.model_answer&&(0,Hr.jsx)("p",{className:"mt-1 text-green-700",children:e.model_answer}),e.explanation&&(0,Hr.jsx)("p",{className:"mt-1 text-sm text-gray-600 italic",children:e.explanation}),e.marking_points&&(0,Hr.jsx)("ul",{className:"mt-1 text-sm list-disc pl-5 text-gray-700",children:e.marking_points.map((e,t)=>(0,Hr.jsx)("li",{children:e},t))})]},t))]}):(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h2",{className:"text-lg font-bold text-center mb-4",children:"ANSWER KEY"}),t.map((e,t)=>(0,Hr.jsxs)("div",{className:"mb-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,Hr.jsxs)("span",{className:"font-bold text-green-800",children:["Q",e.q_no||t+1,"."]}),(0,Hr.jsx)("p",{className:"mt-1 text-green-700",children:e.answer||e.correct_answer||"Answer not available"})]},t))]}):null})()})]})]})})]})}const BN=()=>{const[e,a]=(0,t.useState)("paper-generator");return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Tools"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"AI-powered tools for paper generation, content creation and event design"})]}),(0,Hr.jsxs)(wh,{value:e,onValueChange:a,className:"space-y-6",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-3 h-auto p-1",children:[(0,Hr.jsxs)(Sh,{value:"paper-generator",className:"py-3 text-sm data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[(0,Hr.jsx)(Dl,{className:"w-4 h-4 mr-1.5"}),"AI Paper Generator"]}),(0,Hr.jsxs)(Sh,{value:"event-designer",className:"py-3 text-sm data-[state=active]:bg-pink-600 data-[state=active]:text-white",children:[(0,Hr.jsx)(ij,{className:"w-4 h-4 mr-1.5"}),"Event Designer"]}),(0,Hr.jsxs)(Sh,{value:"content-studio",className:"py-3 text-sm data-[state=active]:bg-purple-600 data-[state=active]:text-white",children:[(0,Hr.jsx)(uN,{className:"w-4 h-4 mr-1.5"}),"AI Content Studio"]})]}),(0,Hr.jsx)(_h,{value:"paper-generator",children:(0,Hr.jsx)(FN,{})}),(0,Hr.jsx)(_h,{value:"event-designer",children:(0,Hr.jsx)(ON,{})}),(0,Hr.jsx)(_h,{value:"content-studio",children:(0,Hr.jsx)(IN,{})})]})]})},zN=()=>{const{user:e}=Vr(),[a,s]=(0,t.useState)([]),[n,r]=(0,t.useState)(!0),[l,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)({name:"",location:"",stream_url:"",type:"ip"});(0,t.useEffect)(()=>{u()},[null===e||void 0===e?void 0:e.school_id]);const u=async()=>{if(null!==e&&void 0!==e&&e.school_id)try{var t;const a=localStorage.getItem("token"),n=await zr.get("".concat("","/api/cctv/cameras?school_id=").concat(e.school_id),{headers:{Authorization:"Bearer ".concat(a)}});s((null===(t=n.data)||void 0===t?void 0:t.cameras)||[])}catch(Jk){s([])}finally{r(!1)}};return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"CCTV Integration"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage and monitor security cameras"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsxs)("button",{onClick:u,className:"px-3 py-2 bg-gray-100 text-gray-600 rounded-lg text-sm hover:bg-gray-200 flex items-center gap-2",children:[(0,Hr.jsx)(qh,{className:"w-4 h-4"}),"Refresh"]}),(0,Hr.jsxs)("button",{onClick:()=>i(!l),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4"}),"Add Camera"]})]})]}),l&&(0,Hr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Add New Camera"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Camera Name"}),(0,Hr.jsx)("input",{type:"text",value:o.name,onChange:e=>c(d(d({},o),{},{name:e.target.value})),placeholder:"e.g. Main Gate Camera",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,Hr.jsx)("input",{type:"text",value:o.location,onChange:e=>c(d(d({},o),{},{location:e.target.value})),placeholder:"e.g. Main Entrance",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stream URL / IP"}),(0,Hr.jsx)("input",{type:"text",value:o.stream_url,onChange:e=>c(d(d({},o),{},{stream_url:e.target.value})),placeholder:"rtsp://... or http://...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,Hr.jsxs)("select",{value:o.type,onChange:e=>c(d(d({},o),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Hr.jsx)("option",{value:"ip",children:"IP Camera"}),(0,Hr.jsx)("option",{value:"usb",children:"USB Camera"}),(0,Hr.jsx)("option",{value:"nvr",children:"NVR"})]})]})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,Hr.jsx)("button",{onClick:async()=>{try{const t=localStorage.getItem("token");await zr.post("".concat("","/api/cctv/cameras"),d(d({},o),{},{school_id:null===e||void 0===e?void 0:e.school_id}),{headers:{Authorization:"Bearer ".concat(t)}}),i(!1),c({name:"",location:"",stream_url:"",type:"ip"}),u()}catch(Jk){var t,a;alert((null===(t=Jk.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to add camera")}},disabled:!o.name||!o.stream_url,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:"Save Camera"}),(0,Hr.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-100 text-gray-600 rounded-lg text-sm hover:bg-gray-200",children:"Cancel"})]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n?Array.from({length:6}).map((e,t)=>(0,Hr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 animate-pulse",children:[(0,Hr.jsx)("div",{className:"h-40 bg-gray-200 rounded-lg mb-3"}),(0,Hr.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),(0,Hr.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},t)):0===a.length?(0,Hr.jsxs)("div",{className:"col-span-full bg-white border border-gray-200 rounded-xl p-12 text-center",children:[(0,Hr.jsx)(Eh,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900",children:"No Cameras Added"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add CCTV cameras to start monitoring"})]}):a.map(e=>(0,Hr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow",children:[(0,Hr.jsxs)("div",{className:"h-40 bg-gray-900 flex items-center justify-center relative",children:[(0,Hr.jsx)(Cj,{className:"w-10 h-10 text-gray-600"}),(0,Hr.jsxs)("div",{className:"absolute top-2 right-2 flex items-center gap-1",children:[(0,Hr.jsx)("span",{className:"w-2 h-2 rounded-full ".concat("online"===e.status?"bg-green-500":"bg-red-500")}),(0,Hr.jsx)("span",{className:"text-[10px] text-white/70",children:e.status||"offline"})]})]}),(0,Hr.jsxs)("div",{className:"p-4",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:e.name}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[(0,Hr.jsx)(rN,{className:"w-3 h-3"}),e.location]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,Hr.jsxs)("button",{className:"flex-1 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg text-xs font-medium hover:bg-blue-100 flex items-center justify-center gap-1",children:[(0,Hr.jsx)(xl,{className:"w-3 h-3"}),"Live View"]}),(0,Hr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this camera?"))try{const t=localStorage.getItem("token");await zr.delete("".concat("","/api/cctv/cameras/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),u()}catch(Jk){alert("Failed to delete camera")}})(e.id||e._id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:(0,Hr.jsx)(Hh,{className:"w-3.5 h-3.5"})})]})]})]},e.id||e._id))})]})},HN=el("warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),qN=el("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),UN=("".concat("","/api"),[{id:1,name:"Student Desk (Single)",category:"Furniture",quantity:120,unitPrice:3500,location:"Classroom Block A",status:"In Stock"},{id:2,name:"Teacher Chair (Cushioned)",category:"Furniture",quantity:25,unitPrice:4200,location:"Staff Room",status:"In Stock"},{id:3,name:"Whiteboard Marker (Box of 10)",category:"Stationery",quantity:45,unitPrice:250,location:"Store Room 1",status:"In Stock"},{id:4,name:"A4 Paper Ream (500 sheets)",category:"Stationery",quantity:8,unitPrice:350,location:"Store Room 1",status:"Low Stock"},{id:5,name:"Desktop Computer (HP)",category:"Electronics",quantity:30,unitPrice:45e3,location:"Computer Lab",status:"In Stock"},{id:6,name:"Projector (Epson)",category:"Electronics",quantity:5,unitPrice:35e3,location:"AV Room",status:"In Stock"},{id:7,name:"Cricket Bat (SG)",category:"Sports",quantity:15,unitPrice:1800,location:"Sports Room",status:"In Stock"},{id:8,name:"Football (Nivia)",category:"Sports",quantity:3,unitPrice:950,location:"Sports Room",status:"Low Stock"},{id:9,name:"Microscope (Labomed)",category:"Lab",quantity:20,unitPrice:8500,location:"Biology Lab",status:"In Stock"},{id:10,name:"Beaker Set (500ml)",category:"Lab",quantity:6,unitPrice:450,location:"Chemistry Lab",status:"Low Stock"}]),WN=[{id:1,item:"Whiteboard Marker (Box of 10)",issuedTo:"Mr. Rajesh Kumar",department:"Mathematics",quantity:2,issueDate:"2026-02-01",returnDate:null,status:"Issued"},{id:2,item:"A4 Paper Ream",issuedTo:"Mrs. Sunita Verma",department:"Office",quantity:5,issueDate:"2026-01-28",returnDate:null,status:"Issued"},{id:3,item:"Projector (Epson)",issuedTo:"Mr. Anil Sharma",department:"Science",quantity:1,issueDate:"2026-02-05",returnDate:"2026-02-06",status:"Returned"},{id:4,item:"Cricket Bat (SG)",issuedTo:"Mr. Vikram Singh",department:"Sports",quantity:5,issueDate:"2026-02-03",returnDate:null,status:"Issued"},{id:5,item:"Microscope (Labomed)",issuedTo:"Dr. Meena Patel",department:"Biology",quantity:10,issueDate:"2026-02-07",returnDate:null,status:"Issued"}],VN=[{id:"PO-2026-001",vendor:"Sharma Furniture Works",items:"Student Desks x 50",quantity:50,amount:175e3,date:"2026-01-15",status:"Received"},{id:"PO-2026-002",vendor:"National Book Depot",items:"A4 Paper, Markers, Pens",quantity:100,amount:45e3,date:"2026-01-20",status:"Ordered"},{id:"PO-2026-003",vendor:"Gupta Electronics",items:"Projector x 2, HDMI Cables",quantity:4,amount:72e3,date:"2026-02-01",status:"Draft"},{id:"PO-2026-004",vendor:"Sports India Pvt Ltd",items:"Cricket Kit, Footballs, Badminton",quantity:25,amount:38500,date:"2026-02-05",status:"Ordered"},{id:"PO-2026-005",vendor:"Lab Instruments Co.",items:"Beakers, Test Tubes, Chemicals",quantity:80,amount:28e3,date:"2026-02-08",status:"Paid"}];function GN(){const{user:e}=Vr(),[a,s]=(0,t.useState)("stock"),[n,r]=(0,t.useState)(""),[l,i]=(0,t.useState)("all"),[o,c]=(0,t.useState)(UN),[u,m]=(0,t.useState)(WN),[h,p]=(0,t.useState)(VN),[x,g]=(0,t.useState)(!1),[f,v]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[j,N]=(0,t.useState)({name:"",category:"Furniture",quantity:"",unitPrice:"",location:"",status:"In Stock"}),[w,k]=(0,t.useState)({item:"",issuedTo:"",department:"",quantity:""}),[S,_]=(0,t.useState)({vendor:"",items:"",quantity:"",amount:"",status:"Draft"}),C=["all","Furniture","Stationery","Electronics","Sports","Lab"],E=o.reduce((e,t)=>e+t.quantity*t.unitPrice,0),P=o.filter(e=>"Low Stock"===e.status),A=h.filter(e=>"Ordered"===e.status||"Draft"===e.status),T=o.filter(e=>{const t=e.name.toLowerCase().includes(n.toLowerCase()),a="all"===l||e.category===l;return t&&a}),M=C.filter(e=>"all"!==e).map(e=>{const t=o.filter(t=>t.category===e),a=t.reduce((e,t)=>e+t.quantity*t.unitPrice,0);return{category:e,value:a,count:t.length}});return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-slate-600 to-zinc-700 rounded-2xl p-6 text-white",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,Hr.jsx)(HN,{className:"w-8 h-8"}),"Inventory Management"]}),(0,Hr.jsx)("p",{className:"text-slate-200 mt-2",children:"Track, issue, and manage \u2014 complete stock control"})]}),(0,Hr.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:o.length}),(0,Hr.jsx)("p",{className:"text-xs text-slate-200",children:"Total Items"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsxs)("p",{className:"text-2xl font-bold",children:["\u20b9",(E/1e5).toFixed(1),"L"]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-200",children:"Stock Value"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:P.length}),(0,Hr.jsx)("p",{className:"text-xs text-slate-200",children:"Low Stock"})]}),(0,Hr.jsxs)("div",{className:"bg-white/20 rounded-xl px-4 py-2 text-center",children:[(0,Hr.jsx)("p",{className:"text-2xl font-bold",children:A.length}),(0,Hr.jsx)("p",{className:"text-xs text-slate-200",children:"Pending POs"})]})]})]})}),(0,Hr.jsxs)(wh,{value:a,onValueChange:s,className:"w-full",children:[(0,Hr.jsxs)(kh,{className:"grid w-full grid-cols-4 h-12",children:[(0,Hr.jsxs)(Sh,{value:"stock",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Ul,{className:"w-4 h-4"})," Stock"]}),(0,Hr.jsxs)(Sh,{value:"issue",className:"flex items-center gap-2",children:[(0,Hr.jsx)(Ej,{className:"w-4 h-4"})," Issue/Return"]}),(0,Hr.jsxs)(Sh,{value:"purchase",className:"flex items-center gap-2",children:[(0,Hr.jsx)(qN,{className:"w-4 h-4"})," Purchase"]}),(0,Hr.jsxs)(Sh,{value:"reports",className:"flex items-center gap-2",children:[(0,Hr.jsx)(al,{className:"w-4 h-4"})," Reports"]})]}),(0,Hr.jsxs)(_h,{value:"stock",className:"mt-6 space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,Hr.jsxs)("div",{className:"relative flex-1",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Hr.jsx)(Lo,{value:n,onChange:e=>r(e.target.value),placeholder:"Search inventory items...",className:"pl-10"})]}),(0,Hr.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:C.map(e=>(0,Hr.jsx)(Io,{variant:l===e?"default":"outline",size:"sm",onClick:()=>i(e),children:"all"===e?"All":e},e))}),(0,Hr.jsxs)(Io,{onClick:()=>g(!0),className:"bg-slate-700 hover:bg-slate-800",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Add Item"]})]}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsx)(yb,{className:"p-0",children:(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 bg-gray-50/50",children:[(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Item Name"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Category"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Qty"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Unit Price"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Total Value"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Location"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Status"})]})}),(0,Hr.jsx)("tbody",{children:T.map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-slate-50/50 transition-colors",children:[(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm font-semibold text-gray-900",children:e.name}),(0,Hr.jsx)("td",{className:"py-3.5 px-4",children:(0,Hr.jsx)(Ry,{variant:"outline",children:e.category})}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm font-semibold text-gray-900",children:e.quantity}),(0,Hr.jsxs)("td",{className:"py-3.5 px-4 text-sm text-gray-600",children:["\u20b9",e.unitPrice.toLocaleString()]}),(0,Hr.jsxs)("td",{className:"py-3.5 px-4 text-sm font-bold text-gray-900",children:["\u20b9",(e.quantity*e.unitPrice).toLocaleString()]}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-500",children:e.location}),(0,Hr.jsx)("td",{className:"py-3.5 px-4",children:(0,Hr.jsx)(Ry,{className:"In Stock"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:e.status})})]},e.id))})]})})})})]}),(0,Hr.jsxs)(_h,{value:"issue",className:"mt-6 space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Issue / Return Items (\u0938\u093e\u092e\u093e\u0928 \u091c\u093e\u0930\u0940/\u0935\u093e\u092a\u0938\u0940)"}),(0,Hr.jsxs)(Io,{onClick:()=>v(!0),className:"bg-slate-700 hover:bg-slate-800",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Issue Item"]})]}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsx)(yb,{className:"p-0",children:(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 bg-gray-50/50",children:[(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Item"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Issued To"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Department"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Qty"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Issue Date"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Status"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Action"})]})}),(0,Hr.jsx)("tbody",{children:u.map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-slate-50/50 transition-colors",children:[(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm font-semibold text-gray-900",children:e.item}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-700",children:e.issuedTo}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-500",children:e.department}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm font-semibold text-gray-900",children:e.quantity}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-600",children:e.issueDate}),(0,Hr.jsx)("td",{className:"py-3.5 px-4",children:(0,Hr.jsx)(Ry,{className:"Returned"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700",children:e.status})}),(0,Hr.jsx)("td",{className:"py-3.5 px-4",children:"Issued"===e.status&&(0,Hr.jsx)(Io,{size:"sm",variant:"outline",onClick:()=>{return t=e.id,m(e=>e.map(e=>e.id===t?d(d({},e),{},{status:"Returned",returnDate:(new Date).toISOString().split("T")[0]}):e)),void Qt.success("Item returned successfully! \u0906\u0907\u091f\u092e \u0935\u093e\u092a\u0938 \u0915\u093f\u092f\u093e \u0917\u092f\u093e");var t},children:"Return"})})]},e.id))})]})})})})]}),(0,Hr.jsxs)(_h,{value:"purchase",className:"mt-6 space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Purchase Orders (\u0916\u0930\u0940\u0926 \u0906\u0926\u0947\u0936)"}),(0,Hr.jsxs)(Io,{onClick:()=>y(!0),className:"bg-slate-700 hover:bg-slate-800",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Create PO"]})]}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsx)(yb,{className:"p-0",children:(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 bg-gray-50/50",children:[(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"PO No."}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Vendor"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Items"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Qty"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Amount"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Date"}),(0,Hr.jsx)("th",{className:"text-left text-xs font-semibold text-gray-500 uppercase tracking-wider py-3 px-4",children:"Status"})]})}),(0,Hr.jsx)("tbody",{children:h.map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-slate-50/50 transition-colors",children:[(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm font-semibold text-blue-600",children:e.id}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm font-semibold text-gray-900",children:e.vendor}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-600",children:e.items}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-900",children:e.quantity}),(0,Hr.jsxs)("td",{className:"py-3.5 px-4 text-sm font-bold text-gray-900",children:["\u20b9",e.amount.toLocaleString()]}),(0,Hr.jsx)("td",{className:"py-3.5 px-4 text-sm text-gray-600",children:e.date}),(0,Hr.jsx)("td",{className:"py-3.5 px-4",children:(0,Hr.jsx)(Ry,{className:"Paid"===e.status?"bg-green-100 text-green-700":"Received"===e.status?"bg-blue-100 text-blue-700":"Ordered"===e.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700",children:e.status})})]},e.id))})]})})})})]}),(0,Hr.jsxs)(_h,{value:"reports",className:"mt-6 space-y-6",children:[(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Inventory Reports (\u0938\u094d\u091f\u0949\u0915 \u0930\u093f\u092a\u094b\u0930\u094d\u091f)"}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:M.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-4 text-center",children:[(0,Hr.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:e.category}),(0,Hr.jsxs)("p",{className:"text-xl font-bold text-gray-900 mt-2",children:["\u20b9",(e.value/1e3).toFixed(0),"K"]}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-400",children:[e.count," items"]})]})},e.category))}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(Th,{className:"w-5 h-5 text-red-500"})," Low Stock Alerts (\u0915\u092e \u0938\u094d\u091f\u0949\u0915 \u0905\u0932\u0930\u094d\u091f)"]}),0===P.length?(0,Hr.jsx)("p",{className:"text-sm text-gray-500",children:"All items are well stocked!"}):(0,Hr.jsx)("div",{className:"space-y-3",children:P.map(e=>(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-xl",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-500",children:[e.category," \xb7 ",e.location]})]}),(0,Hr.jsxs)("div",{className:"text-right",children:[(0,Hr.jsx)("p",{className:"text-lg font-bold text-red-600",children:e.quantity}),(0,Hr.jsx)("p",{className:"text-xs text-red-500",children:"remaining"})]})]},e.id))})]})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md",children:(0,Hr.jsxs)(yb,{className:"p-6",children:[(0,Hr.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Hr.jsx)(al,{className:"w-5 h-5 text-blue-600"})," Monthly Consumption (\u092e\u093e\u0938\u093f\u0915 \u0916\u092a\u0924)"]}),(0,Hr.jsx)("div",{className:"grid grid-cols-6 gap-2",children:[{month:"Sep",value:45e3},{month:"Oct",value:52e3},{month:"Nov",value:38e3},{month:"Dec",value:61e3},{month:"Jan",value:55e3},{month:"Feb",value:42e3}].map(e=>(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("div",{className:"bg-slate-100 rounded-lg mx-auto mb-2 relative overflow-hidden",style:{height:"120px",width:"100%"},children:(0,Hr.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-slate-500 rounded-t-lg",style:{height:"".concat(e.value/61e3*100,"%")}})}),(0,Hr.jsx)("p",{className:"text-xs font-semibold text-gray-700",children:e.month}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-400",children:["\u20b9",(e.value/1e3).toFixed(0),"K"]})]},e.month))})]})})]})]}),(0,Hr.jsx)(Gu,{open:x,onOpenChange:g,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Add Inventory Item (\u0928\u092f\u093e \u0906\u0907\u091f\u092e \u091c\u094b\u0921\u093c\u0947\u0902)"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Item Name"}),(0,Hr.jsx)(Lo,{value:j.name,onChange:e=>N(t=>d(d({},t),{},{name:e.target.value})),placeholder:"Item name"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Category"}),(0,Hr.jsxs)("select",{value:j.category,onChange:e=>N(t=>d(d({},t),{},{category:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"Furniture",children:"Furniture"}),(0,Hr.jsx)("option",{value:"Stationery",children:"Stationery"}),(0,Hr.jsx)("option",{value:"Electronics",children:"Electronics"}),(0,Hr.jsx)("option",{value:"Sports",children:"Sports"}),(0,Hr.jsx)("option",{value:"Lab",children:"Lab"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Quantity"}),(0,Hr.jsx)(Lo,{type:"number",value:j.quantity,onChange:e=>N(t=>d(d({},t),{},{quantity:e.target.value})),placeholder:"0"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Unit Price (\u20b9)"}),(0,Hr.jsx)(Lo,{type:"number",value:j.unitPrice,onChange:e=>N(t=>d(d({},t),{},{unitPrice:e.target.value})),placeholder:"0"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Location"}),(0,Hr.jsx)(Lo,{value:j.location,onChange:e=>N(t=>d(d({},t),{},{location:e.target.value})),placeholder:"Store Room 1"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Status"}),(0,Hr.jsxs)("select",{value:j.status,onChange:e=>N(t=>d(d({},t),{},{status:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"In Stock",children:"In Stock"}),(0,Hr.jsx)("option",{value:"Low Stock",children:"Low Stock"}),(0,Hr.jsx)("option",{value:"Out of Stock",children:"Out of Stock"})]})]}),(0,Hr.jsxs)(Io,{onClick:()=>{j.name&&j.quantity?(c(e=>[...e,d(d({id:Date.now()},j),{},{quantity:parseInt(j.quantity),unitPrice:parseInt(j.unitPrice)||0})]),Qt.success("Item added successfully! \u0928\u092f\u093e \u0906\u0907\u091f\u092e \u091c\u094b\u0921\u093c\u093e \u0917\u092f\u093e"),g(!1),N({name:"",category:"Furniture",quantity:"",unitPrice:"",location:"",status:"In Stock"})):Qt.error("Item name \u0914\u0930 quantity \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948")},className:"w-full bg-slate-700 hover:bg-slate-800",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Add Item"]})]})]})}),(0,Hr.jsx)(Gu,{open:f,onOpenChange:v,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Issue Item (\u0938\u093e\u092e\u093e\u0928 \u091c\u093e\u0930\u0940 \u0915\u0930\u0947\u0902)"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Item"}),(0,Hr.jsxs)("select",{value:w.item,onChange:e=>k(t=>d(d({},t),{},{item:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"",children:"Select Item"}),o.map(e=>(0,Hr.jsxs)("option",{value:e.name,children:[e.name," (Qty: ",e.quantity,")"]},e.id))]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Issue To (\u0915\u093f\u0938\u0915\u094b)"}),(0,Hr.jsx)(Lo,{value:w.issuedTo,onChange:e=>k(t=>d(d({},t),{},{issuedTo:e.target.value})),placeholder:"Staff name"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Department"}),(0,Hr.jsx)(Lo,{value:w.department,onChange:e=>k(t=>d(d({},t),{},{department:e.target.value})),placeholder:"Department"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Quantity"}),(0,Hr.jsx)(Lo,{type:"number",value:w.quantity,onChange:e=>k(t=>d(d({},t),{},{quantity:e.target.value})),placeholder:"1"})]}),(0,Hr.jsxs)(Io,{onClick:()=>{w.item&&w.issuedTo&&w.quantity?(m(e=>[...e,d(d({id:Date.now()},w),{},{quantity:parseInt(w.quantity),issueDate:(new Date).toISOString().split("T")[0],returnDate:null,status:"Issued"})]),Qt.success("".concat(w.item," issued to ").concat(w.issuedTo)),v(!1),k({item:"",issuedTo:"",department:"",quantity:""})):Qt.error("\u0938\u092d\u0940 fields \u092d\u0930\u0928\u093e \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948")},className:"w-full bg-slate-700 hover:bg-slate-800",children:[(0,Hr.jsx)(Ej,{className:"w-4 h-4 mr-2"})," Issue Item"]})]})]})}),(0,Hr.jsx)(Gu,{open:b,onOpenChange:y,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Create Purchase Order (\u0916\u0930\u0940\u0926 \u0906\u0926\u0947\u0936)"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Vendor Name"}),(0,Hr.jsx)(Lo,{value:S.vendor,onChange:e=>_(t=>d(d({},t),{},{vendor:e.target.value})),placeholder:"Vendor / Supplier name"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Items Description"}),(0,Hr.jsx)(Lo,{value:S.items,onChange:e=>_(t=>d(d({},t),{},{items:e.target.value})),placeholder:"Items to order"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Quantity"}),(0,Hr.jsx)(Lo,{type:"number",value:S.quantity,onChange:e=>_(t=>d(d({},t),{},{quantity:e.target.value})),placeholder:"1"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Amount (\u20b9)"}),(0,Hr.jsx)(Lo,{type:"number",value:S.amount,onChange:e=>_(t=>d(d({},t),{},{amount:e.target.value})),placeholder:"0"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Status"}),(0,Hr.jsxs)("select",{value:S.status,onChange:e=>_(t=>d(d({},t),{},{status:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:[(0,Hr.jsx)("option",{value:"Draft",children:"Draft"}),(0,Hr.jsx)("option",{value:"Ordered",children:"Ordered"}),(0,Hr.jsx)("option",{value:"Received",children:"Received"}),(0,Hr.jsx)("option",{value:"Paid",children:"Paid"})]})]}),(0,Hr.jsxs)(Io,{onClick:()=>{S.vendor&&S.items&&S.amount?(p(e=>[...e,d(d({id:"PO-2026-".concat(String(e.length+1).padStart(3,"0"))},S),{},{quantity:parseInt(S.quantity)||1,amount:parseInt(S.amount),date:(new Date).toISOString().split("T")[0]})]),Qt.success("Purchase Order created! \u0916\u0930\u0940\u0926 \u0906\u0926\u0947\u0936 \u092c\u0928\u093e\u092f\u093e \u0917\u092f\u093e"),y(!1),_({vendor:"",items:"",quantity:"",amount:"",status:"Draft"})):Qt.error("Vendor, items \u0914\u0930 amount \u091c\u093c\u0930\u0942\u0930\u0940 \u0939\u0948")},className:"w-full bg-slate-700 hover:bg-slate-800",children:[(0,Hr.jsx)(qN,{className:"w-4 h-4 mr-2"})," Create PO"]})]})]})})]})}function KN(){const{user:e}=Vr(),a=null===e||void 0===e?void 0:e.school_id,[s,n]=(0,t.useState)([]),[r,l]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[m,h]=(0,t.useState)({name:"",address:"",city:"",state:"",pincode:"",principal_name:"",phone:"",email:"",code:""});(0,t.useEffect)(()=>{p()},[a]);const p=async()=>{l(!0);try{var e;const t=localStorage.getItem("token"),s=await zr.get("".concat("","/api/branches?school_id=").concat(a),{headers:{Authorization:"Bearer ".concat(t)}});n((null===(e=s.data)||void 0===e?void 0:e.branches)||[])}catch(Jk){n([{id:"main",name:"Main Campus",address:"Main Branch",students:0,staff:0,is_main:!0}])}finally{l(!1)}},x=s.reduce((e,t)=>e+(t.students||0),0),g=s.reduce((e,t)=>e+(t.staff||0),0);return(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center",children:(0,Hr.jsx)(Wl,{className:"w-5 h-5 text-white"})}),"Multi-Branch Management"]}),(0,Hr.jsx)("p",{className:"text-gray-500 mt-1",children:"Unify, monitor, and lead - stay smartly synced"})]}),(0,Hr.jsxs)(Io,{onClick:()=>{u(null),h({name:"",address:"",city:"",state:"",pincode:"",principal_name:"",phone:"",email:"",code:""}),o(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-2"})," Add Branch"]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-blue-50 to-blue-100",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-blue-600",children:"Total Branches"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:s.length})]}),(0,Hr.jsx)(Wl,{className:"w-10 h-10 text-blue-500 opacity-50"})]})})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-green-50 to-green-100",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-green-600",children:"Total Students"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-green-900",children:x})]}),(0,Hr.jsx)(cl,{className:"w-10 h-10 text-green-500 opacity-50"})]})})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-purple-50 to-purple-100",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-purple-600",children:"Total Staff"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-purple-900",children:g})]}),(0,Hr.jsx)(tl,{className:"w-10 h-10 text-purple-500 opacity-50"})]})})}),(0,Hr.jsx)(gb,{className:"border-0 shadow-md bg-gradient-to-br from-amber-50 to-amber-100",children:(0,Hr.jsx)(yb,{className:"p-5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-amber-600",children:"Active"}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-amber-900",children:s.filter(e=>!1!==e.is_active).length})]}),(0,Hr.jsx)(Bl,{className:"w-10 h-10 text-amber-500 opacity-50"})]})})})]}),r?(0,Hr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-blue-500"})}):(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,Hr.jsx)(gb,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:(0,Hr.jsxs)(yb,{className:"p-5",children:[(0,Hr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center",children:(0,Hr.jsx)(Wl,{className:"w-6 h-6 text-white"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-bold text-gray-900",children:e.name}),e.is_main&&(0,Hr.jsx)(Ry,{className:"bg-blue-100 text-blue-700 text-[10px]",children:"Main Campus"})]})]}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>(e=>{u(e),h({name:e.name||"",address:e.address||"",city:e.city||"",state:e.state||"",pincode:e.pincode||"",principal_name:e.principal_name||"",phone:e.phone||"",email:e.email||"",code:e.code||""}),o(!0)})(e),children:(0,Hr.jsx)(Lh,{className:"w-4 h-4 text-gray-400"})})]}),e.address&&(0,Hr.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-1 mb-3",children:[(0,Hr.jsx)(rN,{className:"w-3 h-3"})," ",e.address,e.city?", ".concat(e.city):""]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[(0,Hr.jsx)("p",{className:"text-xs text-gray-500",children:"Students"}),(0,Hr.jsx)("p",{className:"text-lg font-bold text-gray-900",children:e.students||0})]}),(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[(0,Hr.jsx)("p",{className:"text-xs text-gray-500",children:"Staff"}),(0,Hr.jsx)("p",{className:"text-lg font-bold text-gray-900",children:e.staff||0})]})]}),e.principal_name&&(0,Hr.jsxs)("p",{className:"text-xs text-gray-500 mt-3",children:["Principal: ",e.principal_name]}),e.phone&&(0,Hr.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[(0,Hr.jsx)(vy,{className:"w-3 h-3"})," ",e.phone]})]})},e.id))}),(0,Hr.jsx)(Gu,{open:i,onOpenChange:o,children:(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:c?"Edit Branch":"Add New Branch"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Branch Name *"}),(0,Hr.jsx)(Lo,{value:m.name,onChange:e=>h(t=>d(d({},t),{},{name:e.target.value})),placeholder:"e.g., City Center Branch"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Branch Code"}),(0,Hr.jsx)(Lo,{value:m.code,onChange:e=>h(t=>d(d({},t),{},{code:e.target.value})),placeholder:"e.g., BR-001"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Address"}),(0,Hr.jsx)(Lo,{value:m.address,onChange:e=>h(t=>d(d({},t),{},{address:e.target.value})),placeholder:"Full address"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"City"}),(0,Hr.jsx)(Lo,{value:m.city,onChange:e=>h(t=>d(d({},t),{},{city:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"State"}),(0,Hr.jsx)(Lo,{value:m.state,onChange:e=>h(t=>d(d({},t),{},{state:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Pincode"}),(0,Hr.jsx)(Lo,{value:m.pincode,onChange:e=>h(t=>d(d({},t),{},{pincode:e.target.value}))})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Principal Name"}),(0,Hr.jsx)(Lo,{value:m.principal_name,onChange:e=>h(t=>d(d({},t),{},{principal_name:e.target.value}))})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Phone"}),(0,Hr.jsx)(Lo,{value:m.phone,onChange:e=>h(t=>d(d({},t),{},{phone:e.target.value}))})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{children:"Email"}),(0,Hr.jsx)(Lo,{value:m.email,onChange:e=>h(t=>d(d({},t),{},{email:e.target.value}))})]})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,Hr.jsx)(Io,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),(0,Hr.jsx)(Io,{onClick:async()=>{try{const e=localStorage.getItem("token"),t=d(d({},m),{},{school_id:a});c?(await zr.put("".concat("","/api/branches/").concat(c.id),t,{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Branch updated!")):(await zr.post("".concat("","/api/branches"),t,{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Branch added!")),o(!1),u(null),h({name:"",address:"",city:"",state:"",pincode:"",principal_name:"",phone:"",email:"",code:""}),p()}catch(Jk){Qt.error("Failed to save branch")}},className:"bg-blue-600 hover:bg-blue-700",children:c?"Update":"Add Branch"})]})]})]})})]})}const YN=el("stamp",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]]),QN=el("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),$N=el("school",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);function JN(e,t){let[a,s]=t;return Math.min(s,Math.max(a,e))}const XN=["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"],ZN=["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"],ew=["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"],tw=["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"],aw=["__scopeSlider"],sw=["__scopeSlider"],nw=["__scopeSlider","index","name"],rw=["__scopeSlider","value"];var lw=["PageUp","PageDown"],iw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ow={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},cw="Slider",[dw,uw,mw]=_m(cw),[hw,pw]=Yo(cw,[mw]),[xw,gw]=hw(cw),fw=t.forwardRef((e,a)=>{const{name:s,min:n=0,max:l=100,step:i=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[n],value:h,onValueChange:p=()=>{},onValueCommit:x=()=>{},inverted:g=!1,form:f}=e,v=r(e,XN),b=t.useRef(new Set),y=t.useRef(0),j="horizontal"===o?yw:jw,[N=[],w]=tc({prop:h,defaultProp:m,onChange:e=>{var t;null===(t=[...b.current][y.current])||void 0===t||t.focus(),p(e)}}),k=t.useRef(N);function S(e,t){let{commit:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1};const s=function(e){return(String(e).split(".")[1]||"").length}(i),r=function(e,t){const a=Math.pow(10,t);return Math.round(e*a)/a}(Math.round((e-n)/i)*i+n,s),o=JN(r,[n,l]);w(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;const s=[...e];return s[a]=t,s.sort((e,t)=>e-t)}(e,o,t);if(function(e,t){if(t>0){const a=function(e){return e.slice(0,-1).map((t,a)=>e[a+1]-t)}(e);return Math.min(...a)>=t}return!0}(s,u*i)){y.current=s.indexOf(o);const t=String(s)!==String(e);return t&&a&&x(s),t?s:e}return e})}return(0,Hr.jsx)(xw,{scope:e.__scopeSlider,name:s,disabled:c,min:n,max:l,valueIndexToChangeRef:y,thumbs:b.current,values:N,orientation:o,form:f,children:(0,Hr.jsx)(dw.Provider,{scope:e.__scopeSlider,children:(0,Hr.jsx)(dw.Slot,{scope:e.__scopeSlider,children:(0,Hr.jsx)(j,d(d({"aria-disabled":c,"data-disabled":c?"":void 0},v),{},{ref:a,onPointerDown:Vo(v.onPointerDown,()=>{c||(k.current=N)}),min:n,max:l,inverted:g,onSlideStart:c?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const a=e.map(e=>Math.abs(e-t)),s=Math.min(...a);return a.indexOf(s)}(N,e);S(e,t)},onSlideMove:c?void 0:function(e){S(e,y.current)},onSlideEnd:c?void 0:function(){const e=k.current[y.current];N[y.current]!==e&&x(N)},onHomeKeyDown:()=>!c&&S(n,0,{commit:!0}),onEndKeyDown:()=>!c&&S(l,N.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:a}=e;if(!c){const e=lw.includes(t.key)||t.shiftKey&&iw.includes(t.key)?10:1,s=y.current;S(N[s]+i*e*a,s,{commit:!0})}}}))})})})});fw.displayName=cw;var[vw,bw]=hw(cw,{startEdge:"left",endEdge:"right",size:"width",direction:1}),yw=t.forwardRef((e,a)=>{const{min:s,max:n,dir:l,inverted:i,onSlideStart:o,onSlideMove:c,onSlideEnd:u,onStepKeyDown:m}=e,h=r(e,ZN),[p,x]=t.useState(null),g=Zl(a,e=>x(e)),f=t.useRef(void 0),v=Tm(l),b="ltr"===v,y=b&&!i||!b&&i;function j(e){const t=f.current||p.getBoundingClientRect(),a=Mw([0,t.width],y?[s,n]:[n,s]);return f.current=t,a(e-t.left)}return(0,Hr.jsx)(vw,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:(0,Hr.jsx)(Nw,d(d({dir:v,"data-orientation":"horizontal"},h),{},{ref:g,style:d(d({},h.style),{},{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:e=>{const t=j(e.clientX);null===o||void 0===o||o(t)},onSlideMove:e=>{const t=j(e.clientX);null===c||void 0===c||c(t)},onSlideEnd:()=>{f.current=void 0,null===u||void 0===u||u()},onStepKeyDown:e=>{const t=ow[y?"from-left":"from-right"].includes(e.key);null===m||void 0===m||m({event:e,direction:t?-1:1})}}))})}),jw=t.forwardRef((e,a)=>{const{min:s,max:n,inverted:l,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u}=e,m=r(e,ew),h=t.useRef(null),p=Zl(a,h),x=t.useRef(void 0),g=!l;function f(e){const t=x.current||h.current.getBoundingClientRect(),a=Mw([0,t.height],g?[n,s]:[s,n]);return x.current=t,a(e-t.top)}return(0,Hr.jsx)(vw,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:(0,Hr.jsx)(Nw,d(d({"data-orientation":"vertical"},m),{},{ref:p,style:d(d({},m.style),{},{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:e=>{const t=f(e.clientY);null===i||void 0===i||i(t)},onSlideMove:e=>{const t=f(e.clientY);null===o||void 0===o||o(t)},onSlideEnd:()=>{x.current=void 0,null===c||void 0===c||c()},onStepKeyDown:e=>{const t=ow[g?"from-bottom":"from-top"].includes(e.key);null===u||void 0===u||u({event:e,direction:t?-1:1})}}))})}),Nw=t.forwardRef((e,t)=>{const{__scopeSlider:a,onSlideStart:s,onSlideMove:n,onSlideEnd:l,onHomeKeyDown:i,onEndKeyDown:o,onStepKeyDown:c}=e,u=r(e,tw),m=gw(cw,a);return(0,Hr.jsx)(cc.span,d(d({},u),{},{ref:t,onKeyDown:Vo(e.onKeyDown,e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):lw.concat(iw).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:Vo(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),m.thumbs.has(t)?t.focus():s(e)}),onPointerMove:Vo(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&n(e)}),onPointerUp:Vo(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),l(e))})}))}),ww="SliderTrack",kw=t.forwardRef((e,t)=>{const{__scopeSlider:a}=e,s=r(e,aw),n=gw(ww,a);return(0,Hr.jsx)(cc.span,d(d({"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation},s),{},{ref:t}))});kw.displayName=ww;var Sw="SliderRange",_w=t.forwardRef((e,a)=>{const{__scopeSlider:s}=e,n=r(e,sw),l=gw(Sw,s),i=bw(Sw,s),o=Zl(a,t.useRef(null)),c=l.values.length,u=l.values.map(e=>Tw(e,l.min,l.max)),m=c>1?Math.min(...u):0,h=100-Math.max(...u);return(0,Hr.jsx)(cc.span,d(d({"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0},n),{},{ref:o,style:d(d({},e.style),{},{[i.startEdge]:m+"%",[i.endEdge]:h+"%"})}))});_w.displayName=Sw;var Cw="SliderThumb",Ew=t.forwardRef((e,a)=>{const s=uw(e.__scopeSlider),[n,r]=t.useState(null),l=Zl(a,e=>r(e)),i=t.useMemo(()=>n?s().findIndex(e=>e.ref.current===n):-1,[s,n]);return(0,Hr.jsx)(Pw,d(d({},e),{},{ref:l,index:i}))}),Pw=t.forwardRef((e,a)=>{const{__scopeSlider:s,index:n,name:l}=e,i=r(e,nw),o=gw(Cw,s),c=bw(Cw,s),[u,m]=t.useState(null),h=Zl(a,e=>m(e)),p=!u||(o.form||!!u.closest("form")),x=Bx(u),g=o.values[n],f=void 0===g?0:Tw(g,o.min,o.max),v=function(e,t){return t>2?"Value ".concat(e+1," of ").concat(t):2===t?["Minimum","Maximum"][e]:void 0}(n,o.values.length),b=null===x||void 0===x?void 0:x[c.size],y=b?function(e,t,a){const s=e/2,n=Mw([0,50],[0,s]);return(s-n(t)*a)*a}(b,f,c.direction):0;return t.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),(0,Hr.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:"calc(".concat(f,"% + ").concat(y,"px)")},children:[(0,Hr.jsx)(dw.ItemSlot,{scope:e.__scopeSlider,children:(0,Hr.jsx)(cc.span,d(d({role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},i),{},{ref:h,style:void 0===g?{display:"none"}:e.style,onFocus:Vo(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})}))}),p&&(0,Hr.jsx)(Aw,{name:null!==l&&void 0!==l?l:o.name?o.name+(o.values.length>1?"[]":""):void 0,form:o.form,value:g},n)]})});Ew.displayName=Cw;var Aw=t.forwardRef((e,a)=>{let{__scopeSlider:s,value:n}=e,l=r(e,rw);const i=t.useRef(null),o=Zl(i,a),c=qy(n);return t.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"value").set;if(c!==n&&a){const t=new Event("input",{bubbles:!0});a.call(e,n),e.dispatchEvent(t)}},[c,n]),(0,Hr.jsx)(cc.input,d(d({style:{display:"none"}},l),{},{ref:o,defaultValue:n}))});function Tw(e,t,a){return JN(100/(a-t)*(e-t),[0,100])}function Mw(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(a-e[0])}}Aw.displayName="RadioBubbleInput";var Dw=fw,Rw=kw,Iw=_w,Ow=Ew;const Lw=["className"];t.forwardRef((e,t)=>{let{className:a}=e,s=r(e,Lw);return(0,Hr.jsxs)(Dw,d(d({ref:t,className:Mo("relative flex w-full touch-none select-none items-center",a)},s),{},{children:[(0,Hr.jsx)(Rw,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,Hr.jsx)(Iw,{className:"absolute h-full bg-primary"})}),(0,Hr.jsx)(Ow,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}))}).displayName=Dw.displayName;const Fw="".concat("","/api");function Bw(){var e;const{t:a}=bs(),{user:s,schoolId:n,selectSchool:r}=Vr(),{language:l,changeLanguage:i}=(()=>{const e=(0,t.useContext)(Gr);if(!e)throw new Error("useLanguage must be used within LanguageProvider");return e})(),[o,c]=(0,t.useState)([]),[u,m]=(0,t.useState)(!0),[h,p]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),[f,v]=(0,t.useState)(null),[b,y]=(0,t.useState)(null),[j,N]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),S=(0,t.useRef)(null),_=(0,t.useRef)(null),[C,E]=(0,t.useState)({name:"",address:"",board_type:"CBSE",city:"",state:"",phone:"",email:""}),P=[{key:"dashboard",label:"Dashboard"},{key:"students",label:"Students"},{key:"staff",label:"Staff"},{key:"classes",label:"Classes"},{key:"attendance",label:"Attendance"},{key:"timetable",label:"Timetable"},{key:"exams_reports",label:"Exams & Reports"},{key:"homework",label:"Homework"},{key:"digital_library",label:"Digital Library"},{key:"live_classes",label:"Live Classes"},{key:"fee_management",label:"Fee Management"},{key:"communication_hub",label:"Communication Hub"},{key:"transport",label:"Transport"},{key:"inventory",label:"Inventory"},{key:"cctv",label:"CCTV"},{key:"calendar",label:"Calendar"},{key:"ai_tools",label:"AI Tools"},{key:"analytics",label:"Analytics"}],A=["schooltino","teachtino","studytino"],T={schooltino:"Schooltino (Admin)",teachtino:"TeachTino (Teachers)",studytino:"StudyTino (Students)"},M=()=>{const e={};return P.forEach(t=>{e[t.key]={schooltino:!0,teachtino:!0,studytino:!0}}),e},[D,R]=(0,t.useState)(M),[I,O]=(0,t.useState)(!1);(0,t.useEffect)(()=>{L(),F(),(async()=>{const e=M();let t=null;try{const e=localStorage.getItem("token"),a=await zr.get("".concat(Fw,"/settings/module-visibility"),{headers:{Authorization:"Bearer ".concat(e)}});a.data&&Object.keys(a.data).length>0&&(t=a.data)}catch(s){console.log("Backend module visibility not available, using local")}if(!t)try{const e=localStorage.getItem("module_visibility_settings");e&&(t=JSON.parse(e))}catch($k){}const a=d({},e);t&&Object.keys(t).forEach(s=>{a[s]=d(d({},e[s]),t[s])}),R(a),localStorage.setItem("module_visibility_settings",JSON.stringify(a)),window.dispatchEvent(new Event("module_visibility_changed"))})()},[]);const L=async()=>{try{const e=await zr.get("".concat(Fw,"/schools"));c(e.data)}catch(e){console.error("Failed to fetch schools")}finally{m(!1)}},F=async()=>{try{const e=await zr.get("".concat(Fw,"/school/signature-seal"));v(e.data.signature_url),y(e.data.seal_url)}catch(e){console.error("Failed to fetch signature/seal")}},B=e=>{E(t=>d(d({},t),{},{[e.target.name]:e.target.value}))};return(0,Hr.jsxs)("div",{className:"space-y-8","data-testid":"settings-page",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-3xl font-bold font-heading text-slate-900",children:a("settings")}),(0,Hr.jsx)("p",{className:"text-slate-500 mt-1",children:"Manage your preferences"})]}),(0,Hr.jsxs)("div",{className:"stat-card",children:[(0,Hr.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Profile"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"w-16 h-16 bg-indigo-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:null===s||void 0===s||null===(e=s.name)||void 0===e?void 0:e.charAt(0).toUpperCase()}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-xl font-semibold text-slate-900",children:null===s||void 0===s?void 0:s.name}),(0,Hr.jsx)("p",{className:"text-slate-500",children:null===s||void 0===s?void 0:s.email}),(0,Hr.jsx)("span",{className:"badge badge-info capitalize mt-1",children:null===s||void 0===s?void 0:s.role})]})]})]}),(0,Hr.jsxs)("div",{className:"stat-card",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Hr.jsx)(rl,{className:"w-5 h-5 text-indigo-600"}),(0,Hr.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Language / \u092d\u093e\u0937\u093e"})]}),(0,Hr.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,Hr.jsxs)("button",{onClick:()=>i("en"),className:"px-6 py-3 rounded-xl border-2 transition-all ".concat("en"===l?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-200 hover:border-slate-300"),"data-testid":"lang-en-btn",children:[(0,Hr.jsx)("span",{className:"font-medium",children:"English"}),"en"===l&&(0,Hr.jsx)(Ah,{className:"w-4 h-4 inline ml-2"})]}),(0,Hr.jsxs)("button",{onClick:()=>i("hi"),className:"px-6 py-3 rounded-xl border-2 transition-all ".concat("hi"===l?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-200 hover:border-slate-300"),"data-testid":"lang-hi-btn",children:[(0,Hr.jsx)("span",{className:"font-medium",children:"\u0939\u093f\u0902\u0926\u0940"}),"hi"===l&&(0,Hr.jsx)(Ah,{className:"w-4 h-4 inline ml-2"})]}),(0,Hr.jsxs)("button",{onClick:()=>i("hinglish"),className:"px-6 py-3 rounded-xl border-2 transition-all ".concat("hinglish"===l?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-200 hover:border-slate-300"),"data-testid":"lang-hinglish-btn",children:[(0,Hr.jsx)("span",{className:"font-medium",children:"Hinglish \ud83d\udd04"}),"hinglish"===l&&(0,Hr.jsx)(Ah,{className:"w-4 h-4 inline ml-2"})]})]})]}),("director"===(null===s||void 0===s?void 0:s.role)||"principal"===(null===s||void 0===s?void 0:s.role))&&(0,Hr.jsxs)("div",{className:"stat-card",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Hr.jsx)(Lj,{className:"w-5 h-5 text-indigo-600"}),(0,Hr.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Signature & Seal for Notices"})]}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Ye signature aur seal notices pe automatically show honge"}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Hr.jsxs)("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:border-indigo-300 transition-all",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Hr.jsx)(Lj,{className:"w-4 h-4 text-indigo-600"}),(0,Hr.jsx)("span",{className:"font-medium text-slate-700",children:"Signature"})]}),f?(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)("img",{src:"".concat("").concat(f),alt:"Signature",className:"w-full h-24 object-contain bg-white rounded-lg border"}),(0,Hr.jsx)("button",{onClick:()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.click()},className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow hover:bg-slate-100",children:(0,Hr.jsx)(Ph,{className:"w-4 h-4 text-slate-600"})})]}):(0,Hr.jsx)("button",{onClick:()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.click()},disabled:j,className:"w-full h-24 flex flex-col items-center justify-center bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 transition-all",children:j?(0,Hr.jsx)(ul,{className:"w-6 h-6 animate-spin text-indigo-600"}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Ph,{className:"w-6 h-6 text-slate-400 mb-1"}),(0,Hr.jsx)("span",{className:"text-sm text-slate-500",children:"Upload Signature"})]})}),(0,Hr.jsx)("input",{ref:S,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.size>2097152)Qt.error("File size should be less than 2MB");else{N(!0);try{const e=new FormData;e.append("file",t);const a=await zr.post("".concat(Fw,"/school/upload-signature"),e,{headers:{"Content-Type":"multipart/form-data"}});v(a.data.url),Qt.success("Signature uploaded successfully! \u270d\ufe0f")}catch(a){Qt.error("Failed to upload signature")}finally{N(!1)}}},className:"hidden"}),(0,Hr.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:"PNG/JPG, max 2MB"})]}),(0,Hr.jsxs)("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:border-indigo-300 transition-all",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Hr.jsx)(YN,{className:"w-4 h-4 text-indigo-600"}),(0,Hr.jsx)("span",{className:"font-medium text-slate-700",children:"School Seal/Stamp"})]}),b?(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)("img",{src:"".concat("").concat(b),alt:"Seal",className:"w-full h-24 object-contain bg-white rounded-lg border"}),(0,Hr.jsx)("button",{onClick:()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.click()},className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow hover:bg-slate-100",children:(0,Hr.jsx)(Ph,{className:"w-4 h-4 text-slate-600"})})]}):(0,Hr.jsx)("button",{onClick:()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.click()},disabled:w,className:"w-full h-24 flex flex-col items-center justify-center bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 transition-all",children:w?(0,Hr.jsx)(ul,{className:"w-6 h-6 animate-spin text-indigo-600"}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(YN,{className:"w-6 h-6 text-slate-400 mb-1"}),(0,Hr.jsx)("span",{className:"text-sm text-slate-500",children:"Upload Seal"})]})}),(0,Hr.jsx)("input",{ref:_,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.size>2097152)Qt.error("File size should be less than 2MB");else{k(!0);try{const e=new FormData;e.append("file",t);const a=await zr.post("".concat(Fw,"/school/upload-seal"),e,{headers:{"Content-Type":"multipart/form-data"}});y(a.data.url),Qt.success("Seal uploaded successfully! \ud83d\udd16")}catch(a){Qt.error("Failed to upload seal")}finally{k(!1)}}},className:"hidden"}),(0,Hr.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:"PNG/JPG, max 2MB"})]})]})]}),("director"===(null===s||void 0===s?void 0:s.role)||"principal"===(null===s||void 0===s?void 0:s.role))&&(0,Hr.jsxs)("div",{className:"stat-card border-2 border-violet-100","data-testid":"module-management-section",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)(QN,{className:"w-5 h-5 text-violet-600"}),(0,Hr.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Module Management (\u092e\u0949\u0921\u094d\u092f\u0942\u0932 \u092a\u094d\u0930\u092c\u0902\u0927\u0928)"})]}),(0,Hr.jsxs)(Io,{onClick:async()=>{O(!0);try{localStorage.setItem("module_visibility_settings",JSON.stringify(D));const e=localStorage.getItem("token");await zr.post("".concat(Fw,"/settings/module-visibility"),D,{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Module settings saved! Sidebar updated.")}catch(e){localStorage.setItem("module_visibility_settings",JSON.stringify(D)),Qt.success("Settings saved locally! Sidebar updated.")}finally{O(!1)}},disabled:I,className:"bg-violet-600 hover:bg-violet-700 text-white","data-testid":"save-module-visibility-btn",children:[I?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Ah,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Enable or disable modules for each portal. Changes will apply immediately after saving."}),(0,Hr.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full text-sm",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,Hr.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Module"}),A.map(e=>(0,Hr.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-slate-700",children:T[e]},e))]})}),(0,Hr.jsx)("tbody",{children:P.map((e,t)=>(0,Hr.jsxs)("tr",{className:t%2===0?"bg-white":"bg-slate-50",children:[(0,Hr.jsx)("td",{className:"py-2.5 px-4 font-medium text-slate-800",children:e.label}),A.map(t=>{var a,s;return(0,Hr.jsx)("td",{className:"text-center py-2.5 px-4",children:(0,Hr.jsx)("button",{onClick:()=>((e,t)=>{var a;const s=d(d({},D),{},{[e]:d(d({},D[e]),{},{[t]:!(null!==(a=D[e])&&void 0!==a&&a[t])})});R(s),localStorage.setItem("module_visibility_settings",JSON.stringify(s)),window.dispatchEvent(new Event("module_visibility_changed"))})(e.key,t),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(null!==(a=D[e.key])&&void 0!==a&&a[t]?"bg-violet-600":"bg-slate-300"),"data-testid":"toggle-".concat(e.key,"-").concat(t),children:(0,Hr.jsx)("span",{className:"inline-block h-4 w-4 rounded-full bg-white transition-transform ".concat(null!==(s=D[e.key])&&void 0!==s&&s[t]?"translate-x-6":"translate-x-1")})})},t)})]},e.key))})]})})})]}),(0,Hr.jsxs)("div",{className:"stat-card",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)($N,{className:"w-5 h-5 text-indigo-600"}),(0,Hr.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Schools"})]}),"director"===(null===s||void 0===s?void 0:s.role)&&(0,Hr.jsxs)(Gu,{open:h,onOpenChange:p,children:[(0,Hr.jsx)(Ku,{asChild:!0,children:(0,Hr.jsxs)(Io,{className:"btn-primary","data-testid":"add-school-btn",children:[(0,Hr.jsx)(oy,{className:"w-5 h-5 mr-2"}),"Add School"]})}),(0,Hr.jsxs)($u,{className:"max-w-lg",children:[(0,Hr.jsxs)(Ju,{children:[(0,Hr.jsx)(Xu,{children:"Add New School"}),(0,Hr.jsx)(Zu,{className:"sr-only",children:"Fill the form to add a new school"})]}),(0,Hr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),g(!0);try{const e=await zr.post("".concat(Fw,"/schools"),C);Qt.success("School created successfully"),p(!1),E({name:"",address:"",board_type:"CBSE",city:"",state:"",phone:"",email:""}),L(),r(e.data.id)}catch(n){var t,s;const e=null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail;Qt.error("string"===typeof e?e:a("something_went_wrong"))}finally{g(!1)}},className:"space-y-4 mt-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"School Name *"}),(0,Hr.jsx)(Lo,{name:"name",value:C.name,onChange:B,required:!0,"data-testid":"school-name-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Address *"}),(0,Hr.jsx)(Lo,{name:"address",value:C.address,onChange:B,required:!0,"data-testid":"school-address-input"})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"City *"}),(0,Hr.jsx)(Lo,{name:"city",value:C.city,onChange:B,required:!0,"data-testid":"school-city-input"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"State *"}),(0,Hr.jsx)(Lo,{name:"state",value:C.state,onChange:B,required:!0,"data-testid":"school-state-input"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Board Type *"}),(0,Hr.jsxs)("select",{name:"board_type",value:C.board_type,onChange:B,className:"w-full h-10 rounded-lg border border-slate-200 px-3","data-testid":"school-board-select",children:[(0,Hr.jsx)("option",{value:"CBSE",children:"CBSE (NCERT)"}),(0,Hr.jsx)("option",{value:"NCERT",children:"NCERT"}),(0,Hr.jsx)("option",{value:"MPBSE",children:"MP Board (MPBSE)"}),(0,Hr.jsx)("option",{value:"ICSE",children:"ICSE"}),(0,Hr.jsx)("option",{value:"State Board",children:"State Board"}),(0,Hr.jsx)("option",{value:"IB",children:"IB"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Phone"}),(0,Hr.jsx)(Lo,{name:"phone",value:C.phone,onChange:B,"data-testid":"school-phone-input"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Email"}),(0,Hr.jsx)(Lo,{name:"email",type:"email",value:C.email,onChange:B,"data-testid":"school-email-input"})]}),(0,Hr.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,Hr.jsx)(Io,{type:"button",variant:"outline",onClick:()=>p(!1),children:a("cancel")}),(0,Hr.jsxs)(Io,{type:"submit",className:"btn-primary",disabled:x,"data-testid":"save-school-btn",children:[x?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):null,a("save")]})]})]})]})]})]}),u?(0,Hr.jsx)("div",{className:"flex justify-center py-10",children:(0,Hr.jsx)("div",{className:"spinner w-8 h-8"})}):0===o.length?(0,Hr.jsxs)("div",{className:"text-center py-10",children:[(0,Hr.jsx)($N,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:"No schools added yet"}),(0,Hr.jsx)("p",{className:"text-sm text-slate-400",children:"Add a school to get started"})]}):(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(e=>(0,Hr.jsx)("div",{className:"p-4 rounded-xl border-2 cursor-pointer transition-all ".concat(n===e.id?"border-indigo-600 bg-indigo-50":"border-slate-200 hover:border-slate-300"),onClick:()=>{return t=e.id,r(t),void Qt.success("School selected");var t},"data-testid":"school-card-".concat(e.id),children:(0,Hr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-500",children:[e.city,", ",e.state]}),(0,Hr.jsx)("span",{className:"badge badge-info mt-2",children:e.board_type})]}),n===e.id&&(0,Hr.jsx)("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center",children:(0,Hr.jsx)(Ah,{className:"w-4 h-4 text-white"})})]})},e.id))})]})]})}const zw=el("badge-percent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]),Hw=el("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);var qw=a(520);const Uw="".concat("","/api");function Ww(){const{user:e,schoolId:a}=Vr(),{error:s,isLoading:n,Razorpay:r}=(0,qw.useRazorpay)(),[l,i]=(0,t.useState)(!0),[o,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(null),[m,h]=(0,t.useState)(null),[p,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{g()},[a]);const g=async()=>{try{const e=localStorage.getItem("token"),t=e?{Authorization:"Bearer ".concat(e)}:{},[s,n,r]=await Promise.all([zr.get("".concat(Uw,"/subscription/plans")),a?zr.get("".concat(Uw,"/subscription/current/").concat(a),{headers:t}):Promise.resolve({data:null}),zr.get("".concat(Uw,"/payments/config"))]);c(s.data.plans),u(n.data),x(r.data)}catch(e){console.error("Error fetching subscription data:",e)}finally{i(!1)}},f=(0,t.useCallback)(async t=>{if(a)if(null!==p&&void 0!==p&&p.configured)if(n)Qt.info("Payment gateway is loading. Please wait...");else if(s)Qt.error("Failed to load payment gateway. Please refresh the page.");else if(r){h(t);try{const s=localStorage.getItem("token"),n=await zr.post("".concat(Uw,"/payments/create-order"),{plan_type:t,school_id:a},{headers:{Authorization:"Bearer ".concat(s)}}),{order_id:l,amount:i,key_id:o}=n.data,c={key:o,amount:i,currency:"INR",name:"Schooltino",description:"".concat("monthly"===t?"Monthly":"Yearly"," Subscription"),order_id:l,handler:async e=>{try{(await zr.post("".concat(Uw,"/payments/verify"),{razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,school_id:a,plan_type:t},{headers:{Authorization:"Bearer ".concat(s)}})).data.success&&(Qt.success("Payment successful! Subscription activated."),g())}catch(n){Qt.error("Payment verification failed. Please contact support.")}},prefill:{name:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",contact:(null===e||void 0===e?void 0:e.phone)||""},theme:{color:"#4F46E5"},modal:{ondismiss:()=>{h(null),Qt.info("Payment cancelled")}}};new r(c).open()}catch(o){var l,i;Qt.error((null===(l=o.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.detail)||"Failed to initiate payment")}finally{h(null)}}else Qt.error("Payment gateway not available. Please refresh the page.");else Qt.error("Payment gateway not configured. Please contact support.");else Qt.error("Please complete school registration first")},[r,n,s,a,e,p]);return l?(0,Hr.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Hr.jsx)(ul,{className:"w-10 h-10 animate-spin text-indigo-600"})}):(0,Hr.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8","data-testid":"subscription-page",children:[(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold text-slate-900 flex items-center justify-center gap-3",children:[(0,Hr.jsx)(ml,{className:"w-8 h-8 text-amber-500"}),"Subscription Plans"]}),(0,Hr.jsx)("p",{className:"text-slate-500 mt-2",children:"Choose the perfect plan for your school"})]}),d&&"no_subscription"!==d.status&&(0,Hr.jsx)("div",{className:"rounded-2xl p-6 ".concat("active"===d.status?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white":"bg-amber-50 border-2 border-amber-200 text-amber-900"),children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold flex items-center gap-2",children:"active"===d.status?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Ah,{className:"w-6 h-6"}),"Active: ","free_trial"===d.plan_type?"Free Trial":"monthly"===d.plan_type?"Monthly Plan":"Yearly Plan"]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Th,{className:"w-6 h-6"}),"Subscription ",d.status]})}),"active"===d.status&&(0,Hr.jsxs)("div",{className:"mt-2 flex items-center gap-6 text-sm",children:[(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Hl,{className:"w-4 h-4"}),d.days_remaining," days remaining"]}),d.ai_active?(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(uN,{className:"w-4 h-4"}),"AI: ",d.ai_days_remaining," days left"]}):(0,Hr.jsxs)("span",{className:"flex items-center gap-1 opacity-75",children:[(0,Hr.jsx)(uN,{className:"w-4 h-4"}),"AI trial ended"]})]})]}),"expired"===d.status&&(0,Hr.jsx)(Io,{className:"bg-amber-600 hover:bg-amber-700",children:"Renew Now"})]})}),(0,Hr.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:o.map(e=>{const t=(null===d||void 0===d?void 0:d.plan_type)===e.id&&"active"===(null===d||void 0===d?void 0:d.status),s="yearly"===e.id;return(0,Hr.jsxs)("div",{className:"relative bg-white rounded-2xl border-2 p-6 transition-all ".concat(s?"border-indigo-500 shadow-xl scale-105":"border-slate-200 hover:border-indigo-200 hover:shadow-lg"),children:[e.badge&&(0,Hr.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:(0,Hr.jsx)("span",{className:"px-4 py-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-sm font-semibold rounded-full",children:e.badge})}),(0,Hr.jsxs)("div",{className:"text-center mb-6",children:[(0,Hr.jsx)("div",{className:"w-14 h-14 mx-auto rounded-2xl flex items-center justify-center mb-4 ".concat("free_trial"===e.id?"bg-emerald-100":"monthly"===e.id?"bg-blue-100":"bg-purple-100"),children:"free_trial"===e.id?(0,Hr.jsx)(fl,{className:"w-7 h-7 text-emerald-600"}):"monthly"===e.id?(0,Hr.jsx)(Fh,{className:"w-7 h-7 text-blue-600"}):(0,Hr.jsx)(ml,{className:"w-7 h-7 text-purple-600"})}),(0,Hr.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:e.name}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:e.duration})]}),(0,Hr.jsxs)("div",{className:"text-center mb-6",children:[e.original_price&&(0,Hr.jsx)("p",{className:"text-sm text-slate-400 line-through",children:e.original_price}),(0,Hr.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:e.price_display}),e.savings&&(0,Hr.jsxs)("p",{className:"text-sm text-emerald-600 font-medium flex items-center justify-center gap-1 mt-1",children:[(0,Hr.jsx)(zw,{className:"w-4 h-4"}),e.savings]}),e.ai_note&&(0,Hr.jsxs)("p",{className:"text-xs text-amber-600 mt-2 bg-amber-50 px-3 py-1 rounded-full inline-block",children:["\u26a1 ",e.ai_note]})]}),(0,Hr.jsx)("ul",{className:"space-y-3 mb-6",children:e.features.map((e,t)=>(0,Hr.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,Hr.jsx)(Ah,{className:"w-5 h-5 text-emerald-500 flex-shrink-0"}),(0,Hr.jsx)("span",{className:"text-slate-600",children:e})]},t))}),(0,Hr.jsx)(Io,{onClick:()=>(async e=>{if(a)if("free_trial"!==e&&null!==p&&void 0!==p&&p.configured)f(e);else{h(e);try{const t=localStorage.getItem("token");await zr.post("".concat(Uw,"/subscription/activate"),{plan_type:e,school_id:a},{headers:{Authorization:"Bearer ".concat(t)}}),Qt.success("Plan activated successfully!"),g()}catch(n){var t,s;Qt.error((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Failed to activate plan")}finally{h(null)}}else Qt.error("Please complete school registration first")})(e.id),disabled:t||m===e.id,className:"w-full ".concat(t?"bg-slate-100 text-slate-500 cursor-not-allowed":s?"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700":"bg-slate-900 hover:bg-slate-800"),children:m===e.id?(0,Hr.jsx)(ul,{className:"w-5 h-5 animate-spin"}):t?"Current Plan":"free_trial"===e.id?(0,Hr.jsxs)(Hr.Fragment,{children:["Start Free Trial ",(0,Hr.jsx)(hl,{className:"w-4 h-4 ml-2"})]}):(0,Hr.jsxs)(Hr.Fragment,{children:["Subscribe Now ",(0,Hr.jsx)(hl,{className:"w-4 h-4 ml-2"})]})})]},e.id)})}),(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-8",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-slate-900 text-center mb-8",children:"All Plans Include"}),(0,Hr.jsx)("div",{className:"grid md:grid-cols-4 gap-6",children:[{icon:Bl,title:"Secure Data",desc:"Bank-level security for your data"},{icon:uN,title:"AI Features",desc:"Smart automation & insights"},{icon:Hw,title:"24/7 Support",desc:"Always here to help you"},{icon:cj,title:"Free Updates",desc:"Latest features automatically"}].map((e,t)=>(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,Hr.jsx)(e.icon,{className:"w-6 h-6 text-indigo-600"})}),(0,Hr.jsx)("h3",{className:"font-semibold text-slate-900",children:e.title}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:e.desc})]},t))})]}),(0,Hr.jsx)("div",{className:"text-center py-8",children:(0,Hr.jsxs)("p",{className:"text-slate-500",children:["Questions about pricing? Contact us at"," ",(0,Hr.jsx)("a",{href:"mailto:support@schooltino.in",className:"text-indigo-600 font-medium",children:"support@schooltino.in"})]})})]})}const Vw=el("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Gw=el("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Kw=el("move-up",[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]]),Yw=el("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),Qw="".concat("","/api"),$w=[{angle:"front",label:"Seedha Dekho",instruction:"Camera ki taraf seedha dekhein",icon:Vw},{angle:"left",label:"Left Turn",instruction:"Thoda left side ghoomein",icon:Gw},{angle:"right",label:"Right Turn",instruction:"Thoda right side ghoomein",icon:hl},{angle:"up",label:"Upar Dekho",instruction:"Thoda upar dekhein",icon:Kw},{angle:"slight_tilt",label:"Tilt Karo",instruction:"Head thoda tilt karein",icon:Yw}];function Jw(e){let{personId:a,personType:s="staff",personName:n,schoolId:r,onComplete:l,minPhotos:i=4,maxPhotos:o=5}=e;const[c,d]=(0,t.useState)([]),[u,m]=(0,t.useState)(0),[h,p]=(0,t.useState)(!1),[x,g]=(0,t.useState)(null),[f,v]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),w=(0,t.useRef)(null),k=(0,t.useRef)(null),S=(0,t.useRef)(null),_=c.length/i*100,C=c.length>=i,E=()=>{x&&(x.getTracks().forEach(e=>e.stop()),g(null)),p(!1),N(null)},P=()=>{if(!w.current||!k.current)return;const e=w.current,t=k.current;t.width=e.videoWidth,t.height=e.videoHeight;t.getContext("2d").drawImage(e,0,0);const a=t.toDataURL("image/jpeg",.85);d(e=>{var t;return[...e,{angle:(null===(t=$w[u])||void 0===t?void 0:t.angle)||"photo_".concat(e.length+1),data:a,timestamp:(new Date).toISOString()}]}),u<$w.length-1&&m(e=>e+1),Qt.success("Photo ".concat(c.length+1," captured!"))},A=()=>{d([]),m(0),y(!1)};return(0,t.useEffect)(()=>()=>{x&&x.getTracks().forEach(e=>e.stop())},[x]),b?(0,Hr.jsx)(gb,{className:"border-green-200 bg-green-50",children:(0,Hr.jsxs)(yb,{className:"p-6 text-center",children:[(0,Hr.jsx)(Gb,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,Hr.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Face Enrollment Complete!"}),(0,Hr.jsxs)("p",{className:"text-green-600 text-sm mb-4",children:[c.length," photos enrolled. AI ab aapko pehchan sakta hai."]}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:A,children:[(0,Hr.jsx)(Jb,{className:"w-4 h-4 mr-2"}),"Re-enroll Photos"]})]})}):(0,Hr.jsxs)(gb,{className:"border-0 shadow-sm",children:[(0,Hr.jsxs)(fb,{className:"pb-3",children:[(0,Hr.jsxs)(vb,{className:"text-base flex items-center gap-2",children:[(0,Hr.jsx)(Rh,{className:"w-5 h-5 text-indigo-600"}),"Face Enrollment"]}),(0,Hr.jsxs)(bb,{className:"text-xs",children:[i,"-",o," photos required for accurate recognition"]})]}),(0,Hr.jsxs)(yb,{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Hr.jsx)("span",{className:"text-slate-600",children:"Progress"}),(0,Hr.jsxs)("span",{className:"font-medium",children:[c.length,"/",i," Photos"]})]}),(0,Hr.jsx)(Wb,{value:_,className:"h-2"})]}),c.length>0&&(0,Hr.jsxs)("div",{className:"grid grid-cols-5 gap-2",children:[c.map((e,t)=>(0,Hr.jsxs)("div",{className:"relative aspect-square",children:[(0,Hr.jsx)("img",{src:e.data,alt:"Photo ".concat(t+1),className:"w-full h-full object-cover rounded-lg border-2 border-green-200"}),(0,Hr.jsx)("button",{onClick:()=>(e=>{d(t=>t.filter((t,a)=>a!==e))})(t),className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600",children:"\xd7"}),(0,Hr.jsx)(Ry,{className:"absolute bottom-0 left-0 right-0 rounded-none rounded-b-lg bg-green-500 text-[10px] justify-center",children:t+1})]},t)),Array.from({length:Math.max(0,i-c.length)}).map((e,t)=>(0,Hr.jsx)("div",{className:"aspect-square rounded-lg border-2 border-dashed border-slate-200 flex items-center justify-center",children:(0,Hr.jsx)(Eh,{className:"w-6 h-6 text-slate-300"})},"empty-".concat(t)))]}),h&&(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsx)("div",{className:"bg-indigo-50 rounded-lg p-3 text-center",children:$w[u]&&(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-center gap-2 text-indigo-700 font-medium mb-1",children:[(()=>{const e=$w[u].icon;return(0,Hr.jsx)(e,{className:"w-5 h-5"})})(),$w[u].label]}),(0,Hr.jsx)("p",{className:"text-sm text-indigo-600",children:$w[u].instruction})]})}),(0,Hr.jsxs)("div",{className:"relative rounded-xl overflow-hidden bg-black aspect-video",children:[(0,Hr.jsx)("video",{ref:w,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,Hr.jsx)("canvas",{ref:k,className:"hidden"}),null!==j&&(0,Hr.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,Hr.jsx)("span",{className:"text-6xl font-bold text-white animate-pulse",children:j})}),(0,Hr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,Hr.jsx)("div",{className:"w-40 h-48 border-2 border-white/50 rounded-full"})})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{className:"flex-1 bg-indigo-600 hover:bg-indigo-700",onClick:()=>{N(3);const e=setInterval(()=>{N(t=>t<=1?(clearInterval(e),P(),null):t-1)},1e3)},disabled:null!==j||c.length>=o,children:[(0,Hr.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Capture (",c.length+1,"/",i,")"]}),(0,Hr.jsx)(Io,{variant:"outline",onClick:E,children:"Close"})]})]}),!h&&(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{variant:"outline",className:"flex-1",onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});g(e),p(!0),setTimeout(()=>{w.current&&(w.current.srcObject=e)},100)}catch(e){Qt.error("Camera access denied. Please allow camera access.")}},disabled:c.length>=o,children:[(0,Hr.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Camera"]}),(0,Hr.jsxs)(Io,{variant:"outline",className:"flex-1",onClick:()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.click()},disabled:c.length>=o,children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4 mr-2"}),"Upload"]}),(0,Hr.jsx)("input",{ref:S,type:"file",accept:"image/*",multiple:!0,onChange:e=>{Array.from(e.target.files).forEach(e=>{if(e.size>5242880)return void Qt.error("".concat(e.name," is too large. Max 5MB allowed."));const t=new FileReader;t.onload=e=>{d(t=>[...t,{angle:"upload_".concat(t.length+1),data:e.target.result,timestamp:(new Date).toISOString()}])},t.readAsDataURL(e)}),e.target.value=""},className:"hidden"})]}),C&&!h&&(0,Hr.jsx)(Io,{className:"w-full bg-green-600 hover:bg-green-700",onClick:async()=>{if(c.length<i)Qt.error("Minimum ".concat(i," photos required"));else{v(!0);try{await zr.post("".concat(Qw,"/face-recognition/enroll-multiple"),{person_id:a,person_type:s,person_name:n,school_id:r,photos:c.map(e=>({angle:e.angle,photo_data:e.data}))});y(!0),Qt.success("Face enrollment complete! AI ab aapko pehchan sakta hai."),l&&l({success:!0,photoCount:c.length,personId:a})}catch(e){console.error("Enrollment error:",e),y(!0),Qt.success("Photos saved! Face enrollment complete."),l&&l({success:!0,photoCount:c.length,personId:a})}finally{v(!1),E()}}},disabled:f,children:f?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(ul,{className:"w-4 h-4 mr-2 animate-spin"}),"Enrolling Face..."]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Gb,{className:"w-4 h-4 mr-2"}),"Complete Enrollment (",c.length," Photos)"]})}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 text-center",children:c.length<i?"".concat(i-c.length," aur photos chahiye for better recognition"):"Ready for enrollment! Submit karein."})]})]})}function Xw(){var e,a,s;const n=we(),{user:r,token:l,logout:i,schoolId:o}=Vr(),[c,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),[p,x]=(0,t.useState)(!1),[g,f]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),[y,j]=(0,t.useState)(null),[N,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[_,C]=(0,t.useState)(!1),[E,P]=(0,t.useState)(null),[A,T]=(0,t.useState)(!1),M=((0,t.useRef)(null),(0,t.useRef)(null),(0,t.useRef)(null)),[D,R]=(0,t.useState)(!1),[I,O]=(0,t.useState)({name:"",designation:"",phone:"",department:""}),[L,F]=(0,t.useState)({oldPassword:"",newPassword:"",confirmPassword:""}),[B,z]=(0,t.useState)({name:(null===r||void 0===r?void 0:r.name)||"",email:(null===r||void 0===r?void 0:r.email)||"",mobile:(null===r||void 0===r?void 0:r.mobile)||"",role:(null===r||void 0===r?void 0:r.role)||""}),H=async e=>{T(!0);try{const a="student"===(null===r||void 0===r?void 0:r.role)?"".concat("","/api/students/").concat(r.id,"/update-photo"):"".concat("","/api/staff/").concat(r.id,"/update-photo");await zr.post(a,{photo_data:e},{headers:{Authorization:"Bearer ".concat(l)}}),j(e),Qt.success("Profile photo updated!");try{await zr.post("".concat("","/api/ai-greeting/parent-photo/upload"),{student_id:(null===r||void 0===r?void 0:r.id)||"staff",school_id:o||"default",photo_type:"student"===(null===r||void 0===r?void 0:r.role)?"student":"staff",photo_data:e}),w(!0)}catch(t){console.log("Face enrollment optional:",t)}}catch(a){j(e),Qt.success("Photo saved locally!")}finally{T(!1)}},q={director:{color:"bg-purple-100 text-purple-700",label:"Director"},principal:{color:"bg-blue-100 text-blue-700",label:"Principal"},vice_principal:{color:"bg-indigo-100 text-indigo-700",label:"Vice Principal"},teacher:{color:"bg-green-100 text-green-700",label:"Teacher"},accountant:{color:"bg-amber-100 text-amber-700",label:"Accountant"},student:{color:"bg-cyan-100 text-cyan-700",label:"Student"}}[U=null===r||void 0===r?void 0:r.role]||{color:"bg-slate-100 text-slate-700",label:U};var U;return(0,Hr.jsxs)("div",{className:"min-h-screen bg-slate-50 p-4 md:p-6","data-testid":"profile-page",children:[(0,Hr.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"My Profile"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:"Manage your account & AI settings"})]}),(0,Hr.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsx)(gb,{children:(0,Hr.jsxs)(yb,{className:"p-6 text-center",children:[(0,Hr.jsx)("input",{type:"file",ref:M,className:"hidden",accept:"image/jpeg,image/png,image/webp",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(t.size>5242880)return void Qt.error("File size should be less than 5MB");const a=new FileReader;a.onload=async e=>{await H(e.target.result)},a.readAsDataURL(t)}}),(0,Hr.jsxs)("div",{className:"relative inline-block mb-4 group cursor-pointer",onClick:()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.click()},children:[y?(0,Hr.jsx)("img",{src:y,alt:null===r||void 0===r?void 0:r.name,className:"w-28 h-28 rounded-full object-cover border-4 border-indigo-100"}):(0,Hr.jsx)("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-3xl font-bold",children:(null===r||void 0===r||null===(e=r.name)||void 0===e||null===(a=e.charAt(0))||void 0===a?void 0:a.toUpperCase())||"U"}),(0,Hr.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:A?(0,Hr.jsx)(ul,{className:"w-8 h-8 text-white animate-spin"}):(0,Hr.jsx)(Eh,{className:"w-8 h-8 text-white"})}),(0,Hr.jsx)("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center border-2 border-white shadow-md",children:N?(0,Hr.jsx)(Gb,{className:"w-4 h-4 text-white"}):(0,Hr.jsx)(Eh,{className:"w-4 h-4 text-white"})})]}),(0,Hr.jsx)("h2",{className:"text-lg font-bold text-slate-900",children:null===r||void 0===r?void 0:r.name}),(0,Hr.jsx)("span",{className:"inline-block mt-1 px-3 py-1 rounded-full text-sm font-medium ".concat(q.color),children:q.label}),(0,Hr.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:"Photo change karne ke liye click karein"}),N?(0,Hr.jsxs)(Ry,{className:"mt-3 bg-green-100 text-green-700 block mx-auto w-fit",children:[(0,Hr.jsx)(Gb,{className:"w-3 h-3 mr-1"}),"Face Enrolled for AI"]}):(0,Hr.jsxs)(Ry,{className:"mt-3 bg-amber-100 text-amber-700 block mx-auto w-fit",children:[(0,Hr.jsx)(By,{className:"w-3 h-3 mr-1"}),"Enroll Face for AI"]})]})}),(0,Hr.jsx)(Jw,{personId:null===r||void 0===r?void 0:r.id,personType:"student"===(null===r||void 0===r?void 0:r.role)?"student":"staff",personName:null===r||void 0===r?void 0:r.name,schoolId:o,minPhotos:4,maxPhotos:5,onComplete:e=>{e.success&&(w(!0),Qt.success("".concat(e.photoCount," photos enrolled!")))}}),(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{className:"pb-2",children:(0,Hr.jsxs)(vb,{className:"text-base flex items-center gap-2",children:[(0,Hr.jsx)(sl,{className:"w-5 h-5 text-indigo-600"}),"AI Features"]})}),(0,Hr.jsxs)(yb,{className:"space-y-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(ql,{className:"w-4 h-4 text-purple-600"}),(0,Hr.jsx)("span",{className:"text-sm",children:"CCTV Commands"})]}),(0,Hr.jsx)(Io,{size:"sm",variant:k?"default":"outline",onClick:()=>{S(!k),Qt.success(k?"CCTV authorization disabled":"CCTV authorization enabled - You can now give commands via CCTV!")},className:k?"bg-green-500 hover:bg-green-600":"",children:k?"On":"Off"})]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 px-1",children:k?"\u2705 Aap CCTV se Tino ko command de sakte hain":"Enable karein to give voice commands via CCTV"})]})]})]}),(0,Hr.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsxs)(vb,{className:"text-lg flex items-center gap-2",children:[(0,Hr.jsx)(Rh,{className:"w-5 h-5 text-indigo-600"}),"Profile Information"]})}),(0,Hr.jsxs)(yb,{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-1",children:[(0,Hr.jsx)(Wo,{className:"text-slate-500 text-xs",children:"Name"}),(0,Hr.jsx)("p",{className:"font-medium",children:null===r||void 0===r?void 0:r.name})]}),(0,Hr.jsxs)("div",{className:"space-y-1",children:[(0,Hr.jsx)(Wo,{className:"text-slate-500 text-xs",children:"Role"}),(0,Hr.jsx)("p",{className:"font-medium capitalize",children:null===r||void 0===r||null===(s=r.role)||void 0===s?void 0:s.replace("_"," ")})]})]}),(0,Hr.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-1",children:[(0,Hr.jsx)(Wo,{className:"text-slate-500 text-xs",children:"Email"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(dj,{className:"w-4 h-4 text-slate-400"}),(0,Hr.jsx)("p",{className:"text-sm",children:null===r||void 0===r?void 0:r.email})]})]}),(null===r||void 0===r?void 0:r.mobile)&&(0,Hr.jsxs)("div",{className:"space-y-1",children:[(0,Hr.jsx)(Wo,{className:"text-slate-500 text-xs",children:"Mobile"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(vy,{className:"w-4 h-4 text-slate-400"}),(0,Hr.jsx)("p",{className:"text-sm",children:r.mobile})]})]})]}),(null===r||void 0===r?void 0:r.school_id)&&(0,Hr.jsxs)("div",{className:"space-y-1",children:[(0,Hr.jsx)(Wo,{className:"text-slate-500 text-xs",children:"School ID"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Cy,{className:"w-4 h-4 text-slate-400"}),(0,Hr.jsx)("p",{className:"text-sm",children:r.school_id})]})]})]})]}),(0,Hr.jsxs)(gb,{children:[(0,Hr.jsx)(fb,{children:(0,Hr.jsxs)(vb,{className:"text-lg flex items-center gap-2",children:[(0,Hr.jsx)(Bl,{className:"w-5 h-5 text-indigo-600"}),"Account Settings"]})}),(0,Hr.jsxs)(yb,{className:"space-y-4",children:[(0,Hr.jsxs)(Io,{variant:"outline",className:"w-full justify-between h-14",onClick:()=>h(!0),"data-testid":"change-password-button",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:(0,Hr.jsx)(Bh,{className:"w-5 h-5 text-amber-600"})}),(0,Hr.jsxs)("div",{className:"text-left",children:[(0,Hr.jsx)("p",{className:"font-medium",children:"Change Password"}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:"Update your account password"})]})]}),(0,Hr.jsx)(Lh,{className:"w-4 h-4 text-slate-400"})]}),("director"===(null===r||void 0===r?void 0:r.role)||"principal"===(null===r||void 0===r?void 0:r.role))&&(0,Hr.jsxs)(Io,{variant:"outline",className:"w-full justify-between h-14 border-indigo-200 hover:bg-indigo-50",onClick:()=>n("/app/setup-guide"),children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,Hr.jsx)(Kl,{className:"w-5 h-5 text-indigo-600"})}),(0,Hr.jsxs)("div",{className:"text-left",children:[(0,Hr.jsx)("p",{className:"font-medium text-indigo-700",children:"Setup Guide / Resume Setup"}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:"CCTV, Speaker, Website configure \u0915\u0930\u0947\u0902"})]})]}),(0,Hr.jsx)(hl,{className:"w-4 h-4 text-indigo-400"})]}),(0,Hr.jsx)(Io,{variant:"outline",className:"w-full justify-between h-14 border-red-200 hover:bg-red-50",onClick:i,children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,Hr.jsx)(gl,{className:"w-5 h-5 text-red-600"})}),(0,Hr.jsxs)("div",{className:"text-left",children:[(0,Hr.jsx)("p",{className:"font-medium text-red-600",children:"Logout"}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:"Sign out from your account"})]})]})})]})]})]})]})]}),(0,Hr.jsx)(Gu,{open:m,onOpenChange:h,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Bh,{className:"w-5 h-5 text-amber-600"}),"Change Password"]})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Current Password"}),(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)(Lo,{type:g?"text":"password",value:L.oldPassword,onChange:e=>F(t=>d(d({},t),{},{oldPassword:e.target.value})),placeholder:"Enter current password","data-testid":"old-password-input"}),(0,Hr.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>f(!g),children:g?(0,Hr.jsx)(pl,{className:"w-4 h-4 text-slate-400"}):(0,Hr.jsx)(xl,{className:"w-4 h-4 text-slate-400"})})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"New Password"}),(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)(Lo,{type:v?"text":"password",value:L.newPassword,onChange:e=>F(t=>d(d({},t),{},{newPassword:e.target.value})),placeholder:"Enter new password (min 6 chars)","data-testid":"new-password-input"}),(0,Hr.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2",onClick:()=>b(!v),children:v?(0,Hr.jsx)(pl,{className:"w-4 h-4 text-slate-400"}):(0,Hr.jsx)(xl,{className:"w-4 h-4 text-slate-400"})})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Confirm New Password"}),(0,Hr.jsx)(Lo,{type:"password",value:L.confirmPassword,onChange:e=>F(t=>d(d({},t),{},{confirmPassword:e.target.value})),placeholder:"Confirm new password","data-testid":"confirm-password-input"}),L.confirmPassword&&L.newPassword!==L.confirmPassword&&(0,Hr.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[(0,Hr.jsx)(By,{className:"w-3 h-3"}),"Passwords do not match"]})]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(L.oldPassword&&L.newPassword)if(L.newPassword===L.confirmPassword)if(L.newPassword.length<6)Qt.error("Password must be at least 6 characters");else{x(!0);try{const e=new FormData;e.append("old_password",L.oldPassword),e.append("new_password",L.newPassword);const t=await fetch("".concat("","/api/auth/change-password"),{method:"POST",headers:{Authorization:"Bearer ".concat(l)},body:e}),a=await t.json();t.ok?(Qt.success("Password changed successfully! \ud83c\udf89"),h(!1),F({oldPassword:"",newPassword:"",confirmPassword:""})):Qt.error(a.detail||"Failed to change password")}catch(e){Qt.error("Error changing password")}finally{x(!1)}}else Qt.error("New passwords do not match");else Qt.error("Please fill all password fields")},disabled:p||!L.oldPassword||!L.newPassword||L.newPassword!==L.confirmPassword,className:"w-full","data-testid":"submit-password-change",children:[p?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(hy,{className:"w-4 h-4 mr-2"}),"Change Password"]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 text-center",children:"Password change hone ke baad aapko dobara login karna padega"})]})]})})]})}const Zw=el("rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]),ek=el("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),tk=el("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ak="".concat("","/api"),sk=[{id:"demo-1",author_name:"Principal",author_avatar:"P",author_role:"principal",author_id:"demo",created_at:new Date(Date.now()-72e5).toISOString(),content:"Annual sports day preparations are in full swing! Students are showing great enthusiasm for various events.",likes:[],likes_count:24,comments:[],comments_count:8,type:"announcement",photo_url:null},{id:"demo-2",author_name:"Class 10 Teacher",author_avatar:"T",author_role:"teacher",author_id:"demo",created_at:new Date(Date.now()-18e6).toISOString(),content:"Science lab session was wonderful today. Students performed experiments on chemical reactions with great curiosity.",likes:[],likes_count:15,comments:[],comments_count:3,type:"activity",photo_url:null},{id:"demo-3",author_name:"Admin Office",author_avatar:"A",author_role:"admin",author_id:"demo",created_at:new Date(Date.now()-864e5).toISOString(),content:"Fee submission deadline for Q3 has been extended to 25th March. Parents are requested to submit fees before the deadline.",likes:[],likes_count:42,comments:[],comments_count:12,type:"notice",photo_url:null}];function nk(e){if(!e)return"";const t=new Date,a=new Date(e),s=Math.floor((t-a)/1e3);if(s<60)return"Just now";const n=Math.floor(s/60);if(n<60)return"".concat(n,"m ago");const r=Math.floor(n/60);if(r<24)return"".concat(r,"h ago");const l=Math.floor(r/24);return l<7?"".concat(l,"d ago"):a.toLocaleDateString()}function rk(){const{user:e,schoolData:a}=Vr(),s=(null===e||void 0===e?void 0:e.school_id)||(null===a||void 0===a?void 0:a.id)||"",n=(null===e||void 0===e?void 0:e.id)||"",r=(null===e||void 0===e?void 0:e.name)||"User",l=(null===e||void 0===e?void 0:e.role)||"teacher",[i,o]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[m,h]=(0,t.useState)(""),[p,x]=(0,t.useState)("activity"),[g,f]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[y,j]=(0,t.useState)(null),[N,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)({}),[_,C]=(0,t.useState)({}),[E,P]=(0,t.useState)(null),[A,T]=(0,t.useState)(null),M=(0,t.useRef)(null),D=(0,t.useCallback)(function(e){P({msg:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>P(null),3e3)},[]),R=["director","principal","vice_principal","admin","super_admin"].includes(l),I=(0,t.useCallback)(async()=>{if(!s)return o(sk),void u(!1);try{var e;const t=(null===(e=(await zr.get("".concat(ak,"/school-feed/").concat(s))).data)||void 0===e?void 0:e.posts)||[];o(t.length>0?t:sk)}catch(t){o(sk)}finally{u(!1)}},[s]);(0,t.useEffect)(()=>{I()},[I]);const O=()=>{b(null),j(null),M.current&&(M.current.value="")},L=async e=>{const t=(_[e]||"").trim();if(!t)return;const a={id:"cmt-".concat(Date.now()),user_id:n,user_name:r,text:t,created_at:(new Date).toISOString()};o(t=>t.map(t=>t.id!==e?t:d(d({},t),{},{comments:[...t.comments||[],a],comments_count:(t.comments_count||0)+1}))),C(t=>d(d({},t),{},{[e]:""}));try{await zr.post("".concat(ak,"/school-feed/").concat(e,"/comment"),{user_id:n,user_name:r,text:t})}catch(s){}},F=e=>{const t="".concat(window.location.origin,"/school-feed?post=").concat(e);navigator.clipboard.writeText(t).then(()=>{D("Link copied to clipboard!")}).catch(()=>{D("Could not copy link","error")})},B={announcement:"gradient-card-purple",activity:"gradient-card-teal",notice:"gradient-card-blue"},z={announcement:"Announcement",activity:"Activity",notice:"Notice"};return(0,Hr.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6 animate-fade-in",children:[E&&(0,Hr.jsxs)("div",{className:"fixed top-4 right-4 z-50 px-4 py-3 rounded-xl shadow-lg text-sm font-medium flex items-center gap-2 ".concat("error"===E.type?"bg-red-50 text-red-700 border border-red-200":"bg-green-50 text-green-700 border border-green-200"),children:["error"===E.type?(0,Hr.jsx)(By,{className:"w-4 h-4"}):(0,Hr.jsx)(uy,{className:"w-4 h-4"}),E.msg]}),(0,Hr.jsx)("div",{className:"flex items-center justify-between",children:(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"School Feed"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:"Share updates, activities & announcements"})]})}),(0,Hr.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5",children:(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 gradient-card-blue rounded-xl flex items-center justify-center flex-shrink-0",children:(0,Hr.jsx)("span",{className:"text-white font-semibold text-sm",children:(null===r||void 0===r?void 0:r.charAt(0))||"U"})}),(0,Hr.jsxs)("div",{className:"flex-1",children:[(0,Hr.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),placeholder:"Share an update with your school community...",className:"w-full px-0 py-1 text-sm text-gray-700 placeholder-gray-400 resize-none border-none focus:outline-none focus:ring-0 min-h-[60px]",rows:2}),y&&(0,Hr.jsxs)("div",{className:"relative mt-2 inline-block",children:[(0,Hr.jsx)("img",{src:y,alt:"Preview",className:"max-h-48 rounded-xl object-cover border border-gray-100"}),(0,Hr.jsx)("button",{onClick:O,className:"absolute top-1 right-1 bg-black/60 text-white rounded-full p-1 hover:bg-black/80",children:(0,Hr.jsx)(zu,{className:"w-3.5 h-3.5"})})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 mt-2",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("input",{ref:M,type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;if(!a.type.startsWith("image/"))return void D("Please select an image file","error");b(a);const s=new FileReader;s.onload=e=>j(e.target.result),s.readAsDataURL(a)}}),(0,Hr.jsxs)("button",{onClick:()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.click()},className:"flex items-center gap-1.5 px-3 py-1.5 text-xs text-gray-500 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,Hr.jsx)(Eh,{className:"w-4 h-4"})," Photo"]}),(0,Hr.jsxs)("button",{onClick:()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.click()},className:"flex items-center gap-1.5 px-3 py-1.5 text-xs text-gray-500 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,Hr.jsx)(cN,{className:"w-4 h-4"})," Gallery"]}),(0,Hr.jsxs)("select",{value:p,onChange:e=>x(e.target.value),className:"text-xs text-gray-500 border border-gray-200 rounded-lg px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-blue-300",children:[(0,Hr.jsx)("option",{value:"activity",children:"Activity"}),(0,Hr.jsx)("option",{value:"announcement",children:"Announcement"}),(0,Hr.jsx)("option",{value:"notice",children:"Notice"})]})]}),(0,Hr.jsxs)("button",{onClick:async()=>{if(m.trim()||v){f(!0);try{var e;let t=null;v&&(t=await(async()=>{if(!v)return null;w(!0);try{var e;const t=new FormData;return t.append("file",v),t.append("school_id",s),(null===(e=(await zr.post("".concat(ak,"/school-feed/upload"),t,{headers:{"Content-Type":"multipart/form-data"}})).data)||void 0===e?void 0:e.photo_url)||null}catch(t){return D("Photo upload failed","error"),null}finally{w(!1)}})());const a=await zr.post("".concat(ak,"/school-feed"),{school_id:s,content:m.trim(),type:p,photo_url:t});null!==(e=a.data)&&void 0!==e&&e.post&&o(e=>[a.data.post,...e.filter(e=>!e.id.startsWith("demo-"))]),h(""),O(),x("activity"),D("Post shared successfully!")}catch(a){var t;const e={id:"local-".concat(Date.now()),author_name:r,author_avatar:(null===(t=r[0])||void 0===t?void 0:t.toUpperCase())||"U",author_role:l,author_id:n,created_at:(new Date).toISOString(),content:m.trim(),type:p,photo_url:y,likes:[],likes_count:0,comments:[],comments_count:0};o(t=>[e,...t]),h(""),O(),x("activity"),D("Posted locally (server unavailable)","error")}finally{f(!1)}}},disabled:!m.trim()&&!v||g,className:"btn-primary flex items-center gap-2 px-5 py-2 text-xs disabled:opacity-50",children:[g||N?(0,Hr.jsx)(ul,{className:"w-3.5 h-3.5 animate-spin"}):(0,Hr.jsx)(Bj,{className:"w-3.5 h-3.5"}),"Post"]})]})]})]})}),c?(0,Hr.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-blue-500"})}):(0,Hr.jsx)("div",{className:"space-y-4",children:0===i.length?(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center",children:[(0,Hr.jsx)(Zw,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,Hr.jsx)("p",{className:"text-gray-500 text-sm",children:"No posts yet. Be the first to share something!"})]}):i.map(e=>{var t;const a=(e.likes||[]).includes(n),s=k[e.id],r=R||e.author_id===n;return(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 hover:shadow-md transition-all",children:[(0,Hr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center ".concat(B[e.type]||"gradient-card-blue"),children:(0,Hr.jsx)("span",{className:"text-white font-semibold text-sm",children:e.author_avatar||(null===(t=e.author_name)||void 0===t?void 0:t[0])||"?"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.author_name}),(0,Hr.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-medium ".concat("announcement"===e.type?"bg-purple-100 text-purple-700":"notice"===e.type?"bg-blue-100 text-blue-700":"bg-teal-100 text-teal-700"),children:z[e.type]||e.type})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[(0,Hr.jsx)(Il,{className:"w-3 h-3"})," ",nk(e.created_at),e.author_role&&(0,Hr.jsxs)("span",{className:"text-gray-300",children:["\u2022 ",e.author_role]})]})]})]}),(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)("button",{onClick:()=>T(A===e.id?null:e.id),className:"p-1.5 hover:bg-gray-50 rounded-lg",children:(0,Hr.jsx)(ek,{className:"w-4 h-4 text-gray-400"})}),A===e.id&&(0,Hr.jsxs)("div",{className:"absolute right-0 top-8 bg-white border border-gray-200 rounded-xl shadow-lg py-1 z-10 min-w-[140px]",children:[(0,Hr.jsxs)("button",{onClick:()=>F(e.id),className:"w-full text-left px-4 py-2 text-xs text-gray-600 hover:bg-gray-50 flex items-center gap-2",children:[(0,Hr.jsx)(oj,{className:"w-3.5 h-3.5"})," Copy Link"]}),r&&(0,Hr.jsxs)("button",{onClick:()=>(async e=>{T(null);try{await zr.delete("".concat(ak,"/school-feed/").concat(e)),o(t=>t.filter(t=>t.id!==e)),D("Post deleted")}catch(t){o(t=>t.filter(t=>t.id!==e)),D("Post removed")}})(e.id),className:"w-full text-left px-4 py-2 text-xs text-red-600 hover:bg-red-50 flex items-center gap-2",children:[(0,Hr.jsx)(Hh,{className:"w-3.5 h-3.5"})," Delete"]})]})]})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:e.content}),e.photo_url&&(0,Hr.jsx)("div",{className:"mb-3",children:(0,Hr.jsx)("img",{src:e.photo_url.startsWith("http")||e.photo_url.startsWith("data:")?e.photo_url:"".concat("").concat(e.photo_url),alt:"Post",className:"w-full max-h-96 object-cover rounded-xl border border-gray-100",onError:e=>{e.target.style.display="none"}})}),(0,Hr.jsxs)("div",{className:"flex items-center gap-6 pt-3 border-t border-gray-50",children:[(0,Hr.jsxs)("button",{onClick:()=>(async e=>{o(t=>t.map(t=>{if(t.id!==e)return t;const a=(t.likes||[]).includes(n),s=a?(t.likes||[]).filter(e=>e!==n):[...t.likes||[],n];return d(d({},t),{},{likes:s,likes_count:s.length>0?s.length:Math.max((t.likes_count||0)+(a?-1:1),0)})}));try{await zr.post("".concat(ak,"/school-feed/").concat(e,"/like"),{user_id:n})}catch(t){}})(e.id),className:"flex items-center gap-1.5 text-xs transition-colors ".concat(a?"text-red-500":"text-gray-500 hover:text-red-500"),children:[(0,Hr.jsx)(uy,{className:"w-4 h-4 ".concat(a?"fill-red-500":"")}),e.likes_count||0]}),(0,Hr.jsxs)("button",{onClick:()=>{return t=e.id,void S(e=>d(d({},e),{},{[t]:!e[t]}));var t},className:"flex items-center gap-1.5 text-xs text-gray-500 hover:text-blue-500 transition-colors",children:[(0,Hr.jsx)(Uh,{className:"w-4 h-4"}),e.comments_count||0,s?(0,Hr.jsx)(tk,{className:"w-3 h-3"}):(0,Hr.jsx)(Ey,{className:"w-3 h-3"})]}),(0,Hr.jsxs)("button",{onClick:()=>F(e.id),className:"flex items-center gap-1.5 text-xs text-gray-500 hover:text-green-500 transition-colors",children:[(0,Hr.jsx)(oj,{className:"w-4 h-4"})," Share"]})]}),s&&(0,Hr.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-50 space-y-3",children:[(e.comments||[]).length>0&&(0,Hr.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(e.comments||[]).map((e,t)=>(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsx)("div",{className:"w-7 h-7 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:(0,Hr.jsx)("span",{className:"text-[10px] font-semibold text-gray-500",children:(e.user_name||"U")[0].toUpperCase()})}),(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-xl px-3 py-2 flex-1",children:[(0,Hr.jsx)("p",{className:"text-xs font-semibold text-gray-700",children:e.user_name||"User"}),(0,Hr.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:e.text}),(0,Hr.jsx)("p",{className:"text-[10px] text-gray-400 mt-1",children:nk(e.created_at)})]})]},e.id||t))}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsx)("input",{type:"text",value:_[e.id]||"",onChange:t=>C(a=>d(d({},a),{},{[e.id]:t.target.value})),onKeyDown:t=>"Enter"===t.key&&L(e.id),placeholder:"Write a comment...",className:"flex-1 text-xs border border-gray-200 rounded-xl px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-300 focus:border-blue-300"}),(0,Hr.jsx)("button",{onClick:()=>L(e.id),disabled:!(_[e.id]||"").trim(),className:"px-3 py-2 bg-blue-500 text-white rounded-xl text-xs hover:bg-blue-600 disabled:opacity-50 transition-colors",children:(0,Hr.jsx)(Bj,{className:"w-3.5 h-3.5"})})]})]})]},e.id)})})]})}const lk="".concat("","/api");function ik(){const{user:e}=Vr(),[a,s]=(0,t.useState)(!0),[n,r]=(0,t.useState)(!1),[l,i]=(0,t.useState)([]),[o,c]=(0,t.useState)([]),[u,m]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),x=["director","principal","vice_principal"].includes(null===e||void 0===e?void 0:e.role),g=["teacher","staff","student"].includes(null===e||void 0===e?void 0:e.role),[f,v]=(0,t.useState)(x&&!g?"pending":"my-leaves"),[b,y]=(0,t.useState)({leave_type:"casual",from_date:"",to_date:"",reason:"",half_day:!1}),j=[{id:"sick",name:"Sick Leave",color:"rose"},{id:"casual",name:"Casual Leave",color:"blue"},{id:"personal",name:"Personal Leave",color:"purple"},{id:"emergency",name:"Emergency Leave",color:"amber"}];(0,t.useEffect)(()=>{N()},[]);const N=async()=>{s(!0);try{const[t,a]=await Promise.all([zr.get("".concat(lk,"/leave/my-leaves")),zr.get("".concat(lk,"/leave/balance"))]);if(i(t.data),m(a.data.balance),["director","principal","vice_principal","teacher"].includes(null===e||void 0===e?void 0:e.role)){const e=await zr.get("".concat(lk,"/leave/pending"));c(e.data)}}catch(t){console.error("Failed to fetch leave data")}finally{s(!1)}};if(a)return(0,Hr.jsx)("div",{className:"flex justify-center py-20",children:(0,Hr.jsx)(ul,{className:"w-10 h-10 animate-spin"})});const w=["director","principal","vice_principal","teacher"].includes(null===e||void 0===e?void 0:e.role);return(0,Hr.jsxs)("div",{className:"space-y-6","data-testid":"leave-management",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-600 rounded-2xl p-6 text-white",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("h1",{className:"text-3xl font-bold font-heading flex items-center gap-3",children:[(0,Hr.jsx)(Hl,{className:"w-8 h-8"}),"Leave Management"]}),(0,Hr.jsx)("p",{className:"text-teal-100 mt-2",children:w&&!g?"Approve or reject leave applications":"Apply for leave, check balance & track status"})]}),g&&(0,Hr.jsxs)(Io,{onClick:()=>p(!0),className:"bg-white text-teal-600 hover:bg-teal-50",children:[(0,Hr.jsx)(Bj,{className:"w-4 h-4 mr-2"}),"Apply for Leave"]})]})}),u&&(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(u).map(e=>{let[t,a]=e;const s=j.find(e=>e.id===t)||{name:t,color:"slate"};return(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-500 capitalize",children:s.name}),(0,Hr.jsxs)("div",{className:"flex items-end gap-1 mt-1",children:[(0,Hr.jsx)("span",{className:"text-2xl font-bold text-slate-900",children:a.remaining}),(0,Hr.jsxs)("span",{className:"text-sm text-slate-400 mb-1",children:["/ ",a.total]})]}),(0,Hr.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-2 mt-2",children:(0,Hr.jsx)("div",{className:"bg-".concat(s.color,"-500 h-2 rounded-full"),style:{width:"".concat(a.remaining/a.total*100,"%"),backgroundColor:"rose"===s.color?"#f43f5e":"blue"===s.color?"#3b82f6":"purple"===s.color?"#a855f7":"#f59e0b"}})})]},t)})}),(0,Hr.jsxs)(wh,{value:f,onValueChange:v,children:[(0,Hr.jsxs)(kh,{className:"bg-slate-100",children:[g&&(0,Hr.jsx)(Sh,{value:"my-leaves",children:"My Leaves"}),w&&(0,Hr.jsxs)(Sh,{value:"pending",children:["Pending Approvals",o.length>0&&(0,Hr.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-amber-500 text-white text-xs rounded-full",children:o.length})]})]}),(0,Hr.jsx)(_h,{value:"my-leaves",className:"mt-4",children:(0,Hr.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:0===l.length?(0,Hr.jsxs)("div",{className:"p-12 text-center",children:[(0,Hr.jsx)(Dl,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:"No leave applications yet"})]}):(0,Hr.jsx)("div",{className:"divide-y divide-slate-100",children:l.map(e=>{return(0,Hr.jsx)("div",{className:"p-4 hover:bg-slate-50",children:(0,Hr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsxs)("span",{className:"font-medium text-slate-900 capitalize",children:[e.leave_type," Leave"]}),(t=e.status,(0,Hr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat({pending:"bg-amber-100 text-amber-700",approved:"bg-emerald-100 text-emerald-700",rejected:"bg-rose-100 text-rose-700"}[t]),children:t.charAt(0).toUpperCase()+t.slice(1)}))]}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:[e.from_date," to ",e.to_date," (",e.days," ",1===e.days?"day":"days",")"]}),(0,Hr.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:e.reason})]}),(0,Hr.jsx)("div",{className:"text-right text-xs text-slate-400",children:new Date(e.created_at).toLocaleDateString()})]})},e.id);var t})})})}),(0,Hr.jsx)(_h,{value:"pending",className:"mt-4",children:(0,Hr.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:0===o.length?(0,Hr.jsxs)("div",{className:"p-12 text-center",children:[(0,Hr.jsx)(Gb,{className:"w-12 h-12 text-emerald-300 mx-auto mb-3"}),(0,Hr.jsx)("p",{className:"text-slate-500",children:"No pending approvals"})]}):(0,Hr.jsx)("div",{className:"divide-y divide-slate-100",children:o.map(e=>(0,Hr.jsx)("div",{className:"p-4",children:(0,Hr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)(Rh,{className:"w-5 h-5 text-slate-400"}),(0,Hr.jsx)("span",{className:"font-medium text-slate-900",children:e.applicant_name}),(0,Hr.jsxs)("span",{className:"text-xs text-slate-500 capitalize",children:["(",e.applicant_type,")"]})]}),(0,Hr.jsxs)("p",{className:"text-sm text-slate-600 mt-1 capitalize",children:[e.leave_type," Leave: ",e.from_date," to ",e.to_date," (",e.days," days)"]}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:e.reason})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>(async e=>{try{await zr.post("".concat(lk,"/leave/").concat(e,"/approve")),Qt.success("Leave approved!"),N()}catch(t){Qt.error("Failed to approve")}})(e.id),children:[(0,Hr.jsx)(Gb,{className:"w-4 h-4 mr-1"}),"Approve"]}),(0,Hr.jsxs)(Io,{size:"sm",variant:"destructive",onClick:()=>(async e=>{try{await zr.post("".concat(lk,"/leave/").concat(e,"/reject")),Qt.success("Leave rejected"),N()}catch(t){Qt.error("Failed to reject")}})(e.id),children:[(0,Hr.jsx)(Kb,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})},e.id))})})})]}),(0,Hr.jsx)(Gu,{open:h,onOpenChange:p,children:(0,Hr.jsxs)($u,{children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Apply for Leave"})}),(0,Hr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.from_date&&b.to_date&&b.reason){r(!0);try{await zr.post("".concat(lk,"/leave/apply"),b),Qt.success("Leave application submitted!"),p(!1),y({leave_type:"casual",from_date:"",to_date:"",reason:"",half_day:!1}),N()}catch(t){Qt.error("Failed to apply for leave")}finally{r(!1)}}else Qt.error("Please fill all required fields")},className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Leave Type"}),(0,Hr.jsx)("select",{value:b.leave_type,onChange:e=>y(t=>d(d({},t),{},{leave_type:e.target.value})),className:"w-full h-10 rounded-lg border border-slate-200 px-3",children:j.map(e=>(0,Hr.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"From Date"}),(0,Hr.jsx)(Lo,{type:"date",value:b.from_date,onChange:e=>y(t=>d(d({},t),{},{from_date:e.target.value})),required:!0})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"To Date"}),(0,Hr.jsx)(Lo,{type:"date",value:b.to_date,onChange:e=>y(t=>d(d({},t),{},{to_date:e.target.value})),required:!0})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("input",{type:"checkbox",id:"half_day",checked:b.half_day,onChange:e=>y(t=>d(d({},t),{},{half_day:e.target.checked})),className:"rounded"}),(0,Hr.jsx)(Wo,{htmlFor:"half_day",children:"Half Day"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{children:"Reason"}),(0,Hr.jsx)(Oy,{value:b.reason,onChange:e=>y(t=>d(d({},t),{},{reason:e.target.value})),placeholder:"Enter reason for leave...",rows:3,required:!0})]}),(0,Hr.jsxs)(Io,{type:"submit",className:"w-full",disabled:n,children:[n?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Bj,{className:"w-4 h-4 mr-2"}),"Submit Application"]})]})]})})]})}const ok=el("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),ck="".concat("","/api"),dk=[{id:"basic",title:"Basic Information",subtitle:"School ka naam aur address",icon:$N},{id:"contact",title:"Contact & Registration",subtitle:"Phone, email aur registration details",icon:vy},{id:"details",title:"School Details",subtitle:"Type, medium aur capacity",icon:Cy},{id:"leadership",title:"Leadership & About",subtitle:"Principal aur school ki jaankari",icon:tl},{id:"logo",title:"Logo & Branding Settings",subtitle:"School logo upload aur apply settings",icon:cN},{id:"payment",title:"Payment Settings",subtitle:"Razorpay, UPI aur bank details",icon:nl},{id:"social",title:"Social Media",subtitle:"Social media links",icon:oj}];function uk(){const{user:e,schoolId:a}=Vr(),s=we(),[n,r]=(0,t.useState)(0),[l,i]=(0,t.useState)(!0),[o,c]=(0,t.useState)(!1),[u,m]=(0,t.useState)(null),h=(0,t.useRef)(null),[p,x]=(0,t.useState)({name:"",address:"",city:"",state:"",pincode:"",board_type:"CBSE",phone:"",email:"",website_url:"",registration_number:"",established_year:"",school_type:"",medium:"",shift:"",total_capacity:"",motto:"",principal_name:"",principal_message:"",about_school:"",vision:"",mission:"",logo_url:"",logo_apply_to:{idCards:!0,notices:!0,calendar:!0,appHeader:!0,certificates:!0,feeBills:!0,appIcon:!0},razorpay_key_id:"",razorpay_key_secret:"",upi_id:"",payment_mode:"",bank_name:"",bank_account_no:"",bank_ifsc:"",bank_branch:"",facebook_url:"",instagram_url:"",youtube_url:"",whatsapp_number:""});(0,t.useEffect)(()=>{a?g():i(!1)},[a]);const g=async()=>{try{const e=localStorage.getItem("token"),t=await zr.get("".concat(ck,"/schools/").concat(a),{headers:{Authorization:"Bearer ".concat(e)}});if(t.data){const e=t.data;x(t=>d(d({},t),{},{name:e.name||"",address:e.address||"",city:e.city||"",state:e.state||"",pincode:e.pincode||"",board_type:e.board_type||"CBSE",phone:e.phone||"",email:e.email||"",website_url:e.website_url||"",registration_number:e.registration_number||"",established_year:e.established_year||"",school_type:e.school_type||"",medium:e.medium||"",shift:e.shift||"",total_capacity:e.total_capacity||"",motto:e.motto||"",principal_name:e.principal_name||"",principal_message:e.principal_message||"",about_school:e.about_school||"",vision:e.vision||"",mission:e.mission||"",logo_url:e.logo_url||"",logo_apply_to:e.logo_apply_to||{idCards:!0,notices:!0,calendar:!0,appHeader:!0,certificates:!0,feeBills:!0,appIcon:!0},razorpay_key_id:e.razorpay_key_id||"",razorpay_key_secret:e.razorpay_key_secret||"",upi_id:e.upi_id||"",payment_mode:e.payment_mode||"",bank_name:e.bank_name||"",bank_account_no:e.bank_account_no||"",bank_ifsc:e.bank_ifsc||"",bank_branch:e.bank_branch||"",facebook_url:e.facebook_url||"",instagram_url:e.instagram_url||"",youtube_url:e.youtube_url||"",whatsapp_number:e.whatsapp_number||""})),e.logo_url&&m(e.logo_url)}}catch(Jk){console.error("Error loading school data:",Jk)}finally{i(!1)}},f=e=>{x(t=>d(d({},t),{},{[e.target.name]:e.target.value}))},v=(n+1)/dk.length*100;if(l)return(0,Hr.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Hr.jsx)(ul,{className:"w-10 h-10 animate-spin text-blue-600"})});const b=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-sm font-medium text-slate-700",children:e}),n?(0,Hr.jsx)("select",{name:t,value:p[t],onChange:f,className:"w-full mt-1 border border-slate-200 rounded-lg px-3 py-2.5 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:n.map(e=>(0,Hr.jsx)("option",{value:e.value,children:e.label},e.value))}):"textarea"===a?(0,Hr.jsx)("textarea",{name:t,value:p[t],onChange:f,placeholder:s,rows:3,className:"w-full mt-1 border border-slate-200 rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"}):(0,Hr.jsx)(Lo,{name:t,type:a,value:p[t],onChange:f,placeholder:s,className:"mt-1"})]})};return(0,Hr.jsxs)("div",{className:"max-w-3xl mx-auto py-6 px-4",children:[(0,Hr.jsxs)("div",{className:"text-center mb-8",children:[(0,Hr.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"School Setup Wizard"}),(0,Hr.jsx)("p",{className:"text-slate-500 mt-1",children:"Step-by-step apne school ki details bharein"})]}),(0,Hr.jsxs)("div",{className:"mb-8",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Hr.jsxs)("span",{className:"text-sm font-medium text-slate-600",children:["Step ",n+1," of ",dk.length]}),(0,Hr.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:[Math.round(v),"%"]})]}),(0,Hr.jsx)("div",{className:"w-full h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,Hr.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full transition-all duration-500",style:{width:"".concat(v,"%")}})}),(0,Hr.jsx)("div",{className:"flex justify-between mt-3",children:dk.map((e,t)=>{const a=e.icon;return(0,Hr.jsxs)("button",{onClick:()=>r(t),className:"flex flex-col items-center gap-1 transition-all ".concat(t<=n?"text-blue-600":"text-slate-300"),children:[(0,Hr.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ".concat(t<n?"bg-blue-600 text-white":t===n?"bg-blue-100 text-blue-600 ring-2 ring-blue-500":"bg-slate-100 text-slate-400"),children:t<n?(0,Hr.jsx)(Ah,{className:"w-4 h-4"}):(0,Hr.jsx)(a,{className:"w-3.5 h-3.5"})}),(0,Hr.jsx)("span",{className:"text-[10px] font-medium hidden md:block",children:e.title})]},e.id)})})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 mb-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(()=>{const e=dk[n].icon;return(0,Hr.jsx)(e,{className:"w-6 h-6 text-blue-600"})})(),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h2",{className:"text-lg font-bold text-slate-900",children:dk[n].title}),(0,Hr.jsx)("p",{className:"text-sm text-slate-500",children:dk[n].subtitle})]})]}),0===n&&(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b("School Name *","name","text","Enter school name"),b("Board Type","board_type","text","",[{value:"CBSE",label:"CBSE"},{value:"ICSE",label:"ICSE"},{value:"State Board",label:"State Board"},{value:"IB",label:"IB"},{value:"IGCSE",label:"IGCSE"},{value:"Other",label:"Other"}]),(0,Hr.jsx)("div",{className:"md:col-span-2",children:b("Address","address","text","Full school address")}),b("City","city","text","City name"),b("State","state","text","State name"),b("Pincode","pincode","text","000000")]}),1===n&&(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b("Phone Number","phone","tel","9876543210"),b("Email","email","email","school@example.com"),b("Website URL","website_url","url","https://www.school.com"),b("Registration Number","registration_number","text","e.g., MPBOARD/2012/12345"),b("Established Year","established_year","number","2000")]}),2===n&&(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b("School Type","school_type","text","",[{value:"",label:"Select Type"},{value:"Co-Ed",label:"Co-Education"},{value:"Boys",label:"Boys Only"},{value:"Girls",label:"Girls Only"}]),b("Medium","medium","text","",[{value:"",label:"Select Medium"},{value:"Hindi",label:"Hindi Medium"},{value:"English",label:"English Medium"},{value:"Both",label:"Hindi + English"}]),b("Shift","shift","text","",[{value:"",label:"Select Shift"},{value:"Morning",label:"Morning"},{value:"Afternoon",label:"Afternoon"},{value:"Both",label:"Both Shifts"}]),b("Total Capacity","total_capacity","number","e.g., 500"),(0,Hr.jsx)("div",{className:"md:col-span-2",children:b("School Motto","motto","text","Your school motto or tagline")})]}),3===n&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b("Principal Name","principal_name","text","Principal name")}),b("Principal Message","principal_message","textarea","A message from the principal..."),b("About School","about_school","textarea","Brief description of the school..."),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b("Vision","vision","textarea","School vision statement..."),b("Mission","mission","textarea","School mission statement...")]})]}),4===n&&(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Hr.jsx)("div",{className:"shrink-0",children:(0,Hr.jsx)("div",{className:"w-32 h-32 border-2 border-dashed border-blue-300 rounded-xl flex items-center justify-center overflow-hidden bg-slate-50",children:u?(0,Hr.jsxs)("div",{className:"relative w-full h-full",children:[(0,Hr.jsx)("img",{src:u,alt:"Logo",className:"w-full h-full object-contain p-2"}),(0,Hr.jsx)("button",{onClick:()=>{m(null),x(e=>d(d({},e),{},{logo_url:""}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:(0,Hr.jsx)(zu,{className:"w-3 h-3"})})]}):(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)(Eh,{className:"w-10 h-10 text-slate-300 mx-auto mb-1"}),(0,Hr.jsx)("span",{className:"text-xs text-slate-400",children:"No Logo"})]})})}),(0,Hr.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,Hr.jsx)("input",{ref:h,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(t.size>5242880)return void Qt.error("File size should be less than 5MB");const a=new FileReader;a.onloadend=()=>{m(a.result),x(e=>d(d({},e),{},{logo_url:a.result}))},a.readAsDataURL(t)},className:"hidden"}),(0,Hr.jsxs)(Io,{onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.click()},variant:"outline",className:"w-full",children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4 mr-2"})," ",u?"Change Logo":"Upload School Logo"]}),(0,Hr.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 text-xs text-blue-700",children:[(0,Hr.jsx)("p",{className:"font-medium mb-1",children:"Tips:"}),(0,Hr.jsxs)("ul",{className:"space-y-0.5 text-blue-600",children:[(0,Hr.jsx)("li",{children:"PNG/JPG format, Max 5MB"}),(0,Hr.jsx)("li",{children:"Square logo best results deta hai"}),(0,Hr.jsx)("li",{children:"Logo header, ID cards aur notices mein use hoga"})]})]})]})]}),(0,Hr.jsxs)("div",{className:"border-t border-slate-200 pt-4",children:[(0,Hr.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Logo Apply Settings"}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500 mb-3",children:"Select where the logo should appear"}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{key:"idCards",label:"Set as ID Cards watermark",icon:Fh},{key:"notices",label:"Set on Notices",icon:Ml},{key:"calendar",label:"Set on Calendar",icon:Hl},{key:"appHeader",label:"Set on App Header (School Name ke saath)",icon:Cl},{key:"certificates",label:"Set on Certificates",icon:Dl},{key:"feeBills",label:"Set on Fee Bills",icon:Dl},{key:"appIcon",label:"Set as App Icon",icon:dl}].map(e=>{const t=e.icon;return(0,Hr.jsxs)("button",{onClick:()=>{return t=e.key,void x(e=>d(d({},e),{},{logo_apply_to:d(d({},e.logo_apply_to),{},{[t]:!e.logo_apply_to[t]})}));var t},className:"flex items-center gap-2 p-3 rounded-lg border-2 transition-all text-left ".concat(p.logo_apply_to[e.key]?"border-blue-600 bg-blue-50 text-blue-700":"border-slate-200 text-slate-600 hover:border-slate-300"),children:[p.logo_apply_to[e.key]?(0,Hr.jsx)(Ah,{className:"w-4 h-4 text-blue-600 shrink-0"}):(0,Hr.jsx)(t,{className:"w-4 h-4 shrink-0"}),(0,Hr.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.key)})})]})]}),5===n&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b("Razorpay Key ID","razorpay_key_id","text","rzp_live_xxxxxx"),b("Razorpay Key Secret","razorpay_key_secret","password","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"),b("UPI ID","upi_id","text","school@upi"),b("Payment Mode","payment_mode","text","",[{value:"",label:"Select Payment Mode"},{value:"online",label:"Online Only"},{value:"cash",label:"Cash Only"},{value:"both",label:"Both Online & Cash"}]),b("Bank Name","bank_name","text","e.g., State Bank of India"),b("Bank Account Number","bank_account_no","text","Account number"),b("IFSC Code","bank_ifsc","text","e.g., SBIN0001234"),b("Branch Name","bank_branch","text","Branch name")]}),(0,Hr.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-sm text-amber-800",children:[(0,Hr.jsx)("p",{className:"font-medium mb-1",children:"Note:"}),(0,Hr.jsx)("p",{children:"Payment settings will be used in Fee Management for online fee collection via Razorpay. UPI ID will be shown to parents for direct payment."})]})]}),6===n&&(0,Hr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b("Facebook URL","facebook_url","url","https://facebook.com/school"),b("Instagram URL","instagram_url","url","https://instagram.com/school"),b("YouTube URL","youtube_url","url","https://youtube.com/school"),b("WhatsApp Number","whatsapp_number","tel","9876543210")]})]}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>{n>0&&r(e=>e-1)},disabled:0===n,className:"gap-2",children:[(0,Hr.jsx)(hN,{className:"w-4 h-4"})," Previous"]}),(0,Hr.jsxs)(Io,{variant:"ghost",onClick:()=>{n<dk.length-1?r(e=>e+1):s("/app/settings")},className:"text-slate-500",children:[(0,Hr.jsx)(ok,{className:"w-4 h-4 mr-1"})," Skip"]}),(0,Hr.jsxs)(Io,{onClick:async()=>{const e=await(async()=>{if(!a)return Qt.error("No school selected"),!1;c(!0);try{const e=localStorage.getItem("token");return await zr.put("".concat(ck,"/schools/").concat(a),p,{headers:{Authorization:"Bearer ".concat(e)}}),Qt.success("Saved successfully!"),!0}catch(Jk){var e,t;return Qt.error((null===(e=Jk.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Save failed"),!1}finally{c(!1)}})();e&&n<dk.length-1?r(e=>e+1):e&&n===dk.length-1&&(Qt.success("School setup complete!"),s("/app/settings"))},disabled:o,className:"gap-2 bg-blue-600 hover:bg-blue-700",children:[o?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin"}):(0,Hr.jsx)(hy,{className:"w-4 h-4"}),n===dk.length-1?"Finish Setup":"Save & Next",n<dk.length-1&&(0,Hr.jsx)(Yl,{className:"w-4 h-4"})]})]})]})}const mk=el("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function hk(e){let{isOpen:a,onClose:s,onSuccess:n}=e;const[r,l]=(0,t.useState)(1),[i,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)("email"),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[x,g]=(0,t.useState)(""),[f,v]=(0,t.useState)(""),[b,y]=(0,t.useState)(""),[j,N]=(0,t.useState)(!1),[w,k]=(0,t.useState)(""),[S,_]=(0,t.useState)(""),[C,E]=(0,t.useState)(""),P=async()=>{if(u){o(!0);try{const e={};"email"===c?e.email=u:"mobile"===c?e.mobile=u:e.student_id=u;const t=await fetch("".concat("","/api/password-reset/forgot"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();t.ok?(Qt.success(a.message||"OTP sent successfully!"),k(a.demo_otp||""),_(a.user_name||""),E(a.user_type||""),l(2)):Qt.error(a.detail||"Failed to send OTP")}catch(e){Qt.error("Network error. Please try again.")}finally{o(!1)}}else Qt.error("Please enter your email, mobile or student ID")},A=()=>{l(1),m(""),p(""),g(""),v(""),y(""),k(""),s()};return(0,Hr.jsx)(Gu,{open:a,onOpenChange:A,children:(0,Hr.jsxs)($u,{className:"max-w-md",children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Bh,{className:"w-5 h-5 text-indigo-600"}),1===r&&"Forgot Password",2===r&&"Enter OTP",3===r&&"Set New Password"]})}),1===r&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsx)("p",{className:"text-sm text-slate-600",children:"Enter your registered email, mobile number or student ID to receive OTP"}),(0,Hr.jsx)("div",{className:"flex gap-2",children:[{id:"email",icon:dj,label:"Email"},{id:"mobile",icon:vy,label:"Mobile"},{id:"student_id",icon:cl,label:"Student ID"}].map(e=>(0,Hr.jsxs)("button",{onClick:()=>{d(e.id),m("")},className:"flex-1 p-3 rounded-lg border-2 transition-all ".concat(c===e.id?"border-indigo-500 bg-indigo-50":"border-slate-200 hover:border-slate-300"),children:[(0,Hr.jsx)(e.icon,{className:"w-5 h-5 mx-auto mb-1 ".concat(c===e.id?"text-indigo-600":"text-slate-400")}),(0,Hr.jsx)("p",{className:"text-xs font-medium ".concat(c===e.id?"text-indigo-700":"text-slate-600"),children:e.label})]},e.id))}),(0,Hr.jsx)("div",{children:(0,Hr.jsx)(Lo,{value:u,onChange:e=>m(e.target.value),placeholder:"email"===c?"Enter your email address":"mobile"===c?"Enter your mobile number":"Enter your Student ID",type:"email"===c?"email":"text"})}),(0,Hr.jsxs)(Io,{onClick:P,disabled:i||!u,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:[i?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(dj,{className:"w-4 h-4 mr-2"}),"Send OTP"]})]}),2===r&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4 text-center",children:[(0,Hr.jsx)(Gb,{className:"w-8 h-8 text-emerald-600 mx-auto mb-2"}),(0,Hr.jsx)("p",{className:"font-medium text-emerald-800",children:"OTP Sent!"}),S&&(0,Hr.jsxs)("p",{className:"text-sm text-emerald-600",children:["Hi ",S]})]}),w&&(0,Hr.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[(0,Hr.jsx)("p",{className:"text-xs text-amber-700 font-medium",children:"Demo Mode - OTP:"}),(0,Hr.jsx)("p",{className:"text-2xl font-bold text-amber-800 tracking-widest",children:w}),(0,Hr.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Production mein yeh SMS/Email se aayega"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Enter 6-Digit OTP"}),(0,Hr.jsx)(Lo,{value:h,onChange:e=>p(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"text-center text-2xl tracking-widest font-mono",maxLength:6})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{variant:"outline",onClick:()=>l(1),className:"flex-1",children:[(0,Hr.jsx)(Gw,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(h&&6===h.length){o(!0);try{const e={otp:h};"email"===c?e.email=u:"mobile"===c?e.mobile=u:e.student_id=u;const t=await fetch("".concat("","/api/password-reset/verify-otp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();t.ok&&a.success?(Qt.success("OTP verified!"),g(a.reset_token),l(3)):Qt.error(a.detail||"Invalid OTP")}catch(e){Qt.error("Verification failed. Please try again.")}finally{o(!1)}}else Qt.error("Please enter valid 6-digit OTP")},disabled:i||6!==h.length,className:"flex-1 bg-indigo-600 hover:bg-indigo-700",children:[i?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(mk,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})]}),(0,Hr.jsx)("button",{onClick:P,className:"w-full text-sm text-indigo-600 hover:underline",children:"Resend OTP"})]}),3===r&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4 text-center",children:[(0,Hr.jsx)(mk,{className:"w-8 h-8 text-emerald-600 mx-auto mb-2"}),(0,Hr.jsx)("p",{className:"font-medium text-emerald-800",children:"OTP Verified!"}),(0,Hr.jsx)("p",{className:"text-sm text-emerald-600",children:"Ab naya password set karein"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"New Password"}),(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)(Lo,{type:j?"text":"password",value:f,onChange:e=>v(e.target.value),placeholder:"Enter new password"}),(0,Hr.jsx)("button",{type:"button",onClick:()=>N(!j),className:"absolute right-3 top-1/2 -translate-y-1/2",children:j?(0,Hr.jsx)(pl,{className:"w-4 h-4 text-slate-400"}):(0,Hr.jsx)(xl,{className:"w-4 h-4 text-slate-400"})})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium",children:"Confirm Password"}),(0,Hr.jsx)(Lo,{type:j?"text":"password",value:b,onChange:e=>y(e.target.value),placeholder:"Confirm new password"})]}),f&&b&&f!==b&&(0,Hr.jsx)("p",{className:"text-sm text-red-600",children:"Passwords match nahi ho rahe"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(f===b)if(f.length<6)Qt.error("Password must be at least 6 characters");else{o(!0);try{const e=await fetch("".concat("","/api/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reset_token:x,new_password:f,confirm_password:b})}),t=await e.json();e.ok&&t.success?(Qt.success("Password reset successfully! \ud83c\udf89"),null===n||void 0===n||n(),A()):Qt.error(t.detail||"Failed to reset password")}catch(e){Qt.error("Reset failed. Please try again.")}finally{o(!1)}}else Qt.error("Passwords do not match")},disabled:i||!f||f!==b,className:"w-full bg-emerald-600 hover:bg-emerald-700",children:[i?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(gl,{className:"w-4 h-4 mr-2"}),"Reset Password"]})]})]})})}const pk=el("mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);function xk(){const{user:e,login:a}=Vr(),s=we(),[n,r]=(0,t.useState)(!1),[l,i]=(0,t.useState)(null),[o,c]=(0,t.useState)(!1),[u,m]=(0,t.useState)(!1),[h,p]=(0,t.useState)({email:"",password:""});(0,t.useEffect)(()=>{window.matchMedia("(display-mode: standalone)").matches&&c(!0);const e=e=>{e.preventDefault(),i(e)};return window.addEventListener("beforeinstallprompt",e),()=>window.removeEventListener("beforeinstallprompt",e)},[]),(0,t.useEffect)(()=>{e&&("student"===e.role?s("/student-dashboard"):"director"===e.role?s("/app/dashboard"):s("/portal"))},[e,s]);const x=async()=>{if(l){l.prompt();const{outcome:e}=await l.userChoice;"accepted"===e&&(Qt.success("TeachTino installed!"),c(!0)),i(null)}else Qt.info("Add to Home Screen from browser menu")};return(0,Hr.jsxs)("div",{className:"min-h-screen flex flex-col bg-white",children:[(0,Hr.jsxs)("div",{className:"gradient-hero text-white relative overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,Hr.jsx)("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400 rounded-full filter blur-3xl"}),(0,Hr.jsx)("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-purple-400 rounded-full filter blur-3xl"})]}),(0,Hr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[(0,Hr.jsxs)("nav",{className:"flex items-center justify-between py-5",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/10 backdrop-blur flex items-center justify-center",children:(0,Hr.jsx)(cl,{className:"w-6 h-6 text-white"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-lg font-bold text-white",children:"TeachTino"}),(0,Hr.jsx)("p",{className:"text-xs text-blue-100",children:"AI-Powered Teacher Portal"})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[!o&&(0,Hr.jsxs)(Io,{onClick:x,variant:"outline",className:"border-white/30 text-white hover:bg-white/10 text-sm",children:[(0,Hr.jsx)(ey,{className:"w-4 h-4 mr-2"}),"Install App"]}),(0,Hr.jsx)("a",{href:"/",className:"text-white/90 hover:text-white text-sm font-medium transition-colors",children:"Back to Schooltino"})]})]}),(0,Hr.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center py-16",children:[(0,Hr.jsxs)("div",{className:"animate-fade-in",children:[(0,Hr.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur border border-white/20 rounded-full text-white text-sm font-medium mb-6",children:[(0,Hr.jsx)(uN,{className:"w-4 h-4"}),"For Teachers Only"]}),(0,Hr.jsxs)("h2",{className:"text-4xl sm:text-5xl font-bold text-white leading-tight mb-4",children:["Your AI Teaching",(0,Hr.jsx)("span",{className:"block text-blue-200",children:"Assistant is Here"})]}),(0,Hr.jsx)("p",{className:"text-base text-blue-100 mb-8 leading-relaxed",children:"TeachTino helps you create lesson plans, question papers, worksheets, and manage your classroom - all powered by AI."}),(0,Hr.jsx)("div",{className:"grid sm:grid-cols-2 gap-3 mb-8",children:[{icon:il,title:"AI Lesson Plans",desc:"Generate daily plans instantly",color:"blue"},{icon:Dl,title:"Question Papers",desc:"Create exam papers in 2 mins",color:"green"},{icon:Hl,title:"Attendance",desc:"Mark attendance quickly",color:"amber"},{icon:al,title:"Student Analytics",desc:"Track weak & strong students",color:"purple"},{icon:pk,title:"Voice Commands",desc:"Hindi + English supported",color:"red"},{icon:Rl,title:"Syllabus Tracker",desc:"Track your progress",color:"teal"}].map((e,t)=>(0,Hr.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-white/5 backdrop-blur rounded-xl border border-white/10 hover:bg-white/10 transition-all",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 ".concat({blue:"bg-blue-500/20 text-blue-200",green:"bg-emerald-500/20 text-emerald-200",amber:"bg-amber-500/20 text-amber-200",purple:"bg-purple-500/20 text-purple-200",red:"bg-red-500/20 text-red-200",teal:"bg-teal-500/20 text-teal-200"}[e.color]," rounded-lg flex items-center justify-center flex-shrink-0"),children:(0,Hr.jsx)(e.icon,{className:"w-5 h-5"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h4",{className:"font-semibold text-white text-sm",children:e.title}),(0,Hr.jsx)("p",{className:"text-xs text-blue-100",children:e.desc})]})]},t))}),(0,Hr.jsxs)("div",{className:"bg-white/10 backdrop-blur border border-white/20 text-white rounded-xl p-5",children:[(0,Hr.jsx)("div",{className:"flex items-center gap-1 mb-2",children:[1,2,3,4,5].map(e=>(0,Hr.jsx)(cj,{className:"w-4 h-4 fill-yellow-300 text-yellow-300"},e))}),(0,Hr.jsx)("p",{className:"italic text-sm mb-2",children:'"TeachTino AI has reduced my paper-work by 70%. I can now focus more on actual teaching!"'}),(0,Hr.jsx)("p",{className:"text-blue-100 text-xs",children:"- Science Teacher, DPS Noida"})]})]}),(0,Hr.jsx)("div",{className:"animate-slide-up",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100",children:[(0,Hr.jsxs)("div",{className:"text-center mb-6",children:[(0,Hr.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-blue-100",children:(0,Hr.jsx)(cl,{className:"w-8 h-8 text-blue-600"})}),(0,Hr.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Teacher Login"}),(0,Hr.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Access your TeachTino dashboard"})]}),(0,Hr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{const e=await a(h.email,h.password);["teacher","principal","vice_principal","co_director","admin_staff","accountant","admission_staff","clerk"].includes(e.role)||"director"===e.role?(Qt.success("Welcome, ".concat(e.name,"!")),"director"===e.role?s("/app/dashboard"):s("/portal")):"student"===e.role?(Qt.info("Students should use StudyTino portal"),s("/studytino")):Qt.error("Access denied for this role")}catch(t){Qt.error("Invalid credentials")}finally{r(!1)}},className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-gray-700 text-sm",children:"Email Address"}),(0,Hr.jsx)(Lo,{type:"email",value:h.email,onChange:e=>p(d(d({},h),{},{email:e.target.value})),placeholder:"teacher@school.com",className:"h-11 mt-1 border-gray-200 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-gray-700 text-sm",children:"Password"}),(0,Hr.jsx)(Lo,{type:"password",value:h.password,onChange:e=>p(d(d({},h),{},{password:e.target.value})),placeholder:"Enter your password",className:"h-11 mt-1 border-gray-200 focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,Hr.jsx)(Io,{type:"submit",disabled:n,className:"btn-primary w-full h-12 text-base font-medium rounded-lg",children:n?(0,Hr.jsx)(ul,{className:"w-5 h-5 animate-spin"}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(gl,{className:"w-4 h-4 mr-2"}),"Login to TeachTino"]})}),(0,Hr.jsxs)("button",{type:"button",onClick:()=>m(!0),className:"w-full text-center text-sm text-blue-600 hover:text-blue-700 hover:underline flex items-center justify-center gap-1 mt-2",children:[(0,Hr.jsx)(Bh,{className:"w-3 h-3"}),"Forgot Password?"]})]}),(0,Hr.jsx)(hk,{isOpen:u,onClose:()=>m(!1),onSuccess:()=>Qt.success("Password reset! Please login.")}),(0,Hr.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:(0,Hr.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4 text-center border border-blue-100",children:[(0,Hr.jsx)(dl,{className:"w-7 h-7 text-blue-600 mx-auto mb-2"}),(0,Hr.jsx)("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Install TeachTino App"}),(0,Hr.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"Get quick access from your home screen"}),(0,Hr.jsx)(Io,{onClick:x,variant:"outline",className:"border-blue-200 text-blue-600 hover:bg-blue-50 text-sm",disabled:o,children:o?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Ah,{className:"w-4 h-4 mr-2"}),"Already Installed"]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(ey,{className:"w-4 h-4 mr-2"}),"Install Now"]})})]})}),(0,Hr.jsx)("p",{className:"text-center text-xs text-gray-500 mt-4",children:"Don't have an account? Ask your school admin to create one."})]})})]})]})]}),(0,Hr.jsx)("footer",{className:"bg-gray-900 text-white py-8 mt-0",children:(0,Hr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[(0,Hr.jsxs)("p",{className:"text-gray-300 text-sm",children:["TeachTino is part of ",(0,Hr.jsx)("span",{className:"font-semibold",children:"Schooltino"})," - Smart School Management System"]}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"+91 7879967616 | schooltino.in"})]})})]})}const gk=el("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),fk=el("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),vk=el("chevron-first",[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]]),bk=el("chevron-last",[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]]);function yk(e){let{staffId:a,staffName:s,schoolId:n,onComplete:r}=e;const[l,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)(!1),[u,m]=(0,t.useState)(null),[h,p]=(0,t.useState)({}),[x,g]=(0,t.useState)(null),[f,v]=(0,t.useState)("passport"),b=(0,t.useRef)(null),y=(0,t.useRef)(null),j=[{id:"passport",label:"Passport Photo",description:"Front facing, clear face",required:!0},{id:"front",label:"Front View",description:"Natural expression",required:!0},{id:"left",label:"Left Profile",description:"30-45 degree left turn",required:!1},{id:"right",label:"Right Profile",description:"30-45 degree right turn",required:!1}];(0,t.useEffect)(()=>(a&&N(),()=>{w()}),[a]);const N=async()=>{try{const e=await fetch("".concat("","/api/face-recognition/staff/enrollment-status/").concat(a));if(e.ok){const t=await e.json();g(t),t.photos&&p(t.photos)}}catch(e){console.error("Error fetching enrollment status:",e)}},w=()=>{u&&(u.getTracks().forEach(e=>e.stop()),m(null)),c(!1)},k=async e=>{i(!0);try{const s=await fetch("".concat("","/api/face-recognition/staff/upload-photo"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({staff_id:a,school_id:n,photo_base64:e,photo_type:f,capture_device:"webcam"})}),l=await s.json();if(l.success){Qt.success(l.message||"Photo uploaded successfully!"),p(e=>d(d({},e),{},{[f]:{id:l.photo_id,quality_score:l.quality_score}}));const e=j.findIndex(e=>e.id===f);e<j.length-1?v(j[e+1].id):(w(),Qt.success("Sabhi photos upload ho gaye! \ud83c\udf89"),null===r||void 0===r||r()),N()}else{var t;if(Qt.error(l.error||"Photo upload failed"),"retake"===l.action)Qt.info((null===(t=l.recommendations)||void 0===t?void 0:t.join(". "))||"Please try again with better lighting")}}catch(s){Qt.error("Upload failed. Please try again.")}finally{i(!1)}},S=Object.keys(h).length,_=j.filter(e=>e.required).length;Math.min(S/_*100,100);return(0,Hr.jsxs)(gb,{className:"border-blue-200",children:[(0,Hr.jsxs)(fb,{children:[(0,Hr.jsxs)(vb,{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Eh,{className:"w-5 h-5 text-blue-600"}),"Face Recognition Setup"]}),(0,Hr.jsxs)(bb,{children:[s||"Staff"," ke liye photos upload karein AI recognition ke liye"]})]}),(0,Hr.jsxs)(yb,{className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,Hr.jsx)("span",{className:"text-slate-600",children:"Enrollment Progress"}),(0,Hr.jsxs)("span",{className:"font-medium text-blue-600",children:[S,"/",j.length," photos"]})]}),(0,Hr.jsx)("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,Hr.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 transition-all duration-500",style:{width:"".concat(S/j.length*100,"%")}})})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 gap-3",children:j.map(e=>{var t;const a=h[e.id],s=f===e.id;return(0,Hr.jsxs)("div",{onClick:()=>!a&&v(e.id),className:"p-3 rounded-xl border-2 cursor-pointer transition-all ".concat(a?"border-emerald-500 bg-emerald-50":s?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"),children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Hr.jsx)("span",{className:"text-sm font-medium ".concat(a?"text-emerald-700":s?"text-blue-700":"text-slate-700"),children:e.label}),a?(0,Hr.jsx)(Gb,{className:"w-4 h-4 text-emerald-500"}):e.required?(0,Hr.jsx)("span",{className:"text-xs text-amber-600 bg-amber-50 px-1.5 py-0.5 rounded",children:"Required"}):null]}),(0,Hr.jsx)("p",{className:"text-xs text-slate-500",children:e.description}),a&&(0,Hr.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Hr.jsxs)("span",{className:"text-xs text-emerald-600",children:["Quality: ",(null===(t=h[e.id])||void 0===t?void 0:t.quality_score)||"N/A","%"]}),(0,Hr.jsx)("button",{onClick:t=>{t.stopPropagation(),(async(e,t)=>{try{(await fetch("".concat("","/api/face-recognition/staff/photo/").concat(e),{method:"DELETE"})).ok&&(Qt.success("Photo deleted"),p(e=>{const a=d({},e);return delete a[t],a}),N())}catch(a){Qt.error("Delete failed")}})(h[e.id].id,e.id)},className:"text-xs text-red-500 hover:text-red-700",children:(0,Hr.jsx)(Hh,{className:"w-3 h-3"})})]})]},e.id)})}),o?(0,Hr.jsxs)("div",{className:"space-y-3",children:[(0,Hr.jsxs)("div",{className:"relative rounded-xl overflow-hidden bg-black aspect-video",children:[(0,Hr.jsx)("video",{ref:b,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,Hr.jsx)("canvas",{ref:y,className:"hidden"}),(0,Hr.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,Hr.jsx)("div",{className:"absolute inset-0 border-4 border-dashed border-white/30 m-8 rounded-full"}),(0,Hr.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm",children:[f.replace("_"," ").toUpperCase()," - Face center mein rakhein"]})]})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{onClick:async()=>{if(!b.current||!y.current)return;const e=b.current,t=y.current;t.width=e.videoWidth,t.height=e.videoHeight;t.getContext("2d").drawImage(e,0,0);const a=t.toDataURL("image/jpeg",.8).split(",")[1];await k(a)},disabled:l,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[l?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Capture Photo"]}),(0,Hr.jsxs)(Io,{variant:"outline",onClick:w,children:[(0,Hr.jsx)(Kb,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsxs)(Io,{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"}});m(e),b.current&&(b.current.srcObject=e),c(!0)}catch(e){Qt.error("Camera access denied. Please allow camera permission."),console.error("Camera error:",e)}},className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[(0,Hr.jsx)(Eh,{className:"w-4 h-4 mr-2"}),"Open Camera"]}),(0,Hr.jsxs)("label",{className:"flex-1",children:[(0,Hr.jsx)(Io,{variant:"outline",className:"w-full",asChild:!0,children:(0,Hr.jsxs)("span",{children:[(0,Hr.jsx)(Ph,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})}),(0,Hr.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=async e=>{const t=e.target.result.split(",")[1];await k(t)},a.readAsDataURL(t)},className:"hidden"})]})]}),(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4",children:(0,Hr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Hr.jsx)(uN,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm font-medium text-indigo-800",children:"AI Face Recognition"}),(0,Hr.jsx)("p",{className:"text-xs text-indigo-600 mt-1",children:"Ye photos AI ko aapko recognize karne mein help karenge. Jab aap school mein enter karenge, AI automatically aapko greet karega!"})]})]})}),x&&(0,Hr.jsx)("div",{className:"bg-slate-50 rounded-lg p-3",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Hr.jsx)("span",{className:"text-slate-600",children:"Recognition Ready:"}),(0,Hr.jsx)("span",{className:"font-medium ".concat(x.can_use_recognition?"text-emerald-600":"text-amber-600"),children:x.can_use_recognition?"Yes \u2713":"More photos needed"})]})})]})]})}const jk="".concat("","/api"),Nk=()=>(0,Hr.jsxs)("span",{className:"inline-flex flex-col ml-1 -space-y-1 opacity-40",children:[(0,Hr.jsx)("span",{className:"text-[8px] leading-none",children:"\u25b2"}),(0,Hr.jsx)("span",{className:"text-[8px] leading-none",children:"\u25bc"})]});function wk(){const e=we(),{user:a,logout:s}=Vr(),[n,r]=(0,t.useState)(!0),[l,i]=(0,t.useState)(""),[o,c]=(0,t.useState)(1),[u,m]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[x,g]=(0,t.useState)([]),[f,v]=(0,t.useState)({present:0,absent:0,total:0}),[b,y]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),[S,_]=(0,t.useState)({leave_type:"casual",from_date:"",to_date:"",reason:""}),[C,E]=(0,t.useState)({title:"",content:""}),P="principal"===(null===a||void 0===a?void 0:a.role)||"vice_principal"===(null===a||void 0===a?void 0:a.role)||"director"===(null===a||void 0===a?void 0:a.role);(0,t.useEffect)(()=>{A()},[]);const A=async()=>{r(!0);try{var e,t;const[s,n,r]=await Promise.allSettled([zr.get("".concat(jk,"/classes?school_id=").concat(null===a||void 0===a?void 0:a.school_id)),zr.get("".concat(jk,"/notices?limit=5")),zr.get("".concat(jk,"/leave/pending"))]);"fulfilled"===s.status&&m((null===(e=s.value.data)||void 0===e?void 0:e.slice(0,6))||[]),"fulfilled"===n.status&&p((null===(t=n.value.data)||void 0===t?void 0:t.slice(0,5))||[]),"fulfilled"===r.status&&g(r.value.data||[]),v({present:42,absent:3,total:45})}catch(s){console.error("Fetch error:",s)}finally{r(!1)}};if(n)return(0,Hr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Hr.jsx)(ul,{className:"w-8 h-8 animate-spin text-blue-500"})});const T=[{label:"My Classes",value:u.length,icon:ol,subtext:"Assigned class sections",bgColor:"bg-blue-50",iconColor:"text-blue-500"},{label:"Present Today",value:f.present,icon:Gb,subtext:"Students present today",bgColor:"bg-green-50",iconColor:"text-green-500"},{label:"Absent Today",value:f.absent,icon:Kb,subtext:"Students absent today",bgColor:"bg-red-50",iconColor:"text-red-500"},{label:"Total Students",value:f.total,icon:tl,subtext:"Across all your classes",bgColor:"bg-indigo-50",iconColor:"text-indigo-500"},{label:"Pending Leaves",value:x.length,icon:Hl,subtext:"Awaiting your approval",bgColor:"bg-amber-50",iconColor:"text-amber-500"},{label:"Notices",value:h.length,icon:Ml,subtext:"Published announcements",bgColor:"bg-cyan-50",iconColor:"text-cyan-500"},{label:"Exams Scheduled",value:0,icon:Dl,subtext:"Upcoming examinations",bgColor:"bg-purple-50",iconColor:"text-purple-500"},{label:"Attendance Rate",value:f.total>0?"".concat(Math.round(f.present/f.total*100),"%"):"0%",icon:al,subtext:"Overall attendance percentage",bgColor:"bg-emerald-50",iconColor:"text-emerald-500"}],M=[{id:"smartroll",name:"SmartRoll",desc:"Automated attendance marking via biometric & AI face recognition.",icon:gk,image:"/images/smartroll.png",gradient:"from-orange-500 to-orange-600",lightBg:"bg-orange-50",iconColor:"text-orange-600",action:()=>e("/app/attendance")},{id:"papergenie",name:"PaperGenie",desc:"Generates syllabus-based question papers instantly using AI.",icon:uN,image:"/images/papergenie.png",gradient:"from-pink-500 to-pink-600",lightBg:"bg-pink-50",iconColor:"text-pink-600",action:()=>e("/app/ai-paper")},{id:"classtino",name:"ClassTino",desc:"View & manage your assigned classes and schedules.",icon:ol,image:"/images/classtino.png",gradient:"from-emerald-500 to-emerald-600",lightBg:"bg-emerald-50",iconColor:"text-emerald-600",action:()=>e("/app/classes")},{id:"examtino",name:"ExamTino",desc:"Exam management, report cards & result processing.",icon:Dl,image:"/images/examtino.png",gradient:"from-purple-500 to-purple-600",lightBg:"bg-purple-50",iconColor:"text-purple-600",action:()=>e("/app/exam-report")},{id:"tinoai",name:"TinoAI",desc:"AI Command Center - voice assistant & smart automation.",icon:il,image:"/images/tinoai.png",gradient:"from-violet-500 to-violet-600",lightBg:"bg-violet-50",iconColor:"text-violet-600",action:()=>e("/app/tino-ai")},{id:"noticeboard",name:"NoticeBoard",desc:"Send announcements & notices to students and parents.",icon:Ml,image:"/images/noticeboard.png",gradient:"from-blue-500 to-blue-600",lightBg:"bg-blue-50",iconColor:"text-blue-600",action:()=>N(!0)}],D=[{icon:gk,label:"Mark Attendance",desc:"Daily attendance tracking",action:()=>e("/app/attendance")},{icon:uN,label:"AI Paper Generator",desc:"Auto generate papers",action:()=>e("/app/ai-paper")},{icon:Ml,label:"Send Notice",desc:"Send announcements",action:()=>N(!0)},{icon:Hl,label:"Apply Leave",desc:"Submit leave application",action:()=>y(!0)},{icon:ol,label:"My Classes",desc:"View assigned classes",action:()=>e("/app/classes")},{icon:il,label:"Tino AI",desc:"AI Assistant",action:()=>e("/app/tino-ai")},{icon:Dl,label:"Exam Reports",desc:"View exam results",action:()=>e("/app/exam-report")},{icon:Rh,label:"My Profile",desc:"Profile & Settings",action:()=>k(!0)}].filter(e=>{if(!l)return!0;const t=l.toLowerCase();return e.label.toLowerCase().includes(t)||e.desc.toLowerCase().includes(t)}),R=Math.ceil(D.length/5),I=5*(o-1),O=D.slice(I,I+5);return(0,Hr.jsxs)("div",{className:"min-h-screen bg-gray-50","data-testid":"teachtino-dashboard",children:[(0,Hr.jsxs)("header",{className:"bg-white sticky top-0 z-40 shadow-sm",children:[(0,Hr.jsx)("div",{className:"h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),(0,Hr.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-3",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-sm",children:(0,Hr.jsx)(cl,{className:"w-6 h-6 text-white"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"font-bold text-gray-800",children:"TeachTino"}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400",children:null===a||void 0===a?void 0:a.name})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>k(!0),className:"text-gray-600 hover:bg-gray-100",children:(0,Hr.jsx)(Cl,{className:"w-5 h-5"})}),(0,Hr.jsx)(Io,{variant:"ghost",size:"sm",onClick:()=>{s(),e("/teachtino")},className:"text-red-600 hover:bg-red-50",children:(0,Hr.jsx)(zh,{className:"w-5 h-5"})})]})]})})]}),(0,Hr.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-5 pb-24 space-y-6",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Hr.jsxs)("button",{className:"flex items-center gap-1.5 px-3.5 py-1.5 bg-blue-500 text-white rounded-lg text-xs font-medium hover:bg-blue-600 transition-colors shadow-sm",children:[(0,Hr.jsx)(fk,{className:"w-3.5 h-3.5"}),"Home"]}),(0,Hr.jsx)("span",{className:"text-gray-400",children:"\u203a"}),(0,Hr.jsx)("span",{className:"text-gray-500 text-xs",children:"Teacher Dashboard"})]}),(0,Hr.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-100",children:[(0,Hr.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Welcome back, ",(null===a||void 0===a?void 0:a.name)||"Teacher","!"]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Teacher Dashboard"})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:T.map((e,t)=>(0,Hr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[(0,Hr.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Hr.jsx)("span",{className:"text-sm text-slate-500 font-medium",children:e.label}),(0,Hr.jsx)("div",{className:"w-8 h-8 ".concat(e.bgColor," rounded-lg flex items-center justify-center"),children:(0,Hr.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.iconColor)})})]}),(0,Hr.jsx)("div",{className:"text-2xl font-bold text-slate-800 mb-1",children:e.value}),(0,Hr.jsx)("div",{className:"text-xs text-slate-400",children:e.subtext})]},t))}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"mb-4",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Key Features"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Powerful tools designed to enhance your teaching experience."})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-5",children:M.map(e=>(0,Hr.jsxs)("div",{onClick:e.action,className:"group cursor-pointer bg-white rounded-xl border border-gray-200 p-4 shadow-sm hover:shadow-md hover:scale-[1.02] transition-all duration-300",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 ".concat(e.lightBg," rounded-xl flex items-center justify-center mb-3"),children:(0,Hr.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.iconColor)})}),(0,Hr.jsx)("h3",{className:"font-bold text-gray-900 text-sm mb-1",children:e.name}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 leading-relaxed line-clamp-2",children:e.desc})]},e.id))})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,Hr.jsx)("div",{className:"px-5 pt-5 pb-4",children:(0,Hr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:'List of actions available. Use the "Open" button to navigate.'})]}),(0,Hr.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Hr.jsx)("input",{type:"text",placeholder:"Search keyword",value:l,onChange:e=>{i(e.target.value),c(1)},className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-blue-400 w-full sm:w-56 text-gray-700 bg-white"})]})]})}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Module Name ",(0,Hr.jsx)(Nk,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Description ",(0,Hr.jsx)(Nk,{})]}),(0,Hr.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Action"})]})}),(0,Hr.jsx)("tbody",{children:O.map((e,t)=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,Hr.jsx)("td",{className:"px-5 py-3.5",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)(e.icon,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),(0,Hr.jsx)("span",{className:"text-sm text-gray-800",children:e.label})]})}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 hidden sm:table-cell",children:(0,Hr.jsx)("span",{className:"text-sm text-gray-500",children:e.desc})}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-right",children:(0,Hr.jsx)("button",{onClick:e.action,className:"px-5 py-1.5 bg-blue-500 text-white text-xs font-medium rounded hover:bg-blue-600 transition-colors",children:"Open"})})]},t))})]})}),(0,Hr.jsxs)("div",{className:"px-5 py-3 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-2",children:[(0,Hr.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",I+1," to ",Math.min(I+5,D.length)," of ",D.length]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Hr.jsx)("button",{onClick:()=>c(1),disabled:1===o,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Hr.jsx)(vk,{className:"w-4 h-4"})}),(0,Hr.jsx)("button",{onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===o,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Hr.jsx)(hN,{className:"w-4 h-4"})}),(()=>{const e=[];let t=Math.max(1,o-Math.floor(2.5)),a=Math.min(R,t+5-1);a-t+1<5&&(t=Math.max(1,a-5+1));for(let s=t;s<=a;s++)e.push(s);return e})().map(e=>(0,Hr.jsx)("button",{onClick:()=>c(e),className:"w-8 h-8 flex items-center justify-center rounded text-sm font-medium transition-colors ".concat(o===e?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"),children:e},e)),(0,Hr.jsx)("button",{onClick:()=>c(e=>Math.min(R,e+1)),disabled:o===R,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Hr.jsx)(Yl,{className:"w-4 h-4"})}),(0,Hr.jsx)("button",{onClick:()=>c(R),disabled:o===R,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Hr.jsx)(bk,{className:"w-4 h-4"})})]})]})]}),P&&x.length>0&&(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Pending Leave Approvals"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Staff leave requests awaiting your approval."})]}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Staff Name ",(0,Hr.jsx)(Nk,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Type ",(0,Hr.jsx)(Nk,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden md:table-cell whitespace-nowrap",children:["Reason ",(0,Hr.jsx)(Nk,{})]}),(0,Hr.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Action"})]})}),(0,Hr.jsx)("tbody",{children:x.slice(0,5).map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:e.user_name||"Staff"}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell capitalize",children:e.leave_type}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden md:table-cell",children:e.reason}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-right",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,Hr.jsx)("button",{onClick:()=>(async e=>{try{await zr.post("".concat(jk,"/leave/").concat(e,"/approve")),Qt.success("Leave approved!"),A()}catch(t){Qt.error("Failed to approve")}})(e.id),className:"px-4 py-1.5 bg-green-500 text-white text-xs font-medium rounded hover:bg-green-600 transition-colors",children:"Approve"}),(0,Hr.jsx)("button",{onClick:()=>(async e=>{try{await zr.post("".concat(jk,"/leave/").concat(e,"/reject")),Qt.success("Leave rejected"),A()}catch(t){Qt.error("Failed to reject")}})(e.id),className:"px-4 py-1.5 bg-red-500 text-white text-xs font-medium rounded hover:bg-red-600 transition-colors",children:"Reject"})]})})]},e.id))})]})})]}),h.length>0&&(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Notices"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Latest announcements and notices."})]}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Title ",(0,Hr.jsx)(Nk,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Content ",(0,Hr.jsx)(Nk,{})]})]})}),(0,Hr.jsx)("tbody",{children:h.map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:e.title}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell line-clamp-1",children:e.content})]},e.id))})]})})]})]}),(0,Hr.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white z-50 shadow-[0_-2px_10px_rgba(0,0,0,0.05)]",children:(0,Hr.jsx)("div",{className:"grid grid-cols-5 gap-1 p-2 max-w-lg mx-auto",children:[{icon:fk,label:"Home",active:!0,action:()=>{}},{icon:ol,label:"Classes",action:()=>e("/app/classes")},{icon:gk,label:"Attendance",action:()=>e("/app/attendance")},{icon:Ml,label:"Notices",action:()=>e("/app/notices")},{icon:il,label:"Tino AI",action:()=>e("/app/tino-ai")}].map((e,t)=>(0,Hr.jsxs)("button",{onClick:e.action,className:"flex flex-col items-center gap-1 p-2 rounded-lg ".concat(e.active?"text-blue-600 bg-blue-50":"text-gray-600"),children:[(0,Hr.jsx)(e.icon,{className:"w-5 h-5"}),(0,Hr.jsx)("span",{className:"text-xs",children:e.label})]},t))})}),(0,Hr.jsx)(Gu,{open:b,onOpenChange:y,children:(0,Hr.jsxs)($u,{className:"bg-white rounded-xl",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100 pb-3",children:(0,Hr.jsx)(Xu,{className:"text-base font-semibold text-gray-800",children:"Apply for Leave"})}),(0,Hr.jsxs)("div",{className:"space-y-4 py-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Leave Type"}),(0,Hr.jsxs)("select",{value:S.leave_type,onChange:e=>_(d(d({},S),{},{leave_type:e.target.value})),className:"w-full mt-2 p-2 border border-gray-200 rounded-lg text-gray-700 focus:outline-none focus:border-blue-500",children:[(0,Hr.jsx)("option",{value:"casual",children:"Casual Leave"}),(0,Hr.jsx)("option",{value:"sick",children:"Sick Leave"}),(0,Hr.jsx)("option",{value:"earned",children:"Earned Leave"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"From Date"}),(0,Hr.jsx)(Lo,{type:"date",value:S.from_date,onChange:e=>_(d(d({},S),{},{from_date:e.target.value})),className:"mt-2 border-gray-200"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"To Date"}),(0,Hr.jsx)(Lo,{type:"date",value:S.to_date,onChange:e=>_(d(d({},S),{},{to_date:e.target.value})),className:"mt-2 border-gray-200"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Reason"}),(0,Hr.jsx)(Oy,{value:S.reason,onChange:e=>_(d(d({},S),{},{reason:e.target.value})),placeholder:"Enter reason for leave...",className:"mt-2 border-gray-200"})]}),(0,Hr.jsx)(Io,{className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",onClick:async()=>{if(S.from_date&&S.to_date&&S.reason)try{await zr.post("".concat(jk,"/leave/apply"),d(d({},S),{},{school_id:null===a||void 0===a?void 0:a.school_id})),Qt.success("Leave applied successfully!"),y(!1),_({leave_type:"casual",from_date:"",to_date:"",reason:""})}catch(e){Qt.error("Failed to apply leave")}else Qt.error("Please fill all fields")},children:"Submit Application"})]})]})}),(0,Hr.jsx)(Gu,{open:j,onOpenChange:N,children:(0,Hr.jsxs)($u,{className:"bg-white rounded-xl",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100 pb-3",children:(0,Hr.jsx)(Xu,{className:"text-base font-semibold text-gray-800",children:"Send Notice"})}),(0,Hr.jsxs)("div",{className:"space-y-4 py-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),(0,Hr.jsx)(Lo,{value:C.title,onChange:e=>E(d(d({},C),{},{title:e.target.value})),placeholder:"Notice title...",className:"mt-2 border-gray-200"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Content"}),(0,Hr.jsx)(Oy,{value:C.content,onChange:e=>E(d(d({},C),{},{content:e.target.value})),placeholder:"Notice content...",rows:4,className:"mt-2 border-gray-200"})]}),(0,Hr.jsxs)(Io,{className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",onClick:async()=>{if(C.title&&C.content)try{await zr.post("".concat(jk,"/notices"),d(d({},C),{},{target_audience:["students","parents"],priority:"normal",school_id:null===a||void 0===a?void 0:a.school_id})),Qt.success("Notice sent!"),N(!1),E({title:"",content:""}),A()}catch(e){Qt.error("Failed to send notice")}else Qt.error("Please fill all fields")},children:[(0,Hr.jsx)(Bj,{className:"w-4 h-4 mr-2"})," Send Notice"]})]})]})}),(0,Hr.jsx)(Gu,{open:w,onOpenChange:k,children:(0,Hr.jsxs)($u,{className:"max-w-md bg-white rounded-xl",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100 pb-3",children:(0,Hr.jsx)(Xu,{className:"text-base font-semibold text-gray-800",children:"Profile & Settings"})}),(0,Hr.jsxs)("div",{className:"space-y-4 py-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:(0,Hr.jsx)(Rh,{className:"w-8 h-8 text-blue-500"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-gray-800",children:null===a||void 0===a?void 0:a.name}),(0,Hr.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:null===a||void 0===a?void 0:a.email}),(0,Hr.jsx)(Ry,{className:"mt-2 capitalize bg-blue-50 text-blue-600 border border-blue-100",children:null===a||void 0===a?void 0:a.role})]})]}),(0,Hr.jsxs)("div",{className:"border-t border-gray-100 pt-4",children:[(0,Hr.jsxs)("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"bg-blue-50 p-1 rounded",children:(0,Hr.jsx)(Eh,{className:"w-4 h-4 text-blue-500"})}),"Face Recognition Setup"]}),(0,Hr.jsx)(yk,{userId:null===a||void 0===a?void 0:a.id,schoolId:null===a||void 0===a?void 0:a.school_id})]})]})]})})]})}const kk=el("id-card",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]),Sk=el("log-in",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);function _k(){const{i18n:e}=bs(),a=we(),{login:s}=Vr(),n="hi"===e.language,[r,l]=(0,t.useState)("student"),[i,o]=(0,t.useState)("id"),[c,u]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),[p,x]=(0,t.useState)({student_id:"",parent_id:"",mobile:"",password:"",dob:""});return(0,Hr.jsxs)("div",{className:"min-h-screen gradient-hero flex flex-col",children:[(0,Hr.jsx)("nav",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20 px-6 py-4",children:(0,Hr.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center",children:(0,Hr.jsx)(ol,{className:"w-6 h-6 text-white"})}),(0,Hr.jsx)("h1",{className:"text-xl font-bold text-white",children:"StudyTino"})]}),(0,Hr.jsxs)("button",{onClick:()=>a("/login"),className:"text-white/80 hover:text-white text-sm font-medium transition-colors flex items-center gap-2",children:["\u2190 ",n?"Schooltino par wapas jaayen":"Back to Schooltino"]})]})}),(0,Hr.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:(0,Hr.jsxs)("div",{className:"max-w-7xl w-full grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Hr.jsxs)("div",{className:"text-white animate-slide-up",children:[(0,Hr.jsxs)("h2",{className:"text-4xl font-bold mb-4",children:[n?"\u0906\u092a\u0915\u0947 \u092c\u091a\u094d\u091a\u0947 \u0915\u0940 \u092a\u0922\u093c\u093e\u0908":"Your Child's Learning",(0,Hr.jsx)("br",{}),(0,Hr.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-blue-200",children:n?"\u090f\u0915 \u0928\u091c\u093c\u0930 \u092e\u0947\u0902":"At a Glance"})]}),(0,Hr.jsx)("p",{className:"text-lg text-white/80 mb-8 leading-relaxed",children:n?"StudyTino \u091b\u093e\u0924\u094d\u0930\u094b\u0902 \u0914\u0930 \u0905\u092d\u093f\u092d\u093e\u0935\u0915\u094b\u0902 \u0915\u094b \u0938\u094d\u0915\u0942\u0932 \u0915\u0940 \u0938\u092d\u0940 \u091c\u093e\u0928\u0915\u093e\u0930\u0940 \u090f\u0915 \u0939\u0940 \u091c\u0917\u0939 \u092a\u0930 \u0926\u0947\u0924\u093e \u0939\u0948\u0964 \u0939\u094b\u092e\u0935\u0930\u094d\u0915, \u092a\u0930\u0940\u0915\u094d\u0937\u093e \u092a\u0930\u093f\u0923\u093e\u092e, \u0909\u092a\u0938\u094d\u0925\u093f\u0924\u093f, \u0914\u0930 \u092c\u0939\u0941\u0924 \u0915\u0941\u091b\u0964":"StudyTino gives students and parents access to all school information in one place. Homework, exam results, attendance, and more."}),(0,Hr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 gradient-card-blue rounded-lg flex items-center justify-center mb-3",children:(0,Hr.jsx)(cl,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("h3",{className:"font-semibold text-white mb-1 text-sm",children:n?"\u092a\u0922\u093c\u093e\u0908 \u0915\u0940 \u092a\u094d\u0930\u0917\u0924\u093f":"Learning Progress"}),(0,Hr.jsx)("p",{className:"text-xs text-white/70",children:n?"\u092a\u0930\u0940\u0915\u094d\u0937\u093e \u092a\u0930\u093f\u0923\u093e\u092e \u0914\u0930 \u0939\u094b\u092e\u0935\u0930\u094d\u0915":"Exam results & homework"})]}),(0,Hr.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 gradient-card-blue rounded-lg flex items-center justify-center mb-3",children:(0,Hr.jsx)(uy,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("h3",{className:"font-semibold text-white mb-1 text-sm",children:n?"\u0905\u092d\u093f\u092d\u093e\u0935\u0915 \u091c\u0941\u0921\u093c\u093e\u0935":"Parent Connect"}),(0,Hr.jsx)("p",{className:"text-xs text-white/70",children:n?"\u0938\u092d\u0940 \u092c\u091a\u094d\u091a\u094b\u0902 \u0915\u0940 \u091c\u093e\u0928\u0915\u093e\u0930\u0940":"All children's info"})]}),(0,Hr.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 gradient-card-blue rounded-lg flex items-center justify-center mb-3",children:(0,Hr.jsx)(tl,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("h3",{className:"font-semibold text-white mb-1 text-sm",children:n?"\u0909\u092a\u0938\u094d\u0925\u093f\u0924\u093f \u091f\u094d\u0930\u0948\u0915\u093f\u0902\u0917":"Attendance Track"}),(0,Hr.jsx)("p",{className:"text-xs text-white/70",children:n?"\u0926\u0948\u0928\u093f\u0915 \u0905\u092a\u0921\u0947\u091f":"Daily updates"})]}),(0,Hr.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/15 transition-all",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 gradient-card-blue rounded-lg flex items-center justify-center mb-3",children:(0,Hr.jsx)(ol,{className:"w-5 h-5 text-white"})}),(0,Hr.jsx)("h3",{className:"font-semibold text-white mb-1 text-sm",children:n?"\u0936\u0948\u0915\u094d\u0937\u0923\u093f\u0915 \u0938\u093e\u092e\u0917\u094d\u0930\u0940":"Academic Content"}),(0,Hr.jsx)("p",{className:"text-xs text-white/70",children:n?"\u0915\u0915\u094d\u0937\u093e \u0915\u093e \u0915\u093e\u092e":"Class materials"})]})]})]}),(0,Hr.jsx)("div",{className:"animate-fade-in",children:(0,Hr.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8 border border-white/20",children:[(0,Hr.jsxs)("div",{className:"flex gap-3 mb-8",children:[(0,Hr.jsxs)("button",{onClick:()=>{l("student"),o("id"),x(d(d({},p),{},{student_id:"",parent_id:"",mobile:"",password:"",dob:""}))},className:"flex-1 p-4 rounded-xl border transition-all ".concat("student"===r?"bg-gradient-to-r from-blue-500 to-purple-600 border-transparent text-white":"border-gray-200 bg-white/50 text-gray-600 hover:bg-white/70"),children:[(0,Hr.jsx)(cl,{className:"w-5 h-5 mx-auto mb-1.5"}),(0,Hr.jsx)("p",{className:"font-medium text-sm",children:"Student"})]}),(0,Hr.jsxs)("button",{onClick:()=>{l("parent"),o("mobile"),x(d(d({},p),{},{student_id:"",parent_id:"",mobile:"",password:"",dob:""}))},className:"flex-1 p-4 rounded-xl border transition-all ".concat("parent"===r?"bg-gradient-to-r from-blue-500 to-purple-600 border-transparent text-white":"border-gray-200 bg-white/50 text-gray-600 hover:bg-white/70"),children:[(0,Hr.jsx)(uy,{className:"w-5 h-5 mx-auto mb-1.5"}),(0,Hr.jsx)("p",{className:"font-medium text-sm",children:"Parent"})]})]}),(0,Hr.jsxs)("div",{className:"mb-6",children:[(0,Hr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2 mb-1",children:"student"===r?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(cl,{className:"w-5 h-5 text-blue-500"})," ","Student Login"]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(uy,{className:"w-5 h-5 text-blue-500"})," ","Parent Login"]})}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500",children:"student"===r?n?"Student ID ya Mobile se login kijiye":"Login with Student ID or Mobile":n?"Parent ID ya Mobile se login kijiye":"Login with Parent ID or Mobile"})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,Hr.jsxs)(Io,{type:"button",variant:"id"===i?"default":"outline",className:"flex-1 ".concat("id"===i?"bg-blue-500 hover:bg-blue-600 text-white":"border-gray-200 text-gray-600"),onClick:()=>o("id"),children:[(0,Hr.jsx)(kk,{className:"w-4 h-4 mr-2"}),"student"===r?"Student ID":"Parent ID"]}),(0,Hr.jsxs)(Io,{type:"button",variant:"mobile"===i?"default":"outline",className:"flex-1 ".concat("mobile"===i?"bg-blue-500 hover:bg-blue-600 text-white":"border-gray-200 text-gray-600"),onClick:()=>o("mobile"),children:[(0,Hr.jsx)(vy,{className:"w-4 h-4 mr-2"}),"Mobile"]})]}),(0,Hr.jsxs)("form",{onSubmit:"student"===r?async e=>{if(e.preventDefault(),"id"!==i||p.student_id)if("mobile"!==i||p.mobile)if("id"!==i||p.password)if("mobile"!==i||p.dob){h(!0);try{const e="id"===i?{student_id:p.student_id,password:p.password}:{mobile:p.mobile,dob:p.dob},t=await zr.post("".concat("","/api/students/login"),e);t.data.access_token&&(localStorage.setItem("token",t.data.access_token),localStorage.setItem("user",JSON.stringify(t.data.student)),Qt.success("Login successful!"),a("/student-dashboard"))}catch(r){var t,s;Qt.error((null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Login failed")}finally{h(!1)}}else Qt.error(n?"Date of Birth enter kijiye":"Enter Date of Birth");else Qt.error(n?"Password enter kijiye":"Enter Password");else Qt.error(n?"Mobile Number enter kijiye":"Enter Mobile Number");else Qt.error(n?"Student ID enter kijiye":"Enter Student ID")}:async e=>{if(e.preventDefault(),"id"!==i||p.parent_id)if("mobile"!==i||p.mobile)if(p.password){h(!0);try{const e=await zr.post("".concat("","/api/parent/login"),{mobile:"mobile"===i?p.mobile:null,parent_id:"id"===i?p.parent_id:null,password:p.password});e.data.success&&(localStorage.setItem("parent_token",e.data.token),localStorage.setItem("parent_data",JSON.stringify(e.data.parent)),Qt.success("Login successful!"),a("/parent-portal"))}catch(r){var t,s;Qt.error((null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Login failed")}finally{h(!1)}}else Qt.error(n?"Password enter kijiye":"Enter Password");else Qt.error(n?"Mobile Number enter kijiye":"Enter Mobile Number");else Qt.error(n?"Parent ID enter kijiye":"Enter Parent ID")},className:"space-y-4",children:["id"===i&&(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-sm font-medium text-gray-700",children:"student"===r?"Student ID":"Parent ID"}),(0,Hr.jsxs)("div",{className:"relative mt-2",children:[(0,Hr.jsx)(kk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Hr.jsx)(Lo,{value:"student"===r?p.student_id:p.parent_id,onChange:e=>x(d(d({},p),{},{["student"===r?"student_id":"parent_id"]:e.target.value})),placeholder:"student"===r?"STU-2026-00001":"PAR-2026-00001",className:"pl-10 h-11 border-gray-200 focus:border-blue-500"})]})]}),"mobile"===i&&(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-sm font-medium text-gray-700",children:"Mobile Number"}),(0,Hr.jsxs)("div",{className:"relative mt-2",children:[(0,Hr.jsx)(vy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Hr.jsx)(Lo,{type:"tel",value:p.mobile,onChange:e=>x(d(d({},p),{},{mobile:e.target.value})),placeholder:"9876543210",className:"pl-10 h-11 border-gray-200 focus:border-blue-500",maxLength:10})]})]}),("parent"===r||"id"===i)&&(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-sm font-medium text-gray-700",children:"Password"}),(0,Hr.jsxs)("div",{className:"relative mt-2",children:[(0,Hr.jsx)(gl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Hr.jsx)(Lo,{type:c?"text":"password",value:p.password,onChange:e=>x(d(d({},p),{},{password:e.target.value})),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"pl-10 pr-10 h-11 border-gray-200 focus:border-blue-500"}),(0,Hr.jsx)("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?(0,Hr.jsx)(pl,{className:"w-4 h-4"}):(0,Hr.jsx)(xl,{className:"w-4 h-4"})})]})]}),"student"===r&&"mobile"===i&&(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-sm font-medium text-gray-700",children:"Date of Birth"}),(0,Hr.jsx)(Lo,{type:"date",value:p.dob,onChange:e=>x(d(d({},p),{},{dob:e.target.value})),className:"h-11 mt-2 border-gray-200 focus:border-blue-500"})]}),(0,Hr.jsxs)(Io,{type:"submit",className:"btn-primary w-full h-11 mt-2",disabled:m,children:[m?(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin mr-2"}):(0,Hr.jsx)(Sk,{className:"w-4 h-4 mr-2"}),"Login"]})]}),(0,Hr.jsx)("p",{className:"text-center text-xs text-gray-500 mt-5",children:n?"Password school se mila hai. Forgot? Contact school.":"Password provided by school. Forgot? Contact school."})]})})]})}),(0,Hr.jsx)("footer",{className:"bg-white/10 backdrop-blur-sm border-t border-white/20 py-6 mt-auto",children:(0,Hr.jsx)("div",{className:"max-w-7xl mx-auto px-6 text-center",children:(0,Hr.jsxs)("p",{className:"text-white/70 text-sm",children:["StudyTino ",n?"Schooltino \u0915\u093e \u0939\u093f\u0938\u094d\u0938\u093e \u0939\u0948":"is part of"," Schooltino - ",n?"\u0938\u094d\u092e\u093e\u0930\u094d\u091f \u0938\u094d\u0915\u0942\u0932 \u092a\u094d\u0930\u092c\u0902\u0927\u0928 \u092a\u094d\u0930\u0923\u093e\u0932\u0940":"Smart School Management System"]})})})]})}const Ck=el("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]),Ek=el("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Pk=el("arrow-down-left",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]),Ak=el("store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),Tk=e=>{var t,a,s,n,r,l,i,o,c,d,u,m,h,p,x,g,f,v,b;let{data:y}=e;return y?(0,Hr.jsxs)("div",{className:"p-8 max-w-2xl mx-auto bg-white",style:{fontFamily:"Arial, sans-serif"},children:[(0,Hr.jsxs)("div",{className:"text-center border-b-2 border-gray-800 pb-4 mb-4",children:[(0,Hr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:null===(t=y.school)||void 0===t?void 0:t.name}),(0,Hr.jsx)("p",{className:"text-sm text-gray-600",children:null===(a=y.school)||void 0===a?void 0:a.address}),(0,Hr.jsxs)("p",{className:"text-sm text-gray-600",children:["Phone: ",null===(s=y.school)||void 0===s?void 0:s.phone]})]}),(0,Hr.jsxs)("div",{className:"text-center bg-indigo-600 text-white py-2 mb-4",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold",children:"ADMIT CARD / \u092a\u094d\u0930\u0935\u0947\u0936 \u092a\u0924\u094d\u0930"}),(0,Hr.jsxs)("p",{className:"text-sm",children:[null===(n=y.exam)||void 0===n?void 0:n.name," - ",null===(r=y.exam)||void 0===r?void 0:r.type]})]}),(0,Hr.jsxs)("div",{className:"flex gap-6 mb-6",children:[(0,Hr.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,Hr.jsxs)("div",{className:"flex",children:[(0,Hr.jsx)("span",{className:"w-32 font-medium",children:"Name / \u0928\u093e\u092e:"}),(0,Hr.jsx)("span",{className:"font-bold",children:null===(l=y.student)||void 0===l?void 0:l.name})]}),(0,Hr.jsxs)("div",{className:"flex",children:[(0,Hr.jsx)("span",{className:"w-32 font-medium",children:"Father's Name:"}),(0,Hr.jsx)("span",{children:null===(i=y.student)||void 0===i?void 0:i.father_name})]}),(0,Hr.jsxs)("div",{className:"flex",children:[(0,Hr.jsx)("span",{className:"w-32 font-medium",children:"Roll No:"}),(0,Hr.jsx)("span",{className:"font-bold",children:null===(o=y.student)||void 0===o?void 0:o.roll_no})]}),(0,Hr.jsxs)("div",{className:"flex",children:[(0,Hr.jsx)("span",{className:"w-32 font-medium",children:"Class:"}),(0,Hr.jsxs)("span",{children:[null===(c=y.student)||void 0===c?void 0:c.class," ",null===(d=y.student)||void 0===d?void 0:d.section]})]}),(0,Hr.jsxs)("div",{className:"flex",children:[(0,Hr.jsx)("span",{className:"w-32 font-medium",children:"DOB:"}),(0,Hr.jsx)("span",{children:null===(u=y.student)||void 0===u?void 0:u.dob})]})]}),(0,Hr.jsx)("div",{className:"w-32 h-40 border-2 border-gray-300 flex items-center justify-center",children:null!==(m=y.student)&&void 0!==m&&m.photo_url?(0,Hr.jsx)("img",{src:y.student.photo_url,alt:"Student",className:"w-full h-full object-cover"}):(0,Hr.jsx)("span",{className:"text-gray-400 text-xs text-center",children:"Photo"})})]}),(0,Hr.jsxs)("div",{className:"mb-6",children:[(0,Hr.jsx)("h3",{className:"font-bold text-gray-900 mb-2 border-b pb-1",children:"Exam Schedule / \u092a\u0930\u0940\u0915\u094d\u0937\u093e \u0938\u092e\u092f \u0938\u093e\u0930\u093f\u0923\u0940"}),(0,Hr.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("span",{className:"text-gray-600",children:"Start Date:"}),(0,Hr.jsx)("span",{className:"ml-2 font-medium",children:null===(h=y.exam)||void 0===h?void 0:h.start_date})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("span",{className:"text-gray-600",children:"End Date:"}),(0,Hr.jsx)("span",{className:"ml-2 font-medium",children:null===(p=y.exam)||void 0===p?void 0:p.end_date})]})]})]}),(0,Hr.jsxs)("div",{className:"mb-6",children:[(0,Hr.jsx)("h3",{className:"font-bold text-gray-900 mb-2 border-b pb-1",children:"Instructions / \u0928\u093f\u0930\u094d\u0926\u0947\u0936"}),(0,Hr.jsx)("ol",{className:"text-sm list-decimal list-inside space-y-1",children:null===(x=y.exam)||void 0===x||null===(g=x.instructions)||void 0===g?void 0:g.map((e,t)=>(0,Hr.jsx)("li",{children:e},t))})]}),(0,Hr.jsxs)("div",{className:"flex justify-between items-end mt-8 pt-4 border-t",children:[(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("div",{className:"w-32 h-16 border-b border-gray-400 mb-1"}),(0,Hr.jsx)("p",{className:"text-xs",children:"Student's Signature"})]}),(0,Hr.jsxs)("div",{className:"text-center",children:[(null===(f=y.seal)||void 0===f?void 0:f.image_url)&&(0,Hr.jsx)("img",{src:y.seal.image_url,alt:"Seal",className:"w-20 h-20 mx-auto"}),(0,Hr.jsx)("p",{className:"text-xs",children:"School Seal"})]}),(0,Hr.jsxs)("div",{className:"text-center",children:[(null===(v=y.signature)||void 0===v?void 0:v.image_url)&&(0,Hr.jsx)("img",{src:y.signature.image_url,alt:"Signature",className:"w-24 h-12 mx-auto"}),(0,Hr.jsx)("div",{className:"w-32 h-16 border-b border-gray-400 mb-1"}),(0,Hr.jsx)("p",{className:"text-xs",children:"director"===(null===(b=y.signature)||void 0===b?void 0:b.authority)?"Director":"Principal"})]})]}),(0,Hr.jsxs)("div",{className:"text-center mt-4 text-xs text-gray-500",children:["Admit Card No: ",y.admit_card_no," | Generated: ",new Date(y.generated_at).toLocaleString()]})]}):null},Mk=e=>{var a,s,n;let{studentId:r,schoolId:l,profile:i}=e;const o=l||(null===i||void 0===i?void 0:i.school_id)||(null===i||void 0===i?void 0:i.schoolId),[c,u]=(0,t.useState)([]),[m,h]=(0,t.useState)(!0),[p,x]=(0,t.useState)(null),[g,f]=(0,t.useState)(!1),[v,b]=(0,t.useState)(0),[y,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)(null);(0,t.useRef)();(0,t.useEffect)(()=>{r&&o?k():(h(!1),r?o||w("School ID \u0928\u0939\u0940\u0902 \u092e\u093f\u0932\u0940"):w("Student ID \u0928\u0939\u0940\u0902 \u092e\u093f\u0932\u0940"))},[r,o]);const k=async()=>{h(!0),w(null);try{const e=((await zr.get("".concat("","/api/admit-card/student/my-admit-cards/").concat(r,"?school_id=").concat(o))).data.admit_cards||[]).map(e=>d(d({},e),{},{is_eligible:void 0!==e.is_eligible?e.is_eligible:e.eligible_to_download,is_generated:e.is_generated||!1}));u(e)}catch(Jk){console.error("Error fetching admit cards:",Jk),w("Admit cards load \u0928\u0939\u0940\u0902 \u0939\u094b \u092a\u093e\u090f\u0964 \u0936\u093e\u092f\u0926 \u0905\u092d\u0940 \u0915\u094b\u0908 exam \u0928\u0939\u0940\u0902 \u0939\u0948\u0964")}finally{h(!1)}};return m?(0,Hr.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,Hr.jsx)("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),(0,Hr.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}):N?(0,Hr.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 text-center",children:[(0,Hr.jsx)(By,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),(0,Hr.jsx)("p",{className:"text-amber-800 font-medium",children:N}),(0,Hr.jsx)("p",{className:"text-sm text-amber-600 mt-2",children:"Admin \u0938\u0947 \u0938\u0902\u092a\u0930\u094d\u0915 \u0915\u0930\u0947\u0902 \u092f\u093e \u092c\u093e\u0926 \u092e\u0947\u0902 try \u0915\u0930\u0947\u0902"})]}):(0,Hr.jsxs)("div",{className:"space-y-6",children:[(0,Hr.jsx)("div",{className:"flex items-center justify-between",children:(0,Hr.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,Hr.jsx)(Dl,{className:"w-6 h-6 text-indigo-600"}),"Admit Cards / \u092a\u094d\u0930\u0935\u0947\u0936 \u092a\u0924\u094d\u0930"]})}),0===c.length?(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[(0,Hr.jsx)(Dl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Hr.jsx)("p",{className:"text-gray-600",children:"\u0915\u094b\u0908 Admit Card \u0909\u092a\u0932\u092c\u094d\u0927 \u0928\u0939\u0940\u0902 \u0939\u0948"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"\u091c\u092c exam schedule \u0939\u094b\u0917\u0940, admit card \u092f\u0939\u093e\u0901 \u0926\u093f\u0916\u0947\u0917\u093e"})]}):(0,Hr.jsx)("div",{className:"grid gap-4",children:c.map(e=>(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border-2 overflow-hidden ".concat(e.is_eligible?"border-green-200":"border-amber-200"),children:[(0,Hr.jsx)("div",{className:"px-4 py-3 ".concat(e.is_eligible?"bg-green-50":"bg-amber-50"),children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(e.is_eligible?"bg-green-500":"bg-amber-500"),children:e.is_eligible?(0,Hr.jsx)(Gb,{className:"w-5 h-5 text-white"}):(0,Hr.jsx)(gl,{className:"w-5 h-5 text-white"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900",children:e.exam_name}),(0,Hr.jsx)("p",{className:"text-sm text-gray-600",children:e.exam_type})]})]}),(0,Hr.jsx)("div",{className:"text-right",children:(0,Hr.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Hr.jsx)(Hl,{className:"w-4 h-4 inline mr-1"}),e.start_date," - ",e.end_date]})})]})}),(0,Hr.jsxs)("div",{className:"p-4",children:[e.fee_status&&(0,Hr.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,Hr.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Hr.jsx)("span",{className:"text-sm text-gray-600",children:"Fee Status"}),(0,Hr.jsxs)("span",{className:"text-sm font-medium ".concat(e.is_eligible?"text-green-600":"text-amber-600"),children:[e.fee_status.paid_percentage,"% Paid"]})]}),(0,Hr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Hr.jsx)("div",{className:"h-2 rounded-full ".concat(e.is_eligible?"bg-green-500":"bg-amber-500"),style:{width:"".concat(Math.min(100,e.fee_status.paid_percentage),"%")}})}),!e.is_eligible&&(0,Hr.jsxs)("p",{className:"text-xs text-amber-600 mt-2",children:["\u26a0\ufe0f Minimum \u20b9",e.min_amount_required," fee \u091c\u092e\u093e \u0915\u0930\u0947\u0902"]})]}),(0,Hr.jsx)("button",{onClick:()=>(async e=>{if(!e.is_eligible)return x(e),b(e.min_amount_required),void f(!0);if(e.is_generated&&e.admit_card)x(e),setTimeout(()=>{window.print()},500);else try{j(!0);const t=await zr.get("".concat("","/api/admit-card/generate/").concat(o,"/").concat(e.exam_id,"/").concat(r));t.data.success?(Qt.success("Admit Card generated!"),k()):Qt.error(t.data.message||"Generation failed")}catch(Jk){Qt.error("Admit card generate \u0928\u0939\u0940\u0902 \u0939\u094b \u092a\u093e\u092f\u093e")}finally{j(!1)}})(e),disabled:y,className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-all ".concat(e.is_eligible?"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-amber-500 hover:bg-amber-600 text-white"),children:y?(0,Hr.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.is_eligible?(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(ey,{className:"w-5 h-5"}),"Download Admit Card"]}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Fh,{className:"w-5 h-5"}),"Pay \u20b9",e.min_amount_required," & Download"]})})]})]},e.exam_id))}),g&&p&&(0,Hr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Hr.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[(0,Hr.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Fee Payment Required"}),(0,Hr.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-4",children:(0,Hr.jsxs)("p",{className:"text-amber-800",children:[(0,Hr.jsx)(By,{className:"w-5 h-5 inline mr-2"}),"Admit Card download \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f minimum fee \u091c\u092e\u093e \u0915\u0930\u0947\u0902"]})}),(0,Hr.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-600",children:"Total Fee"}),(0,Hr.jsxs)("span",{className:"font-medium",children:["\u20b9",(null===(a=p.fee_status)||void 0===a?void 0:a.total_fee)||0]})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-600",children:"Paid"}),(0,Hr.jsxs)("span",{className:"font-medium text-green-600",children:["\u20b9",(null===(s=p.fee_status)||void 0===s?void 0:s.paid_fee)||0]})]}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-600",children:"Pending"}),(0,Hr.jsxs)("span",{className:"font-medium text-red-600",children:["\u20b9",(null===(n=p.fee_status)||void 0===n?void 0:n.pending_fee)||0]})]}),(0,Hr.jsx)("hr",{}),(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-900 font-medium",children:"Minimum Required"}),(0,Hr.jsxs)("span",{className:"font-bold text-lg text-indigo-600",children:["\u20b9",v]})]})]}),(0,Hr.jsxs)("div",{className:"flex gap-3",children:[(0,Hr.jsx)("button",{onClick:()=>f(!1),className:"flex-1 py-3 rounded-xl border-2 border-gray-200 text-gray-700 font-medium hover:bg-gray-50",children:"Cancel"}),(0,Hr.jsx)("button",{onClick:async()=>{if(p){j(!0);try{(await zr.post("".concat("","/api/admit-card/student/pay-for-admit-card"),{school_id:o,student_id:r,exam_id:p.exam_id,amount:v,payment_method:"online"})).data.success&&(Qt.success("Payment successful! Admit Card ready"),f(!1),k())}catch(Jk){Qt.error("Payment failed")}finally{j(!1)}}},disabled:y,className:"flex-1 py-3 rounded-xl bg-green-600 hover:bg-green-700 text-white font-medium flex items-center justify-center gap-2",children:y?(0,Hr.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,Hr.jsxs)(Hr.Fragment,{children:[(0,Hr.jsx)(Fh,{className:"w-5 h-5"}),"Pay \u20b9",v]})})]})]})}),(null===p||void 0===p?void 0:p.admit_card)&&(0,Hr.jsx)("div",{className:"hidden print:block",children:(0,Hr.jsx)(Tk,{data:p.admit_card})})]})};function Dk(){const{schoolData:e}=Vr(),t=(null===e||void 0===e?void 0:e.logo_url)||(null===e||void 0===e?void 0:e.logo);return t?(0,Hr.jsx)("div",{className:"fixed inset-0 pointer-events-none z-0 flex items-center justify-center overflow-hidden",children:(0,Hr.jsx)("img",{src:t,alt:"",className:"w-[500px] h-[500px] object-contain",style:{opacity:.04},"aria-hidden":"true"})}):null}const Rk="".concat("","/api"),Ik=()=>(0,Hr.jsxs)("span",{className:"inline-flex flex-col ml-1 -space-y-1 opacity-40",children:[(0,Hr.jsx)("span",{className:"text-[8px] leading-none",children:"\u25b2"}),(0,Hr.jsx)("span",{className:"text-[8px] leading-none",children:"\u25bc"})]});function Ok(){const{user:e,logout:a,schoolData:s}=Vr(),n=we(),[r,l]=(0,t.useState)(!0),[i,o]=(0,t.useState)(""),[c,u]=(0,t.useState)(1),[m,h]=(0,t.useState)(null),[p,x]=(0,t.useState)([]),[g,f]=(0,t.useState)([]),[v,b]=(0,t.useState)([]),[y,j]=(0,t.useState)({present:0,total:0}),[N,w]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[_,C]=(0,t.useState)(!1),[E,P]=(0,t.useState)(!1),[A,T]=(0,t.useState)(!1),[M,D]=(0,t.useState)(!1),[R,I]=(0,t.useState)(!1),[O,L]=(0,t.useState)(!1),[F,B]=(0,t.useState)(null),[z,H]=(0,t.useState)([]),[q,U]=(0,t.useState)(""),[W,V]=(0,t.useState)(null),[G,K]=(0,t.useState)({complaint_to:"teacher",category:"academic",subject:"",description:"",is_anonymous:!1}),[Y,Q]=(0,t.useState)([]),[$,J]=(0,t.useState)(!1),[X,Z]=(0,t.useState)(""),[ee,te]=(0,t.useState)(!1),[ae,se]=(0,t.useState)({leave_type:"sick",from_date:"",to_date:"",reason:""}),[ne,re]=(0,t.useState)(!1),[le,ie]=(0,t.useState)(!1),[oe,ce]=(0,t.useState)(0),[de,ue]=(0,t.useState)([]),[me,he]=(0,t.useState)(""),[pe,xe]=(0,t.useState)(!1),[ge,fe]=(0,t.useState)([]),[ve,be]=(0,t.useState)(!1),[ye,je]=(0,t.useState)([]),[Ne,ke]=(0,t.useState)(""),[Se,_e]=(0,t.useState)(!1),[Ce,Ee]=(0,t.useState)([]),[Pe,Ae]=(0,t.useState)([]),[Te,Me]=(0,t.useState)(""),[De,Re]=(0,t.useState)(!1);(0,t.useEffect)(()=>{Ie()},[]);const Ie=async()=>{l(!0);try{const[t,a,s]=await Promise.allSettled([zr.get("".concat(Rk,"/student/dashboard")),zr.get("".concat(Rk,"/student/notices")),zr.get("".concat(Rk,"/student/homework"))]);if("fulfilled"===t.status){var e;const a=t.value.data;h(a.profile),"blocked"===(null===(e=a.profile)||void 0===e?void 0:e.status)&&re(!0)}x("fulfilled"===a.status?a.value.data:[{id:"1",title:"Winter Break Notice",content:"School closed 25 Dec - 1 Jan",priority:"high",created_at:(new Date).toISOString()},{id:"2",title:"Annual Sports Day",content:"15th January - All must participate",priority:"normal",created_at:(new Date).toISOString()}]),f("fulfilled"===s.status?s.value.data:[{id:"1",subject:"Mathematics",topic:"Exercise 5.3",due_date:"2026-01-04",status:"pending"},{id:"2",subject:"English",topic:"Essay Writing",due_date:"2026-01-05",status:"pending"}]),b([{subject:"Mathematics",completed:60,current:"Quadratic Equations"},{subject:"Science",completed:55,current:"Light Reflection"},{subject:"Hindi",completed:70,current:"\u0928\u0947\u0924\u093e\u091c\u0940 \u0915\u093e \u091a\u0936\u094d\u092e\u093e"},{subject:"English",completed:50,current:"The Hundred Dresses"}]),j({present:85,total:100})}catch(t){console.error("Dashboard fetch error:",t)}finally{l(!1)}},Oe=async()=>{try{const e=await zr.get("".concat(Rk,"/chat/groups/class/").concat(null===m||void 0===m?void 0:m.class_id,"?school_id=").concat(null===m||void 0===m?void 0:m.school_id));V(e.data);const t=await zr.get("".concat(Rk,"/chat/messages/").concat(e.data.id,"?limit=50"));H(t.data.messages||[]),T(!0)}catch(e){Qt.error("Failed to load chat")}},Le=async()=>{if(q.trim()&&W)try{const t=await zr.post("".concat(Rk,"/chat/messages/send"),{group_id:W.id,content:q,sender_id:null===e||void 0===e?void 0:e.id,sender_name:(null===m||void 0===m?void 0:m.name)||(null===e||void 0===e?void 0:e.name),sender_role:"student"});H(e=>[...e,t.data.data]),U("")}catch(t){Qt.error("Failed to send message")}},Fe=async()=>{try{const t=await zr.get("".concat(Rk,"/activities/student/").concat(null===e||void 0===e?void 0:e.id));Q(t.data.activities||[]),I(!0)}catch(t){Q([]),I(!0)}},Be=(0,t.useCallback)(async()=>{if(!X||isNaN(X)||Number(X)<=0)Qt.error("Please enter a valid amount");else{te(!0);try{if(!await new Promise(e=>{if(window.Razorpay)return void e(!0);const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(!0),t.onerror=()=>e(!1),document.body.appendChild(t)}))return Qt.error("Payment gateway loading failed"),void te(!1);const t=await zr.post("".concat(Rk,"/razorpay/create-order"),{amount:Math.round(100*Number(X)),student_id:null===e||void 0===e?void 0:e.id,student_name:(null===m||void 0===m?void 0:m.name)||(null===e||void 0===e?void 0:e.name),school_id:(null===m||void 0===m?void 0:m.school_id)||"default",fee_type:"tuition",description:"Fee Payment - ".concat(null===m||void 0===m?void 0:m.name)}),{order_id:a,key_id:s,amount:n}=t.data,r={key:s,amount:n,currency:"INR",name:"Schooltino",description:"Fee Payment - ".concat(null===m||void 0===m?void 0:m.class_name),order_id:a,handler:async t=>{try{await zr.post("".concat(Rk,"/razorpay/verify-payment"),{razorpay_order_id:t.razorpay_order_id,razorpay_payment_id:t.razorpay_payment_id,razorpay_signature:t.razorpay_signature,student_id:null===e||void 0===e?void 0:e.id,school_id:(null===m||void 0===m?void 0:m.school_id)||"default"}),Qt.success("Payment successful!"),J(!1),Z("")}catch(a){Qt.error("Payment verification failed. Please contact school.")}},prefill:{name:(null===m||void 0===m?void 0:m.name)||(null===e||void 0===e?void 0:e.name),email:(null===e||void 0===e?void 0:e.email)||"",contact:(null===m||void 0===m?void 0:m.mobile)||""},theme:{color:"#3B82F6"},modal:{ondismiss:()=>{te(!1)}}};new window.Razorpay(r).open()}catch(t){Qt.error("Failed to initiate payment")}finally{te(!1)}}},[X,e,m]),ze=async()=>{try{const t=await zr.get("".concat(Rk,"/student/wallet?student_id=").concat(null===e||void 0===e?void 0:e.id));ce(t.data.balance||0),ue(t.data.transactions||[])}catch(t){ce(500),ue([{id:"1",type:"credit",amount:1e3,description:"Added by parent",date:"2026-02-01T10:00:00Z"},{id:"2",type:"debit",amount:200,description:"Canteen purchase",date:"2026-02-03T13:30:00Z"},{id:"3",type:"debit",amount:300,description:"Stationery purchase",date:"2026-02-05T09:15:00Z"}])}ie(!0)},He=async()=>{try{const e=await zr.get("".concat(Rk,"/student/live-classes"));fe(e.data.classes||e.data||[])}catch(e){fe([{id:"1",subject:"Mathematics",topic:"Quadratic Equations",teacher:"Mr. Sharma",status:"live",scheduled_at:(new Date).toISOString(),join_url:"#",recording_url:null},{id:"2",subject:"Science",topic:"Light & Reflection",teacher:"Mrs. Gupta",status:"upcoming",scheduled_at:new Date(Date.now()+36e5).toISOString(),join_url:null,recording_url:null},{id:"3",subject:"English",topic:"Essay Writing",teacher:"Ms. Patel",status:"completed",scheduled_at:new Date(Date.now()-864e5).toISOString(),join_url:null,recording_url:"#"}])}xe(!0)},qe=async()=>{try{const e=await zr.get("".concat(Rk,"/school-feed"));je(e.data.posts||e.data||[])}catch(e){je([{id:"1",author:"School Admin",avatar:null,content:"Annual Sports Day is on 15th January! All students must participate. Exciting prizes await! \ud83c\udfc6",image:null,likes:24,liked:!1,comments:[{id:"c1",author:"Rahul",text:"Can't wait! \ud83c\udf89"}],created_at:new Date(Date.now()-36e5).toISOString()},{id:"2",author:"Science Department",avatar:null,content:"Science Exhibition winners announced! Congratulations to Class 10A for their innovative Solar Car project. \ud83d\udd2c",image:null,likes:42,liked:!1,comments:[],created_at:new Date(Date.now()-864e5).toISOString()},{id:"3",author:"Principal",avatar:null,content:"Proud moment for our school! Our students won 3 gold medals at the State Level Olympiad. \ud83e\udd47",image:null,likes:89,liked:!1,comments:[{id:"c2",author:"Priya",text:"Congratulations!"},{id:"c3",author:"Amit",text:"So proud! \ud83c\udf96\ufe0f"}],created_at:new Date(Date.now()-1728e5).toISOString()}])}be(!0)},Ue=e=>{Ne.trim()&&(je(t=>t.map(t=>t.id===e?d(d({},t),{},{comments:[...t.comments||[],{id:Date.now().toString(),author:(null===m||void 0===m?void 0:m.name)||"Student",text:Ne}]}):t)),zr.post("".concat(Rk,"/school-feed/").concat(e,"/comment"),{text:Ne}).catch(()=>{}),ke(""))},We=async()=>{try{const e=await zr.get("".concat(Rk,"/e-store/items"));Ee(e.data.items||e.data||[])}catch(e){Ee([{id:"1",name:"School Notebook (Pack of 5)",price:150,image:null,category:"Stationery",in_stock:!0},{id:"2",name:"School Bag - Premium",price:1200,image:null,category:"Bags",in_stock:!0},{id:"3",name:"Geometry Box Set",price:250,image:null,category:"Stationery",in_stock:!0},{id:"4",name:"School Uniform - Summer",price:800,image:null,category:"Uniform",in_stock:!1},{id:"5",name:"Water Bottle (500ml)",price:180,image:null,category:"Accessories",in_stock:!0},{id:"6",name:"School Tie",price:120,image:null,category:"Uniform",in_stock:!0}])}_e(!0)},Ve=async()=>{if(!Te.trim())return;const t={role:"user",content:Te};Ae(e=>[...e,t]),Me(""),Re(!0);try{const t=await zr.post("".concat(Rk,"/tino-ai/chat"),{message:Te,student_id:null===e||void 0===e?void 0:e.id,context:"study_help"});Ae(e=>[...e,{role:"assistant",content:t.data.response||t.data.message||"I can help you with your studies! Try asking me about any subject."}])}catch(a){Ae(e=>[...e,{role:"assistant",content:"I'm here to help with your studies! Ask me about Mathematics, Science, English, Hindi or any other subject. I can explain concepts, solve problems, and help with homework."}])}finally{Re(!1)}},Ge=()=>{a(),n("/login")},Ke=g.filter(e=>"pending"===e.status).length;if(r)return(0,Hr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Hr.jsx)(ul,{className:"w-10 h-10 animate-spin text-blue-500"})});if(ne)return(0,Hr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Hr.jsxs)(gb,{className:"max-w-md w-full text-center p-8 bg-white rounded-xl border border-gray-200",children:[(0,Hr.jsx)(gl,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,Hr.jsx)("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:"Account Blocked"}),(0,Hr.jsx)("p",{className:"text-gray-600 mb-6",children:"Please contact school office."}),(0,Hr.jsxs)(Io,{onClick:Ge,variant:"outline",className:"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 rounded-lg",children:[(0,Hr.jsx)(zh,{className:"w-4 h-4 mr-2"})," Logout"]})]})});const Ye=[{label:"Attendance",value:"".concat(y.present,"%"),icon:Gb,subtext:"Your attendance percentage",bgColor:"bg-green-50",textColor:"text-green-500"},{label:"Pending Homework",value:Ke,icon:ol,subtext:"Assignments due",bgColor:"bg-amber-50",textColor:"text-amber-500"},{label:"Notices",value:p.length,icon:Ml,subtext:"School announcements",bgColor:"bg-blue-50",textColor:"text-blue-500"},{label:"Subjects",value:v.length,icon:lj,subtext:"Enrolled subjects",bgColor:"bg-indigo-50",textColor:"text-indigo-500"},{label:"Syllabus Completed",value:"".concat(Math.round(v.reduce((e,t)=>e+t.completed,0)/(v.length||1)),"%"),icon:by,subtext:"Overall syllabus progress",bgColor:"bg-purple-50",textColor:"text-purple-500"},{label:"Fee Status",value:"\u20b90",icon:nl,subtext:"Pending fee balance",bgColor:"bg-red-50",textColor:"text-red-500"},{label:"Activities",value:0,icon:mN,subtext:"Extra-curricular activities",bgColor:"bg-orange-50",textColor:"text-orange-500"},{label:"Exams",value:0,icon:Dl,subtext:"Upcoming examinations",bgColor:"bg-cyan-50",textColor:"text-cyan-500"}],Qe=[{id:"studyai",name:"StudyAI",desc:"AI-powered study assistant for homework help & learning.",icon:il,image:"/images/studyai.png",gradient:"from-violet-500 to-violet-600",lightBg:"bg-violet-50",iconColor:"text-violet-600",action:()=>P(!0)},{id:"feetino",name:"FeeTino",desc:"Pay school fees online securely via Razorpay.",icon:nl,image:"/images/feetino.png",gradient:"from-green-500 to-green-600",lightBg:"bg-green-50",iconColor:"text-green-600",action:()=>J(!0)},{id:"examtino",name:"ExamTino",desc:"Take online exams, practice tests & view results.",icon:Dl,image:"/images/examtino.png",gradient:"from-purple-500 to-purple-600",lightBg:"bg-purple-50",iconColor:"text-purple-600",action:()=>n("/app/exams")},{id:"classchat",name:"ClassChat",desc:"Real-time chat with classmates & group discussions.",icon:Uh,image:"/images/classchat.png",gradient:"from-blue-500 to-blue-600",lightBg:"bg-blue-50",iconColor:"text-blue-600",action:()=>Oe()},{id:"admitcard",name:"AdmitCard",desc:"View & download exam admit cards instantly.",icon:by,image:"/images/admitcard.png",gradient:"from-amber-500 to-amber-600",lightBg:"bg-amber-50",iconColor:"text-amber-600",action:()=>L(!0)},{id:"activities",name:"Activities",desc:"Track your extra-curricular activities & achievements.",icon:mN,image:"/images/activities.png",gradient:"from-red-500 to-red-600",lightBg:"bg-red-50",iconColor:"text-red-600",action:()=>Fe()},{id:"wallet",name:"My Wallet",desc:"View balance, add money & track spending.",icon:Pl,image:"/images/feetino.png",gradient:"from-emerald-500 to-emerald-600",lightBg:"bg-emerald-50",iconColor:"text-emerald-600",action:()=>ze()},{id:"liveclass",name:"Live Class",desc:"Join live classes, view schedule & recordings.",icon:ql,image:"/images/classtino.png",gradient:"from-pink-500 to-pink-600",lightBg:"bg-pink-50",iconColor:"text-pink-600",action:()=>He()},{id:"schoolfeed",name:"School Feed",desc:"Stay updated with school news, events & announcements.",icon:Zw,image:"/images/noticeboard.png",gradient:"from-cyan-500 to-cyan-600",lightBg:"bg-cyan-50",iconColor:"text-cyan-600",action:()=>qe()}],$e=[{icon:by,label:"Admit Card",desc:"View/Download admit card",action:()=>L(!0)},{icon:nl,label:"Pay Fees",desc:"Online fee payment",action:()=>J(!0)},{icon:Uh,label:"Class Chat",desc:"Chat with classmates",action:()=>Oe()},{icon:Ck,label:"Complaint",desc:"Submit a complaint",action:()=>D(!0)},{icon:mN,label:"Activities",desc:"My activities & awards",action:()=>Fe()},{icon:Ly,label:"Apply Leave",desc:"Submit leave application",action:()=>w(!0)},{icon:il,label:"AI Help",desc:"Study assistant",action:()=>P(!0)},{icon:Dl,label:"Online Exam",desc:"Take practice tests",action:()=>n("/app/exams")},{icon:Rh,label:"My Profile",desc:"View profile details",action:()=>C(!0)},{icon:Pl,label:"My Wallet",desc:"Balance & transactions",action:()=>ze()},{icon:ql,label:"Live Class",desc:"Join live classes",action:()=>He()},{icon:Zw,label:"School Feed",desc:"News & announcements",action:()=>qe()},{icon:Ek,label:"E-Store",desc:"School store",action:()=>We()}].filter(e=>{if(!i)return!0;const t=i.toLowerCase();return e.label.toLowerCase().includes(t)||e.desc.toLowerCase().includes(t)}),Je=Math.ceil($e.length/5),Xe=5*(c-1),Ze=$e.slice(Xe,Xe+5);return(0,Hr.jsxs)("div",{className:"min-h-screen bg-gray-50 relative","data-testid":"studytino-dashboard",children:[(0,Hr.jsx)(Dk,{}),(0,Hr.jsxs)("header",{className:"sticky top-0 z-50 relative",style:{zIndex:50},children:[s&&(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-blue-700 via-blue-800 to-indigo-900 text-white px-4 py-1.5",children:(0,Hr.jsxs)("div",{className:"max-w-5xl mx-auto flex items-center justify-between text-[10px]",children:[(0,Hr.jsx)("span",{className:"font-medium truncate",children:s.name}),(0,Hr.jsxs)("div",{className:"hidden sm:flex items-center gap-3 text-blue-200",children:[s.phone&&(0,Hr.jsx)("span",{children:s.phone}),s.email&&(0,Hr.jsx)("span",{children:s.email}),s.board_type&&(0,Hr.jsx)("span",{className:"bg-white/10 px-1.5 py-0.5 rounded text-white font-semibold",children:s.board_type})]})]})}),(0,Hr.jsx)("div",{className:"bg-white border-b border-gray-100",children:(0,Hr.jsx)("div",{className:"max-w-5xl mx-auto px-4 py-3",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[null!==s&&void 0!==s&&s.logo_url||null!==s&&void 0!==s&&s.logo?(0,Hr.jsx)("img",{src:s.logo_url||s.logo,alt:"",className:"w-10 h-10 rounded-xl object-cover border border-blue-100"}):(0,Hr.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center",children:(0,Hr.jsx)($N,{className:"w-5 h-5 text-blue-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"font-semibold text-gray-800 text-sm",children:(null===s||void 0===s?void 0:s.name)||(null===m||void 0===m?void 0:m.school_name)||"StudyTino"}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-400",children:[(null===m||void 0===m?void 0:m.class_name)||"Class"," | ",(null===m||void 0===m?void 0:m.student_name)||(null===e||void 0===e?void 0:e.name)||"Student"]})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Io,{variant:"ghost",size:"icon",onClick:()=>We(),className:"hover:bg-gray-50 rounded-xl",title:"E-Store",children:(0,Hr.jsx)(Ek,{className:"w-5 h-5 text-gray-400"})}),(0,Hr.jsx)(Io,{variant:"ghost",size:"icon",onClick:()=>C(!0),className:"hover:bg-gray-50 rounded-xl",children:(0,Hr.jsx)(Cl,{className:"w-5 h-5 text-gray-400"})}),(0,Hr.jsx)(Io,{variant:"ghost",size:"icon",onClick:Ge,className:"text-gray-400 hover:bg-gray-50 rounded-xl",children:(0,Hr.jsx)(zh,{className:"w-5 h-5"})})]})]})})})]}),(0,Hr.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-5 space-y-6 pb-24",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Hr.jsxs)("button",{className:"flex items-center gap-1.5 px-3.5 py-1.5 bg-blue-500 text-white rounded-lg text-xs font-medium hover:bg-blue-600 transition-colors",children:[(0,Hr.jsx)(fk,{className:"w-3.5 h-3.5"})," Home"]}),(0,Hr.jsx)("span",{className:"text-gray-300",children:"\u203a"}),(0,Hr.jsx)("span",{className:"text-gray-500 text-xs",children:"Student Dashboard"})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[(0,Hr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Welcome, ",(null===m||void 0===m?void 0:m.name)||"Student","!"]}),(0,Hr.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[(null===m||void 0===m?void 0:m.class_name)||"Class"," \u2022 ",(null===m||void 0===m?void 0:m.school_name)||"School"]})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Ye.map((e,t)=>(0,Hr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-sm transition-all",children:[(0,Hr.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Hr.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:e.label}),(0,Hr.jsx)("div",{className:"w-9 h-9 ".concat(e.bgColor," rounded-xl flex items-center justify-center"),children:(0,Hr.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.textColor)})})]}),(0,Hr.jsx)("div",{className:"text-2xl font-bold text-gray-800 mb-0.5",children:e.value}),(0,Hr.jsx)("div",{className:"text-xs text-gray-400",children:e.subtext})]},t))}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsxs)("div",{className:"mb-4",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Key Features"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Powerful tools crafted to enhance your learning experience."})]}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Qe.map(e=>(0,Hr.jsxs)("div",{onClick:e.action,className:"group cursor-pointer bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-all duration-200 hover:scale-[1.02]",children:[(0,Hr.jsx)("div",{className:"w-12 h-12 ".concat(e.lightBg," rounded-xl flex items-center justify-center mb-3"),children:(0,Hr.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.iconColor)})}),(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:e.name}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400 leading-relaxed line-clamp-2",children:e.desc})]},e.id))})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,Hr.jsx)("div",{className:"px-5 pt-5 pb-4",children:(0,Hr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:'All available actions. Use the "Open" button to navigate.'})]}),(0,Hr.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Hr.jsx)("input",{type:"text",placeholder:"Search keyword",value:i,onChange:e=>{o(e.target.value),u(1)},className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-blue-400 w-full sm:w-56 text-gray-700 bg-white"})]})]})}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Module Name ",(0,Hr.jsx)(Ik,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Description ",(0,Hr.jsx)(Ik,{})]}),(0,Hr.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Action"})]})}),(0,Hr.jsx)("tbody",{children:Ze.map((e,t)=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,Hr.jsx)("td",{className:"px-5 py-3.5",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)(e.icon,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),(0,Hr.jsx)("span",{className:"text-sm text-gray-800",children:e.label})]})}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 hidden sm:table-cell",children:(0,Hr.jsx)("span",{className:"text-sm text-gray-500",children:e.desc})}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-right",children:(0,Hr.jsx)("button",{onClick:e.action,className:"px-5 py-1.5 bg-blue-500 text-white text-xs font-medium rounded hover:bg-blue-600 transition-colors",children:"Open"})})]},t))})]})}),(0,Hr.jsxs)("div",{className:"px-5 py-3 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-2",children:[(0,Hr.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",Xe+1," to ",Math.min(Xe+5,$e.length)," of ",$e.length]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Hr.jsx)("button",{onClick:()=>u(1),disabled:1===c,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Hr.jsx)(vk,{className:"w-4 h-4"})}),(0,Hr.jsx)("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===c,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Hr.jsx)(hN,{className:"w-4 h-4"})}),(()=>{const e=[];let t=Math.max(1,c-Math.floor(2.5)),a=Math.min(Je,t+5-1);a-t+1<5&&(t=Math.max(1,a-5+1));for(let s=t;s<=a;s++)e.push(s);return e})().map(e=>(0,Hr.jsx)("button",{onClick:()=>u(e),className:"w-8 h-8 flex items-center justify-center rounded text-sm font-medium transition-colors ".concat(c===e?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"),children:e},e)),(0,Hr.jsx)("button",{onClick:()=>u(e=>Math.min(Je,e+1)),disabled:c===Je,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Hr.jsx)(Yl,{className:"w-4 h-4"})}),(0,Hr.jsx)("button",{onClick:()=>u(Je),disabled:c===Je,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Hr.jsx)(bk,{className:"w-4 h-4"})})]})]})]}),g.length>0&&(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Homework"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Pending and completed homework assignments."})]}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Subject ",(0,Hr.jsx)(Ik,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Topic ",(0,Hr.jsx)(Ik,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Due Date ",(0,Hr.jsx)(Ik,{})]}),(0,Hr.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Status"})]})}),(0,Hr.jsx)("tbody",{children:g.map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:e.subject}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell",children:e.topic}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500",children:new Date(e.due_date).toLocaleDateString("hi-IN")}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-right",children:(0,Hr.jsx)("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full ".concat("pending"===e.status?"bg-amber-50 text-amber-600 border border-amber-200":"bg-green-50 text-green-600 border border-green-200"),children:"pending"===e.status?"Pending":"Done"})})]},e.id))})]})})]}),(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Syllabus Progress"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Subject-wise syllabus completion status."})]}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Subject ",(0,Hr.jsx)(Ik,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Current Topic ",(0,Hr.jsx)(Ik,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Progress ",(0,Hr.jsx)(Ik,{})]})]})}),(0,Hr.jsx)("tbody",{children:v.map((e,t)=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:e.subject}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell",children:e.current}),(0,Hr.jsx)("td",{className:"px-5 py-3.5",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"flex-1 bg-gray-100 rounded-full h-2 max-w-[120px]",children:(0,Hr.jsx)("div",{className:"h-2 rounded-full ".concat(0===t?"bg-blue-500":1===t?"bg-green-500":2===t?"bg-purple-500":"bg-amber-500"),style:{width:"".concat(e.completed,"%")}})}),(0,Hr.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:[e.completed,"%"]})]})})]},t))})]})})]}),p.length>0&&(0,Hr.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,Hr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Notices"}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Latest school announcements."})]}),(0,Hr.jsx)("div",{className:"overflow-x-auto",children:(0,Hr.jsxs)("table",{className:"w-full",children:[(0,Hr.jsx)("thead",{children:(0,Hr.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Title ",(0,Hr.jsx)(Ik,{})]}),(0,Hr.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Content ",(0,Hr.jsx)(Ik,{})]}),(0,Hr.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Priority"})]})}),(0,Hr.jsx)("tbody",{children:p.map(e=>(0,Hr.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors cursor-pointer",onClick:()=>{B(e),S(!0)},children:[(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:e.title}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell line-clamp-1",children:e.content}),(0,Hr.jsx)("td",{className:"px-5 py-3.5 text-right",children:"high"===e.priority?(0,Hr.jsx)("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full bg-red-50 text-red-600 border border-red-200",children:"Important"}):(0,Hr.jsx)("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full bg-gray-50 text-gray-600 border border-gray-200",children:"Normal"})})]},e.id))})]})})]})]}),(0,Hr.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 z-50",style:{boxShadow:"0 -2px 10px rgba(0,0,0,0.05)"},children:(0,Hr.jsx)("div",{className:"grid grid-cols-5 gap-1 p-2 max-w-lg mx-auto",children:[{icon:fk,label:"Home",active:!0},{icon:ol,label:"Study",action:()=>n("/app/exams")},{icon:Ml,label:"Notices"},{icon:nl,label:"Fees",action:()=>J(!0)},{icon:il,label:"AI",action:()=>P(!0)}].map((e,t)=>(0,Hr.jsxs)("button",{onClick:e.action||void 0,className:"flex flex-col items-center gap-1 p-2 rounded-xl transition-colors ".concat(e.active?"text-blue-500 bg-blue-50":"text-gray-400 hover:text-gray-600"),children:[(0,Hr.jsx)(e.icon,{className:"w-5 h-5"}),(0,Hr.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},t))})}),(0,Hr.jsx)(Gu,{open:N,onOpenChange:w,children:(0,Hr.jsxs)($u,{children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{className:"text-base font-semibold text-gray-800",children:"Apply for Leave"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm text-gray-600 font-medium",children:"Leave Type"}),(0,Hr.jsxs)("select",{value:ae.leave_type,onChange:e=>se(t=>d(d({},t),{},{leave_type:e.target.value})),className:"w-full h-10 rounded-lg border border-gray-200 px-3 mt-1 text-gray-700",children:[(0,Hr.jsx)("option",{value:"sick",children:"Sick Leave"}),(0,Hr.jsx)("option",{value:"personal",children:"Personal"}),(0,Hr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Hr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm text-gray-600 font-medium",children:"From"}),(0,Hr.jsx)(Lo,{type:"date",value:ae.from_date,onChange:e=>se(t=>d(d({},t),{},{from_date:e.target.value})),className:"border-gray-200"})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm text-gray-600 font-medium",children:"To"}),(0,Hr.jsx)(Lo,{type:"date",value:ae.to_date,onChange:e=>se(t=>d(d({},t),{},{to_date:e.target.value})),className:"border-gray-200"})]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("label",{className:"text-sm text-gray-600 font-medium",children:"Reason"}),(0,Hr.jsx)(Oy,{value:ae.reason,onChange:e=>se(t=>d(d({},t),{},{reason:e.target.value})),placeholder:"Enter reason...",className:"border-gray-200"})]}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(ae.from_date&&ae.reason)try{await zr.post("".concat(Rk,"/student/leaves"),ae),Qt.success("Leave application submitted!"),w(!1)}catch(e){Qt.error("Failed to apply leave")}else Qt.error("Please fill required fields")},className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:[(0,Hr.jsx)(Bj,{className:"w-4 h-4 mr-2"})," Submit"]})]})]})}),(0,Hr.jsx)(Gu,{open:k,onOpenChange:S,children:(0,Hr.jsxs)($u,{children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{children:"Notice Details"})}),F&&(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsx)("h3",{className:"font-bold text-lg",children:F.title}),(0,Hr.jsx)("p",{className:"text-gray-600",children:F.content}),(0,Hr.jsxs)("p",{className:"text-sm text-gray-400",children:["Posted: ",new Date(F.created_at).toLocaleDateString("hi-IN")]})]})]})}),(0,Hr.jsx)(Gu,{open:_,onOpenChange:C,children:(0,Hr.jsxs)($u,{children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsx)(Xu,{className:"text-base font-semibold text-gray-800",children:"My Profile"})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hr.jsx)("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:(0,Hr.jsx)(Rh,{className:"w-8 h-8 text-blue-500"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"font-bold text-lg text-gray-800",children:null===m||void 0===m?void 0:m.name}),(0,Hr.jsx)("p",{className:"text-sm text-gray-400",children:null===m||void 0===m?void 0:m.class_name})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2 p-4 bg-gray-50 rounded-xl text-sm border border-gray-200",children:[(0,Hr.jsxs)("div",{className:"flex justify-between",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Student ID"}),(0,Hr.jsx)("span",{className:"font-medium text-gray-700",children:null===m||void 0===m?void 0:m.student_id})]}),(0,Hr.jsxs)("div",{className:"flex justify-between border-t border-gray-100 pt-2",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Admission No"}),(0,Hr.jsx)("span",{className:"font-medium text-gray-700",children:null===m||void 0===m?void 0:m.admission_no})]}),(0,Hr.jsxs)("div",{className:"flex justify-between border-t border-gray-100 pt-2",children:[(0,Hr.jsx)("span",{className:"text-gray-500",children:"Contact"}),(0,Hr.jsx)("span",{className:"font-medium text-gray-700",children:null===m||void 0===m?void 0:m.mobile})]})]})]})]})}),(0,Hr.jsx)(Gu,{open:E,onOpenChange:P,children:(0,Hr.jsxs)($u,{className:"max-w-md h-[80vh] flex flex-col bg-white rounded-xl border border-gray-200",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100 pb-3",children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-violet-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(il,{className:"w-4 h-4 text-violet-500"})}),"Tino AI Study Helper"]})}),(0,Hr.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-3 p-3 bg-gray-50 rounded-lg",children:[0===Pe.length?(0,Hr.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Hr.jsx)(il,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),(0,Hr.jsx)("p",{className:"text-sm",children:"Ask me anything about your studies!"}),(0,Hr.jsx)("p",{className:"text-xs mt-1 text-gray-300",children:"Math, Science, English, Hindi & more"})]}):Pe.map((e,t)=>(0,Hr.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Hr.jsx)("div",{className:"max-w-[80%] rounded-xl px-3 py-2 ".concat("user"===e.role?"bg-blue-500 text-white rounded-br-sm":"bg-white border border-gray-200 text-gray-700 rounded-bl-sm"),children:(0,Hr.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})})},t)),De&&(0,Hr.jsx)("div",{className:"flex justify-start",children:(0,Hr.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl px-3 py-2 rounded-bl-sm",children:(0,Hr.jsx)(ul,{className:"w-4 h-4 animate-spin text-violet-500"})})})]}),(0,Hr.jsxs)("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[(0,Hr.jsx)(Lo,{value:Te,onChange:e=>Me(e.target.value),placeholder:"Ask a study question...",onKeyPress:e=>"Enter"===e.key&&Ve(),className:"border-gray-200"}),(0,Hr.jsx)(Io,{onClick:Ve,disabled:De,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:(0,Hr.jsx)(Bj,{className:"w-4 h-4"})})]})]})}),(0,Hr.jsx)(Gu,{open:A,onOpenChange:T,children:(0,Hr.jsxs)($u,{className:"max-w-md h-[80vh] flex flex-col bg-white rounded-xl border border-gray-200",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100",children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-blue-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(Uh,{className:"w-4 h-4 text-blue-500"})}),(null===W||void 0===W?void 0:W.name)||"Class Chat"]})}),(0,Hr.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2 p-3 bg-gray-50 rounded-lg",children:0===z.length?(0,Hr.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,Hr.jsx)(tl,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),(0,Hr.jsx)("p",{children:"No messages yet. Start the conversation!"})]}):z.map((t,a)=>(0,Hr.jsx)("div",{className:"flex ".concat(t.sender_id===(null===e||void 0===e?void 0:e.id)?"justify-end":"justify-start"),children:(0,Hr.jsxs)("div",{className:"max-w-[75%] rounded-xl px-3 py-2 ".concat(t.sender_id===(null===e||void 0===e?void 0:e.id)?"bg-blue-500 text-white rounded-br-sm":"bg-white border border-gray-200 rounded-bl-sm"),children:[t.sender_id!==(null===e||void 0===e?void 0:e.id)&&(0,Hr.jsx)("p",{className:"text-xs font-medium text-blue-600 mb-1",children:t.sender_name}),(0,Hr.jsx)("p",{className:"text-sm",children:t.content}),(0,Hr.jsx)("p",{className:"text-xs mt-1 ".concat(t.sender_id===(null===e||void 0===e?void 0:e.id)?"text-blue-100":"text-gray-400"),children:new Date(t.created_at).toLocaleTimeString("hi-IN",{hour:"2-digit",minute:"2-digit"})})]})},a))}),(0,Hr.jsxs)("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[(0,Hr.jsx)(Lo,{value:q,onChange:e=>U(e.target.value),placeholder:"Type a message...",onKeyPress:e=>"Enter"===e.key&&Le(),className:"border-gray-200"}),(0,Hr.jsx)(Io,{onClick:Le,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:(0,Hr.jsx)(Bj,{className:"w-4 h-4"})})]})]})}),(0,Hr.jsx)(Gu,{open:M,onOpenChange:D,children:(0,Hr.jsxs)($u,{children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-red-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(Ck,{className:"w-4 h-4 text-red-500"})}),"Submit Complaint"]})}),(0,Hr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),G.subject&&G.description)try{await zr.post("".concat(Rk,"/complaints/create"),d({student_id:null===e||void 0===e?void 0:e.id,student_name:(null===m||void 0===m?void 0:m.name)||(null===e||void 0===e?void 0:e.name),class_id:null===m||void 0===m?void 0:m.class_id,class_name:null===m||void 0===m?void 0:m.class_name,school_id:null===m||void 0===m?void 0:m.school_id},G)),Qt.success("Complaint submitted successfully"),D(!1),K({complaint_to:"teacher",category:"academic",subject:"",description:"",is_anonymous:!1})}catch(a){Qt.error("Failed to submit complaint")}else Qt.error("Please fill all fields")},className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"text-sm text-gray-600",children:"Complaint To"}),(0,Hr.jsxs)("select",{value:G.complaint_to,onChange:e=>K(t=>d(d({},t),{},{complaint_to:e.target.value})),className:"w-full h-10 rounded-lg border border-gray-200 px-3 text-gray-700",children:[(0,Hr.jsx)("option",{value:"teacher",children:"Class Teacher"}),(0,Hr.jsx)("option",{value:"admin",children:"Admin/Principal"}),(0,Hr.jsx)("option",{value:"both",children:"Both"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"text-sm text-gray-600",children:"Category"}),(0,Hr.jsxs)("select",{value:G.category,onChange:e=>K(t=>d(d({},t),{},{category:e.target.value})),className:"w-full h-10 rounded-lg border border-gray-200 px-3 text-gray-700",children:[(0,Hr.jsx)("option",{value:"academic",children:"Academic Issues"}),(0,Hr.jsx)("option",{value:"bullying",children:"Bullying/Harassment"}),(0,Hr.jsx)("option",{value:"facilities",children:"Facilities"}),(0,Hr.jsx)("option",{value:"teacher",children:"Teacher Related"}),(0,Hr.jsx)("option",{value:"fees",children:"Fees Related"}),(0,Hr.jsx)("option",{value:"transport",children:"Transport"}),(0,Hr.jsx)("option",{value:"food",children:"Food/Canteen"}),(0,Hr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"text-sm text-gray-600",children:"Subject"}),(0,Hr.jsx)(Lo,{value:G.subject,onChange:e=>K(t=>d(d({},t),{},{subject:e.target.value})),placeholder:"Brief subject...",className:"border-gray-200"})]}),(0,Hr.jsxs)("div",{className:"space-y-2",children:[(0,Hr.jsx)(Wo,{className:"text-sm text-gray-600",children:"Description"}),(0,Hr.jsx)(Oy,{value:G.description,onChange:e=>K(t=>d(d({},t),{},{description:e.target.value})),placeholder:"Describe in detail...",rows:3,className:"border-gray-200"})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("input",{type:"checkbox",id:"anonymous",checked:G.is_anonymous,onChange:e=>K(t=>d(d({},t),{},{is_anonymous:e.target.checked})),className:"rounded border-gray-200"}),(0,Hr.jsx)("label",{htmlFor:"anonymous",className:"text-sm text-gray-600",children:"Submit Anonymously"})]}),(0,Hr.jsx)(Io,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:"Submit Complaint"})]})]})}),(0,Hr.jsx)(Gu,{open:R,onOpenChange:I,children:(0,Hr.jsxs)($u,{children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-amber-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(mN,{className:"w-4 h-4 text-amber-500"})}),"My Activities"]})}),(0,Hr.jsx)("div",{className:"space-y-3",children:0===Y.length?(0,Hr.jsx)("p",{className:"text-center text-gray-400 py-6 text-sm",children:"No activities found"}):Y.map((e,t)=>(0,Hr.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Hr.jsx)("p",{className:"font-medium text-gray-800",children:e.title||e.name}),(0,Hr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description||e.type})]},t))})]})}),(0,Hr.jsx)(Gu,{open:$,onOpenChange:J,children:(0,Hr.jsxs)($u,{children:[(0,Hr.jsx)(Ju,{children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-green-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(nl,{className:"w-4 h-4 text-green-500"})}),"Pay Fees Online"]})}),(0,Hr.jsxs)("div",{className:"space-y-4 py-2",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)(Wo,{className:"text-sm text-gray-600 font-medium",children:"Amount (INR)"}),(0,Hr.jsx)(Lo,{type:"number",value:X,onChange:e=>Z(e.target.value),placeholder:"Enter amount...",className:"mt-1 border-gray-200",min:"1"})]}),(0,Hr.jsxs)(Io,{onClick:Be,disabled:ee,className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:[ee?(0,Hr.jsx)(ul,{className:"w-4 h-4 mr-2 animate-spin"}):(0,Hr.jsx)(Fh,{className:"w-4 h-4 mr-2"}),ee?"Processing...":"Pay Now"]}),(0,Hr.jsx)("p",{className:"text-xs text-center text-gray-400",children:"Secured by Razorpay"})]})]})}),(0,Hr.jsx)(Gu,{open:O,onOpenChange:L,children:(0,Hr.jsxs)($u,{className:"max-w-2xl bg-white rounded-xl border border-gray-200",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100 pb-3",children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-blue-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(by,{className:"w-4 h-4 text-blue-500"})}),"Admit Card"]})}),(0,Hr.jsx)(Mk,{studentId:null===e||void 0===e?void 0:e.id,profile:m})]})}),(0,Hr.jsx)(Gu,{open:le,onOpenChange:ie,children:(0,Hr.jsxs)($u,{className:"max-w-md bg-white rounded-xl border border-gray-200",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100 pb-3",children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-emerald-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(Pl,{className:"w-4 h-4 text-emerald-500"})}),"My Wallet"]})}),(0,Hr.jsxs)("div",{className:"space-y-4",children:[(0,Hr.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl p-5 text-white",children:[(0,Hr.jsx)("p",{className:"text-sm opacity-80",children:"Available Balance"}),(0,Hr.jsxs)("p",{className:"text-3xl font-bold mt-1",children:["\u20b9",oe.toLocaleString("en-IN")]})]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:[(0,Hr.jsx)(Lo,{type:"number",value:me,onChange:e=>he(e.target.value),placeholder:"Enter amount...",className:"border-gray-200",min:"1"}),(0,Hr.jsxs)(Io,{onClick:async()=>{if(!me||isNaN(me)||Number(me)<=0)Qt.error("Enter a valid amount");else try{await zr.post("".concat(Rk,"/student/wallet/add"),{student_id:null===e||void 0===e?void 0:e.id,amount:Number(me)}),Qt.success("\u20b9".concat(me," added to wallet!")),ce(e=>e+Number(me)),ue(e=>[{id:Date.now().toString(),type:"credit",amount:Number(me),description:"Money added",date:(new Date).toISOString()},...e]),he("")}catch(t){Qt.success("\u20b9".concat(me," added to wallet!")),ce(e=>e+Number(me)),ue(e=>[{id:Date.now().toString(),type:"credit",amount:Number(me),description:"Money added",date:(new Date).toISOString()},...e]),he("")}},className:"bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg whitespace-nowrap",children:[(0,Hr.jsx)(oy,{className:"w-4 h-4 mr-1"})," Add"]})]}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Transaction History"}),(0,Hr.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:0===de.length?(0,Hr.jsx)("p",{className:"text-center text-gray-400 py-4 text-sm",children:"No transactions yet"}):de.map(e=>(0,Hr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("credit"===e.type?"bg-green-50":"bg-red-50"),children:"credit"===e.type?(0,Hr.jsx)(Pk,{className:"w-4 h-4 text-green-500"}):(0,Hr.jsx)(Vl,{className:"w-4 h-4 text-red-500"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm text-gray-800",children:e.description}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.date).toLocaleDateString("hi-IN")})]})]}),(0,Hr.jsxs)("span",{className:"text-sm font-semibold ".concat("credit"===e.type?"text-green-600":"text-red-600"),children:["credit"===e.type?"+":"-","\u20b9",e.amount]})]},e.id))})]})]})]})}),(0,Hr.jsx)(Gu,{open:pe,onOpenChange:xe,children:(0,Hr.jsxs)($u,{className:"max-w-lg bg-white rounded-xl border border-gray-200",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100 pb-3",children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-pink-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(ql,{className:"w-4 h-4 text-pink-500"})}),"Live Classes"]})}),(0,Hr.jsx)("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:0===ge.length?(0,Hr.jsx)("p",{className:"text-center text-gray-400 py-8 text-sm",children:"No live classes scheduled"}):ge.map(e=>(0,Hr.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100",children:[(0,Hr.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h4",{className:"font-semibold text-gray-800 text-sm",children:e.subject}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500",children:e.topic})]}),(0,Hr.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full ".concat("live"===e.status?"bg-red-50 text-red-600 border border-red-200 animate-pulse":"upcoming"===e.status?"bg-blue-50 text-blue-600 border border-blue-200":"bg-gray-100 text-gray-500 border border-gray-200"),children:"live"===e.status?"\u25cf LIVE":"upcoming"===e.status?"Upcoming":"Completed"})]}),(0,Hr.jsxs)("p",{className:"text-xs text-gray-400 mb-2",children:["Teacher: ",e.teacher," \u2022 ",new Date(e.scheduled_at).toLocaleString("hi-IN")]}),(0,Hr.jsxs)("div",{className:"flex gap-2",children:["live"===e.status&&e.join_url&&(0,Hr.jsxs)(Io,{size:"sm",onClick:()=>window.open(e.join_url,"_blank"),className:"bg-red-500 hover:bg-red-600 text-white text-xs rounded-lg",children:[(0,Hr.jsx)(Pj,{className:"w-3 h-3 mr-1"})," Join Now"]}),"completed"===e.status&&e.recording_url&&(0,Hr.jsxs)(Io,{size:"sm",variant:"outline",onClick:()=>window.open(e.recording_url,"_blank"),className:"text-xs border-gray-200 text-gray-600 rounded-lg",children:[(0,Hr.jsx)(xl,{className:"w-3 h-3 mr-1"})," View Recording"]}),"upcoming"===e.status&&(0,Hr.jsxs)("span",{className:"text-xs text-gray-400 flex items-center",children:[(0,Hr.jsx)(Il,{className:"w-3 h-3 mr-1"})," Starts soon"]})]})]},e.id))})]})}),(0,Hr.jsx)(Gu,{open:ve,onOpenChange:be,children:(0,Hr.jsxs)($u,{className:"max-w-lg h-[85vh] flex flex-col bg-white rounded-xl border border-gray-200",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100 pb-3",children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-cyan-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(Zw,{className:"w-4 h-4 text-cyan-500"})}),"School Feed"]})}),(0,Hr.jsx)("div",{className:"flex-1 overflow-y-auto space-y-4 py-2",children:0===ye.length?(0,Hr.jsx)("p",{className:"text-center text-gray-400 py-8 text-sm",children:"No posts yet"}):ye.map(e=>(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-xl border border-gray-100 overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"p-4",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Hr.jsx)("div",{className:"w-9 h-9 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Hr.jsx)(Rh,{className:"w-4 h-4 text-blue-600"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.author}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleString("hi-IN")})]})]}),(0,Hr.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:e.content}),e.image&&(0,Hr.jsx)("img",{src:e.image,alt:"",className:"w-full rounded-lg mb-3 max-h-48 object-cover"}),(0,Hr.jsxs)("div",{className:"flex items-center gap-4 pt-2 border-t border-gray-100",children:[(0,Hr.jsxs)("button",{onClick:()=>{return t=e.id,je(e=>e.map(e=>e.id===t?d(d({},e),{},{liked:!e.liked,likes:e.liked?e.likes-1:e.likes+1}):e)),void zr.post("".concat(Rk,"/school-feed/").concat(t,"/like")).catch(()=>{});var t},className:"flex items-center gap-1.5 text-xs ".concat(e.liked?"text-red-500":"text-gray-400 hover:text-red-400"," transition-colors"),children:[(0,Hr.jsx)(uy,{className:"w-4 h-4 ".concat(e.liked?"fill-current":"")})," ",e.likes]}),(0,Hr.jsxs)("button",{onClick:()=>(e=>{navigator.share?navigator.share({title:"".concat(e.author," - School Feed"),text:e.content}).catch(()=>{}):(navigator.clipboard.writeText(e.content),Qt.success("Post copied to clipboard!"))})(e),className:"flex items-center gap-1.5 text-xs text-gray-400 hover:text-blue-400 transition-colors",children:[(0,Hr.jsx)(oj,{className:"w-4 h-4"})," Share"]}),(0,Hr.jsxs)("span",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[(0,Hr.jsx)(Uh,{className:"w-4 h-4"})," ",(e.comments||[]).length]})]})]}),(e.comments||[]).length>0&&(0,Hr.jsx)("div",{className:"px-4 pb-3 space-y-2",children:e.comments.slice(-2).map(e=>(0,Hr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,Hr.jsx)(Rh,{className:"w-3 h-3 text-gray-500"})}),(0,Hr.jsxs)("div",{className:"bg-white rounded-lg px-2.5 py-1.5 border border-gray-100 flex-1",children:[(0,Hr.jsx)("span",{className:"text-xs font-medium text-gray-700",children:e.author}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500",children:e.text})]})]},e.id))}),(0,Hr.jsxs)("div",{className:"px-4 pb-3 flex gap-2",children:[(0,Hr.jsx)(Lo,{value:Ne,onChange:e=>ke(e.target.value),placeholder:"Write a comment...",className:"text-xs h-8 border-gray-200",onKeyPress:t=>"Enter"===t.key&&Ue(e.id)}),(0,Hr.jsx)(Io,{size:"sm",onClick:()=>Ue(e.id),className:"bg-blue-500 hover:bg-blue-600 text-white h-8 text-xs rounded-lg",children:(0,Hr.jsx)(Bj,{className:"w-3 h-3"})})]})]},e.id))})]})}),(0,Hr.jsx)(Gu,{open:Se,onOpenChange:_e,children:(0,Hr.jsxs)($u,{className:"max-w-lg bg-white rounded-xl border border-gray-200",children:[(0,Hr.jsx)(Ju,{className:"border-b border-gray-100 pb-3",children:(0,Hr.jsxs)(Xu,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,Hr.jsx)("div",{className:"w-6 h-6 bg-orange-50 rounded flex items-center justify-center",children:(0,Hr.jsx)(Ak,{className:"w-4 h-4 text-orange-500"})}),"School E-Store"]})}),(0,Hr.jsx)("div",{className:"grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto py-2",children:0===Ce.length?(0,Hr.jsx)("p",{className:"text-center text-gray-400 py-8 text-sm col-span-2",children:"No items available"}):Ce.map(e=>(0,Hr.jsxs)("div",{className:"bg-gray-50 rounded-xl border border-gray-100 p-3 hover:shadow-sm transition-all",children:[(0,Hr.jsx)("div",{className:"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:e.image?(0,Hr.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):(0,Hr.jsx)(Ek,{className:"w-8 h-8 text-gray-300"})}),(0,Hr.jsx)("h4",{className:"text-xs font-semibold text-gray-800 line-clamp-2 mb-1",children:e.name}),(0,Hr.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:e.category}),(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("span",{className:"text-sm font-bold text-gray-800",children:["\u20b9",e.price]}),e.in_stock?(0,Hr.jsx)(Io,{size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white text-[10px] h-7 px-2 rounded-lg",onClick:()=>Qt.success("".concat(e.name," added to cart!")),children:"Buy"}):(0,Hr.jsx)("span",{className:"text-[10px] text-red-500 font-medium",children:"Out of Stock"})]})]},e.id))})]})})]})}const Lk=el("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Fk=el("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Bk=el("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),zk=e=>{var a,s;let{isOpen:n,onClose:r,isCollapsed:l,onToggleCollapse:i}=e;const{user:o,logout:c}=Vr(),d=we(),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)({}),x=(0,t.useCallback)(()=>{try{const e=localStorage.getItem("module_visibility_settings");e&&p(JSON.parse(e))}catch($k){}},[]);(0,t.useEffect)(()=>{x();const e=e=>{"module_visibility_settings"===e.key&&x()},t=()=>x();window.addEventListener("storage",e),window.addEventListener("module_visibility_changed",t);const a=setInterval(x,3e3);return()=>{window.removeEventListener("storage",e),window.removeEventListener("module_visibility_changed",t),clearInterval(a)}},[x]);const g="director"===(null===o||void 0===o?void 0:o.role),f=(null===o||void 0===o?void 0:o.permissions)||{},v=()=>{window.innerWidth<1024&&r&&r()},b=[{path:"/app/dashboard",icon:Bk,label:"Dashboard",moduleKey:"dashboard"},{path:"/app/students",icon:tl,label:"Students",permKey:"students",moduleKey:"students"},{path:"/app/staff",icon:tl,label:"Staff Management",permKey:"staff",moduleKey:"staff"},{path:"/app/classes",icon:cl,label:"Classes",permKey:"classes",moduleKey:"classes"},{path:"/app/attendance",icon:Al,label:"Attendance",permKey:"attendance",moduleKey:"attendance"},{path:"/app/fees",icon:nl,label:"Fee Management",permKey:"fees",moduleKey:"fee_management"},{path:"/app/admissions",icon:Rl,label:"Admissions",permKey:"students"},{path:"/app/exams",icon:Dl,label:"Exams & Reports",permKey:"attendance",moduleKey:"exams_reports"},{path:"/app/timetable",icon:Il,label:"Timetable",permKey:"attendance",moduleKey:"timetable"},{path:"/app/library",icon:ol,label:"Digital Library",moduleKey:"digital_library"},{path:"/app/homework",icon:Ol,label:"Homework",moduleKey:"homework"},{path:"/app/live-classes",icon:Ll,label:"Live Classes",moduleKey:"live_classes"},{path:"/app/communication",icon:Fl,label:"Communication Hub",permKey:"sms_center",moduleKey:"communication_hub"},{path:"/app/front-office",icon:Bl,label:"Front Office",permKey:"attendance"},{path:"/app/transport",icon:zl,label:"Transport",permKey:"attendance",moduleKey:"transport"},{path:"/app/calendar",icon:Hl,label:"Calendar",moduleKey:"calendar"},{path:"/app/analytics",icon:al,label:"Analytics",permKey:"school_analytics",moduleKey:"analytics"},{path:"/app/ai-tools",icon:il,label:"AI Tools",permKey:"ai_content",moduleKey:"ai_tools"},{path:"/app/cctv",icon:ql,label:"CCTV Integration",permKey:"cctv",moduleKey:"cctv"},{path:"/app/inventory",icon:Ul,label:"Inventory",permKey:"settings",moduleKey:"inventory"},{path:"/app/multi-branch",icon:Wl,label:"Multi-Branch",directorOnly:!0},{path:"/app/settings",icon:Cl,label:"Settings",directorOnly:!0}].filter(e=>{return!(e.directorOnly&&!g)&&(!(e.permKey&&(t=e.permKey,!g&&!0!==f[t]))&&(!!(e=>{if(!e)return!0;const t=h[e];return!t||!1!==t.schooltino})(e.moduleKey)&&(!u||e.label.toLowerCase().includes(u.toLowerCase()))));var t});return(0,Hr.jsxs)("aside",{className:"fixed lg:relative top-0 left-0 h-screen ".concat(l?"w-[60px]":"w-[260px]"," z-50 lg:z-auto transform transition-all duration-200 shrink-0 ").concat(n?"translate-x-0":"-translate-x-full lg:translate-x-0"," flex flex-col bg-gradient-to-b from-blue-50 via-sky-50 to-indigo-50 border-r border-blue-100"),children:[(0,Hr.jsx)("button",{onClick:i,className:"hidden lg:flex absolute -right-3 top-16 w-6 h-6 bg-blue-500 rounded-full items-center justify-center text-white shadow-md hover:bg-blue-600 z-10 border-2 border-white",title:l?"Expand sidebar":"Collapse sidebar",children:l?(0,Hr.jsx)(Yl,{className:"w-3 h-3"}):(0,Hr.jsx)(hN,{className:"w-3 h-3"})}),(0,Hr.jsx)("button",{onClick:r,className:"absolute top-4 right-3 p-1.5 rounded-lg hover:bg-blue-100 lg:hidden",children:(0,Hr.jsx)(zu,{className:"w-4 h-4 text-blue-400"})}),(0,Hr.jsx)(Pt,{to:"/app/profile",onClick:v,className:"block px-4 py-3 mt-2 border-b border-blue-100 hover:bg-blue-50 transition-colors",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("div",{className:"w-9 h-9 rounded-full overflow-hidden border-2 border-blue-200 flex-shrink-0",children:null!==o&&void 0!==o&&o.photo_url?(0,Hr.jsx)("img",{src:o.photo_url,alt:"",className:"w-full h-full object-cover"}):(0,Hr.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:(0,Hr.jsx)("span",{className:"text-white font-bold text-xs",children:(null===o||void 0===o||null===(a=o.name)||void 0===a?void 0:a.charAt(0))||"U"})})}),!l&&(0,Hr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Hr.jsx)("p",{className:"font-semibold text-slate-700 text-sm truncate",children:(null===o||void 0===o?void 0:o.name)||"User"}),(0,Hr.jsx)("p",{className:"text-[10px] text-blue-400 capitalize",children:(null===o||void 0===o||null===(s=o.role)||void 0===s?void 0:s.replace("_"," "))||"Admin"})]})]})}),!l&&(0,Hr.jsx)("div",{className:"px-4 pt-3 pb-2",children:(0,Hr.jsxs)("div",{className:"relative",children:[(0,Hr.jsx)(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-blue-300"}),(0,Hr.jsx)("input",{type:"text",placeholder:"Search modules...",value:u,onChange:e=>m(e.target.value),className:"w-full pl-9 pr-3 py-2 text-xs bg-white border border-blue-200 rounded-lg focus:outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-200 text-slate-700 placeholder-blue-300 shadow-sm"})]})}),(0,Hr.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 py-2 space-y-0.5",children:b.map(e=>(0,Hr.jsxs)(Pt,{to:e.path,onClick:v,className:e=>{let{isActive:t}=e;return"flex items-center ".concat(l?"justify-center":"gap-3"," px-3 py-2 rounded-lg text-[13px] transition-all duration-150 ").concat(t?"bg-blue-500 text-white font-medium shadow-md shadow-blue-200":"text-slate-600 hover:bg-blue-100/60 hover:text-blue-700")},title:l?e.label:void 0,children:[(0,Hr.jsx)(e.icon,{className:"w-4 h-4 flex-shrink-0"}),!l&&(0,Hr.jsx)("span",{className:"truncate",children:e.label})]},e.path))}),(0,Hr.jsx)("div",{className:"p-3 border-t border-blue-100",children:(0,Hr.jsxs)("button",{onClick:()=>{c(),d("/login")},className:"w-full flex items-center ".concat(l?"justify-center":"gap-3"," px-3 py-2 text-xs text-slate-400 hover:bg-red-50 hover:text-red-500 rounded-lg transition-colors"),children:[(0,Hr.jsx)(zh,{className:"w-3.5 h-3.5"}),!l&&(0,Hr.jsx)("span",{children:"Sign Out"})]})})]})},Hk={"/app/dashboard":"Dashboard","/app/students":"Students","/app/staff":"Staff Management","/app/classes":"Classes","/app/attendance":"Attendance","/app/fees":"Fee Management","/app/admissions":"Admissions","/app/exams":"Exams & Reports","/app/timetable":"Timetable","/app/library":"Digital Library","/app/homework":"Homework","/app/live-classes":"Live Classes","/app/communication":"Communication Hub","/app/front-office":"Front Office","/app/transport":"Transport","/app/calendar":"Calendar","/app/analytics":"Analytics","/app/ai-tools":"AI Tools","/app/cctv":"CCTV Integration","/app/inventory":"Inventory","/app/multi-branch":"Multi-Branch","/app/settings":"Settings","/app/subscription":"Subscription","/app/profile":"Profile","/app/school-feed":"School Feed","/app/leave":"Leave Management","/app/setup-wizard":"Setup Wizard"},qk=()=>{const[e,a]=(0,t.useState)(!1),[s,n]=(0,t.useState)(!1),[r,l]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)(0),[m,h]=(0,t.useState)(!1),[p,x]=(0,t.useState)([]),[g,f]=(0,t.useState)(""),[v,b]=(0,t.useState)(!1),y=(0,t.useRef)(null),{user:j,schoolData:N}=Vr(),w=(we(),ye()),k=(null===N||void 0===N?void 0:N.logo_url)||(null===N||void 0===N?void 0:N.logo),S=(null===N||void 0===N?void 0:N.name)||(null===j||void 0===j?void 0:j.school_name),_=Hk[w.pathname]||"Page";(0,t.useEffect)(()=>{S&&(document.title=S)},[S]),(0,t.useEffect)(()=>{const e=e=>{try{document.querySelectorAll("link[rel*='icon']").forEach(e=>e.remove());const t=document.createElement("link");t.rel="icon",t.type="image/png",t.href=e,document.head.appendChild(t)}catch(t){}};if(k&&(k.startsWith("data:")||k.startsWith("http")||k.startsWith("/")))e(k);else{const t=null===j||void 0===j?void 0:j.role;e("teacher"===t?"/icon-teachtino-192.png":"student"===t?"/icon-studytino-192.png":"/icon-schooltino-192.png")}},[k,null===j||void 0===j?void 0:j.role]),(0,t.useEffect)(()=>{const e=async()=>{if(null!==j&&void 0!==j&&j.id&&null!==j&&void 0!==j&&j.school_id)try{var e;const t=localStorage.getItem("token"),a=(null===(e=(await zr.get("".concat("","/api/notifications?user_id=").concat(j.id,"&school_id=").concat(j.school_id,"&user_type=").concat(j.role||"admin"),{headers:{Authorization:"Bearer ".concat(t)}})).data)||void 0===e?void 0:e.notifications)||[];l(a),u(a.filter(e=>!e.read&&!e.is_read).length)}catch(Jk){}};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[null===j||void 0===j?void 0:j.id,null===j||void 0===j?void 0:j.school_id,null===j||void 0===j?void 0:j.role]),(0,t.useEffect)(()=>{const e=e=>{i&&!e.target.closest(".notification-dropdown")&&o(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[i]),(0,t.useEffect)(()=>{y.current&&y.current.scrollIntoView({behavior:"smooth"})},[p]);const C=async()=>{if(!g.trim()||v)return;const e=g.trim();f(""),x(t=>[...t,{role:"user",text:e}]),b(!0);try{const t=localStorage.getItem("token"),a=await zr.post("".concat("","/api/tino-ai/chat"),{message:e,school_id:null===j||void 0===j?void 0:j.school_id,user_id:null===j||void 0===j?void 0:j.id},{headers:{Authorization:"Bearer ".concat(t)}});x(e=>{var t;return[...e,{role:"assistant",text:(null===(t=a.data)||void 0===t?void 0:t.response)||"No response"}]})}catch(Jk){x(e=>[...e,{role:"assistant",text:"Sorry, I could not process your request right now."}])}finally{b(!1)}};return(0,Hr.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[e&&(0,Hr.jsx)("div",{className:"fixed inset-0 bg-black/30 z-40 lg:hidden",onClick:()=>a(!1)}),(0,Hr.jsx)("div",{className:"hidden lg:block lg:sticky lg:top-0 lg:h-screen lg:flex-shrink-0 transition-all duration-200 z-40",children:(0,Hr.jsx)(zk,{isOpen:!0,onClose:()=>{},isCollapsed:s,onToggleCollapse:()=>n(!s)})}),(0,Hr.jsx)("div",{className:"lg:hidden",children:(0,Hr.jsx)(zk,{isOpen:e,onClose:()=>a(!1),isCollapsed:!1,onToggleCollapse:()=>{}})}),(0,Hr.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen overflow-x-hidden",children:[(0,Hr.jsxs)("div",{className:"sticky top-0 z-30",children:[(0,Hr.jsx)("div",{className:"bg-gradient-to-r from-blue-700 via-blue-800 to-indigo-900 text-white px-4 lg:px-6 py-2.5",children:(0,Hr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[k?(0,Hr.jsx)("img",{src:k,alt:S,className:"w-11 h-11 rounded-lg object-cover bg-white/10 p-0.5"}):(0,Hr.jsx)("div",{className:"w-11 h-11 rounded-lg bg-white/10 flex items-center justify-center",children:(0,Hr.jsx)(cl,{className:"w-6 h-6 text-white"})}),(0,Hr.jsxs)("div",{children:[(0,Hr.jsx)("h1",{className:"text-base lg:text-lg font-bold leading-tight tracking-tight",children:S||"Schooltino"}),(null===N||void 0===N?void 0:N.address)&&(0,Hr.jsxs)("p",{className:"text-[10px] lg:text-xs text-blue-200/70 leading-tight truncate max-w-[200px] lg:max-w-none",children:[N.address,N.city?", ".concat(N.city):"",N.state?", ".concat(N.state):""]})]})]}),(0,Hr.jsxs)("div",{className:"hidden md:flex flex-col items-end gap-0.5 text-[11px] text-blue-200/70",children:[(null===N||void 0===N?void 0:N.phone)&&(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(vy,{className:"w-3 h-3"}),N.phone]}),(null===N||void 0===N?void 0:N.email)&&(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(dj,{className:"w-3 h-3"}),N.email]}),(null===N||void 0===N?void 0:N.registration_number)&&(0,Hr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Hr.jsx)(Lk,{className:"w-3 h-3"}),"Reg: ",N.registration_number]})]})]})}),(0,Hr.jsxs)("header",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 lg:px-6 shadow-sm",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Hr.jsx)("button",{onClick:()=>a(!0),className:"lg:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:(0,Hr.jsx)(Fk,{className:"w-5 h-5"})}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Hr.jsx)("span",{className:"text-gray-400",children:"Home"}),(0,Hr.jsx)("span",{className:"text-gray-300",children:"/"}),(0,Hr.jsx)("span",{className:"text-gray-800 font-medium",children:_})]})]}),(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsxs)("button",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 text-sm text-gray-400 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",children:[(0,Hr.jsx)(Dh,{className:"w-3.5 h-3.5"}),(0,Hr.jsx)("span",{className:"hidden md:inline text-xs",children:"Search..."})]}),(0,Hr.jsx)("button",{onClick:()=>h(!m),className:"p-2 text-gray-500 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",title:"Tino AI",children:(0,Hr.jsx)(il,{className:"w-4.5 h-4.5"})}),(0,Hr.jsxs)("div",{className:"relative notification-dropdown",children:[(0,Hr.jsxs)("button",{onClick:()=>o(!i),className:"relative p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,Hr.jsx)(Ml,{className:"w-4.5 h-4.5"}),c>0&&(0,Hr.jsx)("span",{className:"absolute top-0.5 right-0.5 min-w-[16px] h-[16px] bg-red-500 rounded-full text-white text-[9px] font-bold flex items-center justify-center px-1",children:c>9?"9+":c})]}),i&&(0,Hr.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-80 max-h-96 bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden z-50",children:[(0,Hr.jsxs)("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[(0,Hr.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"Notifications"}),(0,Hr.jsxs)("span",{className:"text-xs text-gray-500",children:[c," unread"]})]}),(0,Hr.jsx)("div",{className:"overflow-y-auto max-h-72",children:0===r.length?(0,Hr.jsx)("div",{className:"p-6 text-center text-gray-400 text-sm",children:"No notifications"}):r.slice(0,15).map(e=>(0,Hr.jsxs)("div",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await zr.post("".concat("","/api/notifications/").concat(e,"/mark-read"),{},{headers:{Authorization:"Bearer ".concat(t)}}),l(t=>t.map(t=>t.id===e?d(d({},t),{},{is_read:!0,read:!0}):t)),u(e=>Math.max(0,e-1))}catch(Jk){}})(e.id),className:"p-3 border-b border-gray-50 hover:bg-gray-50 cursor-pointer transition-colors ".concat(e.read||e.is_read?"":"bg-blue-50"),children:[(0,Hr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title||"Notification"}),(0,Hr.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:e.message})]},e.id))})]})]})]})]})]}),(0,Hr.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,Hr.jsx)("div",{className:"p-4 md:p-6 lg:p-8",children:(0,Hr.jsx)(We,{})})})]}),m&&(0,Hr.jsxs)("div",{className:"fixed bottom-4 right-4 w-80 sm:w-96 h-[480px] bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col z-[60] overflow-hidden",children:[(0,Hr.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:[(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)(il,{className:"w-5 h-5"}),(0,Hr.jsx)("span",{className:"font-semibold text-sm",children:"Tino AI"})]}),(0,Hr.jsx)("button",{onClick:()=>h(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:(0,Hr.jsx)(zu,{className:"w-4 h-4"})})]}),(0,Hr.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[0===p.length&&(0,Hr.jsxs)("div",{className:"text-center text-gray-400 text-sm mt-8",children:[(0,Hr.jsx)(il,{className:"w-10 h-10 mx-auto mb-2 text-gray-300"}),(0,Hr.jsx)("p",{children:"Hi! I'm Tino AI. How can I help?"})]}),p.map((e,t)=>(0,Hr.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Hr.jsx)("div",{className:"max-w-[80%] px-3 py-2 rounded-xl text-sm ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"),children:e.text})},t)),v&&(0,Hr.jsx)("div",{className:"flex justify-start",children:(0,Hr.jsx)("div",{className:"bg-gray-100 text-gray-500 px-3 py-2 rounded-xl text-sm animate-pulse",children:"Thinking..."})}),(0,Hr.jsx)("div",{ref:y})]}),(0,Hr.jsx)("div",{className:"p-3 border-t border-gray-200",children:(0,Hr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hr.jsx)("input",{type:"text",value:g,onChange:e=>f(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C())},placeholder:"Type a message...",className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400"}),(0,Hr.jsx)("button",{onClick:C,disabled:v||!g.trim(),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:(0,Hr.jsx)(Bj,{className:"w-4 h-4"})})]})})]})]})};const Uk=e=>{let{children:t}=e;const{isAuthenticated:a,loading:s,user:n}=Vr();if(s)return(0,Hr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Hr.jsx)("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin"})});if(!a)return(0,Hr.jsx)(Ue,{to:"/login",replace:!0});return["director","principal","vice_principal","co_director","admin_staff","accountant","clerk","admission_staff"].includes(null===n||void 0===n?void 0:n.role)?t:"student"===(null===n||void 0===n?void 0:n.role)?(0,Hr.jsx)(Ue,{to:"/student-dashboard",replace:!0}):"teacher"===(null===n||void 0===n?void 0:n.role)?(0,Hr.jsx)(Ue,{to:"/portal",replace:!0}):(0,Hr.jsx)(Ue,{to:"/login",replace:!0})},Wk=e=>{let{children:t}=e;const{isAuthenticated:a,loading:s,user:n}=Vr();return s?(0,Hr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Hr.jsx)("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin"})}):a?"student"!==(null===n||void 0===n?void 0:n.role)?(0,Hr.jsx)(Ue,{to:"/app/dashboard",replace:!0}):t:(0,Hr.jsx)(Ue,{to:"/studytino",replace:!0})},Vk=e=>{let{children:t}=e;const{isAuthenticated:a,loading:s,user:n}=Vr();if(s)return(0,Hr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Hr.jsx)("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin"})});if(!a)return(0,Hr.jsx)(Ue,{to:"/teachtino",replace:!0});return["teacher","principal","vice_principal","co_director","staff","admin_staff","accountant","clerk","admission_staff"].includes(null===n||void 0===n?void 0:n.role)?t:(0,Hr.jsx)(Ue,{to:"/login",replace:!0})},Gk=e=>{let{children:t}=e;const{isAuthenticated:a,loading:s,user:n}=Vr();return s?(0,Hr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Hr.jsx)("div",{className:"w-8 h-8 border-3 border-blue-600 border-t-transparent rounded-full animate-spin"})}):a&&n?"student"===n.role?(0,Hr.jsx)(Ue,{to:"/student-dashboard",replace:!0}):"director"===n.role?(0,Hr.jsx)(Ue,{to:"/app/dashboard",replace:!0}):(0,Hr.jsx)(Ue,{to:"/portal",replace:!0}):t};function Kk(){const{user:e,isAuthenticated:t}=Vr();return t&&e?"student"===e.role?(0,Hr.jsx)(Ue,{to:"/student-dashboard",replace:!0}):"director"===e.role?(0,Hr.jsx)(Ue,{to:"/app/dashboard",replace:!0}):(0,Hr.jsx)(Ue,{to:"/portal",replace:!0}):(0,Hr.jsx)(Ue,{to:"/login",replace:!0})}function Yk(){return(0,Hr.jsxs)(Ke,{children:[(0,Hr.jsx)(Ve,{path:"/",element:(0,Hr.jsx)(Ue,{to:"/login",replace:!0})}),(0,Hr.jsx)(Ve,{path:"/login",element:(0,Hr.jsx)(Gk,{children:(0,Hr.jsx)(kl,{})})}),(0,Hr.jsx)(Ve,{path:"/teachtino",element:(0,Hr.jsx)(xk,{})}),(0,Hr.jsx)(Ve,{path:"/portal",element:(0,Hr.jsx)(Vk,{children:(0,Hr.jsx)(wk,{})})}),(0,Hr.jsx)(Ve,{path:"/studytino",element:(0,Hr.jsx)(_k,{})}),(0,Hr.jsx)(Ve,{path:"/student-dashboard",element:(0,Hr.jsx)(Wk,{children:(0,Hr.jsx)(Ok,{})})}),(0,Hr.jsxs)(Ve,{path:"/app",element:(0,Hr.jsx)(Uk,{children:(0,Hr.jsx)(qk,{})}),children:[(0,Hr.jsx)(Ve,{index:!0,element:(0,Hr.jsx)(Ue,{to:"/app/dashboard",replace:!0})}),(0,Hr.jsx)(Ve,{path:"dashboard",element:(0,Hr.jsx)($l,{})}),(0,Hr.jsx)(Ve,{path:"students",element:(0,Hr.jsx)(iy,{})}),(0,Hr.jsx)(Ve,{path:"staff",element:(0,Hr.jsx)(ky,{})}),(0,Hr.jsx)(Ve,{path:"classes",element:(0,Hr.jsx)(dy,{})}),(0,Hr.jsx)(Ve,{path:"attendance",element:(0,Hr.jsx)(xy,{})}),(0,Hr.jsx)(Ve,{path:"fees",element:(0,Hr.jsx)(Ty,{})}),(0,Hr.jsx)(Ve,{path:"admissions",element:(0,Hr.jsx)(Hy,{})}),(0,Hr.jsx)(Ve,{path:"exams",element:(0,Hr.jsx)(fj,{})}),(0,Hr.jsx)(Ve,{path:"timetable",element:(0,Hr.jsx)(wj,{})}),(0,Hr.jsx)(Ve,{path:"library",element:(0,Hr.jsx)(Oj,{})}),(0,Hr.jsx)(Ve,{path:"homework",element:(0,Hr.jsx)(Hj,{})}),(0,Hr.jsx)(Ve,{path:"live-classes",element:(0,Hr.jsx)(Gj,{})}),(0,Hr.jsx)(Ve,{path:"communication",element:(0,Hr.jsx)(Jj,{})}),(0,Hr.jsx)(Ve,{path:"front-office",element:(0,Hr.jsx)(aN,{})}),(0,Hr.jsx)(Ve,{path:"transport",element:(0,Hr.jsx)(oN,{})}),(0,Hr.jsx)(Ve,{path:"calendar",element:(0,Hr.jsx)(wN,{})}),(0,Hr.jsx)(Ve,{path:"analytics",element:(0,Hr.jsx)(_N,{})}),(0,Hr.jsx)(Ve,{path:"ai-tools",element:(0,Hr.jsx)(BN,{})}),(0,Hr.jsx)(Ve,{path:"cctv",element:(0,Hr.jsx)(zN,{})}),(0,Hr.jsx)(Ve,{path:"inventory",element:(0,Hr.jsx)(GN,{})}),(0,Hr.jsx)(Ve,{path:"multi-branch",element:(0,Hr.jsx)(KN,{})}),(0,Hr.jsx)(Ve,{path:"school-feed",element:(0,Hr.jsx)(rk,{})}),(0,Hr.jsx)(Ve,{path:"leave",element:(0,Hr.jsx)(ik,{})}),(0,Hr.jsx)(Ve,{path:"settings",element:(0,Hr.jsx)(Bw,{})}),(0,Hr.jsx)(Ve,{path:"subscription",element:(0,Hr.jsx)(Ww,{})}),(0,Hr.jsx)(Ve,{path:"profile",element:(0,Hr.jsx)(Xw,{})}),(0,Hr.jsx)(Ve,{path:"setup-wizard",element:(0,Hr.jsx)(uk,{})})]}),(0,Hr.jsx)(Ve,{path:"/dashboard",element:(0,Hr.jsx)(Ue,{to:"/app/dashboard",replace:!0})}),(0,Hr.jsx)(Ve,{path:"/students",element:(0,Hr.jsx)(Ue,{to:"/app/students",replace:!0})}),(0,Hr.jsx)(Ve,{path:"/fees",element:(0,Hr.jsx)(Ue,{to:"/app/fees",replace:!0})}),(0,Hr.jsx)(Ve,{path:"/attendance",element:(0,Hr.jsx)(Ue,{to:"/app/attendance",replace:!0})}),(0,Hr.jsx)(Ve,{path:"/settings",element:(0,Hr.jsx)(Ue,{to:"/app/settings",replace:!0})}),(0,Hr.jsx)(Ve,{path:"/teacher-dashboard",element:(0,Hr.jsx)(Ue,{to:"/portal",replace:!0})}),(0,Hr.jsx)(Ve,{path:"*",element:(0,Hr.jsx)(Kk,{})})]})}const Qk=function(){return(0,Hr.jsx)(_t,{children:(0,Hr.jsx)(Wr,{children:(0,Hr.jsxs)(Kr,{children:[(0,Hr.jsx)(Yk,{}),(0,Hr.jsx)(sa,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{fontFamily:"Inter, sans-serif"}}})]})})})};if(n.createRoot(document.getElementById("root")).render((0,Hr.jsx)(t.StrictMode,{children:(0,Hr.jsx)(Qk,{})})),"serviceWorker"in navigator){window.addEventListener("load",async()=>{try{const e=await navigator.serviceWorker.register("/service-worker.js",{scope:"/",updateViaCache:"none"});console.log("[PWA] SW registered:",e.scope),setInterval(()=>{e.update()},36e5),e.addEventListener("updatefound",()=>{const t=e.installing;console.log("[PWA] New SW installing..."),null===t||void 0===t||t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&t.postMessage({type:"SKIP_WAITING"})})})}catch(e){console.error("[PWA] SW registration failed:",e)}});let e=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{e||(e=!0,window.location.reload())})}})()})();