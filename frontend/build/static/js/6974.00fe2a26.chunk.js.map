{"version":3,"file":"static/js/6974.00fe2a26.chunk.js","mappings":"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","sources":["components/IDCardViewer.js","components/ui/button.jsx","components/ui/dialog.jsx","components/ui/input.jsx","components/ui/label.jsx","lib/utils.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Button } from '../components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../components/ui/dialog';\nimport { Printer, Loader2, RotateCcw, Settings2, Palette, Layout, ChevronDown } from 'lucide-react';\nimport { toast } from 'sonner';\n\nconst API = (process.env.REACT_APP_BACKEND_URL || '') || '';\n\nconst ID_CARD_TEMPLATES = [\n  { id: 'classic', name: 'Classic', nameHi: 'à¤•à¥à¤²à¤¾à¤¸à¤¿à¤•', desc: 'Standard horizontal ID card' },\n  { id: 'modern', name: 'Modern', nameHi: 'à¤®à¥‰à¤¡à¤°à¥à¤¨', desc: 'Clean modern design with side accent' },\n  { id: 'elegant', name: 'Elegant', nameHi: 'à¤à¤²à¤¿à¤—à¥‡à¤‚à¤Ÿ', desc: 'Premium design with gold accents' },\n  { id: 'minimal', name: 'Minimal', nameHi: 'à¤®à¤¿à¤¨à¤¿à¤®à¤²', desc: 'Simple clean layout' },\n  { id: 'vertical', name: 'Vertical', nameHi: 'à¤µà¤°à¥à¤Ÿà¤¿à¤•à¤²', desc: 'Portrait orientation ID card' },\n  { id: 'royal', name: 'Royal', nameHi: 'à¤°à¥‰à¤¯à¤²', desc: 'Premium royal design for Director/Admin', adminOnly: true },\n  { id: 'executive', name: 'Executive', nameHi: 'à¤à¤•à¥à¤œà¤¿à¤•à¥à¤¯à¥‚à¤Ÿà¤¿à¤µ', desc: 'Executive card with embossed style', adminOnly: true },\n  { id: 'gold_shield', name: 'Gold Shield', nameHi: 'à¤—à¥‹à¤²à¥à¤¡ à¤¶à¥€à¤²à¥à¤¡', desc: 'Gold shield crest design', adminOnly: true },\n];\n\nconst COLOR_THEMES = [\n  { id: 'blue', name: 'Blue', colors: ['#1e40af', '#3b82f6'] },\n  { id: 'green', name: 'Green', colors: ['#047857', '#10b981'] },\n  { id: 'red', name: 'Red', colors: ['#b91c1c', '#ef4444'] },\n  { id: 'purple', name: 'Purple', colors: ['#7e22ce', '#a855f7'] },\n  { id: 'indigo', name: 'Indigo', colors: ['#3730a3', '#6366f1'] },\n  { id: 'teal', name: 'Teal', colors: ['#0f766e', '#14b8a6'] },\n  { id: 'slate', name: 'Slate', colors: ['#334155', '#64748b'] },\n  { id: 'orange', name: 'Orange', colors: ['#c2410c', '#f97316'] },\n];\n\nconst DEFAULT_SETTINGS = {\n  template: 'classic',\n  colorTheme: 'blue',\n  showBloodGroup: true,\n  showFatherName: true,\n  showMotherName: false,\n  showAddress: false,\n  showDOB: false,\n  showAdmissionNo: true,\n  showRollNo: true,\n  showPhone: true,\n  showEmergencyContact: true,\n  showDesignation: true,\n  showDepartment: true,\n  showEmpId: true,\n  showSamgraId: true,\n  showAadhar: false,\n  showValidUntil: true,\n  showSchoolPhone: true,\n  showSchoolAddress: true,\n  backSideContent: 'school_info',\n};\n\nconst loadIDCardSettings = () => {\n  try {\n    const saved = localStorage.getItem('id_card_settings');\n    if (saved) return { ...DEFAULT_SETTINGS, ...JSON.parse(saved) };\n  } catch (e) {}\n  return DEFAULT_SETTINGS;\n};\n\nconst saveIDCardSettings = (settings) => {\n  localStorage.setItem('id_card_settings', JSON.stringify(settings));\n};\n\nconst getGradient = (theme, angle = 135) => {\n  const t = COLOR_THEMES.find(c => c.id === theme) || COLOR_THEMES[0];\n  return `linear-gradient(${angle}deg, ${t.colors[0]} 0%, ${t.colors[1]} 50%, ${t.colors[0]} 100%)`;\n};\n\nconst renderClassicFront = (card, school, photo, settings, personType, gradient) => {\n  return `\n    <div class=\"id-card\" style=\"width:85.6mm;height:54mm;background:${gradient};border-radius:3mm;overflow:hidden;position:relative;color:white;padding:3mm;box-sizing:border-box;\">\n      ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.12;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:30mm;height:30mm;object-fit:contain;\" /></div>` : ''}\n      <div style=\"position:relative;z-index:1;height:100%;display:flex;flex-direction:column;\">\n        <div style=\"display:flex;align-items:center;gap:2mm;padding-bottom:2mm;border-bottom:0.3mm solid rgba(255,255,255,0.3);margin-bottom:2mm;\">\n          ${school?.logo_url ? `<div style=\"width:8mm;height:8mm;background:white;border-radius:50%;padding:0.5mm;flex-shrink:0;\"><img src=\"${school.logo_url}\" style=\"width:100%;height:100%;object-fit:contain;border-radius:50%;\" /></div>` : ''}\n          <div style=\"flex:1;text-align:center;\">\n            <div style=\"font-size:9pt;font-weight:bold;text-transform:uppercase;letter-spacing:0.5px;\">${school?.name || 'School'}</div>\n            ${settings.showSchoolAddress && school?.address ? `<div style=\"font-size:5.5pt;opacity:0.85;margin-top:0.3mm;\">${school.address}</div>` : ''}\n            <div style=\"font-size:6pt;background:rgba(255,255,255,0.25);padding:0.5mm 2mm;border-radius:2mm;display:inline-block;margin-top:0.8mm;font-weight:bold;\">${card?.card_type || (personType === 'student' ? 'STUDENT ID CARD' : 'STAFF ID CARD')}</div>\n          </div>\n        </div>\n        <div style=\"display:flex;gap:3mm;flex:1;\">\n          <div style=\"width:18mm;flex-shrink:0;\">\n            <div style=\"width:18mm;height:22mm;background:white;border-radius:2mm;display:flex;align-items:center;justify-content:center;overflow:hidden;\">\n              ${photo ? `<img src=\"${photo}\" style=\"width:100%;height:100%;object-fit:cover;\" />` : '<span style=\"color:#999;font-size:7pt;\">Photo</span>'}\n            </div>\n          </div>\n          <div style=\"flex:1;font-size:7pt;\">\n            <div style=\"font-size:10pt;font-weight:bold;color:#fef08a;margin-bottom:1.5mm;\">${card?.name || ''}</div>\n            ${personType === 'student' ? renderStudentDetails(card, settings) : renderStaffDetails(card, settings)}\n          </div>\n        </div>\n        <div style=\"display:flex;justify-content:space-between;align-items:flex-end;font-size:5pt;opacity:0.8;margin-top:auto;padding-top:1mm;\">\n          <span>${settings.showSchoolPhone && school?.phone ? 'ðŸ“ž ' + school.phone : ''}</span>\n          <span>${settings.showValidUntil ? 'Valid: ' + (card?.valid_until || (new Date().getFullYear() + 1)) : ''}</span>\n        </div>\n      </div>\n    </div>`;\n};\n\nconst renderModernFront = (card, school, photo, settings, personType, gradient) => {\n  const t = COLOR_THEMES.find(c => c.id === settings.colorTheme) || COLOR_THEMES[0];\n  return `\n    <div class=\"id-card\" style=\"width:85.6mm;height:54mm;background:white;border-radius:3mm;overflow:hidden;position:relative;color:#1e293b;box-sizing:border-box;display:flex;\">\n      <div style=\"width:8mm;background:${gradient};flex-shrink:0;\"></div>\n      <div style=\"flex:1;padding:3mm;display:flex;flex-direction:column;\">\n        <div style=\"display:flex;align-items:center;gap:2mm;padding-bottom:1.5mm;border-bottom:0.3mm solid #e2e8f0;margin-bottom:2mm;\">\n          ${school?.logo_url ? `<div style=\"width:7mm;height:7mm;flex-shrink:0;\"><img src=\"${school.logo_url}\" style=\"width:100%;height:100%;object-fit:contain;border-radius:1mm;\" /></div>` : ''}\n          <div style=\"flex:1;\">\n            <div style=\"font-size:8pt;font-weight:bold;color:${t.colors[0]};\">${school?.name || 'School'}</div>\n            ${settings.showSchoolAddress && school?.address ? `<div style=\"font-size:5pt;color:#94a3b8;\">${school.address}</div>` : ''}\n          </div>\n          <div style=\"font-size:5.5pt;background:${t.colors[0]};color:white;padding:1mm 2mm;border-radius:1.5mm;font-weight:bold;\">${personType === 'student' ? 'STUDENT' : 'STAFF'}</div>\n        </div>\n        <div style=\"display:flex;gap:3mm;flex:1;\">\n          <div style=\"width:18mm;flex-shrink:0;\">\n            <div style=\"width:18mm;height:22mm;background:#f1f5f9;border-radius:2mm;border:0.5mm solid ${t.colors[1]};display:flex;align-items:center;justify-content:center;overflow:hidden;\">\n              ${photo ? `<img src=\"${photo}\" style=\"width:100%;height:100%;object-fit:cover;\" />` : '<span style=\"color:#999;font-size:7pt;\">Photo</span>'}\n            </div>\n          </div>\n          <div style=\"flex:1;font-size:7pt;\">\n            <div style=\"font-size:10pt;font-weight:bold;color:${t.colors[0]};margin-bottom:1.5mm;\">${card?.name || ''}</div>\n            ${personType === 'student' ? renderStudentDetails(card, settings, t.colors[0]) : renderStaffDetails(card, settings, t.colors[0])}\n          </div>\n        </div>\n        <div style=\"display:flex;justify-content:space-between;font-size:5pt;color:#94a3b8;margin-top:auto;padding-top:1mm;\">\n          <span>${settings.showSchoolPhone && school?.phone ? 'ðŸ“ž ' + school.phone : ''}</span>\n          <span>${settings.showValidUntil ? 'Valid: ' + (card?.valid_until || (new Date().getFullYear() + 1)) : ''}</span>\n        </div>\n      </div>\n    </div>`;\n};\n\nconst renderElegantFront = (card, school, photo, settings, personType, gradient) => {\n  return `\n    <div class=\"id-card\" style=\"width:85.6mm;height:54mm;background:${gradient};border-radius:3mm;overflow:hidden;position:relative;color:white;padding:3mm;box-sizing:border-box;border:1mm solid #fbbf24;\">\n      ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.1;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:35mm;height:35mm;object-fit:contain;\" /></div>` : ''}\n      <div style=\"position:relative;z-index:1;height:100%;display:flex;flex-direction:column;\">\n        <div style=\"display:flex;align-items:center;gap:2mm;padding-bottom:1.5mm;border-bottom:0.5mm solid #fbbf24;margin-bottom:2mm;\">\n          ${school?.logo_url ? `<div style=\"width:9mm;height:9mm;background:white;border-radius:50%;padding:0.5mm;flex-shrink:0;border:0.5mm solid #fbbf24;\"><img src=\"${school.logo_url}\" style=\"width:100%;height:100%;object-fit:contain;border-radius:50%;\" /></div>` : ''}\n          <div style=\"flex:1;text-align:center;\">\n            <div style=\"font-size:9pt;font-weight:bold;text-transform:uppercase;letter-spacing:1px;color:#fef08a;\">${school?.name || 'School'}</div>\n            ${settings.showSchoolAddress && school?.address ? `<div style=\"font-size:5.5pt;opacity:0.85;\">${school.address}</div>` : ''}\n            <div style=\"font-size:6pt;background:rgba(251,191,36,0.3);border:0.3mm solid rgba(251,191,36,0.5);padding:0.5mm 3mm;border-radius:2mm;display:inline-block;margin-top:0.8mm;font-weight:bold;color:#fef08a;\">${card?.card_type || (personType === 'student' ? 'âœ¦ STUDENT ID âœ¦' : 'âœ¦ STAFF ID âœ¦')}</div>\n          </div>\n        </div>\n        <div style=\"display:flex;gap:3mm;flex:1;\">\n          <div style=\"width:18mm;flex-shrink:0;\">\n            <div style=\"width:18mm;height:22mm;background:white;border-radius:2mm;border:0.5mm solid #fbbf24;display:flex;align-items:center;justify-content:center;overflow:hidden;\">\n              ${photo ? `<img src=\"${photo}\" style=\"width:100%;height:100%;object-fit:cover;\" />` : '<span style=\"color:#999;font-size:7pt;\">Photo</span>'}\n            </div>\n          </div>\n          <div style=\"flex:1;font-size:7pt;\">\n            <div style=\"font-size:10pt;font-weight:bold;color:#fef08a;margin-bottom:1.5mm;\">${card?.name || ''}</div>\n            ${personType === 'student' ? renderStudentDetails(card, settings) : renderStaffDetails(card, settings)}\n          </div>\n        </div>\n        <div style=\"display:flex;justify-content:space-between;font-size:5pt;opacity:0.8;margin-top:auto;padding-top:1mm;border-top:0.3mm solid rgba(251,191,36,0.3);\">\n          <span>${settings.showSchoolPhone && school?.phone ? 'ðŸ“ž ' + school.phone : ''}</span>\n          <span>${settings.showValidUntil ? 'Valid: ' + (card?.valid_until || (new Date().getFullYear() + 1)) : ''}</span>\n        </div>\n      </div>\n    </div>`;\n};\n\nconst renderMinimalFront = (card, school, photo, settings, personType, gradient) => {\n  const t = COLOR_THEMES.find(c => c.id === settings.colorTheme) || COLOR_THEMES[0];\n  return `\n    <div class=\"id-card\" style=\"width:85.6mm;height:54mm;background:white;border-radius:3mm;overflow:hidden;position:relative;color:#1e293b;box-sizing:border-box;border:0.5mm solid #e2e8f0;\">\n      <div style=\"height:2mm;background:${gradient};\"></div>\n      <div style=\"padding:2.5mm 3mm;display:flex;flex-direction:column;height:calc(100% - 2mm);\">\n        <div style=\"display:flex;align-items:center;gap:2mm;margin-bottom:2mm;\">\n          ${school?.logo_url ? `<img src=\"${school.logo_url}\" style=\"width:6mm;height:6mm;object-fit:contain;\" />` : ''}\n          <span style=\"font-size:7pt;font-weight:bold;color:${t.colors[0]};\">${school?.name || 'School'}</span>\n        </div>\n        <div style=\"display:flex;gap:3mm;flex:1;\">\n          <div style=\"width:18mm;flex-shrink:0;\">\n            <div style=\"width:18mm;height:22mm;background:#f8fafc;border-radius:2mm;border:0.3mm solid #e2e8f0;display:flex;align-items:center;justify-content:center;overflow:hidden;\">\n              ${photo ? `<img src=\"${photo}\" style=\"width:100%;height:100%;object-fit:cover;\" />` : '<span style=\"color:#cbd5e1;font-size:7pt;\">Photo</span>'}\n            </div>\n          </div>\n          <div style=\"flex:1;font-size:7pt;\">\n            <div style=\"font-size:10pt;font-weight:bold;color:${t.colors[0]};margin-bottom:1mm;\">${card?.name || ''}</div>\n            ${personType === 'student' ? renderStudentDetails(card, settings, t.colors[0]) : renderStaffDetails(card, settings, t.colors[0])}\n          </div>\n        </div>\n        <div style=\"display:flex;justify-content:space-between;font-size:5pt;color:#94a3b8;margin-top:auto;padding-top:1mm;\">\n          <span>${settings.showSchoolPhone && school?.phone ? 'ðŸ“ž ' + school.phone : ''}</span>\n          <span>${settings.showValidUntil ? 'Valid: ' + (card?.valid_until || (new Date().getFullYear() + 1)) : ''}</span>\n        </div>\n      </div>\n    </div>`;\n};\n\nconst renderVerticalFront = (card, school, photo, settings, personType, gradient) => {\n  return `\n    <div class=\"id-card\" style=\"width:54mm;height:85.6mm;background:${gradient};border-radius:3mm;overflow:hidden;position:relative;color:white;padding:3mm;box-sizing:border-box;\">\n      ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.1;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:30mm;height:30mm;object-fit:contain;\" /></div>` : ''}\n      <div style=\"position:relative;z-index:1;height:100%;display:flex;flex-direction:column;align-items:center;text-align:center;\">\n        <div style=\"width:100%;padding-bottom:2mm;border-bottom:0.3mm solid rgba(255,255,255,0.3);margin-bottom:2mm;\">\n          ${school?.logo_url ? `<div style=\"width:10mm;height:10mm;background:white;border-radius:50%;padding:0.5mm;margin:0 auto 1mm;\"><img src=\"${school.logo_url}\" style=\"width:100%;height:100%;object-fit:contain;border-radius:50%;\" /></div>` : ''}\n          <div style=\"font-size:8pt;font-weight:bold;text-transform:uppercase;\">${school?.name || 'School'}</div>\n          <div style=\"font-size:5.5pt;background:rgba(255,255,255,0.25);padding:0.5mm 2mm;border-radius:2mm;display:inline-block;margin-top:1mm;font-weight:bold;\">${personType === 'student' ? 'STUDENT' : 'STAFF'}</div>\n        </div>\n        <div style=\"width:22mm;height:28mm;background:white;border-radius:2mm;display:flex;align-items:center;justify-content:center;overflow:hidden;margin-bottom:2mm;\">\n          ${photo ? `<img src=\"${photo}\" style=\"width:100%;height:100%;object-fit:cover;\" />` : '<span style=\"color:#999;font-size:7pt;\">Photo</span>'}\n        </div>\n        <div style=\"font-size:10pt;font-weight:bold;color:#fef08a;margin-bottom:1.5mm;\">${card?.name || ''}</div>\n        <div style=\"font-size:7pt;text-align:left;width:100%;\">\n          ${personType === 'student' ? renderStudentDetails(card, settings) : renderStaffDetails(card, settings)}\n        </div>\n        <div style=\"font-size:5pt;opacity:0.8;margin-top:auto;width:100%;text-align:center;\">\n          ${settings.showValidUntil ? 'Valid: ' + (card?.valid_until || (new Date().getFullYear() + 1)) : ''}\n        </div>\n      </div>\n    </div>`;\n};\n\nconst renderStudentDetails = (card, settings, labelColor) => {\n  const lc = labelColor || 'inherit';\n  const labelStyle = labelColor ? `color:${labelColor};opacity:1;` : 'opacity:0.7;';\n  let html = '';\n  html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Class:</span><span style=\"font-weight:600;\">${card?.class || ''}</span></div>`;\n  if (settings.showRollNo && card?.roll_no) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Roll No:</span><span style=\"font-weight:600;\">${card.roll_no}</span></div>`;\n  if (settings.showAdmissionNo && card?.admission_no) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Adm No:</span><span style=\"font-weight:600;\">${card.admission_no}</span></div>`;\n  if (settings.showFatherName && card?.father_name) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Father:</span><span style=\"font-weight:600;\">${card.father_name}</span></div>`;\n  if (settings.showMotherName && card?.mother_name) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Mother:</span><span style=\"font-weight:600;\">${card.mother_name}</span></div>`;\n  if (settings.showDOB && card?.dob) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">DOB:</span><span style=\"font-weight:600;\">${card.dob}</span></div>`;\n  if (settings.showBloodGroup && card?.blood_group) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Blood:</span><span style=\"font-weight:600;\">${card.blood_group}</span></div>`;\n  if (settings.showSamgraId && card?.samgra_id) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Samgra:</span><span style=\"font-weight:600;\">${card.samgra_id}</span></div>`;\n  if (settings.showAddress && card?.address) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Address:</span><span style=\"font-weight:600;font-size:6pt;\">${card.address}</span></div>`;\n  if (settings.showPhone && (card?.parent_phone || card?.phone)) {\n    const phoneColor = labelColor ? `background:${labelColor}15;border:0.3mm solid ${labelColor}30;` : 'background:rgba(255,255,255,0.2);';\n    html += `<div style=\"${phoneColor}border-radius:1.5mm;padding:1mm 1.5mm;margin-top:1mm;font-size:6.5pt;\"><span style=\"font-weight:bold;${labelColor ? `color:${labelColor};` : 'color:#fca5a5;'}\">ðŸ“ž Parent: </span><span style=\"font-weight:bold;\">${card.parent_phone || card.phone}</span></div>`;\n  }\n  return html;\n};\n\nconst renderStaffDetails = (card, settings, labelColor) => {\n  const lc = labelColor || 'inherit';\n  const labelStyle = labelColor ? `color:${labelColor};opacity:1;` : 'opacity:0.7;';\n  let html = '';\n  if (settings.showDesignation) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Desig:</span><span style=\"font-weight:600;\">${card?.designation || ''}${card?.designation_hindi ? ' / ' + card.designation_hindi : ''}</span></div>`;\n  if (settings.showDepartment && card?.department) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Dept:</span><span style=\"font-weight:600;\">${card.department}</span></div>`;\n  if (settings.showEmpId && card?.id_number) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Emp ID:</span><span style=\"font-weight:600;\">${card.id_number}</span></div>`;\n  if (settings.showBloodGroup && card?.blood_group) html += `<div style=\"margin-bottom:1mm;\"><span style=\"width:14mm;display:inline-block;${labelStyle}\">Blood:</span><span style=\"font-weight:600;\">${card.blood_group}</span></div>`;\n  if (settings.showPhone && card?.phone) {\n    const phoneColor = labelColor ? `background:${labelColor}15;border:0.3mm solid ${labelColor}30;` : 'background:rgba(255,255,255,0.2);';\n    html += `<div style=\"${phoneColor}border-radius:1.5mm;padding:1mm 1.5mm;margin-top:1mm;font-size:6.5pt;\"><span style=\"font-weight:bold;${labelColor ? `color:${labelColor};` : 'color:#86efac;'}\">ðŸ“ž </span><span style=\"font-weight:bold;\">${card.phone}</span></div>`;\n  }\n  if (settings.showEmergencyContact && card?.emergency_contact) {\n    const ecColor = labelColor ? `background:${labelColor}10;border:0.3mm solid ${labelColor}20;` : 'background:rgba(255,255,255,0.2);';\n    html += `<div style=\"${ecColor}border-radius:1.5mm;padding:1mm 1.5mm;margin-top:1mm;font-size:6.5pt;\"><span style=\"font-weight:bold;${labelColor ? `color:${labelColor};` : 'color:#fca5a5;'}\">ðŸ†˜ Emergency: </span><span style=\"font-weight:bold;\">${card.emergency_contact}</span></div>`;\n  }\n  return html;\n};\n\nconst renderBack = (card, school, personType, settings, gradient) => {\n  const isVertical = settings.template === 'vertical';\n  const w = isVertical ? '54mm' : '85.6mm';\n  const h = isVertical ? '85.6mm' : '54mm';\n  const template = settings.template;\n  const t = COLOR_THEMES.find(c => c.id === settings.colorTheme) || COLOR_THEMES[0];\n\n  const contentHtml = `\n    <div style=\"font-size:${isVertical ? '16pt' : '20pt'};font-weight:bold;letter-spacing:2px;margin-bottom:3mm;\">${personType === 'student' ? 'STUDENT OF' : (card?.designation || 'STAFF')}</div>\n    ${personType !== 'student' && card?.designation_hindi ? `<div style=\"font-size:10pt;opacity:0.9;margin-bottom:2mm;\">${card.designation_hindi}</div>` : ''}\n    ${personType !== 'student' ? '<div style=\"font-size:8pt;letter-spacing:3px;opacity:0.7;margin-bottom:2mm;\">OF</div>' : ''}\n    <div style=\"font-size:${isVertical ? '10pt' : '12pt'};font-weight:bold;text-transform:uppercase;padding:0 4mm;line-height:1.4;\">${school?.name || 'School Name'}</div>\n    ${settings.showSchoolAddress && school?.address ? `<div style=\"font-size:7pt;margin-top:3mm;opacity:0.8;max-width:90%;margin-left:auto;margin-right:auto;\">${school.address}</div>` : ''}\n    ${settings.showSchoolPhone && school?.phone ? `<div style=\"font-size:8pt;margin-top:2mm;opacity:0.9;\">ðŸ“ž ${school.phone}</div>` : ''}\n  `;\n\n  const returnText = 'If found, please return to school';\n\n  if (template === 'modern' || template === 'minimal') {\n    return `\n      <div class=\"id-card-back\" style=\"width:${w};height:${h};background:white;border-radius:3mm;overflow:hidden;position:relative;color:${t.colors[0]};box-sizing:border-box;display:flex;align-items:center;justify-content:center;${template === 'modern' ? `border-left:8mm solid ${gradient};` : `border-top:2mm solid ${t.colors[0]};border:0.5mm solid #e2e8f0;`}\">\n        ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.08;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:35mm;height:35mm;object-fit:contain;\" /></div>` : ''}\n        <div style=\"position:relative;z-index:1;text-align:center;padding:4mm;\">\n          ${contentHtml}\n          <div style=\"position:absolute;bottom:3mm;left:0;right:0;text-align:center;font-size:6pt;opacity:0.5;color:#64748b;\">${returnText}</div>\n        </div>\n      </div>`;\n  }\n\n  if (template === 'royal') {\n    return `\n      <div class=\"id-card-back\" style=\"width:${w};height:${h};background:linear-gradient(145deg, #1a1a2e 0%, #16213e 40%, #0f3460 100%);border-radius:3mm;overflow:hidden;position:relative;color:#f5e6a3;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border:0.8mm solid #c9a84c;\">\n        <div style=\"position:absolute;top:0;left:0;right:0;height:2mm;background:linear-gradient(90deg,#c9a84c,#f5e6a3,#c9a84c);\"></div>\n        <div style=\"position:absolute;bottom:0;left:0;right:0;height:2mm;background:linear-gradient(90deg,#c9a84c,#f5e6a3,#c9a84c);\"></div>\n        <div style=\"position:absolute;top:0;left:0;bottom:0;width:2mm;background:linear-gradient(180deg,#c9a84c,#f5e6a3,#c9a84c);\"></div>\n        <div style=\"position:absolute;top:0;right:0;bottom:0;width:2mm;background:linear-gradient(180deg,#c9a84c,#f5e6a3,#c9a84c);\"></div>\n        <div style=\"position:absolute;top:3mm;left:3mm;font-size:14pt;opacity:0.15;color:#c9a84c;\">â™›</div>\n        <div style=\"position:absolute;top:3mm;right:3mm;font-size:14pt;opacity:0.15;color:#c9a84c;\">â™›</div>\n        ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.08;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:35mm;height:35mm;object-fit:contain;\" /></div>` : ''}\n        <div style=\"position:relative;z-index:1;text-align:center;padding:4mm;\">\n          ${contentHtml}\n          <div style=\"position:absolute;bottom:3mm;left:0;right:0;text-align:center;font-size:6pt;opacity:0.6;color:#c9a84c;\">${returnText}</div>\n        </div>\n      </div>`;\n  }\n\n  if (template === 'executive') {\n    return `\n      <div class=\"id-card-back\" style=\"width:${w};height:${h};background:linear-gradient(135deg, #2d1b4e 0%, #1a1a2e 50%, #2d1b4e 100%);border-radius:3mm;overflow:hidden;position:relative;color:#e9d5ff;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border:0.5mm solid #8b5cf6;\">\n        <div style=\"position:absolute;top:-5mm;right:-5mm;width:25mm;height:25mm;background:radial-gradient(circle,rgba(139,92,246,0.2),transparent);border-radius:50%;\"></div>\n        <div style=\"position:absolute;bottom:-5mm;left:-5mm;width:20mm;height:20mm;background:radial-gradient(circle,rgba(139,92,246,0.15),transparent);border-radius:50%;\"></div>\n        ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.08;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:35mm;height:35mm;object-fit:contain;\" /></div>` : ''}\n        <div style=\"position:relative;z-index:1;text-align:center;padding:4mm;\">\n          ${contentHtml}\n          <div style=\"position:absolute;bottom:3mm;left:0;right:0;text-align:center;font-size:6pt;opacity:0.6;color:#a78bfa;\">${returnText}</div>\n        </div>\n      </div>`;\n  }\n\n  if (template === 'gold_shield') {\n    return `\n      <div class=\"id-card-back\" style=\"width:${w};height:${h};background:linear-gradient(160deg, #0c1220 0%, #1a2744 40%, #0c1220 100%);border-radius:3mm;overflow:hidden;position:relative;color:#f0d78c;box-sizing:border-box;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 0 0 0.5mm #d4a853;\">\n        <div style=\"position:absolute;top:2mm;right:3mm;font-size:22pt;opacity:0.12;color:#d4a853;\">ðŸ›¡</div>\n        ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.07;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:35mm;height:35mm;object-fit:contain;\" /></div>` : ''}\n        <div style=\"position:relative;z-index:1;text-align:center;padding:4mm;\">\n          ${contentHtml}\n          <div style=\"position:absolute;bottom:3mm;left:0;right:0;text-align:center;font-size:6pt;opacity:0.6;color:#d4a853;\">${returnText}</div>\n        </div>\n      </div>`;\n  }\n\n  return `\n    <div class=\"id-card-back\" style=\"width:${w};height:${h};background:${gradient};border-radius:3mm;overflow:hidden;position:relative;color:white;box-sizing:border-box;display:flex;align-items:center;justify-content:center;\">\n      ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.15;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:35mm;height:35mm;object-fit:contain;\" /></div>` : ''}\n      <div style=\"position:relative;z-index:1;text-align:center;padding:4mm;\">\n        ${contentHtml}\n        <div style=\"position:absolute;bottom:3mm;left:0;right:0;text-align:center;font-size:6pt;opacity:0.6;\">${returnText}</div>\n      </div>\n    </div>`;\n};\n\nconst renderRoyalFront = (card, school, photo, settings, personType, gradient) => {\n  const isAdmin = card?.is_higher_authority || ['director', 'principal', 'admin'].includes(card?.role?.toLowerCase());\n  return `\n    <div class=\"id-card\" style=\"width:85.6mm;height:54mm;background:linear-gradient(145deg, #1a1a2e 0%, #16213e 40%, #0f3460 100%);border-radius:3mm;overflow:hidden;position:relative;color:white;padding:0;box-sizing:border-box;border:0.8mm solid #c9a84c;\">\n      <div style=\"position:absolute;top:0;left:0;right:0;height:2mm;background:linear-gradient(90deg,#c9a84c,#f5e6a3,#c9a84c);\"></div>\n      <div style=\"position:absolute;bottom:0;left:0;right:0;height:2mm;background:linear-gradient(90deg,#c9a84c,#f5e6a3,#c9a84c);\"></div>\n      <div style=\"position:absolute;top:0;left:0;bottom:0;width:2mm;background:linear-gradient(180deg,#c9a84c,#f5e6a3,#c9a84c);\"></div>\n      <div style=\"position:absolute;top:0;right:0;bottom:0;width:2mm;background:linear-gradient(180deg,#c9a84c,#f5e6a3,#c9a84c);\"></div>\n      ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.08;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:40mm;height:40mm;object-fit:contain;\" /></div>` : ''}\n      <div style=\"position:absolute;top:3mm;left:3mm;font-size:14pt;opacity:0.15;color:#c9a84c;\">â™›</div>\n      <div style=\"position:absolute;top:3mm;right:3mm;font-size:14pt;opacity:0.15;color:#c9a84c;\">â™›</div>\n      <div style=\"position:relative;z-index:1;height:100%;display:flex;flex-direction:column;padding:4mm 5mm 3mm;\">\n        <div style=\"display:flex;align-items:center;gap:2mm;padding-bottom:2mm;border-bottom:0.5mm solid rgba(201,168,76,0.4);margin-bottom:2mm;\">\n          ${school?.logo_url ? `<div style=\"width:9mm;height:9mm;background:linear-gradient(135deg,#c9a84c,#f5e6a3);border-radius:50%;padding:0.7mm;flex-shrink:0;\"><img src=\"${school.logo_url}\" style=\"width:100%;height:100%;object-fit:contain;border-radius:50%;\" /></div>` : ''}\n          <div style=\"flex:1;text-align:center;\">\n            <div style=\"font-size:9pt;font-weight:bold;text-transform:uppercase;letter-spacing:1.5px;color:#f5e6a3;\">${school?.name || 'School'}</div>\n            <div style=\"font-size:6pt;background:linear-gradient(90deg,rgba(201,168,76,0.3),rgba(245,230,163,0.3),rgba(201,168,76,0.3));border:0.3mm solid rgba(201,168,76,0.5);padding:0.5mm 3mm;border-radius:2mm;display:inline-block;margin-top:0.8mm;font-weight:bold;color:#f5e6a3;letter-spacing:1px;\">â™¦ ${card?.card_type || (isAdmin ? 'DIRECTOR' : 'ADMINISTRATOR')} â™¦</div>\n          </div>\n        </div>\n        <div style=\"display:flex;gap:3mm;flex:1;\">\n          <div style=\"width:18mm;flex-shrink:0;\">\n            <div style=\"width:18mm;height:22mm;background:linear-gradient(135deg,#c9a84c,#f5e6a3);border-radius:2mm;padding:0.7mm;display:flex;align-items:center;justify-content:center;overflow:hidden;\">\n              <div style=\"width:100%;height:100%;border-radius:1.5mm;overflow:hidden;background:white;\">\n                ${photo ? `<img src=\"${photo}\" style=\"width:100%;height:100%;object-fit:cover;\" />` : '<div style=\"width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#c9a84c;font-size:7pt;\">Photo</div>'}\n              </div>\n            </div>\n          </div>\n          <div style=\"flex:1;font-size:7pt;\">\n            <div style=\"font-size:11pt;font-weight:bold;color:#f5e6a3;margin-bottom:1.5mm;text-shadow:0 1px 2px rgba(0,0,0,0.3);\">${card?.name || ''}</div>\n            ${renderStaffDetails(card, settings, '#c9a84c')}\n          </div>\n        </div>\n        <div style=\"display:flex;justify-content:space-between;font-size:5pt;color:#c9a84c;opacity:0.8;margin-top:auto;padding-top:1mm;border-top:0.3mm solid rgba(201,168,76,0.3);\">\n          <span>${settings.showSchoolPhone && school?.phone ? 'ðŸ“ž ' + school.phone : ''}</span>\n          <span>${settings.showValidUntil ? 'Valid: ' + (card?.valid_until || (new Date().getFullYear() + 1)) : ''}</span>\n        </div>\n      </div>\n    </div>`;\n};\n\nconst renderExecutiveFront = (card, school, photo, settings, personType, gradient) => {\n  return `\n    <div class=\"id-card\" style=\"width:85.6mm;height:54mm;background:linear-gradient(135deg, #2d1b4e 0%, #1a1a2e 50%, #2d1b4e 100%);border-radius:3mm;overflow:hidden;position:relative;color:white;padding:3mm;box-sizing:border-box;border:0.5mm solid #8b5cf6;\">\n      <div style=\"position:absolute;top:-5mm;right:-5mm;width:25mm;height:25mm;background:radial-gradient(circle,rgba(139,92,246,0.2),transparent);border-radius:50%;\"></div>\n      <div style=\"position:absolute;bottom:-5mm;left:-5mm;width:20mm;height:20mm;background:radial-gradient(circle,rgba(139,92,246,0.15),transparent);border-radius:50%;\"></div>\n      ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.08;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:35mm;height:35mm;object-fit:contain;\" /></div>` : ''}\n      <div style=\"position:relative;z-index:1;height:100%;display:flex;flex-direction:column;\">\n        <div style=\"display:flex;align-items:center;gap:2mm;padding-bottom:1.5mm;border-bottom:0.5mm solid rgba(139,92,246,0.4);margin-bottom:2mm;\">\n          ${school?.logo_url ? `<div style=\"width:8mm;height:8mm;background:rgba(255,255,255,0.1);border-radius:50%;padding:0.5mm;flex-shrink:0;border:0.3mm solid rgba(139,92,246,0.5);\"><img src=\"${school.logo_url}\" style=\"width:100%;height:100%;object-fit:contain;border-radius:50%;\" /></div>` : ''}\n          <div style=\"flex:1;text-align:center;\">\n            <div style=\"font-size:9pt;font-weight:bold;text-transform:uppercase;letter-spacing:1px;background:linear-gradient(90deg,#c4b5fd,#e9d5ff,#c4b5fd);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;\">${school?.name || 'School'}</div>\n            ${settings.showSchoolAddress && school?.address ? `<div style=\"font-size:5pt;opacity:0.6;margin-top:0.3mm;\">${school.address}</div>` : ''}\n            <div style=\"font-size:5.5pt;background:linear-gradient(90deg,#8b5cf6,#a78bfa);padding:0.5mm 4mm;border-radius:2mm;display:inline-block;margin-top:0.8mm;font-weight:bold;letter-spacing:0.5px;box-shadow:0 1px 3px rgba(139,92,246,0.3);\">${card?.card_type || 'EXECUTIVE ADMINISTRATOR'}</div>\n          </div>\n        </div>\n        <div style=\"display:flex;gap:3mm;flex:1;\">\n          <div style=\"width:18mm;flex-shrink:0;\">\n            <div style=\"width:18mm;height:22mm;background:rgba(255,255,255,0.05);border-radius:2mm;border:0.5mm solid rgba(139,92,246,0.4);display:flex;align-items:center;justify-content:center;overflow:hidden;box-shadow:0 2px 6px rgba(0,0,0,0.2);\">\n              ${photo ? `<img src=\"${photo}\" style=\"width:100%;height:100%;object-fit:cover;\" />` : '<span style=\"color:#8b5cf6;font-size:7pt;\">Photo</span>'}\n            </div>\n          </div>\n          <div style=\"flex:1;font-size:7pt;\">\n            <div style=\"font-size:11pt;font-weight:bold;color:#e9d5ff;margin-bottom:1.5mm;\">${card?.name || ''}</div>\n            ${renderStaffDetails(card, settings, '#a78bfa')}\n          </div>\n        </div>\n        <div style=\"display:flex;justify-content:space-between;font-size:5pt;color:#a78bfa;opacity:0.8;margin-top:auto;padding-top:1mm;\">\n          <span>${settings.showSchoolPhone && school?.phone ? 'ðŸ“ž ' + school.phone : ''}</span>\n          <span>${settings.showValidUntil ? 'Valid: ' + (card?.valid_until || (new Date().getFullYear() + 1)) : ''}</span>\n        </div>\n      </div>\n    </div>`;\n};\n\nconst renderGoldShieldFront = (card, school, photo, settings, personType, gradient) => {\n  return `\n    <div class=\"id-card\" style=\"width:85.6mm;height:54mm;background:linear-gradient(160deg, #0c1220 0%, #1a2744 40%, #0c1220 100%);border-radius:3mm;overflow:hidden;position:relative;color:white;padding:3mm;box-sizing:border-box;border:1mm solid transparent;background-clip:padding-box;box-shadow:inset 0 0 0 0.5mm #d4a853;\">\n      <div style=\"position:absolute;top:2mm;right:3mm;font-size:22pt;opacity:0.12;color:#d4a853;\">ðŸ›¡</div>\n      ${school?.logo_url ? `<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.07;z-index:0;\"><img src=\"${school.logo_url}\" style=\"width:38mm;height:38mm;object-fit:contain;\" /></div>` : ''}\n      <div style=\"position:relative;z-index:1;height:100%;display:flex;flex-direction:column;\">\n        <div style=\"display:flex;align-items:center;gap:2mm;padding-bottom:1.5mm;margin-bottom:2mm;\">\n          ${school?.logo_url ? `<div style=\"width:10mm;height:10mm;background:linear-gradient(135deg,#d4a853,#f0d78c,#d4a853);border-radius:50%;padding:0.8mm;flex-shrink:0;box-shadow:0 2px 4px rgba(0,0,0,0.3);\"><img src=\"${school.logo_url}\" style=\"width:100%;height:100%;object-fit:contain;border-radius:50%;\" /></div>` : ''}\n          <div style=\"flex:1;text-align:center;\">\n            <div style=\"font-size:9pt;font-weight:bold;text-transform:uppercase;letter-spacing:1.5px;color:#f0d78c;text-shadow:0 1px 2px rgba(0,0,0,0.5);\">${school?.name || 'School'}</div>\n            <div style=\"height:0.3mm;background:linear-gradient(90deg,transparent,#d4a853,transparent);margin:1mm 5mm;\"></div>\n            <div style=\"font-size:6pt;color:#d4a853;font-weight:bold;letter-spacing:2px;margin-top:0.5mm;\">ðŸ›¡ ${card?.card_type || 'DIRECTOR / PRINCIPAL'} ðŸ›¡</div>\n          </div>\n        </div>\n        <div style=\"display:flex;gap:3mm;flex:1;\">\n          <div style=\"width:20mm;flex-shrink:0;\">\n            <div style=\"width:20mm;height:24mm;border-radius:2mm;overflow:hidden;border:0.8mm solid #d4a853;box-shadow:0 2px 8px rgba(0,0,0,0.3);\">\n              ${photo ? `<img src=\"${photo}\" style=\"width:100%;height:100%;object-fit:cover;\" />` : '<div style=\"width:100%;height:100%;background:#1a2744;display:flex;align-items:center;justify-content:center;color:#d4a853;font-size:7pt;\">Photo</div>'}\n            </div>\n          </div>\n          <div style=\"flex:1;font-size:7pt;\">\n            <div style=\"font-size:12pt;font-weight:bold;color:#f0d78c;margin-bottom:2mm;text-shadow:0 1px 3px rgba(0,0,0,0.3);\">${card?.name || ''}</div>\n            ${renderStaffDetails(card, settings, '#d4a853')}\n          </div>\n        </div>\n        <div style=\"display:flex;justify-content:space-between;font-size:5pt;color:#d4a853;opacity:0.8;margin-top:auto;padding-top:1mm;border-top:0.3mm solid rgba(212,168,83,0.3);\">\n          <span>${settings.showSchoolPhone && school?.phone ? 'ðŸ“ž ' + school.phone : ''}</span>\n          <span>${settings.showValidUntil ? 'Valid: ' + (card?.valid_until || (new Date().getFullYear() + 1)) : ''}</span>\n        </div>\n      </div>\n    </div>`;\n};\n\nconst TEMPLATE_RENDERERS = {\n  classic: renderClassicFront,\n  modern: renderModernFront,\n  elegant: renderElegantFront,\n  minimal: renderMinimalFront,\n  vertical: renderVerticalFront,\n  royal: renderRoyalFront,\n  executive: renderExecutiveFront,\n  gold_shield: renderGoldShieldFront,\n};\n\nexport default function IDCardViewer({ \n  personId, \n  personType = 'student',\n  schoolId,\n  isOpen,\n  onClose\n}) {\n  const [loading, setLoading] = useState(true);\n  const [cardData, setCardData] = useState(null);\n  const [showBack, setShowBack] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [settings, setSettings] = useState(loadIDCardSettings);\n  const printRef = useRef();\n\n  useEffect(() => {\n    if (personId && isOpen) {\n      fetchIDCard();\n    }\n  }, [personId, isOpen]);\n\n  const fetchIDCard = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const res = await fetch(`${API}/api/id-card/generate/${personType}/${personId}`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      if (res.ok) {\n        const data = await res.json();\n        setCardData(data);\n      } else {\n        toast.error('ID card generate nahi ho saka');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      toast.error('Error loading ID card');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateSetting = (key, value) => {\n    setSettings(prev => {\n      const updated = { ...prev, [key]: value };\n      saveIDCardSettings(updated);\n      return updated;\n    });\n  };\n\n  const gradient = getGradient(settings.colorTheme);\n\n  const getCardHtml = () => {\n    if (!cardData) return '';\n    const { id_card: card, school, photo } = cardData;\n    const renderer = TEMPLATE_RENDERERS[settings.template] || TEMPLATE_RENDERERS.classic;\n    return renderer(card, school, photo, settings, personType, gradient);\n  };\n\n  const getBackHtml = () => {\n    if (!cardData) return '';\n    const { id_card: card, school } = cardData;\n    return renderBack(card, school, personType, settings, gradient);\n  };\n\n  const printCard = () => {\n    const isVertical = settings.template === 'vertical';\n    const pageSize = isVertical ? '54mm 85.6mm' : '85.6mm 54mm';\n    const html = showBack ? getBackHtml() : getCardHtml();\n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(`<!DOCTYPE html><html><head><title>ID Card Print</title><style>@page{size:${pageSize};margin:0;}*{margin:0;padding:0;box-sizing:border-box;}body{font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f0f0f0;-webkit-print-color-adjust:exact;print-color-adjust:exact;}@media print{body{background:white;}}</style></head><body>${html}<script>window.onload=function(){setTimeout(function(){window.print();},500);}<\\/script></body></html>`);\n    printWindow.document.close();\n  };\n\n  const getPreviewStyle = () => {\n    const isVertical = settings.template === 'vertical';\n    return {\n      width: isVertical ? '215px' : '340px',\n      height: isVertical ? '340px' : '215px',\n    };\n  };\n\n  if (!isOpen) return null;\n\n  const card = cardData?.id_card;\n  const school = cardData?.school;\n  const photo = cardData?.photo;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className={`${showSettings ? 'max-w-3xl' : 'max-w-md'}`}>\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center justify-between\">\n            <span>{personType === 'student' ? 'Student' : 'Employee'} ID Card</span>\n            <Button size=\"sm\" variant={showSettings ? 'default' : 'outline'} className=\"gap-1.5 h-7 text-xs\" onClick={() => setShowSettings(!showSettings)}>\n              <Settings2 className=\"w-3.5 h-3.5\" />\n              {showSettings ? 'Hide Settings' : 'Settings'}\n            </Button>\n          </DialogTitle>\n        </DialogHeader>\n\n        {loading ? (\n          <div className=\"flex items-center justify-center py-10\">\n            <Loader2 className=\"w-8 h-8 animate-spin text-indigo-600\" />\n          </div>\n        ) : cardData ? (\n          <div className={showSettings ? 'flex gap-4' : ''}>\n            {showSettings && (\n              <div className=\"w-56 flex-shrink-0 space-y-3 border-r border-gray-100 pr-4 max-h-[60vh] overflow-y-auto\">\n                <div>\n                  <label className=\"text-xs font-semibold text-gray-700 mb-1.5 block flex items-center gap-1.5\"><Layout className=\"w-3.5 h-3.5\" /> Template</label>\n                  <div className=\"space-y-1\">\n                    {ID_CARD_TEMPLATES.filter(t => !t.adminOnly || personType === 'staff').map(t => (\n                      <button key={t.id} onClick={() => updateSetting('template', t.id)} className={`w-full text-left px-2.5 py-1.5 rounded-lg text-xs transition-all ${settings.template === t.id ? (t.adminOnly ? 'bg-amber-50 border border-amber-400 text-amber-800 font-semibold' : 'bg-blue-50 border border-blue-300 text-blue-700 font-semibold') : 'bg-gray-50 border border-gray-200 text-gray-600 hover:bg-gray-100'}`}>\n                        {t.name} <span className=\"text-gray-400\">({t.nameHi})</span>\n                        {t.adminOnly && <span className=\"ml-1 text-[9px] bg-amber-100 text-amber-700 px-1 py-0.5 rounded font-bold\">VIP</span>}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-xs font-semibold text-gray-700 mb-1.5 block flex items-center gap-1.5\"><Palette className=\"w-3.5 h-3.5\" /> Color Theme</label>\n                  <div className=\"grid grid-cols-4 gap-1.5\">\n                    {COLOR_THEMES.map(c => (\n                      <button key={c.id} onClick={() => updateSetting('colorTheme', c.id)} className={`w-full aspect-square rounded-lg border-2 transition-all ${settings.colorTheme === c.id ? 'border-gray-900 scale-110 shadow-md' : 'border-transparent hover:border-gray-300'}`} style={{background: `linear-gradient(135deg, ${c.colors[0]}, ${c.colors[1]})`}} title={c.name} />\n                    ))}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"text-xs font-semibold text-gray-700 mb-1.5 block\">Show/Hide Fields</label>\n                  <div className=\"space-y-1\">\n                    {personType === 'student' ? (\n                      <>\n                        {[\n                          ['showFatherName', \"Father's Name\"],\n                          ['showMotherName', \"Mother's Name\"],\n                          ['showRollNo', 'Roll No'],\n                          ['showAdmissionNo', 'Admission No'],\n                          ['showDOB', 'Date of Birth'],\n                          ['showBloodGroup', 'Blood Group'],\n                          ['showSamgraId', 'Samgra/PEN ID'],\n                          ['showAddress', 'Address'],\n                          ['showPhone', 'Parent Phone'],\n                          ['showAadhar', 'Aadhar No'],\n                        ].map(([key, label]) => (\n                          <label key={key} className=\"flex items-center gap-2 text-xs text-gray-600 cursor-pointer hover:text-gray-900\">\n                            <input type=\"checkbox\" checked={settings[key]} onChange={(e) => updateSetting(key, e.target.checked)} className=\"rounded border-gray-300 text-blue-600 w-3.5 h-3.5\" />\n                            {label}\n                          </label>\n                        ))}\n                      </>\n                    ) : (\n                      <>\n                        {[\n                          ['showDesignation', 'Designation'],\n                          ['showDepartment', 'Department'],\n                          ['showEmpId', 'Employee ID'],\n                          ['showBloodGroup', 'Blood Group'],\n                          ['showPhone', 'Phone Number'],\n                          ['showEmergencyContact', 'Emergency Contact'],\n                        ].map(([key, label]) => (\n                          <label key={key} className=\"flex items-center gap-2 text-xs text-gray-600 cursor-pointer hover:text-gray-900\">\n                            <input type=\"checkbox\" checked={settings[key]} onChange={(e) => updateSetting(key, e.target.checked)} className=\"rounded border-gray-300 text-blue-600 w-3.5 h-3.5\" />\n                            {label}\n                          </label>\n                        ))}\n                      </>\n                    )}\n                    <div className=\"border-t border-gray-100 pt-1 mt-1\">\n                      {[\n                        ['showSchoolAddress', 'School Address'],\n                        ['showSchoolPhone', 'School Phone'],\n                        ['showValidUntil', 'Valid Until'],\n                      ].map(([key, label]) => (\n                        <label key={key} className=\"flex items-center gap-2 text-xs text-gray-600 cursor-pointer hover:text-gray-900\">\n                          <input type=\"checkbox\" checked={settings[key]} onChange={(e) => updateSetting(key, e.target.checked)} className=\"rounded border-gray-300 text-blue-600 w-3.5 h-3.5\" />\n                          {label}\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <div className=\"flex-1\" ref={printRef}>\n              <div className=\"flex justify-center mb-3\">\n                <div className=\"inline-flex bg-slate-100 rounded-lg p-1\">\n                  <button onClick={() => setShowBack(false)} className={`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${!showBack ? 'bg-white shadow text-indigo-700' : 'text-slate-600 hover:text-slate-900'}`}>\n                    Front Side\n                  </button>\n                  <button onClick={() => setShowBack(true)} className={`px-4 py-1.5 rounded-md text-sm font-medium transition-all ${showBack ? 'bg-white shadow text-indigo-700' : 'text-slate-600 hover:text-slate-900'}`}>\n                    Back Side\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"flex justify-center\">\n                <div style={getPreviewStyle()} dangerouslySetInnerHTML={{ __html: showBack ? getBackHtml() : getCardHtml() }} />\n              </div>\n\n              <div className=\"flex justify-center gap-3 mt-4\">\n                <Button onClick={printCard} className=\"bg-indigo-600 hover:bg-indigo-700\">\n                  <Printer className=\"w-4 h-4 mr-2\" />\n                  Print {showBack ? 'Back' : 'Front'}\n                </Button>\n                <Button onClick={() => setShowBack(!showBack)} variant=\"outline\">\n                  <RotateCcw className=\"w-4 h-4 mr-2\" />\n                  Flip Card\n                </Button>\n              </div>\n              \n              <p className=\"text-center text-xs text-slate-500 mt-2\">\n                Print front first, then flip and print back. Standard PVC card size (85.6mm x 54mm)\n              </p>\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-center py-10 text-gray-500\">\n            ID Card data load nahi ho saka. Please try again.\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-blue-500 text-white shadow-sm hover:bg-blue-600 rounded-lg\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-gray-200 bg-white shadow-sm hover:bg-gray-50 text-gray-700 rounded-lg\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n  return (\n    <Comp\n      className={cn(buttonVariants({ variant, size, className }))}\n      ref={ref}\n      {...props} />\n  );\n})\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props} />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}>\n      {children}\n      <DialogPrimitive.Close\n        className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)}\n    {...props} />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)}\n    {...props} />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      className={cn(\n        \"flex h-9 w-full rounded-md border border-input bg-white px-3 py-1 text-base text-gray-900 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props} />\n  );\n})\nInput.displayName = \"Input\"\n\nexport { Input }\n","import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","import { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs) {\n  return twMerge(clsx(inputs));\n}\n"],"names":["ID_CARD_TEMPLATES","id","name","nameHi","desc","adminOnly","COLOR_THEMES","colors","DEFAULT_SETTINGS","template","colorTheme","showBloodGroup","showFatherName","showMotherName","showAddress","showDOB","showAdmissionNo","showRollNo","showPhone","showEmergencyContact","showDesignation","showDepartment","showEmpId","showSamgraId","showAadhar","showValidUntil","showSchoolPhone","showSchoolAddress","backSideContent","loadIDCardSettings","saved","localStorage","getItem","_objectSpread","JSON","parse","e","renderStudentDetails","card","settings","labelColor","labelStyle","concat","html","class","roll_no","admission_no","father_name","mother_name","dob","blood_group","samgra_id","address","parent_phone","phone","phoneColor","renderStaffDetails","designation","designation_hindi","department","id_number","emergency_contact","ecColor","TEMPLATE_RENDERERS","classic","renderClassicFront","school","photo","personType","gradient","logo_url","card_type","valid_until","Date","getFullYear","modern","renderModernFront","t","find","c","elegant","renderElegantFront","minimal","renderMinimalFront","vertical","renderVerticalFront","royal","renderRoyalFront","_card$role","isAdmin","is_higher_authority","includes","role","toLowerCase","executive","renderExecutiveFront","gold_shield","renderGoldShieldFront","IDCardViewer","_ref","personId","schoolId","isOpen","onClose","loading","setLoading","useState","cardData","setCardData","showBack","setShowBack","showSettings","setShowSettings","setSettings","printRef","useRef","useEffect","fetchIDCard","async","token","res","fetch","headers","ok","data","json","toast","error","console","updateSetting","key","value","prev","updated","setItem","stringify","saveIDCardSettings","theme","angle","arguments","length","undefined","getGradient","getCardHtml","id_card","getBackHtml","renderBack","isVertical","w","h","contentHtml","returnText","_jsx","Dialog","open","onOpenChange","children","_jsxs","DialogContent","className","DialogHeader","DialogTitle","Button","size","variant","onClick","Settings2","Loader2","Layout","filter","map","Palette","style","background","title","_Fragment","_ref2","label","type","checked","onChange","target","_ref3","_ref4","ref","getPreviewStyle","width","height","dangerouslySetInnerHTML","__html","printCard","pageSize","printWindow","window","document","write","close","Printer","RotateCcw","buttonVariants","cva","variants","default","destructive","outline","secondary","ghost","link","sm","lg","icon","defaultVariants","React","asChild","props","_objectWithoutProperties","_excluded","Comp","Slot","cn","displayName","DialogPrimitive","DialogTrigger","DialogPortal","DialogOverlay","_excluded2","X","_excluded3","_ref5","_excluded5","DialogDescription","_ref6","_excluded6","Input","labelVariants","Label","LabelPrimitive","_len","inputs","Array","_key","twMerge","clsx"],"sourceRoot":""}