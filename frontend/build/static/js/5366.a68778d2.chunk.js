/*! For license information please see 5366.a68778d2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5366],{5366(e,s,a){a.r(s),a.d(s,{default:()=>w});var t=a(2555),l=a(9950),r=a(5010),o=a(5030),c=a(5532),i=a(446),n=a(2989),d=a(5462),m=a(2257),x=a(1830),h=a(1654),u=a(7838),b=a(8890),g=a(4731),p=a(1946),f=a(1064),j=a(6910),y=a(2033),N=a(4414);const _=["CBSE","ICSE","MP Board","RBSE","UP Board","Bihar Board","Maharashtra Board","Tamil Nadu Board","Karnataka Board","AP Board","Telangana Board","Gujarat Board","Other State Board"],v=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Other"];function w(){const e=(0,r.Zp)(),{t:s}=(0,o.Bd)(),{setUser:a,setToken:w}=(0,c.As)(),[k,A]=(0,l.useState)(!1),[C,M]=(0,l.useState)(""),[S,B]=(0,l.useState)(null),[P,q]=(0,l.useState)(!1),[z,T]=(0,l.useState)(""),[H,D]=(0,l.useState)({school_name:"",school_board:"",school_city:"",school_state:"",school_phone:"",director_name:"",director_email:"",director_mobile:""}),E=e=>{D(s=>(0,t.A)((0,t.A)({},s),{},{[e.target.name]:e.target.value})),M("")},I=(e,s)=>{navigator.clipboard.writeText(e),T(s),y.oR.success("".concat(s," copied!")),setTimeout(()=>T(""),2e3)},O=()=>{null!==S&&void 0!==S&&S.access_token&&(localStorage.setItem("token",S.access_token),localStorage.setItem("user",JSON.stringify({id:S.director.id,name:S.director.name,email:S.director.email,role:"director",school_id:S.school.id})),w(S.access_token),a({id:S.director.id,name:S.director.name,email:S.director.email,role:"director",school_id:S.school.id}),j.A.defaults.headers.common.Authorization="Bearer ".concat(S.access_token),e("/app/dashboard"))};return S?(0,N.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:(0,N.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8 max-w-md w-full",children:[(0,N.jsxs)("div",{className:"text-center mb-6",children:[(0,N.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,N.jsx)(i.A,{className:"w-8 h-8 text-green-600"})}),(0,N.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:s("registration_successful")}),(0,N.jsx)("p",{className:"text-sm text-gray-500",children:s("save_login_details")})]}),(0,N.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mb-4",children:[(0,N.jsxs)("h3",{className:"font-semibold text-blue-900 text-sm mb-3 flex items-center gap-2",children:[(0,N.jsx)(g.A,{className:"w-4 h-4"})," ",s("school_details")]}),(0,N.jsxs)("div",{className:"space-y-1.5 text-sm",children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-gray-600",children:s("school_name")}),(0,N.jsx)("span",{className:"font-medium text-gray-900",children:S.school.name})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-gray-600",children:s("school_id")}),(0,N.jsxs)("button",{onClick:()=>I(S.school.id,"School ID"),className:"font-mono font-medium text-blue-600 flex items-center gap-1 hover:text-blue-700",children:[S.school.id," ",(0,N.jsx)(x.A,{className:"w-3 h-3"})]})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-gray-600",children:s("board")}),(0,N.jsx)("span",{className:"font-medium text-gray-900",children:S.school.board})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-gray-600",children:s("trial")}),(0,N.jsx)("span",{className:"font-medium text-green-600",children:s("days_free")})]})]})]}),(0,N.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 mb-4 border border-amber-200",children:[(0,N.jsxs)("h3",{className:"font-semibold text-amber-900 text-sm mb-3 flex items-center gap-2",children:[(0,N.jsx)(p.A,{className:"w-4 h-4"})," ",s("login_credentials_save")]}),(0,N.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsx)("span",{className:"text-gray-600",children:s("email")}),(0,N.jsxs)("button",{onClick:()=>I(S.director.email,"Email"),className:"font-medium text-gray-900 flex items-center gap-1 hover:text-blue-600",children:[S.director.email," ",(0,N.jsx)(x.A,{className:"w-3 h-3"})]})]}),(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsx)("span",{className:"text-gray-600",children:s("password")}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsx)("span",{className:"font-mono font-bold text-gray-900",children:P?S.generated_password:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,N.jsx)("button",{onClick:()=>q(!P),className:"text-gray-400 hover:text-gray-600",children:P?(0,N.jsx)(h.A,{className:"w-3.5 h-3.5"}):(0,N.jsx)(u.A,{className:"w-3.5 h-3.5"})}),(0,N.jsx)("button",{onClick:()=>I(S.generated_password,"Password"),className:"text-blue-600 hover:text-blue-700",children:(0,N.jsx)(x.A,{className:"w-3.5 h-3.5"})})]})]}),(0,N.jsxs)("div",{className:"flex justify-between items-center",children:[(0,N.jsx)("span",{className:"text-gray-600",children:s("role")}),(0,N.jsx)("span",{className:"font-medium text-gray-900",children:s("director_admin")})]})]})]}),(0,N.jsx)("p",{className:"text-xs text-red-500 text-center mb-4 font-medium",children:s("save_password_note")}),(0,N.jsxs)("button",{onClick:O,className:"w-full py-3.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold text-sm hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[s("go_to_dashboard")," ",(0,N.jsx)(m.A,{className:"w-4 h-4"})]}),(0,N.jsx)("button",{onClick:()=>e("/login"),className:"w-full mt-3 py-2.5 text-sm text-gray-500 hover:text-gray-700 transition-colors",children:s("or_sign_in_later")})]})}):(0,N.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,N.jsx)("nav",{className:"bg-white/80 backdrop-blur-xl border-b border-gray-100",children:(0,N.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,N.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,N.jsxs)("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,N.jsx)(d.A,{className:"w-4 h-4"}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:(0,N.jsx)(b.A,{className:"w-4 h-4 text-white"})}),(0,N.jsx)("span",{className:"font-bold text-gray-900",children:"Schooltino"})]})]}),(0,N.jsx)("button",{onClick:()=>e("/login"),className:"text-sm text-gray-600 hover:text-blue-600 font-medium",children:s("already_registered_sign_in")})]})})}),(0,N.jsxs)("div",{className:"max-w-lg mx-auto px-4 py-8 sm:py-12",children:[(0,N.jsxs)("div",{className:"text-center mb-8",children:[(0,N.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:s("register_your_school")}),(0,N.jsx)("p",{className:"text-gray-600 text-sm",children:s("fill_basic_details")}),(0,N.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-green-100 text-green-700 rounded-full text-xs font-medium mt-3",children:[(0,N.jsx)(i.A,{className:"w-3.5 h-3.5"})," ",s("password_auto_generated")]})]}),(0,N.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:[C&&(0,N.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:C}),(0,N.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),M(""),A(!0);try{const e=await j.A.post("".concat("","/api/auth/register-school"),{school_name:H.school_name,school_board:H.school_board,school_city:H.school_city,school_state:H.school_state,school_phone:H.school_phone,director_name:H.director_name,director_email:H.director_email,director_mobile:H.director_mobile});B(e.data)}catch(l){var a,t;M((null===(a=l.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.detail)||s("registration_failed"))}finally{A(!1)}},className:"space-y-5",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,N.jsx)(g.A,{className:"w-4 h-4 text-blue-600"})," ",s("school_information")]}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("school_name")," *"]}),(0,N.jsx)("input",{name:"school_name",value:H.school_name,onChange:E,placeholder:"e.g. Delhi Public School",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("board")," *"]}),(0,N.jsxs)("select",{name:"school_board",value:H.school_board,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-white",children:[(0,N.jsx)("option",{value:"",children:s("select_board")}),_.map(e=>(0,N.jsx)("option",{value:e,children:e},e))]})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("state")," *"]}),(0,N.jsxs)("select",{name:"school_state",value:H.school_state,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-white",children:[(0,N.jsx)("option",{value:"",children:s("select_state")}),v.map(e=>(0,N.jsx)("option",{value:e,children:e},e))]})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("city")," *"]}),(0,N.jsx)("input",{name:"school_city",value:H.school_city,onChange:E,placeholder:"e.g. Bhopal",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("phone")}),(0,N.jsx)("input",{name:"school_phone",value:H.school_phone,onChange:E,placeholder:"School phone",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]})]})]})]}),(0,N.jsxs)("div",{className:"border-t border-gray-100 pt-5",children:[(0,N.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,N.jsx)(f.A,{className:"w-4 h-4 text-blue-600"})," ",s("director_admin_details")]}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("director_name")," *"]}),(0,N.jsx)("input",{name:"director_name",value:H.director_name,onChange:E,placeholder:s("full_name"),required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s("email")," *"]}),(0,N.jsx)("input",{name:"director_email",type:"email",value:H.director_email,onChange:E,placeholder:"director@school.com",required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"}),(0,N.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:s("login_email_note")})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("mobile_number")}),(0,N.jsx)("input",{name:"director_mobile",value:H.director_mobile,onChange:E,placeholder:"10-digit mobile",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]})]})]}),(0,N.jsxs)("div",{className:"bg-blue-50 rounded-xl p-3 text-xs text-blue-700 flex items-start gap-2",children:[(0,N.jsx)(p.A,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,N.jsx)("span",{children:s("secure_password_note")})]}),(0,N.jsx)("button",{type:"submit",className:"w-full py-3.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold text-sm hover:shadow-lg hover:shadow-blue-500/25 transition-all flex items-center justify-center gap-2",disabled:k,children:k?(0,N.jsx)(n.A,{className:"w-4 h-4 animate-spin"}):(0,N.jsxs)(N.Fragment,{children:[s("register_school")," ",(0,N.jsx)(m.A,{className:"w-4 h-4"})]})})]})]}),(0,N.jsxs)("p",{className:"text-center text-sm text-gray-500 mt-6",children:[s("already_have_account")," ",(0,N.jsx)("button",{onClick:()=>e("/login"),className:"text-blue-600 hover:text-blue-700 font-medium",children:s("sign_in")})]})]})]})}},5462(e,s,a){a.d(s,{A:()=>t});const t=(0,a(6230).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2257(e,s,a){a.d(s,{A:()=>t});const t=(0,a(6230).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},446(e,s,a){a.d(s,{A:()=>t});const t=(0,a(6230).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},1830(e,s,a){a.d(s,{A:()=>t});const t=(0,a(6230).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},1654(e,s,a){a.d(s,{A:()=>t});const t=(0,a(6230).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},7838(e,s,a){a.d(s,{A:()=>t});const t=(0,a(6230).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2989(e,s,a){a.d(s,{A:()=>t});const t=(0,a(6230).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4731(e,s,a){a.d(s,{A:()=>t});const t=(0,a(6230).A)("school",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]])},1064(e,s,a){a.d(s,{A:()=>t});const t=(0,a(6230).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}}]);