/*! For license information please see 9367.fc3bcd09.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9367],{9630(e,t,a){a.d(t,{E:()=>d});var s=a(2555),l=a(3986),r=(a(9950),a(4364)),n=a(9332),o=a(4414);const i=["className","variant"],c=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:a}=e,r=(0,l.A)(e,i);return(0,o.jsx)("div",(0,s.A)({className:(0,n.cn)(c({variant:a}),t)},r))}},1111(e,t,a){a.d(t,{$:()=>m});var s=a(2555),l=a(3986),r=a(9950),n=a(2962),o=a(4364),i=a(9332),c=a(4414);const d=["className","variant","size","asChild"],x=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-500 text-white shadow-sm hover:bg-blue-600 rounded-lg",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-gray-200 bg-white shadow-sm hover:bg-gray-50 text-gray-700 rounded-lg",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),m=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:m=!1}=e,h=(0,l.A)(e,d);const p=m?n.DX:"button";return(0,c.jsx)(p,(0,s.A)({className:(0,i.cn)(x({variant:r,size:o,className:a})),ref:t},h))});m.displayName="Button"},4245(e,t,a){a.d(t,{BT:()=>b,Wu:()=>f,ZB:()=>g,Zp:()=>p,aR:()=>u});var s=a(2555),l=a(3986),r=a(9950),n=a(9332),o=a(4414);const i=["className"],c=["className"],d=["className"],x=["className"],m=["className"],h=["className"],p=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,i);return(0,o.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("rounded-xl border border-gray-200 bg-white text-gray-900 shadow-sm",a)},r))});p.displayName="Card";const u=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,c);return(0,o.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-5",a)},r))});u.displayName="CardHeader";const g=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,d);return(0,o.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",a)},r))});g.displayName="CardTitle";const b=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,x);return(0,o.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a)},r))});b.displayName="CardDescription";const f=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,m);return(0,o.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("p-5 pt-0",a)},r))});f.displayName="CardContent";r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,h);return(0,o.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("flex items-center p-5 pt-0",a)},r))}).displayName="CardFooter"},7255(e,t,a){a.d(t,{Cf:()=>y,L3:()=>j,c7:()=>v,lG:()=>u,rr:()=>N,zM:()=>g});var s=a(2555),l=a(3986),r=a(9950),n=a(9710),o=a(6479),i=a(9332),c=a(4414);const d=["className"],x=["className","children"],m=["className"],h=["className"],p=["className"],u=n.bL,g=n.l9,b=n.ZL,f=(n.bm,r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,d);return(0,c.jsx)(n.hJ,(0,s.A)({ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},r))}));f.displayName=n.hJ.displayName;const y=r.forwardRef((e,t)=>{let{className:a,children:r}=e,d=(0,l.A)(e,x);return(0,c.jsxs)(b,{children:[(0,c.jsx)(f,{}),(0,c.jsxs)(n.UC,(0,s.A)((0,s.A)({ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},d),{},{children:[r,(0,c.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,c.jsx)(o.A,{className:"h-4 w-4"}),(0,c.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});y.displayName=n.UC.displayName;const v=e=>{let{className:t}=e,a=(0,l.A)(e,m);return(0,c.jsx)("div",(0,s.A)({className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};v.displayName="DialogHeader";const j=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,h);return(0,c.jsx)(n.hE,(0,s.A)({ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a)},r))});j.displayName=n.hE.displayName;const N=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,p);return(0,c.jsx)(n.VY,(0,s.A)({ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a)},r))});N.displayName=n.VY.displayName},4779(e,t,a){a.d(t,{p:()=>c});var s=a(2555),l=a(3986),r=a(9950),n=a(9332),o=a(4414);const i=["className","type"],c=r.forwardRef((e,t)=>{let{className:a,type:r}=e,c=(0,l.A)(e,i);return(0,o.jsx)("input",(0,s.A)({type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},c))});c.displayName="Input"},9093(e,t,a){a.d(t,{T:()=>c});var s=a(2555),l=a(3986),r=a(9950),n=a(9332),o=a(4414);const i=["className"],c=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,i);return(0,o.jsx)("textarea",(0,s.A)({className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},r))});c.displayName="Textarea"},9332(e,t,a){a.d(t,{cn:()=>r});var s=a(2004),l=a(9800);function r(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,s.$)(t))}},9367(e,t,a){a.r(t),a.d(t,{default:()=>Z});var s=a(2555),l=a(9950),r=a(5010),n=a(5030),o=a(5532),i=a(6910),c=a(1111),d=a(4779),x=a(9093),m=a(9630),h=a(7255),p=a(2989),u=a(903),g=a(5833),b=a(9469),f=a(9975),y=a(9201),v=a(1850),j=a(7637),N=a(8134);const w=(0,a(6230).A)("clipboard-check",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var A=a(7304),k=a(6195),C=a(1064),R=a(8890),_=a(9318),S=a(5332),M=a(2443),z=a(3147),L=a(6447),P=a(8108),T=a(983),q=a(9409),I=a(2737),E=a(1420),F=a(2033),B=a(4245),D=a(4814),V=a(7834),O=a(4414);function H(e){let{staffId:t,staffName:a,schoolId:r,onComplete:n}=e;const[o,i]=(0,l.useState)(!1),[d,x]=(0,l.useState)(!1),[m,h]=(0,l.useState)(null),[u,f]=(0,l.useState)({}),[y,v]=(0,l.useState)(null),[j,N]=(0,l.useState)("passport"),w=(0,l.useRef)(null),k=(0,l.useRef)(null),C=[{id:"passport",label:"Passport Photo",description:"Front facing, clear face",required:!0},{id:"front",label:"Front View",description:"Natural expression",required:!0},{id:"left",label:"Left Profile",description:"30-45 degree left turn",required:!1},{id:"right",label:"Right Profile",description:"30-45 degree right turn",required:!1}];(0,l.useEffect)(()=>(t&&R(),()=>{_()}),[t]);const R=async()=>{try{const e=await fetch("".concat("","/api/face-recognition/staff/enrollment-status/").concat(t));if(e.ok){const t=await e.json();v(t),t.photos&&f(t.photos)}}catch(e){console.error("Error fetching enrollment status:",e)}},_=()=>{m&&(m.getTracks().forEach(e=>e.stop()),h(null)),x(!1)},S=async e=>{i(!0);try{const l=await fetch("".concat("","/api/face-recognition/staff/upload-photo"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({staff_id:t,school_id:r,photo_base64:e,photo_type:j,capture_device:"webcam"})}),o=await l.json();if(o.success){F.oR.success(o.message||"Photo uploaded successfully!"),f(e=>(0,s.A)((0,s.A)({},e),{},{[j]:{id:o.photo_id,quality_score:o.quality_score}}));const e=C.findIndex(e=>e.id===j);e<C.length-1?N(C[e+1].id):(_(),F.oR.success("Sabhi photos upload ho gaye! \ud83c\udf89"),null===n||void 0===n||n()),R()}else{var a;if(F.oR.error(o.error||"Photo upload failed"),"retake"===o.action)F.oR.info((null===(a=o.recommendations)||void 0===a?void 0:a.join(". "))||"Please try again with better lighting")}}catch(l){F.oR.error("Upload failed. Please try again.")}finally{i(!1)}},M=Object.keys(u).length,z=C.filter(e=>e.required).length;Math.min(M/z*100,100);return(0,O.jsxs)(B.Zp,{className:"border-blue-200",children:[(0,O.jsxs)(B.aR,{children:[(0,O.jsxs)(B.ZB,{className:"flex items-center gap-2",children:[(0,O.jsx)(E.A,{className:"w-5 h-5 text-blue-600"}),"Face Recognition Setup"]}),(0,O.jsxs)(B.BT,{children:[a||"Staff"," ke liye photos upload karein AI recognition ke liye"]})]}),(0,O.jsxs)(B.Wu,{className:"space-y-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,O.jsx)("span",{className:"text-slate-600",children:"Enrollment Progress"}),(0,O.jsxs)("span",{className:"font-medium text-blue-600",children:[M,"/",C.length," photos"]})]}),(0,O.jsx)("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,O.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 transition-all duration-500",style:{width:"".concat(M/C.length*100,"%")}})})]}),(0,O.jsx)("div",{className:"grid grid-cols-2 gap-3",children:C.map(e=>{var t;const a=u[e.id],l=j===e.id;return(0,O.jsxs)("div",{onClick:()=>!a&&N(e.id),className:"p-3 rounded-xl border-2 cursor-pointer transition-all ".concat(a?"border-emerald-500 bg-emerald-50":l?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"),children:[(0,O.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,O.jsx)("span",{className:"text-sm font-medium ".concat(a?"text-emerald-700":l?"text-blue-700":"text-slate-700"),children:e.label}),a?(0,O.jsx)(g.A,{className:"w-4 h-4 text-emerald-500"}):e.required?(0,O.jsx)("span",{className:"text-xs text-amber-600 bg-amber-50 px-1.5 py-0.5 rounded",children:"Required"}):null]}),(0,O.jsx)("p",{className:"text-xs text-slate-500",children:e.description}),a&&(0,O.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,O.jsxs)("span",{className:"text-xs text-emerald-600",children:["Quality: ",(null===(t=u[e.id])||void 0===t?void 0:t.quality_score)||"N/A","%"]}),(0,O.jsx)("button",{onClick:t=>{t.stopPropagation(),(async(e,t)=>{try{(await fetch("".concat("","/api/face-recognition/staff/photo/").concat(e),{method:"DELETE"})).ok&&(F.oR.success("Photo deleted"),f(e=>{const a=(0,s.A)({},e);return delete a[t],a}),R())}catch(a){F.oR.error("Delete failed")}})(u[e.id].id,e.id)},className:"text-xs text-red-500 hover:text-red-700",children:(0,O.jsx)(D.A,{className:"w-3 h-3"})})]})]},e.id)})}),d?(0,O.jsxs)("div",{className:"space-y-3",children:[(0,O.jsxs)("div",{className:"relative rounded-xl overflow-hidden bg-black aspect-video",children:[(0,O.jsx)("video",{ref:w,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,O.jsx)("canvas",{ref:k,className:"hidden"}),(0,O.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,O.jsx)("div",{className:"absolute inset-0 border-4 border-dashed border-white/30 m-8 rounded-full"}),(0,O.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm",children:[j.replace("_"," ").toUpperCase()," - Face center mein rakhein"]})]})]}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsxs)(c.$,{onClick:async()=>{if(!w.current||!k.current)return;const e=w.current,t=k.current;t.width=e.videoWidth,t.height=e.videoHeight;t.getContext("2d").drawImage(e,0,0);const a=t.toDataURL("image/jpeg",.8).split(",")[1];await S(a)},disabled:o,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[o?(0,O.jsx)(p.A,{className:"w-4 h-4 animate-spin mr-2"}):(0,O.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Capture Photo"]}),(0,O.jsxs)(c.$,{variant:"outline",onClick:_,children:[(0,O.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsxs)(c.$,{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"}});h(e),w.current&&(w.current.srcObject=e),x(!0)}catch(e){F.oR.error("Camera access denied. Please allow camera permission."),console.error("Camera error:",e)}},className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[(0,O.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Open Camera"]}),(0,O.jsxs)("label",{className:"flex-1",children:[(0,O.jsx)(c.$,{variant:"outline",className:"w-full",asChild:!0,children:(0,O.jsxs)("span",{children:[(0,O.jsx)(V.A,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})}),(0,O.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=async e=>{const t=e.target.result.split(",")[1];await S(t)},a.readAsDataURL(t)},className:"hidden"})]})]}),(0,O.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4",children:(0,O.jsxs)("div",{className:"flex items-start gap-3",children:[(0,O.jsx)(A.A,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm font-medium text-indigo-800",children:"AI Face Recognition"}),(0,O.jsx)("p",{className:"text-xs text-indigo-600 mt-1",children:"Ye photos AI ko aapko recognize karne mein help karenge. Jab aap school mein enter karenge, AI automatically aapko greet karega!"})]})]})}),y&&(0,O.jsx)("div",{className:"bg-slate-50 rounded-lg p-3",children:(0,O.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,O.jsx)("span",{className:"text-slate-600",children:"Recognition Ready:"}),(0,O.jsx)("span",{className:"font-medium ".concat(y.can_use_recognition?"text-emerald-600":"text-amber-600"),children:y.can_use_recognition?"Yes \u2713":"More photos needed"})]})})]})]})}var U=a(3909);const $="".concat("","/api"),G=()=>(0,O.jsxs)("span",{className:"inline-flex flex-col ml-1 -space-y-1 opacity-40",children:[(0,O.jsx)("span",{className:"text-[8px] leading-none",children:"\u25b2"}),(0,O.jsx)("span",{className:"text-[8px] leading-none",children:"\u25bc"})]});function Z(){const{t:e}=(0,n.Bd)(),t=(0,r.Zp)(),{user:a,logout:B}=(0,o.As)(),[D,V]=(0,l.useState)(!0),[Z,Y]=(0,l.useState)(""),[J,W]=(0,l.useState)(1),[Q,K]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[se,le]=(0,l.useState)({present:0,absent:0,total:0}),[re,ne]=(0,l.useState)(!1),[oe,ie]=(0,l.useState)(!1),[ce,de]=(0,l.useState)(!1),[xe,me]=(0,l.useState)({leave_type:"casual",from_date:"",to_date:"",reason:""}),[he,pe]=(0,l.useState)({title:"",content:""}),[ue,ge]=(0,l.useState)([]),be="principal"===(null===a||void 0===a?void 0:a.role)||"vice_principal"===(null===a||void 0===a?void 0:a.role)||"director"===(null===a||void 0===a?void 0:a.role);(0,l.useEffect)(()=>{ye(),fe()},[]);const fe=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat($,"/teacher/requests"),{headers:{Authorization:"Bearer ".concat(e)}});ge(t.data||[])}catch(e){}},ye=async()=>{V(!0);try{var e,t;const[s,l,r]=await Promise.allSettled([i.A.get("".concat($,"/classes?school_id=").concat(null===a||void 0===a?void 0:a.school_id)),i.A.get("".concat($,"/notices?limit=5")),i.A.get("".concat($,"/leave/pending"))]);"fulfilled"===s.status&&K((null===(e=s.value.data)||void 0===e?void 0:e.slice(0,6))||[]),"fulfilled"===l.status&&ee((null===(t=l.value.data)||void 0===t?void 0:t.slice(0,5))||[]),"fulfilled"===r.status&&ae(r.value.data||[]),le({present:42,absent:3,total:45})}catch(s){console.error("Fetch error:",s)}finally{V(!1)}};if(D)return(0,O.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,O.jsx)(p.A,{className:"w-8 h-8 animate-spin text-blue-500"})});const ve=[{label:e("classes"),value:Q.length,icon:u.A,subtext:"Assigned class sections",bgColor:"bg-blue-50",iconColor:"text-blue-500"},{label:e("present"),value:se.present,icon:g.A,subtext:"Students present today",bgColor:"bg-green-50",iconColor:"text-green-500"},{label:e("absent"),value:se.absent,icon:b.A,subtext:"Students absent today",bgColor:"bg-red-50",iconColor:"text-red-500"},{label:e("total_students"),value:se.total,icon:f.A,subtext:"Across all your classes",bgColor:"bg-indigo-50",iconColor:"text-indigo-500"},{label:e("leave"),value:te.length,icon:y.A,subtext:"Awaiting your approval",bgColor:"bg-amber-50",iconColor:"text-amber-500"},{label:e("notices"),value:X.length,icon:v.A,subtext:"Published announcements",bgColor:"bg-cyan-50",iconColor:"text-cyan-500"},{label:e("exams"),value:0,icon:j.A,subtext:"Upcoming examinations",bgColor:"bg-purple-50",iconColor:"text-purple-500"},{label:e("attendance"),value:se.total>0?"".concat(Math.round(se.present/se.total*100),"%"):"0%",icon:N.A,subtext:"Overall attendance percentage",bgColor:"bg-emerald-50",iconColor:"text-emerald-500"}],je=[{id:"smartroll",name:"SmartRoll",desc:"Automated attendance marking via biometric & AI face recognition.",icon:w,image:"/images/smartroll.png",gradient:"from-orange-500 to-orange-600",lightBg:"bg-orange-50",iconColor:"text-orange-600",action:()=>t("/app/attendance")},{id:"papergenie",name:"PaperGenie",desc:"Generates syllabus-based question papers instantly using AI.",icon:A.A,image:"/images/papergenie.png",gradient:"from-pink-500 to-pink-600",lightBg:"bg-pink-50",iconColor:"text-pink-600",action:()=>t("/app/ai-paper")},{id:"classtino",name:"ClassTino",desc:"View & manage your assigned classes and schedules.",icon:u.A,image:"/images/classtino.png",gradient:"from-emerald-500 to-emerald-600",lightBg:"bg-emerald-50",iconColor:"text-emerald-600",action:()=>t("/app/classes")},{id:"examtino",name:"ExamTino",desc:"Exam management, report cards & result processing.",icon:j.A,image:"/images/examtino.png",gradient:"from-purple-500 to-purple-600",lightBg:"bg-purple-50",iconColor:"text-purple-600",action:()=>t("/app/exam-report")},{id:"tinoai",name:"TinoAI",desc:"AI Command Center - voice assistant & smart automation.",icon:k.A,image:"/images/tinoai.png",gradient:"from-violet-500 to-violet-600",lightBg:"bg-violet-50",iconColor:"text-violet-600",action:()=>t("/app/tino-ai")},{id:"noticeboard",name:"NoticeBoard",desc:"Send announcements & notices to students and parents.",icon:v.A,image:"/images/noticeboard.png",gradient:"from-blue-500 to-blue-600",lightBg:"bg-blue-50",iconColor:"text-blue-600",action:()=>ie(!0)}],Ne=[{icon:w,label:"Mark Attendance",desc:"Daily attendance tracking",action:()=>t("/app/attendance")},{icon:A.A,label:"AI Paper Generator",desc:"Auto generate papers",action:()=>t("/app/ai-paper")},{icon:v.A,label:"Send Notice",desc:"Send announcements",action:()=>ie(!0)},{icon:y.A,label:"Apply Leave",desc:"Submit leave application",action:()=>ne(!0)},{icon:u.A,label:"My Classes",desc:"View assigned classes",action:()=>t("/app/classes")},{icon:k.A,label:"Tino AI",desc:"AI Assistant",action:()=>t("/app/tino-ai")},{icon:j.A,label:"Exam Reports",desc:"View exam results",action:()=>t("/app/exam-report")},{icon:C.A,label:"My Profile",desc:"Profile & Settings",action:()=>de(!0)}].filter(e=>{if(!Z)return!0;const t=Z.toLowerCase();return e.label.toLowerCase().includes(t)||e.desc.toLowerCase().includes(t)}),we=Math.ceil(Ne.length/5),Ae=5*(J-1),ke=Ne.slice(Ae,Ae+5);return(0,O.jsxs)("div",{className:"min-h-screen bg-gray-50 relative","data-testid":"teachtino-dashboard",children:[(0,O.jsx)(U.Go,{}),(0,O.jsxs)("header",{className:"bg-white sticky top-0 z-40 shadow-sm",children:[(0,O.jsx)("div",{className:"h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),(0,O.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-3",children:(0,O.jsxs)("div",{className:"flex items-center justify-between",children:[(0,O.jsxs)("div",{className:"flex items-center gap-3",children:[(0,O.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-sm",children:(0,O.jsx)(R.A,{className:"w-6 h-6 text-white"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{className:"font-bold text-gray-800",children:"TeachTino"}),(0,O.jsx)("p",{className:"text-xs text-gray-400",children:null===a||void 0===a?void 0:a.name})]})]}),(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>de(!0),className:"text-gray-600 hover:bg-gray-100",children:(0,O.jsx)(_.A,{className:"w-5 h-5"})}),(0,O.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{B(),t("/teachtino")},className:"text-red-600 hover:bg-red-50",children:(0,O.jsx)(S.A,{className:"w-5 h-5"})})]})]})})]}),(0,O.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-5 pb-24 space-y-6",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,O.jsxs)("button",{className:"flex items-center gap-1.5 px-3.5 py-1.5 bg-blue-500 text-white rounded-lg text-xs font-medium hover:bg-blue-600 transition-colors shadow-sm",children:[(0,O.jsx)(M.A,{className:"w-3.5 h-3.5"}),e("home")]}),(0,O.jsx)("span",{className:"text-gray-400",children:"\u203a"}),(0,O.jsx)("span",{className:"text-gray-500 text-xs",children:e("dashboard")})]}),(0,O.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-100",children:[(0,O.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Welcome back, ",(null===a||void 0===a?void 0:a.name)||"Teacher","!"]}),(0,O.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e("dashboard")})]}),(0,O.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:ve.map((e,t)=>(0,O.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[(0,O.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,O.jsx)("span",{className:"text-sm text-slate-500 font-medium",children:e.label}),(0,O.jsx)("div",{className:"w-8 h-8 ".concat(e.bgColor," rounded-lg flex items-center justify-center"),children:(0,O.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.iconColor)})})]}),(0,O.jsx)("div",{className:"text-2xl font-bold text-slate-800 mb-1",children:e.value}),(0,O.jsx)("div",{className:"text-xs text-slate-400",children:e.subtext})]},t))}),(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:"mb-4",children:[(0,O.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Key Features"}),(0,O.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Powerful tools designed to enhance your teaching experience."})]}),(0,O.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-5",children:je.map(e=>(0,O.jsxs)("div",{onClick:e.action,className:"group cursor-pointer bg-white rounded-xl border border-gray-200 p-4 shadow-sm hover:shadow-md hover:scale-[1.02] transition-all duration-300",children:[(0,O.jsx)("div",{className:"w-12 h-12 ".concat(e.lightBg," rounded-xl flex items-center justify-center mb-3"),children:(0,O.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.iconColor)})}),(0,O.jsx)("h3",{className:"font-bold text-gray-900 text-sm mb-1",children:e.name}),(0,O.jsx)("p",{className:"text-xs text-gray-500 leading-relaxed line-clamp-2",children:e.desc})]},e.id))})]}),(0,O.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,O.jsx)("div",{className:"px-5 pt-5 pb-4",children:(0,O.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),(0,O.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:'List of actions available. Use the "Open" button to navigate.'})]}),(0,O.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,O.jsx)(z.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,O.jsx)("input",{type:"text",placeholder:"Search keyword",value:Z,onChange:e=>{Y(e.target.value),W(1)},className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-blue-400 w-full sm:w-56 text-gray-700 bg-white"})]})]})}),(0,O.jsx)("div",{className:"overflow-x-auto",children:(0,O.jsxs)("table",{className:"w-full",children:[(0,O.jsx)("thead",{children:(0,O.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,O.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Module Name ",(0,O.jsx)(G,{})]}),(0,O.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Description ",(0,O.jsx)(G,{})]}),(0,O.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Action"})]})}),(0,O.jsx)("tbody",{children:ke.map((e,t)=>(0,O.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,O.jsx)("td",{className:"px-5 py-3.5",children:(0,O.jsxs)("div",{className:"flex items-center gap-3",children:[(0,O.jsx)(e.icon,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),(0,O.jsx)("span",{className:"text-sm text-gray-800",children:e.label})]})}),(0,O.jsx)("td",{className:"px-5 py-3.5 hidden sm:table-cell",children:(0,O.jsx)("span",{className:"text-sm text-gray-500",children:e.desc})}),(0,O.jsx)("td",{className:"px-5 py-3.5 text-right",children:(0,O.jsx)("button",{onClick:e.action,className:"px-5 py-1.5 bg-blue-500 text-white text-xs font-medium rounded hover:bg-blue-600 transition-colors",children:"Open"})})]},t))})]})}),(0,O.jsxs)("div",{className:"px-5 py-3 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-2",children:[(0,O.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",Ae+1," to ",Math.min(Ae+5,Ne.length)," of ",Ne.length]}),(0,O.jsxs)("div",{className:"flex items-center gap-1",children:[(0,O.jsx)("button",{onClick:()=>W(1),disabled:1===J,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,O.jsx)(L.A,{className:"w-4 h-4"})}),(0,O.jsx)("button",{onClick:()=>W(e=>Math.max(1,e-1)),disabled:1===J,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,O.jsx)(P.A,{className:"w-4 h-4"})}),(()=>{const e=[];let t=Math.max(1,J-Math.floor(2.5)),a=Math.min(we,t+5-1);a-t+1<5&&(t=Math.max(1,a-5+1));for(let s=t;s<=a;s++)e.push(s);return e})().map(e=>(0,O.jsx)("button",{onClick:()=>W(e),className:"w-8 h-8 flex items-center justify-center rounded text-sm font-medium transition-colors ".concat(J===e?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"),children:e},e)),(0,O.jsx)("button",{onClick:()=>W(e=>Math.min(we,e+1)),disabled:J===we,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,O.jsx)(T.A,{className:"w-4 h-4"})}),(0,O.jsx)("button",{onClick:()=>W(we),disabled:J===we,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,O.jsx)(q.A,{className:"w-4 h-4"})})]})]})]}),be&&te.length>0&&(0,O.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,O.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,O.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Pending Leave Approvals"}),(0,O.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Staff leave requests awaiting your approval."})]}),(0,O.jsx)("div",{className:"overflow-x-auto",children:(0,O.jsxs)("table",{className:"w-full",children:[(0,O.jsx)("thead",{children:(0,O.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,O.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Staff Name ",(0,O.jsx)(G,{})]}),(0,O.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Type ",(0,O.jsx)(G,{})]}),(0,O.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden md:table-cell whitespace-nowrap",children:["Reason ",(0,O.jsx)(G,{})]}),(0,O.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Action"})]})}),(0,O.jsx)("tbody",{children:te.slice(0,5).map(t=>(0,O.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,O.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:t.user_name||"Staff"}),(0,O.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell capitalize",children:t.leave_type}),(0,O.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden md:table-cell",children:t.reason}),(0,O.jsx)("td",{className:"px-5 py-3.5 text-right",children:(0,O.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,O.jsx)("button",{onClick:()=>(async e=>{try{await i.A.post("".concat($,"/leave/").concat(e,"/approve")),F.oR.success("Leave approved!"),ye()}catch(t){F.oR.error("Failed to approve")}})(t.id),className:"px-4 py-1.5 bg-green-500 text-white text-xs font-medium rounded hover:bg-green-600 transition-colors",children:e("approve")}),(0,O.jsx)("button",{onClick:()=>(async e=>{try{await i.A.post("".concat($,"/leave/").concat(e,"/reject")),F.oR.success("Leave rejected"),ye()}catch(t){F.oR.error("Failed to reject")}})(t.id),className:"px-4 py-1.5 bg-red-500 text-white text-xs font-medium rounded hover:bg-red-600 transition-colors",children:e("reject")})]})})]},t.id))})]})})]}),X.length>0&&(0,O.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,O.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,O.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Notices"}),(0,O.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Latest announcements and notices."})]}),(0,O.jsx)("div",{className:"overflow-x-auto",children:(0,O.jsxs)("table",{className:"w-full",children:[(0,O.jsx)("thead",{children:(0,O.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,O.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Title ",(0,O.jsx)(G,{})]}),(0,O.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Content ",(0,O.jsx)(G,{})]})]})}),(0,O.jsx)("tbody",{children:X.map(e=>(0,O.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,O.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:e.title}),(0,O.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell line-clamp-1",children:e.content})]},e.id))})]})})]}),ue.length>0&&(0,O.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,O.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,O.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"My Requests (\u092e\u0947\u0930\u0947 \u0905\u0928\u0941\u0930\u094b\u0927)"}),(0,O.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Your requests sent to admin for approval."})]}),(0,O.jsx)("div",{className:"overflow-x-auto",children:(0,O.jsxs)("table",{className:"w-full",children:[(0,O.jsx)("thead",{children:(0,O.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,O.jsx)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Title"}),(0,O.jsx)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:"Type"}),(0,O.jsx)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Status"}),(0,O.jsx)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden md:table-cell whitespace-nowrap",children:"Admin Note"})]})}),(0,O.jsx)("tbody",{children:ue.slice(0,10).map(t=>(0,O.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,O.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:t.title}),(0,O.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell capitalize",children:t.request_type}),(0,O.jsx)("td",{className:"px-5 py-3.5",children:(0,O.jsx)("span",{className:"inline-flex px-2.5 py-1 rounded-full text-xs font-medium ".concat("approved"===t.status?"bg-green-100 text-green-700":"rejected"===t.status?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"),children:"pending"===t.status?e("pending"):"approved"===t.status?e("approved"):e("rejected")})}),(0,O.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden md:table-cell",children:t.review_note||"-"})]},t.id))})]})})]})]}),(0,O.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white z-50 shadow-[0_-2px_10px_rgba(0,0,0,0.05)]",children:(0,O.jsx)("div",{className:"grid grid-cols-5 gap-1 p-2 max-w-lg mx-auto",children:[{icon:M.A,label:e("home"),active:!0,action:()=>{}},{icon:u.A,label:e("classes"),action:()=>t("/app/classes")},{icon:w,label:e("attendance"),action:()=>t("/app/attendance")},{icon:v.A,label:e("notices"),action:()=>t("/app/notices")},{icon:k.A,label:"Tino AI",action:()=>t("/app/tino-ai")}].map((e,t)=>(0,O.jsxs)("button",{onClick:e.action,className:"flex flex-col items-center gap-1 p-2 rounded-lg ".concat(e.active?"text-blue-600 bg-blue-50":"text-gray-600"),children:[(0,O.jsx)(e.icon,{className:"w-5 h-5"}),(0,O.jsx)("span",{className:"text-xs",children:e.label})]},t))})}),(0,O.jsx)(h.lG,{open:re,onOpenChange:ne,children:(0,O.jsxs)(h.Cf,{className:"bg-white rounded-xl",children:[(0,O.jsx)(h.c7,{className:"border-b border-gray-100 pb-3",children:(0,O.jsx)(h.L3,{className:"text-base font-semibold text-gray-800",children:"Apply for Leave"})}),(0,O.jsxs)("div",{className:"space-y-4 py-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Leave Type"}),(0,O.jsxs)("select",{value:xe.leave_type,onChange:e=>me((0,s.A)((0,s.A)({},xe),{},{leave_type:e.target.value})),className:"w-full mt-2 p-2 border border-gray-200 rounded-lg text-gray-700 focus:outline-none focus:border-blue-500",children:[(0,O.jsx)("option",{value:"casual",children:"Casual Leave"}),(0,O.jsx)("option",{value:"sick",children:"Sick Leave"}),(0,O.jsx)("option",{value:"earned",children:"Earned Leave"})]})]}),(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"From Date"}),(0,O.jsx)(d.p,{type:"date",value:xe.from_date,onChange:e=>me((0,s.A)((0,s.A)({},xe),{},{from_date:e.target.value})),className:"mt-2 border-gray-200"})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"To Date"}),(0,O.jsx)(d.p,{type:"date",value:xe.to_date,onChange:e=>me((0,s.A)((0,s.A)({},xe),{},{to_date:e.target.value})),className:"mt-2 border-gray-200"})]})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Reason"}),(0,O.jsx)(x.T,{value:xe.reason,onChange:e=>me((0,s.A)((0,s.A)({},xe),{},{reason:e.target.value})),placeholder:"Enter reason for leave...",className:"mt-2 border-gray-200"})]}),(0,O.jsx)(c.$,{className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",onClick:async()=>{if(xe.from_date&&xe.to_date&&xe.reason)try{await i.A.post("".concat($,"/leave/apply"),(0,s.A)((0,s.A)({},xe),{},{school_id:null===a||void 0===a?void 0:a.school_id})),F.oR.success("Leave applied successfully!"),ne(!1),me({leave_type:"casual",from_date:"",to_date:"",reason:""})}catch(e){F.oR.error("Failed to apply leave")}else F.oR.error("Please fill all fields")},children:"Submit Application"})]})]})}),(0,O.jsx)(h.lG,{open:oe,onOpenChange:ie,children:(0,O.jsxs)(h.Cf,{className:"bg-white rounded-xl",children:[(0,O.jsx)(h.c7,{className:"border-b border-gray-100 pb-3",children:(0,O.jsx)(h.L3,{className:"text-base font-semibold text-gray-800",children:"Send Notice"})}),(0,O.jsxs)("div",{className:"space-y-4 py-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),(0,O.jsx)(d.p,{value:he.title,onChange:e=>pe((0,s.A)((0,s.A)({},he),{},{title:e.target.value})),placeholder:"Notice title...",className:"mt-2 border-gray-200"})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Content"}),(0,O.jsx)(x.T,{value:he.content,onChange:e=>pe((0,s.A)((0,s.A)({},he),{},{content:e.target.value})),placeholder:"Notice content...",rows:4,className:"mt-2 border-gray-200"})]}),(0,O.jsxs)(c.$,{className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",onClick:async()=>{if(he.title&&he.content)try{const e=localStorage.getItem("token");await i.A.post("".concat($,"/teacher/requests"),{request_type:"notice",title:"Notice: ".concat(he.title),description:he.content,data:(0,s.A)((0,s.A)({},he),{},{target_audience:["students","parents"],priority:"normal"})},{headers:{Authorization:"Bearer ".concat(e)}}),F.oR.success("Notice submitted for admin approval! Admin will review and publish it."),ie(!1),pe({title:"",content:""}),fe()}catch(e){F.oR.error("Failed to submit notice request")}else F.oR.error("Please fill all fields")},children:[(0,O.jsx)(I.A,{className:"w-4 h-4 mr-2"})," Send Notice"]})]})]})}),(0,O.jsx)(h.lG,{open:ce,onOpenChange:de,children:(0,O.jsxs)(h.Cf,{className:"max-w-md bg-white rounded-xl",children:[(0,O.jsx)(h.c7,{className:"border-b border-gray-100 pb-3",children:(0,O.jsx)(h.L3,{className:"text-base font-semibold text-gray-800",children:e("profile")})}),(0,O.jsxs)("div",{className:"space-y-4 py-4",children:[(0,O.jsxs)("div",{className:"flex items-center gap-4",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:(0,O.jsx)(C.A,{className:"w-8 h-8 text-blue-500"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"font-semibold text-gray-800",children:null===a||void 0===a?void 0:a.name}),(0,O.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:null===a||void 0===a?void 0:a.email}),(0,O.jsx)(m.E,{className:"mt-2 capitalize bg-blue-50 text-blue-600 border border-blue-100",children:null===a||void 0===a?void 0:a.role})]})]}),(0,O.jsxs)("div",{className:"border-t border-gray-100 pt-4",children:[(0,O.jsxs)("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[(0,O.jsx)("div",{className:"bg-blue-50 p-1 rounded",children:(0,O.jsx)(E.A,{className:"w-4 h-4 text-blue-500"})}),"Face Recognition Setup"]}),(0,O.jsx)(H,{userId:null===a||void 0===a?void 0:a.id,schoolId:null===a||void 0===a?void 0:a.school_id})]})]})]})})]})}},1420(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},6447(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("chevron-first",[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]])},9409(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("chevron-last",[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]])},5833(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9469(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2443(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},2989(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7304(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},4814(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7834(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},1064(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}}]);