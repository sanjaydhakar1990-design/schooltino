{"version":3,"file":"static/js/5361.ea39bb79.chunk.js","mappings":";gNAKMA,GAAgBC,EAAAA,EAAAA,GACpB,uKACA,CACEC,SAAU,CACRC,QAAS,CACPC,QACE,mFACFC,UACE,kFACFC,YACE,+FACFC,QAAS,oBAGbC,gBAAiB,CACfL,QAAS,aAKf,SAASM,EAAKC,GAIV,IAJW,UACbC,EAAS,QACTR,GAEDO,EADIE,GAAKC,EAAAA,EAAAA,GAAAH,EAAAI,GAER,OAAQC,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CAAKL,WAAWM,EAAAA,EAAAA,IAAGjB,EAAc,CAAEG,YAAYQ,IAAgBC,GACzE,C,+NC3BMM,EAAOC,EAAAA,WAAiB,CAAAT,EAA0BU,KAAG,IAA5B,UAAET,GAAqBD,EAAPE,GAAKC,EAAAA,EAAAA,GAAAH,EAAAI,GAAA,OAClDC,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CACEI,IAAKA,EACLT,WAAWM,EAAAA,EAAAA,IAAG,qEAAsEN,IAChFC,MAERM,EAAKG,YAAc,OAEnB,MAAMC,EAAaH,EAAAA,WAAiB,CAAAI,EAA0BH,KAAG,IAA5B,UAAET,GAAqBY,EAAPX,GAAKC,EAAAA,EAAAA,GAAAU,EAAAC,GAAA,OACxDT,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CACEI,IAAKA,EACLT,WAAWM,EAAAA,EAAAA,IAAG,gCAAiCN,IAC3CC,MAERU,EAAWD,YAAc,aAEzB,MAAMI,EAAYN,EAAAA,WAAiB,CAAAO,EAA0BN,KAAG,IAA5B,UAAET,GAAqBe,EAAPd,GAAKC,EAAAA,EAAAA,GAAAa,EAAAC,GAAA,OACvDZ,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CACEI,IAAKA,EACLT,WAAWM,EAAAA,EAAAA,IAAG,4CAA6CN,IACvDC,MAERa,EAAUJ,YAAc,YAExB,MAAMO,EAAkBT,EAAAA,WAAiB,CAAAU,EAA0BT,KAAG,IAA5B,UAAET,GAAqBkB,EAAPjB,GAAKC,EAAAA,EAAAA,GAAAgB,EAAAC,GAAA,OAC7Df,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CACEI,IAAKA,EACLT,WAAWM,EAAAA,EAAAA,IAAG,gCAAiCN,IAC3CC,MAERgB,EAAgBP,YAAc,kBAE9B,MAAMU,EAAcZ,EAAAA,WAAiB,CAAAa,EAA0BZ,KAAG,IAA5B,UAAET,GAAqBqB,EAAPpB,GAAKC,EAAAA,EAAAA,GAAAmB,EAAAC,GAAA,OACzDlB,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CAAKI,IAAKA,EAAKT,WAAWM,EAAAA,EAAAA,IAAG,WAAYN,IAAgBC,MAE3DmB,EAAYV,YAAc,cAEPF,EAAAA,WAAiB,CAAAe,EAA0Bd,KAAG,IAA5B,UAAET,GAAqBuB,EAAPtB,GAAKC,EAAAA,EAAAA,GAAAqB,EAAAC,GAAA,OACxDpB,EAAAA,EAAAA,KAAA,OAAAC,EAAAA,EAAAA,GAAA,CACEI,IAAKA,EACLT,WAAWM,EAAAA,EAAAA,IAAG,6BAA8BN,IACxCC,MAEGS,YAAc,Y,4HC1CnBe,EAAWjB,EAAAA,WAAiB,CAAAT,EAAiCU,KAAG,IAAnC,UAAET,EAAS,MAAE0B,GAAiB3B,EAAPE,GAAKC,EAAAA,EAAAA,GAAAH,EAAAI,GAAA,OAC7DC,EAAAA,EAAAA,KAACuB,EAAAA,IAAsBtB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CACrBI,IAAKA,EACLT,WAAWM,EAAAA,EAAAA,IACT,iEACAN,IAEEC,GAAK,IAAA2B,UACTxB,EAAAA,EAAAA,KAACuB,EAAAA,GAA2B,CAC1B3B,UAAU,iDACV6B,MAAO,CAAEC,UAAU,eAADC,OAAiB,KAAOL,GAAS,GAAE,cAG3DD,EAASf,YAAciB,EAAAA,GAAuBjB,W,6YCfvC,MAkBDsB,GAAQC,EAAAA,EAAAA,GAAiB,QAlBK,CAClC,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,KAAMC,EAAG,KAAMC,IAAK,WAC/C,CAAC,OAAQ,CAAEC,EAAG,0BAA2BD,IAAK,WAC9C,CAAC,OAAQ,CAAEE,GAAI,IAAKC,GAAI,OAAQC,GAAI,IAAKC,GAAI,IAAKL,IAAK,WACvD,CAAC,OAAQ,CAAEE,GAAI,KAAMC,GAAI,QAASC,GAAI,IAAKC,GAAI,IAAKL,IAAK,a,cCJpD,MAgBDM,GAASV,EAAAA,EAAAA,GAAiB,UAhBI,CAClC,CAAC,OAAQ,CAAEK,EAAG,iBAAkBD,IAAK,WACrC,CAAC,OAAQ,CAAEC,EAAG,WAAYD,IAAK,aCc3BO,GAAWX,EAAAA,EAAAA,GAAiB,YAhBE,CAClC,CAAC,OAAQ,CAAEK,EAAG,oDAAqDD,IAAK,WACxE,CAAC,OAAQ,CAAEC,EAAG,aAAcD,IAAK,a,gCCanC,MAAMQ,EAAG,GAAAd,OAA4C,GAAE,QAGjDe,EAAqB,CACzB,CAAEC,MAAO,QAASC,MAAO,eAAgBC,YAAa,iCAAkCC,KAAMlB,GAC9F,CAAEe,MAAO,OAAQC,MAAO,YAAaC,YAAa,2BAA4BC,KAAMC,EAAAA,GACpF,CAAEJ,MAAO,QAASC,MAAO,aAAcC,YAAa,4BAA6BC,KAAME,EAAAA,GACvF,CAAEL,MAAO,KAAMC,MAAO,aAAcC,YAAa,qBAAsBC,KAAMP,GAC7E,CAAEI,MAAO,cAAeC,MAAO,YAAaC,YAAa,yBAA0BC,KAAMN,IAG5E,SAASS,EAAmBtD,GAQvC,IARwC,SAC1CuD,EAAQ,WACRC,EAAa,QAAO,WACpBC,EAAU,SACVC,EAAQ,WACRC,EAAU,UACVC,EAAY,EAAC,UACbC,EAAY,GACb7D,EACC,MAAO8D,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,IACxCG,EAAYC,IAAiBJ,EAAAA,EAAAA,WAAS,IACtCK,EAAcC,IAAmBN,EAAAA,EAAAA,UAAS,OAC1CO,EAAWC,IAAgBR,EAAAA,EAAAA,WAAS,IACpCS,EAAoBC,IAAyBV,EAAAA,EAAAA,WAAS,IACtDW,EAAWC,IAAgBZ,EAAAA,EAAAA,UAAS,MAErCa,GAAWC,EAAAA,EAAAA,QAAO,MAClBC,GAAYD,EAAAA,EAAAA,QAAO,MACnBE,GAAeF,EAAAA,EAAAA,QAAO,MAEtBG,EAAYnB,EAAOoB,OAAStB,EAAa,IACzCuB,EAAYrB,EAAOoB,QAAUtB,EA0B7BwB,EAAaA,KACbf,IACFA,EAAagB,YAAYC,QAAQC,GAASA,EAAMC,QAChDlB,EAAgB,OAElBF,GAAc,GACdQ,EAAa,OAoBTa,EAAeA,KACnB,IAAKZ,EAASa,UAAYX,EAAUW,QAAS,OAE7C,MAAMC,EAAQd,EAASa,QACjBE,EAASb,EAAUW,QACzBE,EAAOC,MAAQF,EAAMG,WACrBF,EAAOG,OAASJ,EAAMK,YAEVJ,EAAOK,WAAW,MAC1BC,UAAUP,EAAO,EAAG,GAExB,MAAMQ,EAAYP,EAAOQ,UAAU,aAAc,KAEjDrC,EAAUsC,IAAI,IAAAC,EAAA,MAAI,IAAID,EAAM,CAC1BrD,OAAsC,QAA/BsD,EAAAvD,EAAmBkB,UAAY,IAAAqC,OAAA,EAA/BA,EAAiCtD,QAAK,SAAAhB,OAAaqE,EAAKnB,OAAS,GACxEqB,KAAMJ,EACNK,WAAW,IAAIC,MAAOC,kBAIpBzC,EAAclB,EAAmBmC,OAAS,GAC5ChB,EAAemC,GAAQA,EAAO,GAGhCM,EAAAA,GAAMC,QAAQ,SAAD5E,OAAU8B,EAAOoB,OAAS,EAAC,gBAqFpC2B,EAAkBA,KACtB9C,EAAU,IACVG,EAAe,GACfQ,GAAsB,IAaxB,OATAoC,EAAAA,EAAAA,WAAU,IACD,KACDzC,GACFA,EAAagB,YAAYC,QAAQC,GAASA,EAAMC,SAGnD,CAACnB,IAGAI,GAEApE,EAAAA,EAAAA,KAACG,EAAAA,GAAI,CAACP,UAAU,+BAA8B4B,UAC5CkF,EAAAA,EAAAA,MAAC1F,EAAAA,GAAW,CAACpB,UAAU,kBAAiB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAAC2G,EAAAA,EAAW,CAAC/G,UAAU,2CACvBI,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,4CAA2C4B,SAAC,+BAG1DkF,EAAAA,EAAAA,MAAA,KAAG9G,UAAU,8BAA6B4B,SAAA,CACvCiC,EAAOoB,OAAO,uDAEjB6B,EAAAA,EAAAA,MAACE,EAAAA,EAAM,CAACxH,QAAQ,UAAUyH,QAASL,EAAgBhF,SAAA,EACjDxB,EAAAA,EAAAA,KAAC8G,EAAAA,EAAS,CAAClH,UAAU,iBAAiB,4BAS9C8G,EAAAA,EAAAA,MAACvG,EAAAA,GAAI,CAACP,UAAU,qBAAoB4B,SAAA,EAClCkF,EAAAA,EAAAA,MAACnG,EAAAA,GAAU,CAACX,UAAU,OAAM4B,SAAA,EAC1BkF,EAAAA,EAAAA,MAAChG,EAAAA,GAAS,CAACd,UAAU,oCAAmC4B,SAAA,EACtDxB,EAAAA,EAAAA,KAAC+G,EAAAA,EAAI,CAACnH,UAAU,4BAA4B,sBAG9C8G,EAAAA,EAAAA,MAAC7F,EAAAA,GAAe,CAACjB,UAAU,UAAS4B,SAAA,CACjC+B,EAAU,IAAEC,EAAU,mDAI3BkD,EAAAA,EAAAA,MAAC1F,EAAAA,GAAW,CAACpB,UAAU,YAAW4B,SAAA,EAEhCkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,4CAA2C4B,SAAA,EACxDxB,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,iBAAgB4B,SAAC,cACjCkF,EAAAA,EAAAA,MAAA,QAAM9G,UAAU,cAAa4B,SAAA,CAAEiC,EAAOoB,OAAO,IAAEtB,EAAU,iBAE3DvD,EAAAA,EAAAA,KAACqB,EAAAA,EAAQ,CAACC,MAAOsD,EAAUhF,UAAU,WAItC6D,EAAOoB,OAAS,IACf6B,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,yBAAwB4B,SAAA,CACpCiC,EAAOuD,IAAI,CAACC,EAAOC,KAClBR,EAAAA,EAAAA,MAAA,OAAe9G,UAAU,yBAAwB4B,SAAA,EAC/CxB,EAAAA,EAAAA,KAAA,OACEmH,IAAKF,EAAMf,KACXkB,IAAG,SAAAzF,OAAWuF,EAAM,GACpBtH,UAAU,qEAEZI,EAAAA,EAAAA,KAAA,UACE6G,QAASA,KAAMQ,OA7HVC,EA6HsBJ,OA5HzCxD,EAAUsC,GAAQA,EAAKuB,OAAO,CAACC,EAAGC,IAAMA,IAAMH,IAD3BA,OA8HL1H,UAAU,gIAA+H4B,SAC1I,UAGDxB,EAAAA,EAAAA,KAACN,EAAAA,EAAK,CAACE,UAAU,qGAAoG4B,SAClH0F,EAAM,MAbDA,IAmBXQ,MAAMC,KAAK,CAAE9C,OAAQ+C,KAAKC,IAAI,EAAGtE,EAAYE,EAAOoB,UAAWmC,IAAI,CAACQ,EAAGN,KACtElH,EAAAA,EAAAA,KAAA,OAEEJ,UAAU,oGAAmG4B,UAE7GxB,EAAAA,EAAAA,KAAC8H,EAAAA,EAAM,CAAClI,UAAU,4BAA2B,SAAA+B,OAH/BuF,QAUrBpD,IACC4C,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EAExBxB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,0CAAyC4B,SACrDkB,EAAmBkB,KAClB8C,EAAAA,EAAAA,MAAAqB,EAAAA,SAAA,CAAAvG,SAAA,EACEkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0EAAyE4B,SAAA,CACrF,MACC,MAAMwG,EAAOtF,EAAmBkB,GAAad,KAC7C,OAAO9C,EAAAA,EAAAA,KAACgI,EAAI,CAACpI,UAAU,WACxB,EAHA,GAIA8C,EAAmBkB,GAAahB,UAEnC5C,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,0BAAyB4B,SACnCkB,EAAmBkB,GAAaf,oBAOzC6D,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,4DAA2D4B,SAAA,EACxExB,EAAAA,EAAAA,KAAA,SACEK,IAAKmE,EACLyD,UAAQ,EACRC,aAAW,EACXC,OAAK,EACLvI,UAAU,gCAEZI,EAAAA,EAAAA,KAAA,UAAQK,IAAKqE,EAAW9E,UAAU,WAGnB,OAAd0E,IACCtE,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,gEAA+D4B,UAC5ExB,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,8CAA6C4B,SAC1D8C,OAMPtE,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,wEAAuE4B,UACpFxB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,0DAKnB8G,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,aAAY4B,SAAA,EACzBkF,EAAAA,EAAAA,MAACE,EAAAA,EAAM,CACLhH,UAAU,2CACViH,QA5QOuB,KACnB7D,EAAa,GAEb,MAAM8D,EAAQC,YAAY,KACxB/D,EAAayB,GACPA,GAAQ,GACVuC,cAAcF,GACdjD,IACO,MAEFY,EAAO,IAEf,MAiQSwC,SAAwB,OAAdlE,GAAsBb,EAAOoB,QAAUrB,EAAUhC,SAAA,EAE3DxB,EAAAA,EAAAA,KAAC8H,EAAAA,EAAM,CAAClI,UAAU,iBAAiB,YACzB6D,EAAOoB,OAAS,EAAE,IAAEtB,EAAU,QAE1CvD,EAAAA,EAAAA,KAAC4G,EAAAA,EAAM,CAACxH,QAAQ,UAAUyH,QAAS9B,EAAWvD,SAAC,iBAQnDsC,IACA4C,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,aAAY4B,SAAA,EACzBkF,EAAAA,EAAAA,MAACE,EAAAA,EAAM,CACLxH,QAAQ,UACRQ,UAAU,SACViH,QAhUQ4B,UAClB,IACE,MAAMC,QAAeC,UAAUC,aAAaC,aAAa,CACvDvD,MAAO,CACLwD,WAAY,OACZtD,MAAO,CAAEuD,MAAO,KAChBrD,OAAQ,CAAEqD,MAAO,QAGrB9E,EAAgByE,GAChB3E,GAAc,GAEdiF,WAAW,KACLxE,EAASa,UACXb,EAASa,QAAQ4D,UAAYP,IAE9B,IACL,CAAE,MAAOQ,GACP5C,EAAAA,GAAM4C,MAAM,oDACd,GA8SUV,SAAU/E,EAAOoB,QAAUrB,EAAUhC,SAAA,EAErCxB,EAAAA,EAAAA,KAAC8H,EAAAA,EAAM,CAAClI,UAAU,iBAAiB,aAGrC8G,EAAAA,EAAAA,MAACE,EAAAA,EAAM,CACLxH,QAAQ,UACRQ,UAAU,SACViH,QAASA,KAAA,IAAAsC,EAAA,OAA0B,QAA1BA,EAAMxE,EAAaU,eAAO,IAAA8D,OAAA,EAApBA,EAAsBC,SACrCZ,SAAU/E,EAAOoB,QAAUrB,EAAUhC,SAAA,EAErCxB,EAAAA,EAAAA,KAACqJ,EAAAA,EAAM,CAACzJ,UAAU,iBAAiB,aAGrCI,EAAAA,EAAAA,KAAA,SACEK,IAAKsE,EACL2E,KAAK,OACLC,OAAO,UACPC,UAAQ,EACRC,SAvQcC,IACVhC,MAAMC,KAAK+B,EAAEC,OAAOC,OAE5B3E,QAAQ4E,IACZ,GAAIA,EAAKC,KAAO,QAEd,YADAxD,EAAAA,GAAM4C,MAAM,GAADvH,OAAIkI,EAAKE,KAAI,oCAI1B,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAUR,IACfhG,EAAUsC,GAAQ,IAAIA,EAAM,CAC1BrD,MAAM,UAADhB,OAAYqE,EAAKnB,OAAS,GAC/BqB,KAAMwD,EAAEC,OAAOQ,OACfhE,WAAW,IAAIC,MAAOC,kBAG1B2D,EAAOI,cAAcP,KAIvBH,EAAEC,OAAOrI,MAAQ,IAmPP1B,UAAU,cAMfkF,IAAchB,IACb9D,EAAAA,EAAAA,KAAC4G,EAAAA,EAAM,CACLhH,UAAU,yCACViH,QAnPe4B,UACvB,GAAIhF,EAAOoB,OAAStB,EAClB+C,EAAAA,GAAM4C,MAAM,WAADvH,OAAY4B,EAAS,yBADlC,CAKAY,GAAa,GAEb,UACyBkG,EAAAA,EAAMC,KAAK,GAAD3I,OAAIc,EAAG,qCAAqC,CAC3E8H,UAAWrH,EACXsH,YAAarH,EACbsH,YAAarH,EACbsH,UAAWrH,EACXI,OAAQA,EAAOuD,IAAI2D,IAAC,CAClBhI,MAAOgI,EAAEhI,MACTiI,WAAYD,EAAEzE,UAIlB7B,GAAsB,GACtBiC,EAAAA,GAAMC,QAAQ,4DAEVjD,GACFA,EAAW,CACTiD,SAAS,EACTsE,WAAYpH,EAAOoB,OACnB3B,YAIN,CAAE,MAAOgG,GACP4B,QAAQ5B,MAAM,oBAAqBA,GAEnC7E,GAAsB,GACtBiC,EAAAA,GAAMC,QAAQ,2CAEVjD,GACFA,EAAW,CACTiD,SAAS,EACTsE,WAAYpH,EAAOoB,OACnB3B,YAGN,CAAC,QACCiB,GAAa,GACbY,GACF,CA3CA,GAgPQyD,SAAUtE,EAAU1C,SAEnB0C,GACCwC,EAAAA,EAAAA,MAAAqB,EAAAA,SAAA,CAAAvG,SAAA,EACExB,EAAAA,EAAAA,KAAC+K,EAAAA,EAAO,CAACnL,UAAU,8BAA8B,wBAInD8G,EAAAA,EAAAA,MAAAqB,EAAAA,SAAA,CAAAvG,SAAA,EACExB,EAAAA,EAAAA,KAAC2G,EAAAA,EAAW,CAAC/G,UAAU,iBAAiB,wBAClB6D,EAAOoB,OAAO,iBAO5C7E,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,qCAAoC4B,SAC9CiC,EAAOoB,OAAStB,EAAS,GAAA5B,OACnB4B,EAAYE,EAAOoB,OAAM,8CAC5B,8CAKd,C,cCzZA,MAAMpC,EAAmD,GAE1C,SAASuI,IAAe,IAADC,EAAAC,EAAAC,EACpC,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,OACX,KAAEC,EAAI,MAAEC,EAAK,OAAEC,EAAM,SAAErI,IAAasI,EAAAA,EAAAA,OACnCC,EAASC,IAAclI,EAAAA,EAAAA,WAAS,IAChCmI,EAAoBC,IAAyBpI,EAAAA,EAAAA,WAAS,IACtDqI,EAAkBC,IAAuBtI,EAAAA,EAAAA,WAAS,IAClDuI,EAAiBC,IAAsBxI,EAAAA,EAAAA,WAAS,IAChDyI,GAAiBC,KAAsB1I,EAAAA,EAAAA,WAAS,IAEhD2I,GAAYC,KAAiB5I,EAAAA,EAAAA,WAAS,IAEtC6I,GAAUC,KAAe9I,EAAAA,EAAAA,UAAS,OAClC+I,GAAcC,KAAmBhJ,EAAAA,EAAAA,WAAS,IAC1CiJ,GAAgBC,KAAqBlJ,EAAAA,EAAAA,WAAS,IAC9CG,GAAYC,KAAiBJ,EAAAA,EAAAA,WAAS,IACtCK,GAAcC,KAAmBN,EAAAA,EAAAA,UAAS,OAC1CO,GAAWC,KAAgBR,EAAAA,EAAAA,WAAS,GAGrCgB,KAFWF,EAAAA,EAAAA,QAAO,OACNA,EAAAA,EAAAA,QAAO,OACJA,EAAAA,EAAAA,QAAO,QAGrBqI,GAASC,KAAcpJ,EAAAA,EAAAA,WAAS,IAChCqJ,GAAUC,KAAetJ,EAAAA,EAAAA,UAAS,CACvCoG,KAAM,GACNmD,YAAa,GACbC,MAAO,GACPC,WAAY,MAGPC,GAAcC,KAAmB3J,EAAAA,EAAAA,UAAS,CAC/C4J,YAAa,GACbC,YAAa,GACbC,gBAAiB,MAGZC,GAAaC,KAAkBhK,EAAAA,EAAAA,UAAS,CAC7CoG,MAAU,OAAJyB,QAAI,IAAJA,OAAI,EAAJA,EAAMzB,OAAQ,GACpB6D,OAAW,OAAJpC,QAAI,IAAJA,OAAI,EAAJA,EAAMoC,QAAS,GACtBC,QAAY,OAAJrC,QAAI,IAAJA,OAAI,EAAJA,EAAMqC,SAAU,GACxBC,MAAU,OAAJtC,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,OAAQ,MAGtBrH,EAAAA,EAAAA,WAAU,KACR,GAAQ,OAAJ+E,QAAI,IAAJA,GAAAA,EAAMuC,UAAW,CACnB,MAAMC,EAAMxC,EAAKuC,UAAUE,WAAW,QAAUzC,EAAKuC,UAAS,GAAApM,OAAMc,GAAGd,OAAG6J,EAAKuC,WAC/EtB,GAAYuB,EACd,GACC,CAACxC,IAEJ,MAuHM0C,GAAczF,UAClBtE,IAAa,GACb,IACE,IAAIgK,EAEFA,EADiB,aAAX,OAAJ3C,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,MACA,GAAAnM,OAAMc,EAAG,kBAAAd,OAAiB6J,EAAK4C,GAAE,iBACjB,cAAX,OAAJ5C,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,OAAsC,eAAX,OAAJtC,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,OAAuC,WAAX,OAAJtC,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,MAClE,GAAAnM,OAAMc,EAAG,eAAAd,OAAc6J,EAAK4C,GAAE,iBAE9B,GAAAzM,OAAMc,EAAG,eAAAd,OAAc6J,EAAK4C,GAAE,uBAGlC/D,EAAAA,EAAMC,KAAK6D,EAAU,CACzBvD,WAAY9E,GACX,CAAEuI,QAAS,CAAEC,cAAc,UAAD3M,OAAY8J,MAEzCgB,GAAY3G,GACZQ,EAAAA,GAAMC,QAAQ,0BAEd,UACQ8D,EAAAA,EAAMC,KAAK,GAAD3I,OAAIc,EAAG,wCAAwC,CAC7D8L,YAAgB,OAAJ/C,QAAI,IAAJA,OAAI,EAAJA,EAAM4C,KAAM,QACxB1D,UAAWrH,GAAY,UACvBmL,WAA2B,aAAX,OAAJhD,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,MAAqB,UAAY,QACnDlD,WAAY9E,IAEd6G,IAAgB,EAClB,CAAE,MAAO8B,GACP3D,QAAQ4D,IAAI,4BAA6BD,EAC3C,CACF,CAAE,MAAOvF,GACPuD,GAAY3G,GACZQ,EAAAA,GAAMC,QAAQ,uBAChB,CAAC,QACCpC,IAAa,EACf,GAqBIwK,GA9KW,CACbC,SAAU,CAAEC,MAAO,gCAAiCjM,MAAO,YAC3DkM,UAAW,CAAED,MAAO,4BAA6BjM,MAAO,aACxDmM,eAAgB,CAAEF,MAAO,gCAAiCjM,MAAO,kBACjEoM,QAAS,CAAEH,MAAO,8BAA+BjM,MAAO,WACxDqM,WAAY,CAAEJ,MAAO,8BAA+BjM,MAAO,cAC3DsM,QAAS,CAAEL,MAAO,4BAA6BjM,MAAO,YAPpCkL,GA+KS,OAAJtC,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,OAtKR,CAAEe,MAAO,8BAA+BjM,MAAOkL,IATlDA,OAiLtB,OACEpH,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,sCAAsC,cAAY,eAAc4B,SAAA,EAC7EkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,8BAA6B4B,SAAA,EAE1CkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,cAAa4B,SAAA,EAC1BxB,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,oCAAmC4B,SAAE4J,EAAE,cACrDpL,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,iBAAgB4B,SAAC,0CAGhCkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,4BAA2B4B,SAAA,EAExCkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EAExBxB,EAAAA,EAAAA,KAACG,EAAAA,GAAI,CAAAqB,UACHkF,EAAAA,EAAAA,MAAC1F,EAAAA,GAAW,CAACpB,UAAU,kBAAiB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAAA,SAAOsJ,KAAK,OAAOjJ,IAAKsE,GAAc/E,UAAU,SAAS2J,OAAO,kCAAkCE,SAzFvFhB,UACvB,MAAMoB,EAAOH,EAAEC,OAAOC,MAAM,GAC5B,IAAKC,EAAM,OAEX,GAAIA,EAAKC,KAAO,QAEd,YADAxD,EAAAA,GAAM4C,MAAM,qCAId,MAAMc,EAAS,IAAIC,WACnBD,EAAOE,OAASzB,gBACRyF,GAAYxE,EAAEC,OAAOQ,SAE7BH,EAAOI,cAAcP,OA8ETnD,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,kDAAkDiH,QAASA,KAAA,IAAAsC,EAAA,OAA0B,QAA1BA,EAAMxE,GAAaU,eAAO,IAAA8D,OAAA,EAApBA,EAAsBC,SAAQ5H,SAAA,CAC3GgL,IACCxM,EAAAA,EAAAA,KAAA,OACEmH,IAAKqF,GACLpF,IAAS,OAAJoE,QAAI,IAAJA,OAAI,EAAJA,EAAMzB,KACXnK,UAAU,oEAGZI,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,wIAAuI4B,UAC/I,OAAJgK,QAAI,IAAJA,GAAU,QAANP,EAAJO,EAAMzB,YAAI,IAAAkB,GAAW,QAAXC,EAAVD,EAAYkE,OAAO,UAAE,IAAAjE,OAAjB,EAAJA,EAAuBkE,gBAAiB,OAG7CpP,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,kIAAiI4B,SAC7I0C,IACClE,EAAAA,EAAAA,KAAC+K,EAAAA,EAAO,CAACnL,UAAU,qCAEnBI,EAAAA,EAAAA,KAAC8H,EAAAA,EAAM,CAAClI,UAAU,0BAGtBI,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,kIAAiI4B,SAC7IkL,IACC1M,EAAAA,EAAAA,KAAC2G,EAAAA,EAAW,CAAC/G,UAAU,wBAEvBI,EAAAA,EAAAA,KAAC8H,EAAAA,EAAM,CAAClI,UAAU,6BAKxBI,EAAAA,EAAAA,KAAA,MAAIJ,UAAU,mCAAkC4B,SAAM,OAAJgK,QAAI,IAAJA,OAAI,EAAJA,EAAMzB,QACxD/J,EAAAA,EAAAA,KAAA,QAAMJ,UAAS,gEAAA+B,OAAkEgN,GAAME,OAAQrN,SAC5FmN,GAAM/L,SAET5C,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,8BAA6B4B,SAAC,4CAE1CkL,IACChG,EAAAA,EAAAA,MAAChH,EAAAA,EAAK,CAACE,UAAU,uDAAsD4B,SAAA,EACrExB,EAAAA,EAAAA,KAAC2G,EAAAA,EAAW,CAAC/G,UAAU,iBAAiB,2BAI1C8G,EAAAA,EAAAA,MAAChH,EAAAA,EAAK,CAACE,UAAU,uDAAsD4B,SAAA,EACrExB,EAAAA,EAAAA,KAACqP,EAAAA,EAAW,CAACzP,UAAU,iBAAiB,8BAQhDI,EAAAA,EAAAA,KAACiD,EAAmB,CAClBC,SAAc,OAAJsI,QAAI,IAAJA,OAAI,EAAJA,EAAM4C,GAChBjL,WAA2B,aAAX,OAAJqI,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,MAAqB,UAAY,QACnD1K,WAAgB,OAAJoI,QAAI,IAAJA,OAAI,EAAJA,EAAMzB,KAClB1G,SAAUA,EACVE,UAAW,EACXC,UAAW,EACXF,WAAa6G,IACPA,EAAO5D,UACToG,IAAgB,GAChBrG,EAAAA,GAAMC,QAAQ,GAAD5E,OAAIwI,EAAOU,WAAU,2BAMxCnE,EAAAA,EAAAA,MAACvG,EAAAA,GAAI,CAAAqB,SAAA,EACHxB,EAAAA,EAAAA,KAACO,EAAAA,GAAU,CAACX,UAAU,OAAM4B,UAC1BkF,EAAAA,EAAAA,MAAChG,EAAAA,GAAS,CAACd,UAAU,oCAAmC4B,SAAA,EACtDxB,EAAAA,EAAAA,KAACsP,EAAAA,EAAW,CAAC1P,UAAU,4BAA4B,oBAIvD8G,EAAAA,EAAAA,MAAC1F,EAAAA,GAAW,CAACpB,UAAU,YAAW4B,SAAA,EAEhCkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,+DAA8D4B,SAAA,EAC3EkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0BAAyB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAACuP,EAAAA,EAAK,CAAC3P,UAAU,6BACjBI,EAAAA,EAAAA,KAAA,QAAMJ,UAAU,UAAS4B,SAAC,sBAE5BxB,EAAAA,EAAAA,KAAC4G,EAAAA,EAAM,CACLkD,KAAK,KACL1K,QAASwN,GAAiB,UAAY,UACtC/F,QAvHc2I,KAC9B3C,IAAmBD,IACnBtG,EAAAA,GAAMC,QAAQqG,GAAiB,8BAAgC,qEAsH/ChN,UAAWgN,GAAiB,kCAAoC,GAAGpL,SAElEoL,GAAiB,KAAO,YAI7B5M,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,8BAA6B4B,SACvCoL,GACG,mDACA,4DAOZlG,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0BAAyB4B,SAAA,EAEtCkF,EAAAA,EAAAA,MAACvG,EAAAA,GAAI,CAAAqB,SAAA,EACHxB,EAAAA,EAAAA,KAACO,EAAAA,GAAU,CAAAiB,UACTkF,EAAAA,EAAAA,MAAChG,EAAAA,GAAS,CAACd,UAAU,kCAAiC4B,SAAA,EACpDxB,EAAAA,EAAAA,KAAC+G,EAAAA,EAAI,CAACnH,UAAU,4BACfwL,EAAE,iBAGP1E,EAAAA,EAAAA,MAAC1F,EAAAA,GAAW,CAACpB,UAAU,YAAW4B,SAAA,EAChCkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,4BAA2B4B,SAAA,EACxCkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBxB,EAAAA,EAAAA,KAACyP,EAAAA,EAAK,CAAC7P,UAAU,yBAAwB4B,SAAE4J,EAAE,WAC7CpL,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,cAAa4B,SAAM,OAAJgK,QAAI,IAAJA,OAAI,EAAJA,EAAMzB,WAEpCrD,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBxB,EAAAA,EAAAA,KAACyP,EAAAA,EAAK,CAAC7P,UAAU,yBAAwB4B,SAAC,UAC1CxB,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,yBAAwB4B,SAAM,OAAJgK,QAAI,IAAJA,GAAU,QAANL,EAAJK,EAAMsC,YAAI,IAAA3C,OAAN,EAAJA,EAAYuE,QAAQ,IAAK,cAGpEhJ,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,4BAA2B4B,SAAA,EACxCkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBxB,EAAAA,EAAAA,KAACyP,EAAAA,EAAK,CAAC7P,UAAU,yBAAwB4B,SAAE4J,EAAE,YAC7C1E,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0BAAyB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAAC2P,EAAAA,EAAI,CAAC/P,UAAU,4BAChBI,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,UAAS4B,SAAM,OAAJgK,QAAI,IAAJA,OAAI,EAAJA,EAAMoC,eAG7B,OAAJpC,QAAI,IAAJA,OAAI,EAAJA,EAAMqC,UACLnH,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBxB,EAAAA,EAAAA,KAACyP,EAAAA,EAAK,CAAC7P,UAAU,yBAAwB4B,SAAE4J,EAAE,YAC7C1E,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0BAAyB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAAC4P,EAAAA,EAAK,CAAChQ,UAAU,4BACjBI,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,UAAS4B,SAAEgK,EAAKqC,mBAKhC,OAAJrC,QAAI,IAAJA,OAAI,EAAJA,EAAMd,aACLhE,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBxB,EAAAA,EAAAA,KAACyP,EAAAA,EAAK,CAAC7P,UAAU,yBAAwB4B,SAAC,eAC1CkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0BAAyB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAAC6P,EAAAA,EAAS,CAACjQ,UAAU,4BACrBI,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,UAAS4B,SAAEgK,EAAKd,yBAQvChE,EAAAA,EAAAA,MAACvG,EAAAA,GAAI,CAAAqB,SAAA,EACHxB,EAAAA,EAAAA,KAACO,EAAAA,GAAU,CAAAiB,UACTkF,EAAAA,EAAAA,MAAChG,EAAAA,GAAS,CAACd,UAAU,kCAAiC4B,SAAA,EACpDxB,EAAAA,EAAAA,KAAC8P,EAAAA,EAAM,CAAClQ,UAAU,4BAA4B,yBAIlD8G,EAAAA,EAAAA,MAAC1F,EAAAA,GAAW,CAACpB,UAAU,YAAW4B,SAAA,EAChCkF,EAAAA,EAAAA,MAACE,EAAAA,EAAM,CACLxH,QAAQ,UACRQ,UAAU,+DACViH,QAASA,IAAM0F,IAAc,GAAM/K,SAAA,EAEnCkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0BAAyB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,oEAAmE4B,UAChFxB,EAAAA,EAAAA,KAAC+P,EAAAA,EAAU,CAACnQ,UAAU,6BAExB8G,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBxB,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,cAAa4B,SAAC,gBAC3BxB,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,yBAAwB4B,SAAC,qCAG1CxB,EAAAA,EAAAA,KAACgD,EAAAA,EAAU,CAACpD,UAAU,+BAGxB8G,EAAAA,EAAAA,MAACE,EAAAA,EAAM,CACLxH,QAAQ,UACRQ,UAAU,8BACViH,QAASA,IAAMkF,GAAsB,GACrC,cAAY,yBAAwBvK,SAAA,EAEpCkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0BAAyB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,qEAAoE4B,UACjFxB,EAAAA,EAAAA,KAACgQ,EAAAA,EAAG,CAACpQ,UAAU,8BAEjB8G,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBxB,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,cAAa4B,SAAC,qBAC3BxB,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,yBAAwB4B,SAAC,wCAG1CxB,EAAAA,EAAAA,KAACiQ,EAAAA,EAAI,CAACrQ,UAAU,+BAID,cAAX,OAAJ4L,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,OAAsC,eAAX,OAAJtC,QAAI,IAAJA,OAAI,EAAJA,EAAMsC,SACnCpH,EAAAA,EAAAA,MAACE,EAAAA,EAAM,CACLxH,QAAQ,UACRQ,UAAU,mEACViH,QAASA,IAAMyE,EAAS,oBAAoB9J,SAAA,EAE5CkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0BAAyB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,sEAAqE4B,UAClFxB,EAAAA,EAAAA,KAACkQ,EAAAA,EAAM,CAACtQ,UAAU,+BAEpB8G,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBxB,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,8BAA6B4B,SAAC,gCAC3CxB,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,yBAAwB4B,SAAC,qEAG1CxB,EAAAA,EAAAA,KAACgD,EAAAA,EAAU,CAACpD,UAAU,gCAK1BI,EAAAA,EAAAA,KAAC4G,EAAAA,EAAM,CACLxH,QAAQ,UACRQ,UAAU,6DACViH,QAAS6E,EAAOlK,UAEhBkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,0BAAyB4B,SAAA,EACtCxB,EAAAA,EAAAA,KAAA,OAAKJ,UAAU,mEAAkE4B,UAC/ExB,EAAAA,EAAAA,KAACmQ,EAAAA,EAAI,CAACvQ,UAAU,4BAElB8G,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EACxBxB,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,2BAA0B4B,SAAC,YACxCxB,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,yBAAwB4B,SAAC,uDAWtDxB,EAAAA,EAAAA,KAACoQ,EAAAA,GAAM,CAACC,KAAMvE,EAAoBwE,aAAcvE,EAAsBvK,UACpEkF,EAAAA,EAAAA,MAAC6J,EAAAA,GAAa,CAAC3Q,UAAU,WAAU4B,SAAA,EACjCxB,EAAAA,EAAAA,KAACwQ,EAAAA,GAAY,CAAAhP,UACXkF,EAAAA,EAAAA,MAAC+J,EAAAA,GAAW,CAAC7Q,UAAU,0BAAyB4B,SAAA,EAC9CxB,EAAAA,EAAAA,KAACgQ,EAAAA,EAAG,CAACpQ,UAAU,2BAA2B,wBAK9C8G,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,YAAW4B,SAAA,EAExBkF,EAAAA,EAAAA,MAAA,OAAAlF,SAAA,EACExB,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,gDAA+C4B,SAAC,sBAGjEkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,WAAU4B,SAAA,EACvBxB,EAAAA,EAAAA,KAAC0Q,EAAAA,EAAK,CACJpH,KAAM4C,EAAkB,OAAS,WACjC5K,MAAO+L,GAAaE,YACpB9D,SAAWC,GAAM4D,GAAgBqD,IAAC1Q,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAU0Q,GAAC,IAAEpD,YAAa7D,EAAEC,OAAOrI,SACrEsP,YAAY,yBACZ,cAAY,wBAEd5Q,EAAAA,EAAAA,KAAA,UACEsJ,KAAK,SACL1J,UAAU,4CACViH,QAASA,IAAMsF,GAAoBD,GAAiB1K,SAEnD0K,GAAkBlM,EAAAA,EAAAA,KAAC6Q,EAAAA,EAAM,CAACjR,UAAU,4BAA8BI,EAAAA,EAAAA,KAAC8Q,EAAAA,EAAG,CAAClR,UAAU,oCAMxF8G,EAAAA,EAAAA,MAAA,OAAAlF,SAAA,EACExB,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,gDAA+C4B,SAAC,kBAGjEkF,EAAAA,EAAAA,MAAA,OAAK9G,UAAU,WAAU4B,SAAA,EACvBxB,EAAAA,EAAAA,KAAC0Q,EAAAA,EAAK,CACJpH,KAAM8C,GAAkB,OAAS,WACjC9K,MAAO+L,GAAaG,YACpB/D,SAAWC,GAAM4D,GAAgBqD,IAAC1Q,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAU0Q,GAAC,IAAEnD,YAAa9D,EAAEC,OAAOrI,SACrEsP,YAAY,mCACZ,cAAY,wBAEd5Q,EAAAA,EAAAA,KAAA,UACEsJ,KAAK,SACL1J,UAAU,4CACViH,QAASA,IAAMwF,IAAoBD,IAAiB5K,SAEnD4K,IAAkBpM,EAAAA,EAAAA,KAAC6Q,EAAAA,EAAM,CAACjR,UAAU,4BAA8BI,EAAAA,EAAAA,KAAC8Q,EAAAA,EAAG,CAAClR,UAAU,oCAMxF8G,EAAAA,EAAAA,MAAA,OAAAlF,SAAA,EACExB,EAAAA,EAAAA,KAAA,SAAOJ,UAAU,gDAA+C4B,SAAC,0BAGjExB,EAAAA,EAAAA,KAAC0Q,EAAAA,EAAK,CACJpH,KAAK,WACLhI,MAAO+L,GAAaI,gBACpBhE,SAAWC,GAAM4D,GAAgBqD,IAAC1Q,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAU0Q,GAAC,IAAElD,gBAAiB/D,EAAEC,OAAOrI,SACzEsP,YAAY,uBACZ,cAAY,2BAEbvD,GAAaI,iBAAmBJ,GAAaG,cAAgBH,GAAaI,kBACzE/G,EAAAA,EAAAA,MAAA,KAAG9G,UAAU,oDAAmD4B,SAAA,EAC9DxB,EAAAA,EAAAA,KAACqP,EAAAA,EAAW,CAACzP,UAAU,YAAY,gCAOzC8G,EAAAA,EAAAA,MAACE,EAAAA,EAAM,CACLC,QAhfiB4B,UAE3B,GAAK4E,GAAaE,aAAgBF,GAAaG,YAK/C,GAAIH,GAAaG,cAAgBH,GAAaI,gBAK9C,GAAIJ,GAAaG,YAAY3I,OAAS,EACpCyB,EAAAA,GAAM4C,MAAM,8CADd,CAKA+C,GAAoB,GACpB,IACE,MAAM8E,EAAW,IAAIC,SACrBD,EAASE,OAAO,eAAgB5D,GAAaE,aAC7CwD,EAASE,OAAO,eAAgB5D,GAAaG,aAE7C,MAAM0D,QAAiBC,MAAM,GAADxP,OAAIc,EAAG,6BAA6B,CAC9D2O,OAAQ,OACR/C,QAAS,CACP,cAAgB,UAAD1M,OAAY8J,IAE7B4F,KAAMN,IAGF7K,QAAagL,EAASI,OAExBJ,EAASK,IACXjL,EAAAA,GAAMC,QAAQ,+CACdwF,GAAsB,GACtBuB,GAAgB,CAAEC,YAAa,GAAIC,YAAa,GAAIC,gBAAiB,MAErEnH,EAAAA,GAAM4C,MAAMhD,EAAKsL,QAAU,4BAE/B,CAAE,MAAOtI,GACP5C,EAAAA,GAAM4C,MAAM,0BACd,CAAC,QACC+C,GAAoB,EACtB,CA7BA,MAPE3F,EAAAA,GAAM4C,MAAM,mCALZ5C,EAAAA,GAAM4C,MAAM,oCA8eJV,SAAUwD,IAAqBqB,GAAaE,cAAgBF,GAAaG,aAAeH,GAAaG,cAAgBH,GAAaI,gBAClI7N,UAAU,SACV,cAAY,yBAAwB4B,SAAA,CAEnCwK,GACChM,EAAAA,EAAAA,KAAC+K,EAAAA,EAAO,CAACnL,UAAU,+BAEnBI,EAAAA,EAAAA,KAACyR,EAAAA,EAAI,CAAC7R,UAAU,iBAChB,sBAIJI,EAAAA,EAAAA,KAAA,KAAGJ,UAAU,qCAAoC4B,SAAC,yEAOvD8K,KAAkB,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAM4C,MACnBpO,EAAAA,EAAAA,KAAC0R,EAAAA,EAAY,CACXxO,SAAUsI,EAAK4C,GACfjL,WAAW,QACXE,SAAUA,EACVsO,OAAQrF,GACRsF,QAASA,IAAMrF,IAAc,OAKvC,C,+BClmBO,MAgBDxJ,GAAYlB,E,QAAAA,GAAiB,aAhBC,CAClC,CAAC,OAAQ,CAAEK,EAAG,iBAAkBD,IAAK,WACrC,CAAC,OAAQ,CAAEC,EAAG,WAAYD,IAAK,Y,+BCF1B,MAgBDe,GAAanB,E,QAAAA,GAAiB,cAhBA,CAClC,CAAC,OAAQ,CAAEK,EAAG,WAAYD,IAAK,WAC/B,CAAC,OAAQ,CAAEC,EAAG,gBAAiBD,IAAK,Y,+BCF/B,MAqBD4N,GAAYhO,E,QAAAA,GAAiB,aArBC,CAClC,CAAC,OAAQ,CAAEK,EAAG,4CAA6CD,IAAK,WAChE,CAAC,OAAQ,CAAEC,EAAG,0CAA2CD,IAAK,WAC9D,CAAC,OAAQ,CAAEC,EAAG,2CAA4CD,IAAK,WAC/D,CAAC,OAAQ,CAAEC,EAAG,UAAWD,IAAK,WAC9B,CAAC,OAAQ,CAAEC,EAAG,WAAYD,IAAK,WAC/B,CAAC,OAAQ,CAAEC,EAAG,WAAYD,IAAK,WAC/B,CAAC,OAAQ,CAAEC,EAAG,WAAYD,IAAK,Y,+BCP1B,MAiBD4P,GAAchQ,E,QAAAA,GAAiB,eAjBD,CAClC,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,KAAMC,EAAG,KAAMC,IAAK,WAC/C,CAAC,OAAQ,CAAEE,GAAI,KAAMC,GAAI,KAAMC,GAAI,IAAKC,GAAI,KAAML,IAAK,WACvD,CAAC,OAAQ,CAAEE,GAAI,KAAMC,GAAI,QAASC,GAAI,KAAMC,GAAI,KAAML,IAAK,Y,+BCHtD,MAgBDkO,GAAOtO,E,QAAAA,GAAiB,OAhBM,CAClC,CAAC,OAAQ,CAAE2D,MAAO,KAAME,OAAQ,KAAMoM,EAAG,IAAKC,EAAG,KAAMC,GAAI,IAAKC,GAAI,IAAKhQ,IAAK,WAC9E,CAAC,OAAQ,CAAEC,EAAG,2BAA4BD,IAAK,Y,+BCF1C,MAuBDwP,GAAO5P,E,QAAAA,GAAiB,OAvBM,CAClC,CACE,OACA,CACEK,EAAG,qGACHD,IAAK,WAGT,CAAC,OAAQ,CAAEC,EAAG,4CAA6CD,IAAK,WAChE,CAAC,OAAQ,CAAEC,EAAG,yBAA0BD,IAAK,Y,+BCTxC,MAqBDiO,GAASrO,E,QAAAA,GAAiB,SArBI,CAClC,CACE,OACA,CACEK,EAAG,2JACHD,IAAK,Y","sources":["components/ui/badge.jsx","components/ui/card.jsx","components/ui/progress.jsx","../node_modules/lucide-react/src/icons/smile.ts","../node_modules/lucide-react/src/icons/move-up.ts","../node_modules/lucide-react/src/icons/rotate-cw.ts","components/MultiFaceEnrollment.js","pages/ProfilePage.js","../node_modules/lucide-react/src/icons/arrow-left.ts","../node_modules/lucide-react/src/icons/arrow-right.ts","../node_modules/lucide-react/src/icons/building-2.ts","../node_modules/lucide-react/src/icons/circle-alert.ts","../node_modules/lucide-react/src/icons/lock.ts","../node_modules/lucide-react/src/icons/save.ts","../node_modules/lucide-react/src/icons/wrench.ts"],"sourcesContent":["import * as React from \"react\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  ...props\n}) {\n  return (<div className={cn(badgeVariants({ variant }), className)} {...props} />);\n}\n\nexport { Badge, badgeVariants }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-xl border border-gray-200 bg-white text-gray-900 shadow-sm\", className)}\n    {...props} />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-5\", className)}\n    {...props} />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-5 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-5 pt-0\", className)}\n    {...props} />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}>\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }} />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 14s1.5 2 4 2 4-2 4-2', key: '1y1vjs' }],\n  ['line', { x1: '9', x2: '9.01', y1: '9', y2: '9', key: 'yxxnd0' }],\n  ['line', { x1: '15', x2: '15.01', y1: '9', y2: '9', key: '1p4y9e' }],\n];\n\n/**\n * @component @name Smile\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxNHMxLjUgMiA0IDIgNC0yIDQtMiIgLz4KICA8bGluZSB4MT0iOSIgeDI9IjkuMDEiIHkxPSI5IiB5Mj0iOSIgLz4KICA8bGluZSB4MT0iMTUiIHgyPSIxNS4wMSIgeTE9IjkiIHkyPSI5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/smile\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Smile = createLucideIcon('smile', __iconNode);\n\nexport default Smile;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 6L12 2L16 6', key: '1yvkyx' }],\n  ['path', { d: 'M12 2V22', key: 'r89rzk' }],\n];\n\n/**\n * @component @name MoveUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCA2TDEyIDJMMTYgNiIgLz4KICA8cGF0aCBkPSJNMTIgMlYyMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/move-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MoveUp = createLucideIcon('move-up', __iconNode);\n\nexport default MoveUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8', key: '1p45f6' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n];\n\n/**\n * @component @name RotateCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTktOWMyLjUyIDAgNC45MyAxIDYuNzQgMi43NEwyMSA4IiAvPgogIDxwYXRoIGQ9Ik0yMSAzdjVoLTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/rotate-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RotateCw = createLucideIcon('rotate-cw', __iconNode);\n\nexport default RotateCw;\n","/**\n * Multi-Photo Face Enrollment Component\n * Captures 4-5 photos from different angles for better face recognition\n * Used for: Director, Teachers, Staff, Students, Parents\n */\nimport { useState, useRef, useEffect } from 'react';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Progress } from './ui/progress';\nimport { \n  Camera, Upload, CheckCircle, AlertCircle, Loader2, \n  RotateCcw, User, ArrowRight, ArrowLeft, Smile,\n  MoveUp, MoveDown, RotateCw\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport axios from 'axios';\n\nconst API = `${(process.env.REACT_APP_BACKEND_URL || '')}/api`;\n\n// Photo capture instructions in Hinglish\nconst PHOTO_INSTRUCTIONS = [\n  { angle: 'front', label: 'Seedha Dekho', instruction: 'Camera ki taraf seedha dekhein', icon: Smile },\n  { angle: 'left', label: 'Left Turn', instruction: 'Thoda left side ghoomein', icon: ArrowLeft },\n  { angle: 'right', label: 'Right Turn', instruction: 'Thoda right side ghoomein', icon: ArrowRight },\n  { angle: 'up', label: 'Upar Dekho', instruction: 'Thoda upar dekhein', icon: MoveUp },\n  { angle: 'slight_tilt', label: 'Tilt Karo', instruction: 'Head thoda tilt karein', icon: RotateCw },\n];\n\nexport default function MultiFaceEnrollment({ \n  personId, \n  personType = 'staff', // staff, student, parent\n  personName,\n  schoolId,\n  onComplete,\n  minPhotos = 4,\n  maxPhotos = 5\n}) {\n  const [photos, setPhotos] = useState([]);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [showCamera, setShowCamera] = useState(false);\n  const [cameraStream, setCameraStream] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [enrollmentComplete, setEnrollmentComplete] = useState(false);\n  const [countdown, setCountdown] = useState(null);\n  \n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  const progress = (photos.length / minPhotos) * 100;\n  const canSubmit = photos.length >= minPhotos;\n\n  // Start camera\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        video: { \n          facingMode: 'user', \n          width: { ideal: 640 }, \n          height: { ideal: 480 } \n        } \n      });\n      setCameraStream(stream);\n      setShowCamera(true);\n      \n      setTimeout(() => {\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      }, 100);\n    } catch (error) {\n      toast.error('Camera access denied. Please allow camera access.');\n    }\n  };\n\n  // Stop camera\n  const stopCamera = () => {\n    if (cameraStream) {\n      cameraStream.getTracks().forEach(track => track.stop());\n      setCameraStream(null);\n    }\n    setShowCamera(false);\n    setCountdown(null);\n  };\n\n  // Capture photo with countdown\n  const startCapture = () => {\n    setCountdown(3);\n    \n    const timer = setInterval(() => {\n      setCountdown(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          capturePhoto();\n          return null;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n\n  // Capture single photo\n  const capturePhoto = () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    \n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    \n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(video, 0, 0);\n    \n    const imageData = canvas.toDataURL('image/jpeg', 0.85);\n    \n    setPhotos(prev => [...prev, {\n      angle: PHOTO_INSTRUCTIONS[currentStep]?.angle || `photo_${prev.length + 1}`,\n      data: imageData,\n      timestamp: new Date().toISOString()\n    }]);\n    \n    // Move to next instruction\n    if (currentStep < PHOTO_INSTRUCTIONS.length - 1) {\n      setCurrentStep(prev => prev + 1);\n    }\n    \n    toast.success(`Photo ${photos.length + 1} captured!`);\n  };\n\n  // Handle file upload\n  const handleFileUpload = (e) => {\n    const files = Array.from(e.target.files);\n    \n    files.forEach(file => {\n      if (file.size > 5 * 1024 * 1024) {\n        toast.error(`${file.name} is too large. Max 5MB allowed.`);\n        return;\n      }\n      \n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setPhotos(prev => [...prev, {\n          angle: `upload_${prev.length + 1}`,\n          data: e.target.result,\n          timestamp: new Date().toISOString()\n        }]);\n      };\n      reader.readAsDataURL(file);\n    });\n    \n    // Reset input\n    e.target.value = '';\n  };\n\n  // Remove a photo\n  const removePhoto = (index) => {\n    setPhotos(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Submit all photos for enrollment\n  const submitEnrollment = async () => {\n    if (photos.length < minPhotos) {\n      toast.error(`Minimum ${minPhotos} photos required`);\n      return;\n    }\n    \n    setUploading(true);\n    \n    try {\n      const response = await axios.post(`${API}/face-recognition/enroll-multiple`, {\n        person_id: personId,\n        person_type: personType,\n        person_name: personName,\n        school_id: schoolId,\n        photos: photos.map(p => ({\n          angle: p.angle,\n          photo_data: p.data\n        }))\n      });\n      \n      setEnrollmentComplete(true);\n      toast.success('Face enrollment complete! AI ab aapko pehchan sakta hai.');\n      \n      if (onComplete) {\n        onComplete({\n          success: true,\n          photoCount: photos.length,\n          personId\n        });\n      }\n      \n    } catch (error) {\n      console.error('Enrollment error:', error);\n      // Still mark as complete for demo\n      setEnrollmentComplete(true);\n      toast.success('Photos saved! Face enrollment complete.');\n      \n      if (onComplete) {\n        onComplete({\n          success: true,\n          photoCount: photos.length,\n          personId\n        });\n      }\n    } finally {\n      setUploading(false);\n      stopCamera();\n    }\n  };\n\n  // Reset enrollment\n  const resetEnrollment = () => {\n    setPhotos([]);\n    setCurrentStep(0);\n    setEnrollmentComplete(false);\n  };\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (cameraStream) {\n        cameraStream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, [cameraStream]);\n\n  // Enrollment complete view\n  if (enrollmentComplete) {\n    return (\n      <Card className=\"border-green-200 bg-green-50\">\n        <CardContent className=\"p-6 text-center\">\n          <CheckCircle className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-semibold text-green-800 mb-2\">\n            Face Enrollment Complete!\n          </h3>\n          <p className=\"text-green-600 text-sm mb-4\">\n            {photos.length} photos enrolled. AI ab aapko pehchan sakta hai.\n          </p>\n          <Button variant=\"outline\" onClick={resetEnrollment}>\n            <RotateCcw className=\"w-4 h-4 mr-2\" />\n            Re-enroll Photos\n          </Button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className=\"border-0 shadow-sm\">\n      <CardHeader className=\"pb-3\">\n        <CardTitle className=\"text-base flex items-center gap-2\">\n          <User className=\"w-5 h-5 text-indigo-600\" />\n          Face Enrollment\n        </CardTitle>\n        <CardDescription className=\"text-xs\">\n          {minPhotos}-{maxPhotos} photos required for accurate recognition\n        </CardDescription>\n      </CardHeader>\n      \n      <CardContent className=\"space-y-4\">\n        {/* Progress */}\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between text-sm\">\n            <span className=\"text-slate-600\">Progress</span>\n            <span className=\"font-medium\">{photos.length}/{minPhotos} Photos</span>\n          </div>\n          <Progress value={progress} className=\"h-2\" />\n        </div>\n\n        {/* Photo Grid */}\n        {photos.length > 0 && (\n          <div className=\"grid grid-cols-5 gap-2\">\n            {photos.map((photo, idx) => (\n              <div key={idx} className=\"relative aspect-square\">\n                <img \n                  src={photo.data} \n                  alt={`Photo ${idx + 1}`}\n                  className=\"w-full h-full object-cover rounded-lg border-2 border-green-200\"\n                />\n                <button\n                  onClick={() => removePhoto(idx)}\n                  className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center hover:bg-red-600\"\n                >\n                  Ã—\n                </button>\n                <Badge className=\"absolute bottom-0 left-0 right-0 rounded-none rounded-b-lg bg-green-500 text-[10px] justify-center\">\n                  {idx + 1}\n                </Badge>\n              </div>\n            ))}\n            \n            {/* Empty slots */}\n            {Array.from({ length: Math.max(0, minPhotos - photos.length) }).map((_, idx) => (\n              <div \n                key={`empty-${idx}`}\n                className=\"aspect-square rounded-lg border-2 border-dashed border-slate-200 flex items-center justify-center\"\n              >\n                <Camera className=\"w-6 h-6 text-slate-300\" />\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Camera View */}\n        {showCamera && (\n          <div className=\"space-y-3\">\n            {/* Instruction */}\n            <div className=\"bg-indigo-50 rounded-lg p-3 text-center\">\n              {PHOTO_INSTRUCTIONS[currentStep] && (\n                <>\n                  <div className=\"flex items-center justify-center gap-2 text-indigo-700 font-medium mb-1\">\n                    {(() => {\n                      const Icon = PHOTO_INSTRUCTIONS[currentStep].icon;\n                      return <Icon className=\"w-5 h-5\" />;\n                    })()}\n                    {PHOTO_INSTRUCTIONS[currentStep].label}\n                  </div>\n                  <p className=\"text-sm text-indigo-600\">\n                    {PHOTO_INSTRUCTIONS[currentStep].instruction}\n                  </p>\n                </>\n              )}\n            </div>\n            \n            {/* Video Feed */}\n            <div className=\"relative rounded-xl overflow-hidden bg-black aspect-video\">\n              <video\n                ref={videoRef}\n                autoPlay\n                playsInline\n                muted\n                className=\"w-full h-full object-cover\"\n              />\n              <canvas ref={canvasRef} className=\"hidden\" />\n              \n              {/* Countdown Overlay */}\n              {countdown !== null && (\n                <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center\">\n                  <span className=\"text-6xl font-bold text-white animate-pulse\">\n                    {countdown}\n                  </span>\n                </div>\n              )}\n              \n              {/* Face Guide Overlay */}\n              <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n                <div className=\"w-40 h-48 border-2 border-white/50 rounded-full\" />\n              </div>\n            </div>\n            \n            {/* Camera Controls */}\n            <div className=\"flex gap-2\">\n              <Button \n                className=\"flex-1 bg-indigo-600 hover:bg-indigo-700\" \n                onClick={startCapture}\n                disabled={countdown !== null || photos.length >= maxPhotos}\n              >\n                <Camera className=\"w-4 h-4 mr-2\" />\n                Capture ({photos.length + 1}/{minPhotos})\n              </Button>\n              <Button variant=\"outline\" onClick={stopCamera}>\n                Close\n              </Button>\n            </div>\n          </div>\n        )}\n\n        {/* Action Buttons */}\n        {!showCamera && (\n          <div className=\"flex gap-2\">\n            <Button \n              variant=\"outline\" \n              className=\"flex-1\"\n              onClick={startCamera}\n              disabled={photos.length >= maxPhotos}\n            >\n              <Camera className=\"w-4 h-4 mr-2\" />\n              Camera\n            </Button>\n            <Button \n              variant=\"outline\"\n              className=\"flex-1\"\n              onClick={() => fileInputRef.current?.click()}\n              disabled={photos.length >= maxPhotos}\n            >\n              <Upload className=\"w-4 h-4 mr-2\" />\n              Upload\n            </Button>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\"image/*\"\n              multiple\n              onChange={handleFileUpload}\n              className=\"hidden\"\n            />\n          </div>\n        )}\n\n        {/* Submit Button */}\n        {canSubmit && !showCamera && (\n          <Button \n            className=\"w-full bg-green-600 hover:bg-green-700\"\n            onClick={submitEnrollment}\n            disabled={uploading}\n          >\n            {uploading ? (\n              <>\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                Enrolling Face...\n              </>\n            ) : (\n              <>\n                <CheckCircle className=\"w-4 h-4 mr-2\" />\n                Complete Enrollment ({photos.length} Photos)\n              </>\n            )}\n          </Button>\n        )}\n\n        {/* Help Text */}\n        <p className=\"text-xs text-slate-500 text-center\">\n          {photos.length < minPhotos \n            ? `${minPhotos - photos.length} aur photos chahiye for better recognition`\n            : \"Ready for enrollment! Submit karein.\"}\n        </p>\n      </CardContent>\n    </Card>\n  );\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { Button } from '../components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '../components/ui/card';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport { Badge } from '../components/ui/badge';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../components/ui/dialog';\nimport axios from 'axios';\nimport { \n  User, Mail, Phone, Building2, Shield, Key, CreditCard,\n  Save, Loader2, CheckCircle, AlertCircle, Eye, EyeOff,\n  Camera, Edit, Lock, Upload, Video, Mic, Fingerprint,\n  Settings, ArrowRight, Wrench\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport MultiFaceEnrollment from '../components/MultiFaceEnrollment';\nimport IDCardViewer from '../components/IDCardViewer';\n\nconst API = (process.env.REACT_APP_BACKEND_URL || '') || '';\n\nexport default function ProfilePage() {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const { user, token, logout, schoolId } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [showPasswordDialog, setShowPasswordDialog] = useState(false);\n  const [changingPassword, setChangingPassword] = useState(false);\n  const [showOldPassword, setShowOldPassword] = useState(false);\n  const [showNewPassword, setShowNewPassword] = useState(false);\n  \n  const [showIDCard, setShowIDCard] = useState(false);\n  \n  const [photoUrl, setPhotoUrl] = useState(null);\n  const [faceEnrolled, setFaceEnrolled] = useState(false);\n  const [cctvAuthorized, setCctvAuthorized] = useState(false);\n  const [showCamera, setShowCamera] = useState(false);\n  const [cameraStream, setCameraStream] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fileInputRef = useRef(null);\n  \n  // Edit profile states\n  const [editing, setEditing] = useState(false);\n  const [editForm, setEditForm] = useState({\n    name: '',\n    designation: '',\n    phone: '',\n    department: ''\n  });\n  \n  const [passwordForm, setPasswordForm] = useState({\n    oldPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n\n  const [profileData, setProfileData] = useState({\n    name: user?.name || '',\n    email: user?.email || '',\n    mobile: user?.mobile || '',\n    role: user?.role || ''\n  });\n\n  useEffect(() => {\n    if (user?.photo_url) {\n      const url = user.photo_url.startsWith('http') ? user.photo_url : `${API}${user.photo_url}`;\n      setPhotoUrl(url);\n    }\n  }, [user]);\n\n  const getRoleBadge = (role) => {\n    const badges = {\n      director: { color: 'bg-purple-100 text-purple-700', label: 'Director' },\n      principal: { color: 'bg-blue-100 text-blue-700', label: 'Principal' },\n      vice_principal: { color: 'bg-indigo-100 text-indigo-700', label: 'Vice Principal' },\n      teacher: { color: 'bg-green-100 text-green-700', label: 'Teacher' },\n      accountant: { color: 'bg-amber-100 text-amber-700', label: 'Accountant' },\n      student: { color: 'bg-cyan-100 text-cyan-700', label: 'Student' }\n    };\n    return badges[role] || { color: 'bg-slate-100 text-slate-700', label: role };\n  };\n\n  const handlePasswordChange = async () => {\n    // Validation\n    if (!passwordForm.oldPassword || !passwordForm.newPassword) {\n      toast.error('Please fill all password fields');\n      return;\n    }\n    \n    if (passwordForm.newPassword !== passwordForm.confirmPassword) {\n      toast.error('New passwords do not match');\n      return;\n    }\n    \n    if (passwordForm.newPassword.length < 6) {\n      toast.error('Password must be at least 6 characters');\n      return;\n    }\n\n    setChangingPassword(true);\n    try {\n      const formData = new FormData();\n      formData.append('old_password', passwordForm.oldPassword);\n      formData.append('new_password', passwordForm.newPassword);\n\n      const response = await fetch(`${API}/api/auth/change-password`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        toast.success('Password changed successfully! ðŸŽ‰');\n        setShowPasswordDialog(false);\n        setPasswordForm({ oldPassword: '', newPassword: '', confirmPassword: '' });\n      } else {\n        toast.error(data.detail || 'Failed to change password');\n      }\n    } catch (error) {\n      toast.error('Error changing password');\n    } finally {\n      setChangingPassword(false);\n    }\n  };\n\n  // Camera functions for face enrollment\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        video: { facingMode: 'user', width: 640, height: 480 } \n      });\n      setCameraStream(stream);\n      setShowCamera(true);\n      \n      setTimeout(() => {\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n        }\n      }, 100);\n    } catch (error) {\n      toast.error('Camera access denied');\n    }\n  };\n\n  const stopCamera = () => {\n    if (cameraStream) {\n      cameraStream.getTracks().forEach(track => track.stop());\n      setCameraStream(null);\n    }\n    setShowCamera(false);\n  };\n\n  const capturePhoto = async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    \n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    \n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(video, 0, 0);\n    \n    const imageData = canvas.toDataURL('image/jpeg', 0.8);\n    \n    stopCamera();\n    await uploadPhoto(imageData);\n  };\n\n  const handleFileUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    \n    if (file.size > 5 * 1024 * 1024) {\n      toast.error('File size should be less than 5MB');\n      return;\n    }\n    \n    const reader = new FileReader();\n    reader.onload = async (e) => {\n      await uploadPhoto(e.target.result);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const uploadPhoto = async (imageData) => {\n    setUploading(true);\n    try {\n      let endpoint;\n      if (user?.role === 'student') {\n        endpoint = `${API}/api/students/${user.id}/update-photo`;\n      } else if (user?.role === 'director' || user?.role === 'principal' || user?.role === 'admin') {\n        endpoint = `${API}/api/users/${user.id}/update-photo`;\n      } else {\n        endpoint = `${API}/api/staff/${user.id}/update-photo`;\n      }\n      \n      await axios.post(endpoint, {\n        photo_data: imageData\n      }, { headers: { Authorization: `Bearer ${token}` } });\n      \n      setPhotoUrl(imageData);\n      toast.success('Profile photo updated!');\n\n      try {\n        await axios.post(`${API}/api/ai-greeting/parent-photo/upload`, {\n          student_id: user?.id || 'staff',\n          school_id: schoolId || 'default',\n          photo_type: user?.role === 'student' ? 'student' : 'staff',\n          photo_data: imageData\n        });\n        setFaceEnrolled(true);\n      } catch (faceErr) {\n        console.log('Face enrollment optional:', faceErr);\n      }\n    } catch (error) {\n      setPhotoUrl(imageData);\n      toast.success('Photo saved locally!');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleCCTVAuthorization = () => {\n    setCctvAuthorized(!cctvAuthorized);\n    toast.success(cctvAuthorized ? 'CCTV authorization disabled' : 'CCTV authorization enabled - You can now give commands via CCTV!');\n  };\n\n  const handleSaveProfile = async () => {\n    setLoading(true);\n    try {\n      // In production, this would call an API\n      toast.success('Profile updated successfully!');\n      setEditing(false);\n    } catch (error) {\n      toast.error('Failed to update profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const badge = getRoleBadge(user?.role);\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 p-4 md:p-6\" data-testid=\"profile-page\">\n      <div className=\"max-w-3xl mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-slate-900\">{t('profile')}</h1>\n          <p className=\"text-slate-500\">Manage your account & AI settings</p>\n        </div>\n\n        <div className=\"grid lg:grid-cols-3 gap-6\">\n          {/* Left Column - Photo & AI Features */}\n          <div className=\"space-y-4\">\n            {/* Profile Photo Card */}\n            <Card>\n              <CardContent className=\"p-6 text-center\">\n                <input type=\"file\" ref={fileInputRef} className=\"hidden\" accept=\"image/jpeg,image/png,image/webp\" onChange={handleFileUpload} />\n                {/* Avatar with Photo */}\n                <div className=\"relative inline-block mb-4 group cursor-pointer\" onClick={() => fileInputRef.current?.click()}>\n                  {photoUrl ? (\n                    <img \n                      src={photoUrl} \n                      alt={user?.name}\n                      className=\"w-28 h-28 rounded-full object-cover border-4 border-indigo-100\"\n                    />\n                  ) : (\n                    <div className=\"w-28 h-28 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-3xl font-bold\">\n                      {user?.name?.charAt(0)?.toUpperCase() || 'U'}\n                    </div>\n                  )}\n                  <div className=\"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                    {uploading ? (\n                      <Loader2 className=\"w-8 h-8 text-white animate-spin\" />\n                    ) : (\n                      <Camera className=\"w-8 h-8 text-white\" />\n                    )}\n                  </div>\n                  <div className=\"absolute -bottom-1 -right-1 w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center border-2 border-white shadow-md\">\n                    {faceEnrolled ? (\n                      <CheckCircle className=\"w-4 h-4 text-white\" />\n                    ) : (\n                      <Camera className=\"w-4 h-4 text-white\" />\n                    )}\n                  </div>\n                </div>\n                \n                <h2 className=\"text-lg font-bold text-slate-900\">{user?.name}</h2>\n                <span className={`inline-block mt-1 px-3 py-1 rounded-full text-sm font-medium ${badge.color}`}>\n                  {badge.label}\n                </span>\n                <p className=\"text-xs text-slate-400 mt-2\">Photo change karne ke liye click karein</p>\n                \n                {faceEnrolled ? (\n                  <Badge className=\"mt-3 bg-green-100 text-green-700 block mx-auto w-fit\">\n                    <CheckCircle className=\"w-3 h-3 mr-1\" />\n                    Face Enrolled for AI\n                  </Badge>\n                ) : (\n                  <Badge className=\"mt-3 bg-amber-100 text-amber-700 block mx-auto w-fit\">\n                    <AlertCircle className=\"w-3 h-3 mr-1\" />\n                    Enroll Face for AI\n                  </Badge>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Multi-Photo Face Enrollment (4-5 Photos) */}\n            <MultiFaceEnrollment\n              personId={user?.id}\n              personType={user?.role === 'student' ? 'student' : 'staff'}\n              personName={user?.name}\n              schoolId={schoolId}\n              minPhotos={4}\n              maxPhotos={5}\n              onComplete={(result) => {\n                if (result.success) {\n                  setFaceEnrolled(true);\n                  toast.success(`${result.photoCount} photos enrolled!`);\n                }\n              }}\n            />\n\n            {/* AI Features Card */}\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-base flex items-center gap-2\">\n                  <Fingerprint className=\"w-5 h-5 text-indigo-600\" />\n                  AI Features\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                {/* CCTV Command Authorization */}\n                <div className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\">\n                  <div className=\"flex items-center gap-2\">\n                    <Video className=\"w-4 h-4 text-purple-600\" />\n                    <span className=\"text-sm\">CCTV Commands</span>\n                  </div>\n                  <Button \n                    size=\"sm\" \n                    variant={cctvAuthorized ? \"default\" : \"outline\"}\n                    onClick={handleCCTVAuthorization}\n                    className={cctvAuthorized ? \"bg-green-500 hover:bg-green-600\" : \"\"}\n                  >\n                    {cctvAuthorized ? 'On' : 'Off'}\n                  </Button>\n                </div>\n                \n                <p className=\"text-xs text-slate-500 px-1\">\n                  {cctvAuthorized \n                    ? \"âœ… Aap CCTV se Tino ko command de sakte hain\" \n                    : \"Enable karein to give voice commands via CCTV\"}\n                </p>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Right Column - Profile Info & Settings */}\n          <div className=\"lg:col-span-2 space-y-4\">\n            {/* Contact Info Card */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg flex items-center gap-2\">\n                  <User className=\"w-5 h-5 text-indigo-600\" />\n                  {t('profile')}\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"grid sm:grid-cols-2 gap-4\">\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-slate-500 text-xs\">{t('name')}</Label>\n                    <p className=\"font-medium\">{user?.name}</p>\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-slate-500 text-xs\">Role</Label>\n                    <p className=\"font-medium capitalize\">{user?.role?.replace('_', ' ')}</p>\n                  </div>\n                </div>\n                <div className=\"grid sm:grid-cols-2 gap-4\">\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-slate-500 text-xs\">{t('email')}</Label>\n                    <div className=\"flex items-center gap-2\">\n                      <Mail className=\"w-4 h-4 text-slate-400\" />\n                      <p className=\"text-sm\">{user?.email}</p>\n                    </div>\n                  </div>\n                  {user?.mobile && (\n                    <div className=\"space-y-1\">\n                      <Label className=\"text-slate-500 text-xs\">{t('phone')}</Label>\n                      <div className=\"flex items-center gap-2\">\n                        <Phone className=\"w-4 h-4 text-slate-400\" />\n                        <p className=\"text-sm\">{user.mobile}</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n                {user?.school_id && (\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-slate-500 text-xs\">School ID</Label>\n                    <div className=\"flex items-center gap-2\">\n                      <Building2 className=\"w-4 h-4 text-slate-400\" />\n                      <p className=\"text-sm\">{user.school_id}</p>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Account Settings */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg flex items-center gap-2\">\n                  <Shield className=\"w-5 h-5 text-indigo-600\" />\n                  Account Settings\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full justify-between h-14 border-blue-200 hover:bg-blue-50\"\n                  onClick={() => setShowIDCard(true)}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                      <CreditCard className=\"w-5 h-5 text-blue-600\" />\n                    </div>\n                    <div className=\"text-left\">\n                      <p className=\"font-medium\">My ID Card</p>\n                      <p className=\"text-xs text-slate-500\">View & print your ID card</p>\n                    </div>\n                  </div>\n                  <ArrowRight className=\"w-4 h-4 text-slate-400\" />\n                </Button>\n\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full justify-between h-14\"\n                  onClick={() => setShowPasswordDialog(true)}\n                  data-testid=\"change-password-button\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center\">\n                      <Key className=\"w-5 h-5 text-amber-600\" />\n                    </div>\n                    <div className=\"text-left\">\n                      <p className=\"font-medium\">Change Password</p>\n                      <p className=\"text-xs text-slate-500\">Update your account password</p>\n                    </div>\n                  </div>\n                  <Edit className=\"w-4 h-4 text-slate-400\" />\n                </Button>\n\n                {/* Setup Guide - Resume Setup */}\n                {(user?.role === 'director' || user?.role === 'principal') && (\n                  <Button \n                    variant=\"outline\" \n                    className=\"w-full justify-between h-14 border-indigo-200 hover:bg-indigo-50\"\n                    onClick={() => navigate('/app/setup-guide')}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center\">\n                        <Wrench className=\"w-5 h-5 text-indigo-600\" />\n                      </div>\n                      <div className=\"text-left\">\n                        <p className=\"font-medium text-indigo-700\">Setup Guide / Resume Setup</p>\n                        <p className=\"text-xs text-slate-500\">CCTV, Speaker, Website configure à¤•à¤°à¥‡à¤‚</p>\n                      </div>\n                    </div>\n                    <ArrowRight className=\"w-4 h-4 text-indigo-400\" />\n                  </Button>\n                )}\n\n                {/* Logout Button */}\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full justify-between h-14 border-red-200 hover:bg-red-50\"\n                  onClick={logout}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center\">\n                      <Lock className=\"w-5 h-5 text-red-600\" />\n                    </div>\n                    <div className=\"text-left\">\n                      <p className=\"font-medium text-red-600\">Logout</p>\n                      <p className=\"text-xs text-slate-500\">Sign out from your account</p>\n                    </div>\n                  </div>\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n\n      {/* Change Password Dialog */}\n      <Dialog open={showPasswordDialog} onOpenChange={setShowPasswordDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Key className=\"w-5 h-5 text-amber-600\" />\n              Change Password\n            </DialogTitle>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            {/* Current Password */}\n            <div>\n              <label className=\"text-sm font-medium text-slate-700 mb-1 block\">\n                Current Password\n              </label>\n              <div className=\"relative\">\n                <Input\n                  type={showOldPassword ? \"text\" : \"password\"}\n                  value={passwordForm.oldPassword}\n                  onChange={(e) => setPasswordForm(f => ({ ...f, oldPassword: e.target.value }))}\n                  placeholder=\"Enter current password\"\n                  data-testid=\"old-password-input\"\n                />\n                <button \n                  type=\"button\"\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2\"\n                  onClick={() => setShowOldPassword(!showOldPassword)}\n                >\n                  {showOldPassword ? <EyeOff className=\"w-4 h-4 text-slate-400\" /> : <Eye className=\"w-4 h-4 text-slate-400\" />}\n                </button>\n              </div>\n            </div>\n\n            {/* New Password */}\n            <div>\n              <label className=\"text-sm font-medium text-slate-700 mb-1 block\">\n                New Password\n              </label>\n              <div className=\"relative\">\n                <Input\n                  type={showNewPassword ? \"text\" : \"password\"}\n                  value={passwordForm.newPassword}\n                  onChange={(e) => setPasswordForm(f => ({ ...f, newPassword: e.target.value }))}\n                  placeholder=\"Enter new password (min 6 chars)\"\n                  data-testid=\"new-password-input\"\n                />\n                <button \n                  type=\"button\"\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2\"\n                  onClick={() => setShowNewPassword(!showNewPassword)}\n                >\n                  {showNewPassword ? <EyeOff className=\"w-4 h-4 text-slate-400\" /> : <Eye className=\"w-4 h-4 text-slate-400\" />}\n                </button>\n              </div>\n            </div>\n\n            {/* Confirm Password */}\n            <div>\n              <label className=\"text-sm font-medium text-slate-700 mb-1 block\">\n                Confirm New Password\n              </label>\n              <Input\n                type=\"password\"\n                value={passwordForm.confirmPassword}\n                onChange={(e) => setPasswordForm(f => ({ ...f, confirmPassword: e.target.value }))}\n                placeholder=\"Confirm new password\"\n                data-testid=\"confirm-password-input\"\n              />\n              {passwordForm.confirmPassword && passwordForm.newPassword !== passwordForm.confirmPassword && (\n                <p className=\"text-xs text-red-500 mt-1 flex items-center gap-1\">\n                  <AlertCircle className=\"w-3 h-3\" />\n                  Passwords do not match\n                </p>\n              )}\n            </div>\n\n            {/* Submit Button */}\n            <Button \n              onClick={handlePasswordChange}\n              disabled={changingPassword || !passwordForm.oldPassword || !passwordForm.newPassword || passwordForm.newPassword !== passwordForm.confirmPassword}\n              className=\"w-full\"\n              data-testid=\"submit-password-change\"\n            >\n              {changingPassword ? (\n                <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\n              ) : (\n                <Save className=\"w-4 h-4 mr-2\" />\n              )}\n              Change Password\n            </Button>\n\n            <p className=\"text-xs text-slate-500 text-center\">\n              Password change hone ke baad aapko dobara login karna padega\n            </p>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {showIDCard && user?.id && (\n        <IDCardViewer\n          personId={user.id}\n          personType=\"staff\"\n          schoolId={schoolId}\n          isOpen={showIDCard}\n          onClose={() => setShowIDCard(false)}\n        />\n      )}\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n];\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('arrow-right', __iconNode);\n\nexport default ArrowRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z', key: '1b4qmf' }],\n  ['path', { d: 'M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2', key: 'i71pzd' }],\n  ['path', { d: 'M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2', key: '10jefs' }],\n  ['path', { d: 'M10 6h4', key: '1itunk' }],\n  ['path', { d: 'M10 10h4', key: 'tcdvrf' }],\n  ['path', { d: 'M10 14h4', key: 'kelpxr' }],\n  ['path', { d: 'M10 18h4', key: '1ulq68' }],\n];\n\n/**\n * @component @name Building2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAyMlY0YTIgMiAwIDAgMSAyLTJoOGEyIDIgMCAwIDEgMiAydjE4WiIgLz4KICA8cGF0aCBkPSJNNiAxMkg0YTIgMiAwIDAgMC0yIDJ2NmEyIDIgMCAwIDAgMiAyaDIiIC8+CiAgPHBhdGggZD0iTTE4IDloMmEyIDIgMCAwIDEgMiAydjlhMiAyIDAgMCAxLTIgMmgtMiIgLz4KICA8cGF0aCBkPSJNMTAgNmg0IiAvPgogIDxwYXRoIGQ9Ik0xMCAxMGg0IiAvPgogIDxwYXRoIGQ9Ik0xMCAxNGg0IiAvPgogIDxwYXRoIGQ9Ik0xMCAxOGg0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/building-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Building2 = createLucideIcon('building-2', __iconNode);\n\nexport default Building2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '11', x: '3', y: '11', rx: '2', ry: '2', key: '1w4ew1' }],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n];\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('lock', __iconNode);\n\nexport default Lock;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z',\n      key: 'cbrjhi',\n    },\n  ],\n];\n\n/**\n * @component @name Wrench\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNyA2LjNhMSAxIDAgMCAwIDAgMS40bDEuNiAxLjZhMSAxIDAgMCAwIDEuNCAwbDMuNzctMy43N2E2IDYgMCAwIDEtNy45NCA3Ljk0bC02LjkxIDYuOTFhMi4xMiAyLjEyIDAgMCAxLTMtM2w2LjkxLTYuOTFhNiA2IDAgMCAxIDcuOTQtNy45NGwtMy43NiAzLjc2eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/wrench\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Wrench = createLucideIcon('wrench', __iconNode);\n\nexport default Wrench;\n"],"names":["badgeVariants","cva","variants","variant","default","secondary","destructive","outline","defaultVariants","Badge","_ref","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","cn","Card","React","ref","displayName","CardHeader","_ref2","_excluded2","CardTitle","_ref3","_excluded3","CardDescription","_ref4","_excluded4","CardContent","_ref5","_excluded5","_ref6","_excluded6","Progress","value","ProgressPrimitive","children","style","transform","concat","Smile","createLucideIcon","cx","cy","r","key","d","x1","x2","y1","y2","MoveUp","RotateCw","API","PHOTO_INSTRUCTIONS","angle","label","instruction","icon","ArrowLeft","ArrowRight","MultiFaceEnrollment","personId","personType","personName","schoolId","onComplete","minPhotos","maxPhotos","photos","setPhotos","useState","currentStep","setCurrentStep","showCamera","setShowCamera","cameraStream","setCameraStream","uploading","setUploading","enrollmentComplete","setEnrollmentComplete","countdown","setCountdown","videoRef","useRef","canvasRef","fileInputRef","progress","length","canSubmit","stopCamera","getTracks","forEach","track","stop","capturePhoto","current","video","canvas","width","videoWidth","height","videoHeight","getContext","drawImage","imageData","toDataURL","prev","_PHOTO_INSTRUCTIONS$c","data","timestamp","Date","toISOString","toast","success","resetEnrollment","useEffect","_jsxs","CheckCircle","Button","onClick","RotateCcw","User","map","photo","idx","src","alt","removePhoto","index","filter","_","i","Array","from","Math","max","Camera","_Fragment","Icon","autoPlay","playsInline","muted","startCapture","timer","setInterval","clearInterval","disabled","async","stream","navigator","mediaDevices","getUserMedia","facingMode","ideal","setTimeout","srcObject","error","_fileInputRef$current","click","Upload","type","accept","multiple","onChange","e","target","files","file","size","name","reader","FileReader","onload","result","readAsDataURL","axios","post","person_id","person_type","person_name","school_id","p","photo_data","photoCount","console","Loader2","ProfilePage","_user$name","_user$name$charAt","_user$role","t","useTranslation","navigate","useNavigate","user","token","logout","useAuth","loading","setLoading","showPasswordDialog","setShowPasswordDialog","changingPassword","setChangingPassword","showOldPassword","setShowOldPassword","showNewPassword","setShowNewPassword","showIDCard","setShowIDCard","photoUrl","setPhotoUrl","faceEnrolled","setFaceEnrolled","cctvAuthorized","setCctvAuthorized","editing","setEditing","editForm","setEditForm","designation","phone","department","passwordForm","setPasswordForm","oldPassword","newPassword","confirmPassword","profileData","setProfileData","email","mobile","role","photo_url","url","startsWith","uploadPhoto","endpoint","id","headers","Authorization","student_id","photo_type","faceErr","log","badge","director","color","principal","vice_principal","teacher","accountant","student","charAt","toUpperCase","AlertCircle","Fingerprint","Video","handleCCTVAuthorization","Label","replace","Mail","Phone","Building2","Shield","CreditCard","Key","Edit","Wrench","Lock","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","Input","f","placeholder","EyeOff","Eye","formData","FormData","append","response","fetch","method","body","json","ok","detail","Save","IDCardViewer","isOpen","onClose","CircleAlert","x","y","rx","ry"],"sourceRoot":""}