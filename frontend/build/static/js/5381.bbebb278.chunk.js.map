{"version":3,"file":"static/js/5381.bbebb278.chunk.js","mappings":"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","sources":["components/ui/card.jsx","components/ui/progress.jsx","components/ui/table.jsx","components/ui/tabs.jsx","components/ui/dropdown-menu.jsx","components/FaceEnrollmentCapture.js","pages/StudentsPage.js"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-xl border border-gray-200 bg-white text-gray-900 shadow-sm\", className)}\n    {...props} />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-5\", className)}\n    {...props} />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-5 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-5 pt-0\", className)}\n    {...props} />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}>\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }} />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto rounded-xl border border-gray-200 bg-white overflow-hidden\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props} />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b bg-gray-50/80\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props} />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\", className)}\n    {...props} />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-blue-50/40 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props} />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-11 px-4 text-xs uppercase tracking-wider text-left align-middle font-medium text-gray-600 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props} />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"px-4 py-3 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props} />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-gray-100 border border-gray-200 p-1 text-muted-foreground\",\n      className\n    )}\n    {...props} />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:border-b-2 data-[state=active]:border-blue-500\",\n      className\n    )}\n    {...props} />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props} />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}>\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props} />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props} />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props} />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}>\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}>\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props} />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props} />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props} />\n  );\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { Button } from '../components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '../components/ui/dialog';\nimport { Progress } from '../components/ui/progress';\nimport { \n  Camera, Upload, CheckCircle, XCircle, AlertTriangle, Loader2,\n  RotateCcw, ChevronRight, User, Smartphone, Monitor, Eye,\n  Scan, Shield, RefreshCw, Image, Trash2, Info\n} from 'lucide-react';\nimport { toast } from 'sonner';\n\nconst API = (process.env.REACT_APP_BACKEND_URL || '') || '';\n\nconst PHOTO_TYPES = [\n  { id: 'passport', label: 'Passport Photo', icon: User, description: 'Front facing, neutral expression', required: true },\n  { id: 'front', label: 'Front View', icon: Eye, description: 'Direct front view', required: false },\n  { id: 'left', label: 'Left Profile', icon: User, description: 'Left side (30-45)', required: false },\n  { id: 'right', label: 'Right Profile', icon: User, description: 'Right side (30-45)', required: false },\n  { id: 'full_body', label: 'Full Body', icon: User, description: 'Full body with face visible', required: false },\n];\n\nexport default function FaceEnrollmentCapture({ \n  studentId, \n  schoolId, \n  studentName,\n  onComplete,\n  onSkip,\n  isOpen,\n  onClose\n}) {\n  const [currentPhotoType, setCurrentPhotoType] = useState('passport');\n  const [uploadedPhotos, setUploadedPhotos] = useState({});\n  const [capturing, setCapturing] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [cameraActive, setCameraActive] = useState(false);\n  const [captureMode, setCaptureMode] = useState('camera'); // camera, upload\n  const [qualityAnalysis, setQualityAnalysis] = useState(null);\n  const [showWarning, setShowWarning] = useState(null);\n  const [enrollmentStatus, setEnrollmentStatus] = useState(null);\n  \n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const streamRef = useRef(null);\n\n  // Fetch enrollment status\n  useEffect(() => {\n    if (studentId && isOpen) {\n      fetchEnrollmentStatus();\n    }\n  }, [studentId, isOpen]);\n\n  // Cleanup camera on unmount\n  useEffect(() => {\n    return () => {\n      stopCamera();\n    };\n  }, []);\n\n  const fetchEnrollmentStatus = async () => {\n    try {\n      const res = await fetch(`${API}/api/face-recognition/enrollment-status/${studentId}`);\n      if (res.ok) {\n        const data = await res.json();\n        setEnrollmentStatus(data);\n        \n        // Pre-populate uploaded photos\n        const uploaded = {};\n        data.photos_uploaded?.forEach(type => {\n          uploaded[type] = { uploaded: true };\n        });\n        setUploadedPhotos(uploaded);\n      }\n    } catch (error) {\n      console.error('Error fetching enrollment status:', error);\n    }\n  };\n\n  const startCamera = async () => {\n    try {\n      const constraints = {\n        video: {\n          width: { ideal: 1920 },\n          height: { ideal: 1080 },\n          facingMode: 'user'\n        }\n      };\n      \n      const stream = await navigator.mediaDevices.getUserMedia(constraints);\n      streamRef.current = stream;\n      \n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        await videoRef.current.play();\n      }\n      \n      setCameraActive(true);\n      toast.success('Camera started! Position your face properly.');\n    } catch (error) {\n      console.error('Camera error:', error);\n      toast.error('Camera access denied. Please allow camera permission or upload photos.');\n      setCaptureMode('upload');\n    }\n  };\n\n  const stopCamera = () => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n    setCameraActive(false);\n  };\n\n  const capturePhoto = async () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    \n    setCapturing(true);\n    \n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    \n    // Set canvas size to video size\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    \n    // Draw video frame to canvas\n    context.drawImage(video, 0, 0);\n    \n    // Convert to base64\n    const base64 = canvas.toDataURL('image/jpeg', 0.9).split(',')[1];\n    \n    // Upload photo\n    await uploadPhoto(base64);\n    \n    setCapturing(false);\n  };\n\n  const handleFileUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n    \n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      toast.error('Please upload an image file');\n      return;\n    }\n    \n    // Validate file size (max 10MB)\n    if (file.size > 10 * 1024 * 1024) {\n      toast.error('File size too large. Max 10MB allowed.');\n      return;\n    }\n    \n    // Convert to base64\n    const reader = new FileReader();\n    reader.onloadend = async () => {\n      const base64 = reader.result.split(',')[1];\n      await uploadPhoto(base64);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const uploadPhoto = async (base64) => {\n    setUploading(true);\n    setQualityAnalysis(null);\n    \n    try {\n      const res = await fetch(`${API}/api/face-recognition/upload-photo`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          student_id: studentId,\n          school_id: schoolId,\n          photo_base64: base64,\n          photo_type: currentPhotoType,\n          capture_device: captureMode === 'camera' ? 'webcam' : 'upload'\n        })\n      });\n      \n      const data = await res.json();\n      \n      if (data.success) {\n        toast.success(data.message || 'Photo uploaded successfully!');\n        setQualityAnalysis(data.analysis);\n        \n        // Update uploaded photos\n        setUploadedPhotos(prev => ({\n          ...prev,\n          [currentPhotoType]: {\n            uploaded: true,\n            quality: data.quality_score,\n            photoId: data.photo_id\n          }\n        }));\n        \n        // Auto-advance to next photo type\n        const currentIndex = PHOTO_TYPES.findIndex(p => p.id === currentPhotoType);\n        if (currentIndex < PHOTO_TYPES.length - 1) {\n          setCurrentPhotoType(PHOTO_TYPES[currentIndex + 1].id);\n        }\n        \n        // Refresh enrollment status\n        fetchEnrollmentStatus();\n        \n      } else {\n        // Handle errors\n        if (data.warning === 'TWIN_OR_SIBLING_DETECTED') {\n          setShowWarning({\n            type: 'twin',\n            similar_student: data.similar_student,\n            similarity: data.similarity,\n            message: data.message\n          });\n        } else {\n          toast.error(data.error || 'Failed to upload photo');\n          setQualityAnalysis(data.analysis);\n        }\n      }\n    } catch (error) {\n      console.error('Upload error:', error);\n      toast.error('Failed to upload photo. Please try again.');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleSkip = async () => {\n    try {\n      const res = await fetch(`${API}/api/face-recognition/skip-enrollment`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          student_id: studentId,\n          school_id: schoolId,\n          skip_face: true,\n          skip_biometric: true,\n          reason: 'Skipped during admission - will complete later'\n        })\n      });\n      \n      if (res.ok) {\n        toast.info('Face enrollment skipped. Can be completed later.');\n        onSkip?.();\n        onClose?.();\n      }\n    } catch (error) {\n      console.error('Skip error:', error);\n    }\n  };\n\n  const handleComplete = () => {\n    stopCamera();\n    onComplete?.();\n    onClose?.();\n  };\n\n  const getPhotoTypeStatus = (photoType) => {\n    if (uploadedPhotos[photoType]?.uploaded) {\n      return 'complete';\n    }\n    if (photoType === currentPhotoType) {\n      return 'current';\n    }\n    return 'pending';\n  };\n\n  const uploadedCount = Object.keys(uploadedPhotos).filter(k => uploadedPhotos[k]?.uploaded).length;\n  const progress = (uploadedCount / 3) * 100; // 3 photos = 100%\n  const canComplete = uploadedPhotos['passport']?.uploaded && uploadedCount >= 2;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Scan className=\"w-6 h-6 text-indigo-600\" />\n            AI Face Enrollment - {studentName}\n          </DialogTitle>\n          <DialogDescription>\n            4-5 photos chahiye (1 passport + angles) for accurate face recognition\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"grid md:grid-cols-3 gap-6 mt-4\">\n          {/* Left: Photo Types Progress */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-sm font-medium\">Progress</span>\n              <span className=\"text-sm text-slate-500\">{uploadedCount}/5 photos</span>\n            </div>\n            <Progress value={progress} className=\"h-2 mb-4\" />\n            \n            {PHOTO_TYPES.map((type) => {\n              const status = getPhotoTypeStatus(type.id);\n              return (\n                <button\n                  key={type.id}\n                  onClick={() => setCurrentPhotoType(type.id)}\n                  className={`w-full p-3 rounded-lg border-2 text-left transition-all ${\n                    status === 'complete' \n                      ? 'border-emerald-300 bg-emerald-50' \n                      : status === 'current'\n                      ? 'border-indigo-400 bg-indigo-50'\n                      : 'border-slate-200 bg-white hover:border-slate-300'\n                  }`}\n                  data-testid={`photo-type-${type.id}`}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                      status === 'complete' ? 'bg-emerald-500' : \n                      status === 'current' ? 'bg-indigo-500' : 'bg-slate-200'\n                    }`}>\n                      {status === 'complete' ? (\n                        <CheckCircle className=\"w-5 h-5 text-white\" />\n                      ) : (\n                        <type.icon className={`w-4 h-4 ${status === 'current' ? 'text-white' : 'text-slate-500'}`} />\n                      )}\n                    </div>\n                    <div className=\"flex-1\">\n                      <p className={`font-medium text-sm ${status === 'complete' ? 'text-emerald-700' : 'text-slate-900'}`}>\n                        {type.label} {type.required && <span className=\"text-red-500\">*</span>}\n                      </p>\n                      <p className=\"text-xs text-slate-500\">{type.description}</p>\n                    </div>\n                    {status === 'complete' && uploadedPhotos[type.id]?.quality && (\n                      <span className=\"text-xs bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded\">\n                        {uploadedPhotos[type.id].quality}%\n                      </span>\n                    )}\n                  </div>\n                </button>\n              );\n            })}\n          </div>\n\n          {/* Center: Camera/Upload Area */}\n          <div className=\"md:col-span-2 space-y-4\">\n            {/* Capture Mode Selector */}\n            <div className=\"flex gap-2\">\n              <Button\n                variant={captureMode === 'camera' ? 'default' : 'outline'}\n                onClick={() => {\n                  setCaptureMode('camera');\n                  if (!cameraActive) startCamera();\n                }}\n                className=\"flex-1\"\n              >\n                <Camera className=\"w-4 h-4 mr-2\" />\n                Camera\n              </Button>\n              <Button\n                variant={captureMode === 'upload' ? 'default' : 'outline'}\n                onClick={() => {\n                  setCaptureMode('upload');\n                  stopCamera();\n                }}\n                className=\"flex-1\"\n              >\n                <Upload className=\"w-4 h-4 mr-2\" />\n                Upload\n              </Button>\n            </div>\n\n            {/* Camera View */}\n            {captureMode === 'camera' && (\n              <Card className=\"overflow-hidden\">\n                <CardContent className=\"p-0\">\n                  <div className=\"relative aspect-[4/3] bg-slate-900\">\n                    <video\n                      ref={videoRef}\n                      autoPlay\n                      playsInline\n                      muted\n                      className=\"w-full h-full object-cover\"\n                    />\n                    \n                    {/* Face Guide Overlay */}\n                    <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n                      <div className={`border-4 border-dashed rounded-full w-48 h-64 ${\n                        currentPhotoType === 'full_body' ? 'w-32 h-80' : ''\n                      } ${cameraActive ? 'border-white/50' : 'border-slate-500'}`}></div>\n                    </div>\n                    \n                    {/* Photo Type Label */}\n                    <div className=\"absolute top-4 left-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm\">\n                      {PHOTO_TYPES.find(p => p.id === currentPhotoType)?.label}\n                    </div>\n                    \n                    {!cameraActive && (\n                      <div className=\"absolute inset-0 flex items-center justify-center bg-slate-900/80\">\n                        <Button onClick={startCamera} size=\"lg\">\n                          <Camera className=\"w-5 h-5 mr-2\" />\n                          Start Camera\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n                  \n                  {/* Capture Button */}\n                  {cameraActive && (\n                    <div className=\"p-4 bg-slate-100 flex justify-center gap-4\">\n                      <Button\n                        size=\"lg\"\n                        onClick={capturePhoto}\n                        disabled={capturing || uploading}\n                        className=\"bg-red-600 hover:bg-red-700\"\n                        data-testid=\"capture-photo-btn\"\n                      >\n                        {capturing || uploading ? (\n                          <Loader2 className=\"w-5 h-5 animate-spin mr-2\" />\n                        ) : (\n                          <Camera className=\"w-5 h-5 mr-2\" />\n                        )}\n                        {uploading ? 'Analyzing...' : 'Capture Photo'}\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        onClick={stopCamera}\n                      >\n                        <XCircle className=\"w-4 h-4 mr-2\" />\n                        Stop\n                      </Button>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Upload Area */}\n            {captureMode === 'upload' && (\n              <Card className=\"border-2 border-dashed border-slate-300 hover:border-indigo-400 transition-colors\">\n                <CardContent className=\"p-8\">\n                  <div \n                    className=\"flex flex-col items-center justify-center cursor-pointer\"\n                    onClick={() => fileInputRef.current?.click()}\n                  >\n                    <Upload className=\"w-12 h-12 text-slate-400 mb-4\" />\n                    <p className=\"text-lg font-medium text-slate-700\">\n                      Click to upload {PHOTO_TYPES.find(p => p.id === currentPhotoType)?.label}\n                    </p>\n                    <p className=\"text-sm text-slate-500 mt-1\">\n                      JPG, PNG up to 10MB - High resolution recommended\n                    </p>\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleFileUpload}\n                      className=\"hidden\"\n                      data-testid=\"photo-upload-input\"\n                    />\n                    \n                    {uploading && (\n                      <div className=\"mt-4 flex items-center gap-2 text-indigo-600\">\n                        <Loader2 className=\"w-5 h-5 animate-spin\" />\n                        <span>AI analyzing photo...</span>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Quality Analysis Result */}\n            {qualityAnalysis && (\n              <Card className={`${\n                qualityAnalysis.quality_score >= 80 ? 'border-emerald-300 bg-emerald-50' :\n                qualityAnalysis.quality_score >= 60 ? 'border-amber-300 bg-amber-50' :\n                'border-red-300 bg-red-50'\n              }`}>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-start gap-3\">\n                    {qualityAnalysis.quality_score >= 80 ? (\n                      <CheckCircle className=\"w-6 h-6 text-emerald-600 flex-shrink-0\" />\n                    ) : qualityAnalysis.quality_score >= 60 ? (\n                      <AlertTriangle className=\"w-6 h-6 text-amber-600 flex-shrink-0\" />\n                    ) : (\n                      <XCircle className=\"w-6 h-6 text-red-600 flex-shrink-0\" />\n                    )}\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <span className=\"font-semibold\">Quality Score: {qualityAnalysis.quality_score}/100</span>\n                        {qualityAnalysis.face_detected && (\n                          <span className=\"text-xs bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded\">Face Detected</span>\n                        )}\n                      </div>\n                      \n                      {qualityAnalysis.issues?.length > 0 && (\n                        <div className=\"text-sm text-slate-600\">\n                          <strong>Issues:</strong> {qualityAnalysis.issues.join(', ')}\n                        </div>\n                      )}\n                      \n                      {qualityAnalysis.recommendations?.length > 0 && (\n                        <div className=\"text-sm text-slate-600 mt-1\">\n                          <strong>Tips:</strong> {qualityAnalysis.recommendations.join(', ')}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Hidden Canvas for Capture */}\n            <canvas ref={canvasRef} className=\"hidden\" />\n          </div>\n        </div>\n\n        {/* Twin Warning Dialog */}\n        {showWarning?.type === 'twin' && (\n          <div className=\"mt-4 p-4 bg-amber-50 border-2 border-amber-300 rounded-lg\">\n            <div className=\"flex items-start gap-3\">\n              <AlertTriangle className=\"w-6 h-6 text-amber-600 flex-shrink-0\" />\n              <div>\n                <h4 className=\"font-bold text-amber-800\"> Similar Face Detected!</h4>\n                <p className=\"text-sm text-amber-700 mt-1\">\n                  This face is {showWarning.similarity}% similar to: <strong>{showWarning.similar_student?.name}</strong>\n                  {showWarning.similar_student?.class && ` (Class ${showWarning.similar_student.class})`}\n                </p>\n                <p className=\"text-sm text-amber-700 mt-2\">\n                  <strong>Kya ye student twin/sibling hai?</strong> Please verify carefully before proceeding.\n                </p>\n                <div className=\"flex gap-2 mt-3\">\n                  <Button size=\"sm\" variant=\"outline\" onClick={() => setShowWarning(null)}>\n                    Re-take Photo\n                  </Button>\n                  <Button \n                    size=\"sm\" \n                    className=\"bg-amber-600 hover:bg-amber-700\"\n                    onClick={() => {\n                      setShowWarning(null);\n                      toast.success('Verified as different person. Continue enrollment.');\n                    }}\n                  >\n                    Yes, Different Person - Continue\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Footer Actions */}\n        <div className=\"flex justify-between items-center mt-6 pt-4 border-t\">\n          <Button variant=\"ghost\" onClick={handleSkip} className=\"text-slate-500\">\n            Skip for now\n          </Button>\n          \n          <div className=\"flex gap-3\">\n            <Button variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button \n              onClick={handleComplete}\n              disabled={!canComplete}\n              className=\"bg-emerald-600 hover:bg-emerald-700\"\n              data-testid=\"complete-enrollment-btn\"\n            >\n              <CheckCircle className=\"w-4 h-4 mr-2\" />\n              Complete Enrollment\n            </Button>\n          </div>\n        </div>\n        \n        {/* Help Text */}\n        <div className=\"mt-4 p-3 bg-blue-50 rounded-lg flex items-start gap-2\">\n          <Info className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n          <div className=\"text-sm text-blue-700\">\n            <strong>Tips for best results:</strong>\n            <ul className=\"list-disc ml-4 mt-1\">\n              <li>Good lighting - face clearly visible</li>\n              <li>Remove glasses if possible</li>\n              <li>Neutral expression for passport photo</li>\n              <li>Different angles help AI identify student accurately</li>\n              <li>Full body photo helps even if face is partially visible</li>\n            </ul>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useAuth } from '../context/AuthContext';\nimport axios from 'axios';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogDescription,\n} from '../components/ui/dialog';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '../components/ui/table';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { \n  Plus, Search, Edit, Trash2, Eye, EyeOff, Loader2, User, UserPlus, \n  Copy, Check, Ban, RefreshCw, LogOut, MoreVertical, AlertTriangle, Camera, CreditCard,\n  Upload, X, Fingerprint, Image, Printer, ArrowUpCircle, FileUp, GraduationCap, Key, MessageCircle, Share2,\n  Phone, Wallet, Bus, Heart, Users\n} from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '../components/ui/dropdown-menu';\nimport { toast } from 'sonner';\nimport FaceEnrollmentCapture from '../components/FaceEnrollmentCapture';\nimport IDCardViewer from '../components/IDCardViewer';\nimport StudentIDCard from '../components/StudentIDCard';\nimport BulkImport from '../components/BulkImport';\nimport DocumentUpload from '../components/DocumentUpload';\n\nconst API = `${(process.env.REACT_APP_BACKEND_URL || '')}/api`;\n\nexport default function StudentsPage() {\n  const { t } = useTranslation();\n  const { schoolId, user } = useAuth();\n  const [students, setStudents] = useState([]);\n  const [suspendedStudents, setSuspendedStudents] = useState([]);\n  const [classes, setClasses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState('');\n  const [selectedClass, setSelectedClass] = useState('');\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [isCredentialsDialogOpen, setIsCredentialsDialogOpen] = useState(false);\n  const [isSuspendDialogOpen, setIsSuspendDialogOpen] = useState(false);\n  const [showFaceEnrollment, setShowFaceEnrollment] = useState(false);\n  const [showIDCard, setShowIDCard] = useState(false);\n  const [showPrintableIDCard, setShowPrintableIDCard] = useState(false);\n  const [idCardStudent, setIdCardStudent] = useState(null);\n  const [school, setSchool] = useState(null);\n  const [editingStudent, setEditingStudent] = useState(null);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [newStudentCredentials, setNewStudentCredentials] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n  const [copiedField, setCopiedField] = useState(null);\n  const [bulkPrinting, setBulkPrinting] = useState(false);\n  \n  // Promotion states\n  const [showPromotionDialog, setShowPromotionDialog] = useState(false);\n  const [promotingStudents, setPromotingStudents] = useState(false);\n  const [promotionData, setPromotionData] = useState({\n    fromClassId: '',\n    toClassId: '',\n    selectedStudentIds: [],\n    selectAll: false\n  });\n  \n  // Document upload states\n  const [showDocumentDialog, setShowDocumentDialog] = useState(false);\n  const [documentStudent, setDocumentStudent] = useState(null);\n  const [uploadingDocument, setUploadingDocument] = useState(false);\n  \n  // Delete confirmation states\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [deleteStudent, setDeleteStudent] = useState(null);\n  const [deleteConfirmText, setDeleteConfirmText] = useState('');\n  const [deleting, setDeleting] = useState(false);\n  \n  // Credentials sharing states\n  const [showCredentialsDialog, setShowCredentialsDialog] = useState(false);\n  const [credentialsStudent, setCredentialsStudent] = useState(null);\n  const [showBulkCredentialsDialog, setShowBulkCredentialsDialog] = useState(false);\n  \n  // Profile view states\n  const [showProfileModal, setShowProfileModal] = useState(false);\n  const [profileStudent, setProfileStudent] = useState(null);\n  const [uploadingProfilePhoto, setUploadingProfilePhoto] = useState(false);\n  const profilePhotoInputRef = useRef(null);\n  const splitPhotoInputRef = useRef(null);\n  \n  // Split view state\n  const [splitViewStudent, setSplitViewStudent] = useState(null);\n  \n  // Photo capture states\n  const [capturedPhoto, setCapturedPhoto] = useState(null);\n  const [showCamera, setShowCamera] = useState(false);\n  const [cameraStream, setCameraStream] = useState(null);\n  const [showResetPasswordDialog, setShowResetPasswordDialog] = useState(false);\n  const [resetPasswordStudent, setResetPasswordStudent] = useState(null);\n  const [newStudentPassword, setNewStudentPassword] = useState('');\n  const [resettingStudentPassword, setResettingStudentPassword] = useState(false);\n  const [showStudentPasswordField, setShowStudentPasswordField] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  // Form Tab State\n  const [activeFormTab, setActiveFormTab] = useState('basic');\n  \n  const [formData, setFormData] = useState({\n    // Basic Info\n    name: '',\n    class_id: '',\n    dob: '',\n    gender: 'male',\n    blood_group: '',\n    admission_date: new Date().toISOString().split('T')[0],\n    // Identity Documents\n    aadhar_no: '',\n    scholar_no: '',\n    pen_number: '',\n    sssmid: '',\n    samagra_family_id: '',\n    jan_aadhar_no: '',\n    // Category Info\n    caste: '',\n    sub_caste: '',\n    religion: '',\n    category: '',\n    nationality: 'Indian',\n    mother_tongue: '',\n    birth_place: '',\n    identification_mark: '',\n    rte_status: false,\n    // Family Info\n    father_name: '',\n    father_occupation: '',\n    father_qualification: '',\n    mother_name: '',\n    mother_occupation: '',\n    mother_qualification: '',\n    guardian_name: '',\n    guardian_relation: '',\n    guardian_mobile: '',\n    guardian_occupation: '',\n    annual_income: '',\n    // Contact Info\n    mobile: '',\n    parent_phone: '',\n    email: '',\n    address: '',\n    emergency_contact: '',\n    emergency_contact_name: '',\n    // Bank Details (Scholarship)\n    bank_name: '',\n    bank_account_no: '',\n    ifsc_code: '',\n    bank_branch: '',\n    // Transport\n    transport_mode: '',\n    bus_route: '',\n    bus_stop: '',\n    pickup_point: '',\n    // Hostel\n    is_hosteler: false,\n    hostel_room_no: '',\n    // Medical\n    medical_conditions: '',\n    allergies: '',\n    // Previous Education\n    previous_school: '',\n    previous_class: '',\n    previous_percentage: '',\n    tc_number: ''\n  });\n  \n  // Document uploads\n  const [documents, setDocuments] = useState({\n    birth_certificate: null,\n    aadhar_card: null,\n    transfer_certificate: null,\n    marksheet: null,\n    caste_certificate: null,\n    income_certificate: null,\n    passport_photo: null\n  });\n\n  // Parent/Guardian photo states\n  const [parentPhotos, setParentPhotos] = useState({\n    father_photo: null,\n    mother_photo: null,\n    guardian_photo: null\n  });\n  const [showParentCamera, setShowParentCamera] = useState(null); // 'father', 'mother', 'guardian'\n  const parentVideoRef = useRef(null);\n  const parentCanvasRef = useRef(null);\n  const [parentCameraStream, setParentCameraStream] = useState(null);\n\n  const [suspendForm, setSuspendForm] = useState({\n    reason: 'fees_pending',\n    details: ''\n  });\n\n  const suspendReasons = {\n    fees_pending: 'Fees Pending ( )',\n    misconduct: 'Misconduct ()',\n    document_pending: 'Document Pending ( )',\n    attendance_low: 'Low Attendance ( )',\n    other: 'Other ()'\n  };\n\n  useEffect(() => {\n    if (schoolId) {\n      fetchStudents();\n      fetchClasses();\n    }\n  }, [schoolId, search, selectedClass]);\n\n  const fetchStudents = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const headers = { Authorization: `Bearer ${token}` };\n      let url = `${API}/students?school_id=${schoolId}`;\n      if (search) url += `&search=${search}`;\n      if (selectedClass) url += `&class_id=${selectedClass}`;\n      \n      const [activeRes, suspendedRes] = await Promise.all([\n        axios.get(`${url}&status=active`, { headers }),\n        axios.get(`${url}&status=suspended`, { headers })\n      ]);\n      \n      setStudents(activeRes.data);\n      setSuspendedStudents(suspendedRes.data);\n    } catch (error) {\n      toast.error('Failed to fetch students');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchClasses = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${API}/classes?school_id=${schoolId}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setClasses(response.data);\n    } catch (error) {\n      console.error('Failed to fetch classes');\n    }\n  };\n\n  // Camera functions for photo capture\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        video: { facingMode: 'user', width: 640, height: 480 } \n      });\n      setCameraStream(stream);\n      setShowCamera(true);\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    } catch (err) {\n      toast.error('Camera access denied. Please allow camera permission.');\n    }\n  };\n\n  const stopCamera = () => {\n    if (cameraStream) {\n      cameraStream.getTracks().forEach(track => track.stop());\n      setCameraStream(null);\n    }\n    setShowCamera(false);\n  };\n\n  const capturePhoto = () => {\n    if (videoRef.current && canvasRef.current) {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(video, 0, 0);\n      const dataUrl = canvas.toDataURL('image/jpeg', 0.8);\n      setCapturedPhoto(dataUrl);\n      stopCamera();\n      toast.success('Photo captured! ');\n    }\n  };\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        toast.error('File size should be less than 5MB');\n        return;\n      }\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        setCapturedPhoto(event.target.result);\n        toast.success('Photo uploaded! ');\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const removePhoto = () => {\n    setCapturedPhoto(null);\n  };\n\n  const handleProfilePhotoUpload = async (e, studentId) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    if (file.size > 5 * 1024 * 1024) {\n      toast.error('Photo size 5MB se kam honi chahiye');\n      return;\n    }\n    setUploadingProfilePhoto(true);\n    const reader = new FileReader();\n    reader.onload = async (event) => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.post(`${API}/students/${studentId}/update-photo`, {\n          photo_data: event.target.result\n        }, { headers: { Authorization: `Bearer ${token}` } });\n        const newPhotoUrl = response.data.photo_url;\n        setProfileStudent(prev => prev ? { ...prev, photo_url: newPhotoUrl } : prev);\n        setSplitViewStudent(prev => prev && prev.id === studentId ? { ...prev, photo_url: newPhotoUrl } : prev);\n        fetchStudents();\n        toast.success('Photo upload ho gayi!');\n      } catch (error) {\n        toast.error('Photo upload fail hua. Please try again.');\n      } finally {\n        setUploadingProfilePhoto(false);\n      }\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n\n    try {\n      const payload = { ...formData, school_id: schoolId };\n      const token = localStorage.getItem('token');\n      const headers = { Authorization: `Bearer ${token}` };\n      \n      if (editingStudent) {\n        await axios.put(`${API}/students/${editingStudent.id}`, payload, { headers });\n        toast.success(t('saved_successfully'));\n        setIsDialogOpen(false);\n      } else {\n        // New admission - use /students/admit endpoint\n        const response = await axios.post(`${API}/students/admit`, payload, { headers });\n        \n        const studentId = response.data.student_id;\n        \n        // If photo was captured, upload it for face recognition\n        if (capturedPhoto) {\n          try {\n            // Convert base64 to blob\n            const base64Data = capturedPhoto.split(',')[1];\n            const byteCharacters = atob(base64Data);\n            const byteNumbers = new Array(byteCharacters.length);\n            for (let i = 0; i < byteCharacters.length; i++) {\n              byteNumbers[i] = byteCharacters.charCodeAt(i);\n            }\n            const byteArray = new Uint8Array(byteNumbers);\n            const blob = new Blob([byteArray], { type: 'image/jpeg' });\n            \n            const photoFormData = new FormData();\n            photoFormData.append('photo', blob, 'admission_photo.jpg');\n            photoFormData.append('student_id', studentId);\n            photoFormData.append('school_id', schoolId);\n            photoFormData.append('photo_type', 'front');\n            \n            await axios.post(`${API}/face-recognition/upload-photo`, photoFormData, {\n              headers: { 'Content-Type': 'multipart/form-data', Authorization: `Bearer ${token}` }\n            });\n            toast.success('Face photo uploaded for AI attendance! ');\n          } catch (photoErr) {\n            console.error('Photo upload failed:', photoErr);\n            toast.info('Student created but photo upload failed. Add later from profile.');\n          }\n        }\n        \n        // Show credentials dialog\n        setNewStudentCredentials({\n          student_id: studentId,\n          name: response.data.name,\n          login_id: response.data.login_id,\n          temporary_password: response.data.temporary_password,\n          class_name: response.data.class_name,\n          section: response.data.section\n        });\n        setIsDialogOpen(false);\n        setIsCredentialsDialogOpen(true);\n      }\n      \n      resetForm();\n      setCapturedPhoto(null); // Clear captured photo\n      fetchStudents();\n    } catch (error) {\n      const msg = error.response?.data?.detail;\n      toast.error(typeof msg === 'string' ? msg : t('something_went_wrong'));\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleSuspend = async (e) => {\n    e.preventDefault();\n    if (!selectedStudent) return;\n    setSubmitting(true);\n\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(`${API}/students/${selectedStudent.id}/suspend?reason=${suspendForm.reason}&details=${suspendForm.details}`, {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      toast.success('Student suspended');\n      setIsSuspendDialogOpen(false);\n      setSuspendForm({ reason: 'fees_pending', details: '' });\n      setSelectedStudent(null);\n      fetchStudents();\n    } catch (error) {\n      toast.error('Failed to suspend student');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleUnsuspend = async (id) => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(`${API}/students/${id}/unsuspend`, {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      toast.success('Student unsuspended');\n      fetchStudents();\n    } catch (error) {\n      toast.error('Failed to unsuspend student');\n    }\n  };\n\n  const handleMarkLeft = async (id) => {\n    const reason = window.prompt('Left reason (e.g., Transfer, TC Issued):');\n    if (!reason) return;\n    \n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(`${API}/students/${id}/mark-left?reason=${encodeURIComponent(reason)}`, {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      toast.success('Student marked as left');\n      fetchStudents();\n    } catch (error) {\n      toast.error('Failed to update student');\n    }\n  };\n\n  // Delete student permanently (Admin only)\n  const handleDeleteStudent = async () => {\n    if (deleteConfirmText !== 'DELETE') {\n      toast.error('Please type DELETE to confirm');\n      return;\n    }\n    \n    setDeleting(true);\n    try {\n      const token = localStorage.getItem('token');\n      await axios.delete(`${API}/students/${deleteStudent.id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      toast.success('Student data permanently deleted');\n      setShowDeleteDialog(false);\n      setDeleteStudent(null);\n      setDeleteConfirmText('');\n      fetchStudents();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Failed to delete student');\n    } finally {\n      setDeleting(false);\n    }\n  };\n\n  const openDeleteDialog = (student) => {\n    setDeleteStudent(student);\n    setDeleteConfirmText('');\n    setShowDeleteDialog(true);\n  };\n\n  const viewCredentials = async (student) => {\n    setCredentialsStudent({\n      id: student.id,\n      name: student.name,\n      student_id: student.student_id || student.id,\n      class_name: student.class_name,\n      father_name: student.father_name,\n      mobile: student.mobile || student.parent_phone,\n      plain_password: student.plain_password || null,\n      default_password: student.plain_password || student.mobile || student.parent_phone || student.student_id || student.id\n    });\n    setShowCredentialsDialog(true);\n  };\n\n  // Generate credentials text for sharing\n  const generateCredentialsText = (student) => {\n    return ` *StudyTino Login Details*\n\n Student: ${student.name}\n Class: ${student.class_name || 'N/A'}\n\n *Login Credentials:*\nStudent ID: ${student.student_id}\nPassword: ${student.default_password}\n\n App Link: ${window.location.origin}/studytino\n\nNote: First login  password change `;\n  };\n\n  // Share via WhatsApp\n  const shareViaWhatsApp = (student) => {\n    const text = generateCredentialsText(student);\n    const phone = student.mobile?.replace(/[^0-9]/g, '') || '';\n    const url = phone \n      ? `https://wa.me/91${phone}?text=${encodeURIComponent(text)}`\n      : `https://wa.me/?text=${encodeURIComponent(text)}`;\n    window.open(url, '_blank');\n  };\n\n  // Copy credentials to clipboard\n  const copyCredentials = async (student) => {\n    const text = generateCredentialsText(student);\n    await navigator.clipboard.writeText(text);\n    toast.success('Credentials copied!');\n  };\n\n  const resetStudentPassword = async () => {\n    if (!newStudentPassword || newStudentPassword.length < 4) {\n      toast.error('Password must be at least 4 characters');\n      return;\n    }\n    setResettingStudentPassword(true);\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put(`${API}/students/${resetPasswordStudent.id}/reset-password`, \n        { new_password: newStudentPassword },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      toast.success(`Password reset for ${resetPasswordStudent.name}`);\n      setShowResetPasswordDialog(false);\n      setResetPasswordStudent(null);\n      setNewStudentPassword('');\n      fetchStudents();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Password reset failed');\n    } finally {\n      setResettingStudentPassword(false);\n    }\n  };\n\n  const openStudentProfile = (student) => {\n    setProfileStudent(student);\n    setShowProfileModal(true);\n  };\n\n  const printStudentProfile = (student) => {\n    const s = student;\n    const printWindow = window.open('', '_blank');\n    if (!printWindow) {\n      toast.error('Popup blocked - please allow popups');\n      return;\n    }\n    const photoHtml = s.photo_url \n      ? `<img src=\"${s.photo_url}\" style=\"width:120px;height:140px;object-fit:cover;border-radius:8px;border:2px solid #1e40af;\" />`\n      : `<div style=\"width:120px;height:140px;background:#e2e8f0;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:48px;color:#94a3b8;border:2px solid #1e40af;\"></div>`;\n    \n    const row = (label, value) => value ? `<tr><td style=\"padding:6px 12px;font-weight:600;color:#374151;background:#f8fafc;border:1px solid #e2e8f0;width:200px;\">${label}</td><td style=\"padding:6px 12px;border:1px solid #e2e8f0;\">${value}</td></tr>` : '';\n    const sectionHeader = (title, emoji) => `<tr><td colspan=\"2\" style=\"padding:10px 12px;font-weight:700;font-size:14px;background:linear-gradient(135deg,#1e40af,#3b82f6);color:white;border:1px solid #1e40af;\">${emoji} ${title}</td></tr>`;\n    \n    const html = `<!DOCTYPE html><html><head><title>Student Profile - ${s.name}</title>\n<style>@page{size:A4;margin:15mm}body{font-family:'Segoe UI',Arial,sans-serif;color:#1e293b;margin:0;padding:20px}\n.header{text-align:center;margin-bottom:20px;border-bottom:3px solid #1e40af;padding-bottom:15px}\ntable{width:100%;border-collapse:collapse;margin-bottom:15px;font-size:13px}\n.print-btn{position:fixed;top:10px;right:10px;padding:10px 20px;background:#1e40af;color:white;border:none;border-radius:8px;cursor:pointer;font-size:14px}\n@media print{.print-btn{display:none}}</style></head>\n<body>\n<button class=\"print-btn\" onclick=\"window.print()\"> Print</button>\n<div class=\"header\">\n${photoHtml}\n<h1 style=\"margin:10px 0 5px;color:#1e40af;font-size:24px;\">${s.name}</h1>\n<p style=\"color:#64748b;margin:0;\">Student ID: ${s.student_id || s.admission_no || 'N/A'} | Class: ${s.class_name || 'N/A'}${s.section ? ' - ' + s.section : ''}</p>\n</div>\n<table>\n${sectionHeader('Basic Information ( )', '')}\n${row('Name ()', s.name)}\n${row('Student ID', s.student_id || s.admission_no)}\n${row('Class ()', s.class_name)}\n${row('Section', s.section)}\n${row('Gender ()', s.gender)}\n${row('Date of Birth ( )', s.dob)}\n${row('Blood Group ( )', s.blood_group)}\n${row('Admission Date ( )', s.admission_date)}\n${row('Category ()', s.category)}\n${row('Caste ()', s.caste)}\n${row('Religion ()', s.religion)}\n${row('Nationality', s.nationality)}\n${row('Mother Tongue', s.mother_tongue)}\n${row('Birth Place', s.birth_place)}\n${row('Identification Mark', s.identification_mark)}\n${row('RTE Status', s.rte_status ? 'Yes' : 'No')}\n${sectionHeader('Identity Documents ( )', '')}\n${row('Aadhar No ( .)', s.aadhar_no)}\n${row('Scholar No ( )', s.scholar_no)}\n${row('PEN Number', s.pen_number)}\n${row('SSSMID', s.sssmid)}\n${row('Samagra Family ID', s.samagra_family_id)}\n${row('Jan Aadhar No', s.jan_aadhar_no)}\n${sectionHeader('Family Information ( )', '')}\n${row('Father Name (  )', s.father_name)}\n${row('Father Occupation', s.father_occupation)}\n${row('Father Qualification', s.father_qualification)}\n${row('Mother Name (  )', s.mother_name)}\n${row('Mother Occupation', s.mother_occupation)}\n${row('Mother Qualification', s.mother_qualification)}\n${row('Guardian Name', s.guardian_name)}\n${row('Guardian Relation', s.guardian_relation)}\n${row('Guardian Mobile', s.guardian_mobile)}\n${row('Guardian Occupation', s.guardian_occupation)}\n${row('Annual Income', s.annual_income)}\n${sectionHeader('Contact Information ( )', '')}\n${row('Mobile ()', s.mobile)}\n${row('Parent Phone', s.parent_phone)}\n${row('Email', s.email)}\n${row('Address ()', s.address)}\n${row('Emergency Contact', s.emergency_contact)}\n${row('Emergency Contact Name', s.emergency_contact_name)}\n${sectionHeader('Bank Details - Scholarship ( )', '')}\n${row('Bank Name', s.bank_name)}\n${row('Account No', s.bank_account_no)}\n${row('IFSC Code', s.ifsc_code)}\n${row('Branch', s.bank_branch)}\n${sectionHeader('Transport ()', '')}\n${row('Transport Mode', s.transport_mode)}\n${row('Bus Route', s.bus_route)}\n${row('Bus Stop', s.bus_stop)}\n${row('Pickup Point', s.pickup_point)}\n${sectionHeader('Medical ()', '')}\n${row('Medical Conditions', s.medical_conditions)}\n${row('Allergies', s.allergies)}\n${sectionHeader('Previous Education ( )', '')}\n${row('Previous School', s.previous_school)}\n${row('Previous Class', s.previous_class)}\n${row('Previous Percentage', s.previous_percentage)}\n${row('TC Number', s.tc_number)}\n</table>\n<div style=\"text-align:center;margin-top:30px;color:#94a3b8;font-size:11px;\">\nGenerated on ${new Date().toLocaleDateString('en-IN')} | Schooltino ERP\n</div>\n</body></html>`;\n    printWindow.document.write(html);\n    printWindow.document.close();\n  };\n\n  const handleEdit = (student) => {\n    setEditingStudent(student);\n    setFormData({\n      name: student.name,\n      class_id: student.class_id,\n      father_name: student.father_name,\n      mother_name: student.mother_name,\n      dob: student.dob,\n      gender: student.gender,\n      address: student.address,\n      mobile: student.mobile,\n      parent_phone: student.parent_phone || student.mobile || '',\n      email: student.email || '',\n      blood_group: student.blood_group || '',\n      aadhar_no: student.aadhar_no || '',\n      scholar_no: student.scholar_no || '',\n      pen_number: student.pen_number || '',\n      sssmid: student.sssmid || '',\n      samagra_family_id: student.samagra_family_id || '',\n      jan_aadhar_no: student.jan_aadhar_no || '',\n      caste: student.caste || '',\n      sub_caste: student.sub_caste || '',\n      religion: student.religion || '',\n      category: student.category || '',\n      nationality: student.nationality || 'Indian',\n      mother_tongue: student.mother_tongue || '',\n      birth_place: student.birth_place || '',\n      identification_mark: student.identification_mark || '',\n      rte_status: student.rte_status || false,\n      father_occupation: student.father_occupation || '',\n      father_qualification: student.father_qualification || '',\n      mother_occupation: student.mother_occupation || '',\n      mother_qualification: student.mother_qualification || '',\n      guardian_name: student.guardian_name || '',\n      guardian_relation: student.guardian_relation || '',\n      guardian_mobile: student.guardian_mobile || '',\n      guardian_occupation: student.guardian_occupation || '',\n      annual_income: student.annual_income || '',\n      emergency_contact: student.emergency_contact || '',\n      emergency_contact_name: student.emergency_contact_name || '',\n      bank_name: student.bank_name || '',\n      bank_account_no: student.bank_account_no || '',\n      ifsc_code: student.ifsc_code || '',\n      bank_branch: student.bank_branch || '',\n      transport_mode: student.transport_mode || '',\n      bus_route: student.bus_route || '',\n      bus_stop: student.bus_stop || '',\n      pickup_point: student.pickup_point || '',\n      is_hosteler: student.is_hosteler || false,\n      hostel_room_no: student.hostel_room_no || '',\n      medical_conditions: student.medical_conditions || '',\n      allergies: student.allergies || '',\n      previous_school: student.previous_school || '',\n      previous_class: student.previous_class || '',\n      previous_percentage: student.previous_percentage || '',\n      tc_number: student.tc_number || '',\n      admission_date: student.admission_date || new Date().toISOString().split('T')[0]\n    });\n    setActiveFormTab('basic');\n    setIsDialogOpen(true);\n  };\n\n  const openSuspendDialog = (student) => {\n    setSelectedStudent(student);\n    setIsSuspendDialogOpen(true);\n  };\n\n  const resetForm = () => {\n    setEditingStudent(null);\n    setActiveFormTab('basic');\n    setFormData({\n      name: '',\n      class_id: '',\n      dob: '',\n      gender: 'male',\n      blood_group: '',\n      admission_date: new Date().toISOString().split('T')[0],\n      aadhar_no: '',\n      scholar_no: '',\n      pen_number: '',\n      sssmid: '',\n      samagra_family_id: '',\n      jan_aadhar_no: '',\n      caste: '',\n      sub_caste: '',\n      religion: '',\n      category: '',\n      nationality: 'Indian',\n      mother_tongue: '',\n      birth_place: '',\n      identification_mark: '',\n      rte_status: false,\n      father_name: '',\n      father_occupation: '',\n      father_qualification: '',\n      mother_name: '',\n      mother_occupation: '',\n      mother_qualification: '',\n      guardian_name: '',\n      guardian_relation: '',\n      guardian_mobile: '',\n      guardian_occupation: '',\n      annual_income: '',\n      mobile: '',\n      parent_phone: '',\n      email: '',\n      address: '',\n      emergency_contact: '',\n      emergency_contact_name: '',\n      bank_name: '',\n      bank_account_no: '',\n      ifsc_code: '',\n      bank_branch: '',\n      transport_mode: '',\n      bus_route: '',\n      bus_stop: '',\n      pickup_point: '',\n      is_hosteler: false,\n      hostel_room_no: '',\n      medical_conditions: '',\n      allergies: '',\n      previous_school: '',\n      previous_class: '',\n      previous_percentage: '',\n      tc_number: ''\n    });\n  };\n\n  const handleChange = (e) => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const copyToClipboard = (text, field) => {\n    navigator.clipboard.writeText(text);\n    setCopiedField(field);\n    setTimeout(() => setCopiedField(null), 2000);\n    toast.success('Copied!');\n  };\n\n  // Bulk Print All Student ID Cards\n  const handleBulkPrintIDCards = async () => {\n    if (students.length === 0) {\n      toast.error('No students to print');\n      return;\n    }\n    \n    setBulkPrinting(true);\n    toast.info('Generating ID cards...');\n    \n    try {\n      const token = localStorage.getItem('token');\n      const activeStudents = students.filter(s => s.status === 'active');\n      const cardDataList = [];\n      \n      for (const student of activeStudents) {\n        try {\n          const res = await axios.get(API + '/id-card/generate/student/' + student.id, {\n            headers: { Authorization: 'Bearer ' + token }\n          });\n          if (res.data?.id_card) {\n            cardDataList.push({\n              card: res.data.id_card,\n              school: res.data.school,\n              photo: res.data.photo || null\n            });\n          }\n        } catch (e) {\n          console.error('Error fetching card for', student.name);\n        }\n      }\n      \n      // Generate HTML and open print window\n      const printWindow = window.open('', '_blank');\n      if (!printWindow) {\n        toast.error('Popup blocked - please allow popups');\n        setBulkPrinting(false);\n        return;\n      }\n      \n      // Build cards HTML\n      let cardsHtml = cardDataList.map(item => {\n        const card = item.card;\n        const sch = item.school;\n        const photo = item.photo;\n        const logoImg = sch?.logo_url ? '<div class=\"watermark\"><img src=\"' + sch.logo_url + '\" alt=\"\"/></div>' : '';\n        const headerLogo = sch?.logo_url ? '<div class=\"header-logo\"><img src=\"' + sch.logo_url + '\" alt=\"\"/></div>' : '';\n        const parentPhone = card.parent_phone || card.phone || '';\n        const photoHtml = photo ? '<div class=\"photo\"><img src=\"' + photo + '\" style=\"width:100%;height:100%;object-fit:cover;border-radius:2mm;\" /></div>' : '<div class=\"photo\"><span>Photo</span></div>';\n        \n        return '<div class=\"id-card\">' + logoImg + \n          '<div class=\"content\"><div class=\"header\">' + headerLogo +\n          '<div class=\"header-text\"><div class=\"school-name\">' + (sch?.name || 'School') + '</div>' +\n          '<div class=\"card-type\">STUDENT ID CARD</div></div></div>' +\n          '<div class=\"body\">' + photoHtml +\n          '<div class=\"details\"><div class=\"name\">' + card.name + '</div>' +\n          '<div class=\"detail-row\"><span class=\"label\">Class:</span><span class=\"value\">' + (card.class || '') + '</span></div>' +\n          '<div class=\"detail-row\"><span class=\"label\">Father:</span><span class=\"value\">' + (card.father_name || '') + '</span></div>' +\n          (card.blood_group ? '<div class=\"detail-row\"><span class=\"label\">Blood:</span><span class=\"value\">' + card.blood_group + '</span></div>' : '') +\n          (parentPhone ? '<div class=\"contact\"> Parent: ' + parentPhone + '</div>' : '') +\n          '</div></div><div class=\"footer\">Valid: ' + (card.valid_until || (new Date().getFullYear() + 1)) + '</div></div></div>';\n      }).join('');\n      \n      const pageHtml = '<!DOCTYPE html><html><head><title>Bulk Student ID Cards</title>' +\n        '<style>@page{size:A4;margin:10mm}*{margin:0;padding:0;box-sizing:border-box}' +\n        'body{font-family:Arial,sans-serif;display:flex;flex-wrap:wrap;gap:10mm;padding:10mm;-webkit-print-color-adjust:exact;print-color-adjust:exact}' +\n        '.id-card{width:85.6mm;height:54mm;background:linear-gradient(135deg,#1e40af 0%,#3b82f6 50%,#1e40af 100%);border-radius:4mm;overflow:hidden;position:relative;color:white;padding:3mm;page-break-inside:avoid}' +\n        '.watermark{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.15;width:25mm;height:25mm}.watermark img{width:100%;height:100%;object-fit:contain}' +\n        '.content{position:relative;z-index:1;height:100%;display:flex;flex-direction:column}' +\n        '.header{display:flex;align-items:center;gap:2mm;padding-bottom:2mm;border-bottom:0.3mm solid rgba(255,255,255,0.3);margin-bottom:2mm}' +\n        '.header-logo{width:7mm;height:7mm;background:white;border-radius:50%;padding:0.5mm}.header-logo img{width:100%;height:100%;object-fit:contain;border-radius:50%}' +\n        '.header-text{flex:1;text-align:center}.school-name{font-size:8pt;font-weight:bold;text-transform:uppercase}' +\n        '.card-type{font-size:5pt;background:rgba(255,255,255,0.25);padding:0.5mm 2mm;border-radius:2mm;display:inline-block;margin-top:1mm}' +\n        '.body{display:flex;gap:2mm;flex:1}.photo{width:16mm;height:20mm;background:white;border-radius:2mm;display:flex;align-items:center;justify-content:center;color:#999;font-size:6pt;overflow:hidden;flex-shrink:0}' +\n        '.details{flex:1;font-size:6pt}.name{font-size:9pt;font-weight:bold;color:#fef08a;margin-bottom:1mm}' +\n        '.detail-row{margin-bottom:0.5mm}.label{opacity:0.8;width:12mm;display:inline-block}.value{font-weight:600}' +\n        '.contact{background:rgba(255,255,255,0.2);padding:1mm;border-radius:1mm;margin-top:1mm;font-size:5.5pt}' +\n        '.footer{font-size:4pt;opacity:0.8;text-align:right;margin-top:auto}</style></head>' +\n        '<body>' + cardsHtml + '<script>window.onload=function(){setTimeout(function(){window.print()},1000)}</script></body></html>';\n      \n      printWindow.document.write(pageHtml);\n      printWindow.document.close();\n      toast.success(cardDataList.length + ' ID cards ready to print!');\n    } catch (error) {\n      toast.error('Error generating bulk ID cards');\n    } finally {\n      setBulkPrinting(false);\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    switch(status) {\n      case 'active': return 'badge-success';\n      case 'suspended': return 'badge-warning';\n      case 'left': return 'badge-error';\n      default: return 'badge-info';\n    }\n  };\n\n  // Class name order for promotion\n  const classOrder = ['Nursery', 'LKG', 'UKG', 'Class 1', 'Class 2', 'Class 3', 'Class 4', 'Class 5', \n    'Class 6', 'Class 7', 'Class 8', 'Class 9', 'Class 10', 'Class 11', 'Class 12'];\n\n  const getNextClass = (currentClassName) => {\n    const idx = classOrder.findIndex(c => currentClassName.includes(c));\n    if (idx >= 0 && idx < classOrder.length - 1) {\n      return classOrder[idx + 1];\n    }\n    return null;\n  };\n\n  // Get students for promotion from selected class\n  const getStudentsForPromotion = () => {\n    if (!promotionData.fromClassId) return [];\n    return students.filter(s => s.class_id === promotionData.fromClassId && s.status === 'active');\n  };\n\n  // Handle bulk promotion\n  const handleBulkPromotion = async () => {\n    if (!promotionData.toClassId || promotionData.selectedStudentIds.length === 0) {\n      toast.error(' target class  students select ');\n      return;\n    }\n\n    setPromotingStudents(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.post(`${API}/students/bulk-promote`, {\n        student_ids: promotionData.selectedStudentIds,\n        from_class_id: promotionData.fromClassId,\n        to_class_id: promotionData.toClassId,\n        school_id: schoolId,\n        academic_year: new Date().getFullYear() + '-' + (new Date().getFullYear() + 1)\n      }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n\n      if (response.data.success) {\n        toast.success(`${response.data.promoted_count} students promoted successfully!`);\n        setShowPromotionDialog(false);\n        setPromotionData({ fromClassId: '', toClassId: '', selectedStudentIds: [], selectAll: false });\n        fetchStudents();\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Promotion failed');\n    } finally {\n      setPromotingStudents(false);\n    }\n  };\n\n  // Handle select all for promotion\n  const handleSelectAllForPromotion = (checked) => {\n    const studentsToPromote = getStudentsForPromotion();\n    setPromotionData(prev => ({\n      ...prev,\n      selectAll: checked,\n      selectedStudentIds: checked ? studentsToPromote.map(s => s.id) : []\n    }));\n  };\n\n  // Toggle individual student selection for promotion\n  const toggleStudentForPromotion = (studentId) => {\n    setPromotionData(prev => ({\n      ...prev,\n      selectedStudentIds: prev.selectedStudentIds.includes(studentId)\n        ? prev.selectedStudentIds.filter(id => id !== studentId)\n        : [...prev.selectedStudentIds, studentId]\n    }));\n  };\n\n  // Document upload handler\n  const handleDocumentUpload = async (e, docType) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    if (file.size > 10 * 1024 * 1024) {\n      toast.error('File size should be less than 10MB');\n      return;\n    }\n\n    setUploadingDocument(true);\n    try {\n      const token = localStorage.getItem('token');\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('student_id', documentStudent.id);\n      formData.append('document_type', docType);\n      formData.append('school_id', schoolId);\n\n      const response = await axios.post(`${API}/students/upload-document`, formData, {\n        headers: { \n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}` \n        }\n      });\n\n      if (response.data.success) {\n        toast.success(`${docType} uploaded successfully!`);\n        fetchStudents();\n      }\n    } catch (error) {\n      toast.error('Document upload failed');\n    } finally {\n      setUploadingDocument(false);\n    }\n  };\n\n  if (!schoolId) {\n    return (\n      <div className=\"text-center py-20\">\n        <p className=\"text-slate-500\">{t('select_school_first')}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\" data-testid=\"students-page\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between flex-wrap gap-3\">\n        <div>\n          <h1 className=\"text-3xl font-bold font-heading text-slate-900\">{t('students')}</h1>\n          <p className=\"text-slate-500 mt-1\">{t('student_admission')}</p>\n        </div>\n        <div className=\"flex gap-2 flex-wrap\">\n          {/* Bulk Import Button */}\n          <BulkImport \n            type=\"student\" \n            schoolId={schoolId} \n            onImportComplete={fetchStudents}\n          />\n          {/* Promotion Button */}\n          <Button \n            variant=\"outline\" \n            onClick={() => setShowPromotionDialog(true)}\n            className=\"gap-2 text-green-600 border-green-200 hover:bg-green-50\"\n            data-testid=\"promote-students-btn\"\n          >\n            <GraduationCap className=\"w-4 h-4\" />\n            {t('promote_students')}\n          </Button>\n          {/* Bulk Print Button */}\n          <Button \n            variant=\"outline\" \n            onClick={handleBulkPrintIDCards}\n            disabled={bulkPrinting || students.length === 0}\n            className=\"gap-2\"\n            data-testid=\"bulk-print-btn\"\n          >\n            {bulkPrinting ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Printer className=\"w-4 h-4\" />}\n            {t('bulk_print_id_cards')}\n          </Button>\n          <Dialog open={isDialogOpen} onOpenChange={(open) => { setIsDialogOpen(open); if (!open) resetForm(); }}>\n          <DialogTrigger asChild>\n            <Button className=\"btn-primary\" data-testid=\"add-student-btn\">\n              <UserPlus className=\"w-5 h-5 mr-2\" />\n              {t('new_admissions')}\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-4xl max-h-[95vh] overflow-y-auto\">\n            <DialogHeader>\n              <DialogTitle className=\"text-xl\">{editingStudent ? `${t('edit')} ${t('students')}` : ` ${t('new_admissions')}`}</DialogTitle>\n              <DialogDescription>\n                {!editingStudent && 'Student ID  Password automatically generate   * fields   '}\n              </DialogDescription>\n            </DialogHeader>\n            \n            {/* Form Tabs Navigation - Merged tabs for less scrolling */}\n            <div className=\"flex gap-1 p-1 bg-slate-100 rounded-lg mb-4 overflow-x-auto\">\n              {[\n                { id: 'basic', label: ' Basic' },\n                { id: 'identity', label: ' ID & Docs' },\n                { id: 'family', label: ' Family & Contact' },\n                { id: 'bank', label: ' Bank' },\n                { id: 'other', label: ' Transport & Medical' },\n                { id: 'documents', label: ' Documents' },\n              ].map(tab => (\n                <button\n                  key={tab.id}\n                  type=\"button\"\n                  onClick={() => setActiveFormTab(tab.id)}\n                  className={`flex items-center gap-1 px-3 py-2 rounded-md text-sm font-medium whitespace-nowrap transition-all ${\n                    activeFormTab === tab.id \n                      ? 'bg-white text-blue-600 shadow-sm' \n                      : 'text-slate-600 hover:bg-white/50'\n                  }`}\n                >\n                  {tab.label}\n                </button>\n              ))}\n            </div>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              {/* Tab 1: Basic Info */}\n              {activeFormTab === 'basic' && (\n                <div className=\"space-y-4 animate-in fade-in\">\n                  <h3 className=\"font-semibold text-slate-800 border-b pb-2\"> Basic Information ( )</h3>\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>{t('student_name')} *</Label>\n                      <Input name=\"name\" value={formData.name} onChange={handleChange} required placeholder=\"Student Full Name\" data-testid=\"student-name-input\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>{t('class_section')} *</Label>\n                      <select name=\"class_id\" value={formData.class_id} onChange={handleChange} required className=\"w-full h-10 rounded-lg border border-slate-200 px-3\" data-testid=\"class-select\">\n                        <option value=\"\">{t('select_class')}</option>\n                        {classes.map(cls => (\n                          <option key={cls.id} value={cls.id}>{cls.name}{cls.section && cls.section !== 'A' ? ` - ${cls.section}` : ''}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>{t('gender')} *</Label>\n                      <select name=\"gender\" value={formData.gender} onChange={handleChange} required className=\"w-full h-10 rounded-lg border border-slate-200 px-3\" data-testid=\"gender-select\">\n                        <option value=\"male\">{t('male')}</option>\n                        <option value=\"female\">{t('female')}</option>\n                        <option value=\"other\">{t('other')}</option>\n                      </select>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>{t('dob')} *</Label>\n                      <Input name=\"dob\" type=\"date\" value={formData.dob} onChange={handleChange} required max={new Date().toISOString().split('T')[0]} data-testid=\"dob-input\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>{t('admission_date')} *</Label>\n                      <Input name=\"admission_date\" type=\"date\" value={formData.admission_date} onChange={handleChange} required max={new Date().toISOString().split('T')[0]} data-testid=\"admission-date-input\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>{t('blood_group')}</Label>\n                      <select name=\"blood_group\" value={formData.blood_group} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                        <option value=\"\">Select</option>\n                        {['A+', 'A-', 'B+', 'B-', 'O+', 'O-', 'AB+', 'AB-'].map(bg => <option key={bg} value={bg}>{bg}</option>)}\n                      </select>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Birth Place ( )</Label>\n                      <Input name=\"birth_place\" value={formData.birth_place} onChange={handleChange} placeholder=\"City/Village\" />\n                    </div>\n                    <div className=\"space-y-2 col-span-2\">\n                      <Label>Identification Mark ( )</Label>\n                      <Input name=\"identification_mark\" value={formData.identification_mark} onChange={handleChange} placeholder=\"Mole on right cheek, etc.\" />\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Tab 2: Identity Documents */}\n              {activeFormTab === 'identity' && (\n                <div className=\"space-y-4 animate-in fade-in\">\n                  <h3 className=\"font-semibold text-slate-800 border-b pb-2\"> Identity Documents ( )</h3>\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Scholar No. / Enrollment No.</Label>\n                      <Input name=\"scholar_no\" value={formData.scholar_no} onChange={handleChange} placeholder=\"If existing student\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>PEN Number (CBSE)</Label>\n                      <Input name=\"pen_number\" value={formData.pen_number} onChange={handleChange} placeholder=\"Permanent Education Number\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Aadhar Number</Label>\n                      <Input name=\"aadhar_no\" value={formData.aadhar_no} onChange={handleChange} placeholder=\"12 digit Aadhar\" data-testid=\"aadhar-input\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>SSSMID / Samagra ID (MP)</Label>\n                      <Input name=\"sssmid\" value={formData.sssmid} onChange={handleChange} placeholder=\" ID\" data-testid=\"samgra-id-input\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Samagra Family ID (MP)</Label>\n                      <Input name=\"samagra_family_id\" value={formData.samagra_family_id} onChange={handleChange} placeholder=\"  ID\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Jan Aadhar / Bhamashah (RJ)</Label>\n                      <Input name=\"jan_aadhar_no\" value={formData.jan_aadhar_no} onChange={handleChange} placeholder=\" \" />\n                    </div>\n                  </div>\n                  <div className=\"border-t pt-4 mt-4\">\n                    <h4 className=\"font-medium text-slate-700 mb-3\"> Category Information ()</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>Caste ()</Label>\n                        <select name=\"caste\" value={formData.caste} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                          <option value=\"\">Select Caste</option>\n                          <option value=\"General\">General ()</option>\n                          <option value=\"OBC\">OBC (  )</option>\n                          <option value=\"SC\">SC ( )</option>\n                          <option value=\"ST\">ST ( )</option>\n                          <option value=\"EWS\">EWS ( )</option>\n                        </select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Sub-Caste ( )</Label>\n                        <Input name=\"sub_caste\" value={formData.sub_caste} onChange={handleChange} placeholder=\"Sub-caste\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Religion ()</Label>\n                        <select name=\"religion\" value={formData.religion} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                          <option value=\"\">Select Religion</option>\n                          <option value=\"Hindu\">Hindu ()</option>\n                          <option value=\"Muslim\">Muslim ()</option>\n                          <option value=\"Christian\">Christian ()</option>\n                          <option value=\"Sikh\">Sikh ()</option>\n                          <option value=\"Buddhist\">Buddhist ()</option>\n                          <option value=\"Jain\">Jain ()</option>\n                          <option value=\"Other\">Other ()</option>\n                        </select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Category ()</Label>\n                        <select name=\"category\" value={formData.category} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                          <option value=\"\">Select</option>\n                          <option value=\"APL\">APL (   )</option>\n                          <option value=\"BPL\">BPL (   )</option>\n                          <option value=\"EWS\">EWS ( )</option>\n                        </select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Mother Tongue ()</Label>\n                        <select name=\"mother_tongue\" value={formData.mother_tongue} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                          <option value=\"\">Select</option>\n                          <option value=\"Hindi\">Hindi ()</option>\n                          <option value=\"English\">English ()</option>\n                          <option value=\"Marathi\">Marathi ()</option>\n                          <option value=\"Gujarati\">Gujarati ()</option>\n                          <option value=\"Punjabi\">Punjabi ()</option>\n                          <option value=\"Bengali\">Bengali ()</option>\n                          <option value=\"Urdu\">Urdu ()</option>\n                          <option value=\"Other\">Other ()</option>\n                        </select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Nationality ()</Label>\n                        <Input name=\"nationality\" value={formData.nationality} onChange={handleChange} placeholder=\"Indian\" />\n                      </div>\n                      <div className=\"flex items-center gap-2 col-span-2\">\n                        <input type=\"checkbox\" id=\"rte_status\" name=\"rte_status\" checked={formData.rte_status} onChange={(e) => setFormData({...formData, rte_status: e.target.checked})} className=\"w-4 h-4\" />\n                        <Label htmlFor=\"rte_status\">RTE Admission (  )</Label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Tab 3: Family Info */}\n              {activeFormTab === 'family' && (\n                <div className=\"space-y-4 animate-in fade-in\">\n                  <h3 className=\"font-semibold text-slate-800 border-b pb-2\"> Family Information ( )</h3>\n                  \n                  {/* Father's Info */}\n                  <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                    <h4 className=\"font-medium text-blue-800 mb-3\"> Father Details (  )</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>{t('father_name')} *</Label>\n                        <Input name=\"father_name\" value={formData.father_name} onChange={handleChange} required placeholder=\"Father Full Name\" data-testid=\"father-name-input\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Occupation ()</Label>\n                        <select name=\"father_occupation\" value={formData.father_occupation} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                          <option value=\"\">Select</option>\n                          <option value=\"Government Job\">Government Job ( )</option>\n                          <option value=\"Private Job\">Private Job ( )</option>\n                          <option value=\"Business\">Business ()</option>\n                          <option value=\"Farmer\">Farmer ()</option>\n                          <option value=\"Daily Wage\">Daily Wage ( )</option>\n                          <option value=\"Self Employed\">Self Employed ()</option>\n                          <option value=\"Other\">Other ()</option>\n                        </select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Qualification ()</Label>\n                        <select name=\"father_qualification\" value={formData.father_qualification} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                          <option value=\"\">Select</option>\n                          <option value=\"Below 10th\">Below 10th</option>\n                          <option value=\"10th Pass\">10th Pass</option>\n                          <option value=\"12th Pass\">12th Pass</option>\n                          <option value=\"Graduate\">Graduate</option>\n                          <option value=\"Post Graduate\">Post Graduate</option>\n                          <option value=\"Professional\">Professional Degree</option>\n                          <option value=\"Illiterate\">Illiterate ()</option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Mother's Info */}\n                  <div className=\"p-4 bg-pink-50 rounded-lg border border-pink-200\">\n                    <h4 className=\"font-medium text-pink-800 mb-3\"> Mother Details (  )</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>{t('mother_name')} *</Label>\n                        <Input name=\"mother_name\" value={formData.mother_name} onChange={handleChange} required placeholder=\"Mother Full Name\" data-testid=\"mother-name-input\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Occupation ()</Label>\n                        <select name=\"mother_occupation\" value={formData.mother_occupation} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                          <option value=\"\">Select</option>\n                          <option value=\"Housewife\">Housewife ()</option>\n                          <option value=\"Government Job\">Government Job</option>\n                          <option value=\"Private Job\">Private Job</option>\n                          <option value=\"Business\">Business</option>\n                          <option value=\"Teacher\">Teacher ()</option>\n                          <option value=\"Other\">Other</option>\n                        </select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Qualification ()</Label>\n                        <select name=\"mother_qualification\" value={formData.mother_qualification} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                          <option value=\"\">Select</option>\n                          <option value=\"Below 10th\">Below 10th</option>\n                          <option value=\"10th Pass\">10th Pass</option>\n                          <option value=\"12th Pass\">12th Pass</option>\n                          <option value=\"Graduate\">Graduate</option>\n                          <option value=\"Post Graduate\">Post Graduate</option>\n                          <option value=\"Illiterate\">Illiterate</option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Guardian Info */}\n                  <div className=\"p-4 bg-amber-50 rounded-lg border border-amber-200\">\n                    <h4 className=\"font-medium text-amber-800 mb-3\"> Guardian Details (if different from parents)</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>Guardian Name</Label>\n                        <Input name=\"guardian_name\" value={formData.guardian_name} onChange={handleChange} placeholder=\"Guardian's Full Name\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Relation ()</Label>\n                        <select name=\"guardian_relation\" value={formData.guardian_relation} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                          <option value=\"\">Select</option>\n                          <option value=\"Grandfather\">Grandfather (/)</option>\n                          <option value=\"Grandmother\">Grandmother (/)</option>\n                          <option value=\"Uncle\">Uncle (/)</option>\n                          <option value=\"Aunt\">Aunt (/)</option>\n                          <option value=\"Brother\">Brother ()</option>\n                          <option value=\"Sister\">Sister ()</option>\n                          <option value=\"Other\">Other</option>\n                        </select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Guardian Mobile</Label>\n                        <Input name=\"guardian_mobile\" value={formData.guardian_mobile} onChange={handleChange} placeholder=\"10 digit mobile\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Guardian Occupation</Label>\n                        <Input name=\"guardian_occupation\" value={formData.guardian_occupation} onChange={handleChange} placeholder=\"\" />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Annual Income */}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Annual Family Income ( )</Label>\n                      <select name=\"annual_income\" value={formData.annual_income} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3\">\n                        <option value=\"\">Select</option>\n                        <option value=\"Below 1 Lakh\">Below 1 Lakh</option>\n                        <option value=\"1-2.5 Lakh\">1 - 2.5 Lakh</option>\n                        <option value=\"2.5-5 Lakh\">2.5 - 5 Lakh</option>\n                        <option value=\"5-10 Lakh\">5 - 10 Lakh</option>\n                        <option value=\"Above 10 Lakh\">Above 10 Lakh</option>\n                      </select>\n                    </div>\n                  </div>\n\n                  {/* Contact Info Section - Merged */}\n                  <div className=\"p-4 bg-green-50 rounded-lg border border-green-200 mt-4\">\n                    <h4 className=\"font-medium text-green-800 mb-3\"> Contact Information ( )</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>Primary Mobile * (for login)</Label>\n                        <Input name=\"mobile\" value={formData.mobile} onChange={handleChange} required placeholder=\"Parent's mobile for OTP\" data-testid=\"mobile-input\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Secondary Phone (ID Card)</Label>\n                        <Input name=\"parent_phone\" value={formData.parent_phone} onChange={handleChange} placeholder=\"Alternate number\" data-testid=\"parent-phone-input\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Email</Label>\n                        <Input name=\"email\" type=\"email\" value={formData.email} onChange={handleChange} placeholder=\"Optional\" />\n                      </div>\n                      <div className=\"space-y-2 col-span-2 md:col-span-3\">\n                        <Label>{t('address')} *</Label>\n                        <Input name=\"address\" value={formData.address} onChange={handleChange} required placeholder=\"Full Address\" data-testid=\"address-input\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Emergency Contact Name</Label>\n                        <Input name=\"emergency_contact_name\" value={formData.emergency_contact_name} onChange={handleChange} placeholder=\"Emergency person name\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Emergency Contact Number</Label>\n                        <Input name=\"emergency_contact\" value={formData.emergency_contact} onChange={handleChange} placeholder=\"Emergency mobile\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Tab 4: Bank Details */}\n              {activeFormTab === 'bank' && (\n                <div className=\"space-y-4 animate-in fade-in\">\n                  <h3 className=\"font-semibold text-slate-800 border-b pb-2\"> Bank Details (  )</h3>\n                  <p className=\"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg\"> Scholarship  government benefits   bank details  </p>\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Bank Name</Label>\n                      <Input name=\"bank_name\" value={formData.bank_name} onChange={handleChange} placeholder=\"State Bank of India\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Account Number</Label>\n                      <Input name=\"bank_account_no\" value={formData.bank_account_no} onChange={handleChange} placeholder=\"Account Number\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>IFSC Code</Label>\n                      <Input name=\"ifsc_code\" value={formData.ifsc_code} onChange={handleChange} placeholder=\"SBIN0001234\" />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label>Branch Name</Label>\n                      <Input name=\"bank_branch\" value={formData.bank_branch} onChange={handleChange} placeholder=\"Branch Name\" />\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Tab 5: Transport, Medical & Education - Merged */}\n              {activeFormTab === 'other' && (\n                <div className=\"space-y-4 animate-in fade-in\">\n                  {/* Transport Section */}\n                  <div className=\"p-4 bg-teal-50 rounded-lg border border-teal-200\">\n                    <h4 className=\"font-medium text-teal-800 mb-3\"> Transport Details ()</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                      <div className=\"space-y-2\">\n                        <Label>Transport Mode</Label>\n                        <select name=\"transport_mode\" value={formData.transport_mode} onChange={handleChange} className=\"w-full h-10 rounded-lg border border-slate-200 px-3 text-sm\">\n                          <option value=\"\">Select</option>\n                          <option value=\"School Bus\">School Bus</option>\n                          <option value=\"Private Vehicle\">Private Vehicle</option>\n                          <option value=\"Walking\">Walking</option>\n                          <option value=\"Bicycle\">Bicycle</option>\n                          <option value=\"Auto/Rickshaw\">Auto/Rickshaw</option>\n                        </select>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Bus Route</Label>\n                        <Input name=\"bus_route\" value={formData.bus_route} onChange={handleChange} placeholder=\"Route No.\" className=\"h-10\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Bus Stop</Label>\n                        <Input name=\"bus_stop\" value={formData.bus_stop} onChange={handleChange} placeholder=\"Stop Name\" className=\"h-10\" />\n                      </div>\n                      <div className=\"flex items-center gap-2 pt-6\">\n                        <input type=\"checkbox\" id=\"is_hosteler\" name=\"is_hosteler\" checked={formData.is_hosteler} onChange={(e) => setFormData({...formData, is_hosteler: e.target.checked})} className=\"w-4 h-4\" />\n                        <Label htmlFor=\"is_hosteler\">Hostel Student</Label>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Medical Section */}\n                  <div className=\"p-4 bg-red-50 rounded-lg border border-red-200\">\n                    <h4 className=\"font-medium text-red-800 mb-3\"> Medical Information</h4>\n                    <div className=\"grid grid-cols-2 gap-3\">\n                      <div className=\"space-y-2\">\n                        <Label>Medical Conditions ()</Label>\n                        <Input name=\"medical_conditions\" value={formData.medical_conditions} onChange={handleChange} placeholder=\"Asthma, Diabetes, etc.\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Allergies ()</Label>\n                        <Input name=\"allergies\" value={formData.allergies} onChange={handleChange} placeholder=\"Food/medicine allergies\" />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Previous Education Section */}\n                  <div className=\"p-4 bg-purple-50 rounded-lg border border-purple-200\">\n                    <h4 className=\"font-medium text-purple-800 mb-3\"> Previous Education ( )</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                      <div className=\"space-y-2 col-span-2\">\n                        <Label>Previous School</Label>\n                        <Input name=\"previous_school\" value={formData.previous_school} onChange={handleChange} placeholder=\"School name\" data-testid=\"prev-school-input\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Previous Class</Label>\n                        <Input name=\"previous_class\" value={formData.previous_class} onChange={handleChange} placeholder=\"Last class\" />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>TC Number</Label>\n                        <Input name=\"tc_number\" value={formData.tc_number} onChange={handleChange} placeholder=\"TC/LC No.\" />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Tab 6: Documents Upload */}\n              {activeFormTab === 'documents' && (\n                <div className=\"space-y-4 animate-in fade-in\">\n                  <h3 className=\"font-semibold text-slate-800 border-b pb-2\"> Documents Upload ( )</h3>\n                  <p className=\"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg\">\n                     Scholarship  government benefits   documents   Admission    upload   \n                  </p>\n                  \n                  {editingStudent ? (\n                    <DocumentUpload \n                      personId={editingStudent.id}\n                      personType=\"student\"\n                      schoolId={schoolId}\n                      existingDocuments={[]}\n                    />\n                  ) : (\n                    <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center\">\n                      <div className=\"text-4xl mb-2\"></div>\n                      <h4 className=\"font-medium text-blue-800 mb-2\">Documents   Upload </h4>\n                      <p className=\"text-sm text-blue-600\">\n                        Student admission complete    Edit  documents upload   \n                      </p>\n                    </div>\n                  )}\n                  \n                  {/* Document Checklist */}\n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-medium text-slate-700 mb-3\"> Required Documents Checklist:</h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                      {[\n                        { icon: '', name: 'Birth Certificate (  )' },\n                        { icon: '', name: 'Aadhar Card ( )' },\n                        { icon: '', name: 'Transfer Certificate (TC)' },\n                        { icon: '', name: 'Previous Marksheet' },\n                        { icon: '', name: 'Caste Certificate (  )' },\n                        { icon: '', name: 'Income Certificate (  )' },\n                        { icon: '', name: 'Domicile Certificate' },\n                        { icon: '', name: 'Passport Photo' },\n                        { icon: '', name: 'Father Aadhar (  )' },\n                        { icon: '', name: 'Mother Aadhar (  )' },\n                        { icon: '', name: 'BPL Card (  )' },\n                        { icon: '', name: 'Bank Passbook (  )' },\n                      ].map((doc, idx) => (\n                        <div key={idx} className=\"flex items-center gap-2 text-sm p-2 bg-slate-50 rounded\">\n                          <span>{doc.icon}</span>\n                          <span className=\"text-slate-600\">{doc.name}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Photo Capture Section - Available for both add and edit */}\n              {(true) && (\n                <div className=\"border-t border-slate-200 pt-4 mt-4\">\n                  <Label className=\"text-base font-semibold flex items-center gap-2 mb-3\">\n                    <Camera className=\"w-5 h-5 text-blue-600\" />\n                    Student Photo ( ) {editingStudent ? '- Update Photo' : '- Optional'}\n                  </Label>\n                  \n                  {!capturedPhoto && !showCamera && (\n                    <div className=\"flex gap-3\">\n                      <Button\n                        type=\"button\"\n                        variant=\"outline\"\n                        className=\"flex-1 border-blue-200 text-blue-700 hover:bg-blue-50 h-20\"\n                        onClick={startCamera}\n                        data-testid=\"open-camera-btn\"\n                      >\n                        <div className=\"flex flex-col items-center\">\n                          <Camera className=\"w-6 h-6 mb-1\" />\n                          <span> Camera  Capture</span>\n                        </div>\n                      </Button>\n                      <label className=\"flex-1\">\n                        <div className=\"flex flex-col items-center justify-center border-2 border-dashed border-slate-300 rounded-lg h-20 cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all\">\n                          <Upload className=\"w-6 h-6 text-slate-400 mb-1\" />\n                          <span className=\"text-sm text-slate-600\"> Photo Upload</span>\n                        </div>\n                        <input\n                          type=\"file\"\n                          accept=\"image/*\"\n                          className=\"hidden\"\n                          onChange={handleFileUpload}\n                          data-testid=\"photo-upload-input\"\n                        />\n                      </label>\n                    </div>\n                  )}\n\n                  {/* Camera View */}\n                  {showCamera && (\n                    <div className=\"relative bg-black rounded-xl overflow-hidden\">\n                      <video\n                        ref={videoRef}\n                        autoPlay\n                        playsInline\n                        muted\n                        className=\"w-full h-64 object-cover\"\n                      />\n                      <canvas ref={canvasRef} className=\"hidden\" />\n                      <div className=\"absolute bottom-4 left-0 right-0 flex justify-center gap-3\">\n                        <Button\n                          type=\"button\"\n                          onClick={capturePhoto}\n                          className=\"bg-white text-blue-600 hover:bg-blue-50\"\n                          data-testid=\"capture-btn\"\n                        >\n                          <Camera className=\"w-5 h-5 mr-2\" />\n                          {t('capture')}\n                        </Button>\n                        <Button\n                          type=\"button\"\n                          variant=\"outline\"\n                          onClick={stopCamera}\n                          className=\"bg-white/80 text-red-600 border-red-300\"\n                        >\n                          <X className=\"w-5 h-5 mr-2\" />\n                          {t('cancel')}\n                        </Button>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Photo Preview */}\n                  {capturedPhoto && (\n                    <div className=\"relative\">\n                      <img\n                        src={capturedPhoto}\n                        alt=\"Captured\"\n                        className=\"w-full h-48 object-cover rounded-xl border-2 border-emerald-500\"\n                      />\n                      <div className=\"absolute top-2 right-2 flex gap-2\">\n                        <Button\n                          type=\"button\"\n                          size=\"sm\"\n                          variant=\"outline\"\n                          className=\"bg-white/90 text-red-600 border-red-300 hover:bg-red-50\"\n                          onClick={removePhoto}\n                        >\n                          <X className=\"w-4 h-4 mr-1\" />\n                          {t('remove')}\n                        </Button>\n                      </div>\n                      <div className=\"absolute bottom-2 left-2 bg-emerald-500 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1\">\n                        <Check className=\"w-4 h-4\" />\n                        Photo Ready\n                      </div>\n                    </div>\n                  )}\n\n                  <p className=\"text-xs text-slate-500 mt-2\">\n                    * Photo optional hai   student profile   add   \n                  </p>\n                </div>\n              )}\n\n              {/* Biometric Enrollment Section - Only for new admission */}\n              {!editingStudent && (\n                <div className=\"border-t border-slate-200 pt-4 mt-2\">\n                  <Label className=\"text-base font-semibold flex items-center gap-2 mb-3\">\n                    <Fingerprint className=\"w-5 h-5 text-emerald-600\" />\n                    Biometric Enrollment (Fingerprint) - Optional\n                  </Label>\n                  \n                  <div className=\"p-4 bg-slate-50 rounded-xl border border-slate-200\">\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"w-16 h-16 bg-emerald-100 rounded-xl flex items-center justify-center\">\n                        <Fingerprint className=\"w-8 h-8 text-emerald-600\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-slate-700 font-medium\">\n                          Fingerprint Registration\n                        </p>\n                        <p className=\"text-xs text-slate-500 mt-1\">\n                          Biometric device  fingerprint register  Student admission   Biometric section     \n                        </p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"mt-3 flex items-center gap-2\">\n                      <div className=\"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden\">\n                        <div className=\"h-full w-0 bg-emerald-500 rounded-full\" />\n                      </div>\n                      <span className=\"text-xs text-slate-400\">Not enrolled</span>\n                    </div>\n                    \n                    <p className=\"text-xs text-amber-600 mt-2 flex items-center gap-1\">\n                      <AlertTriangle className=\"w-3 h-3\" />\n                      Biometric device connect     \n                    </p>\n                  </div>\n                  \n                  <p className=\"text-xs text-slate-500 mt-2\">\n                    * Biometric optional    Biometric section  enroll   \n                  </p>\n                </div>\n              )}\n\n              <div className=\"flex justify-end gap-3 pt-4\">\n                <Button type=\"button\" variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                  {t('cancel')}\n                </Button>\n                <Button type=\"submit\" className=\"btn-primary\" disabled={submitting} data-testid=\"save-student-btn\">\n                  {submitting ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : null}\n                  {editingStudent ? t('save') : t('admit_student')}\n                </Button>\n              </div>\n            </form>\n          </DialogContent>\n        </Dialog>\n        </div>\n      </div>\n\n      {/* Credentials Dialog - Shows after successful admission */}\n      <Dialog open={isCredentialsDialogOpen} onOpenChange={setIsCredentialsDialogOpen}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"text-emerald-600 flex items-center gap-2\">\n              <Check className=\"w-6 h-6\" />\n              Admission Successful!\n            </DialogTitle>\n            <DialogDescription>\n              Student  login credentials      Parent  share \n            </DialogDescription>\n          </DialogHeader>\n          {newStudentCredentials && (\n            <div className=\"space-y-4 mt-4\">\n              <div className=\"p-4 bg-emerald-50 border border-emerald-200 rounded-xl\">\n                <p className=\"text-lg font-semibold text-emerald-800\">{newStudentCredentials.name}</p>\n                <p className=\"text-sm text-emerald-600\">{newStudentCredentials.class_name} - {newStudentCredentials.section}</p>\n              </div>\n              \n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\">\n                  <div>\n                    <p className=\"text-xs text-slate-500\">Student ID / Login ID</p>\n                    <p className=\"font-mono font-bold text-lg\">{newStudentCredentials.student_id}</p>\n                  </div>\n                  <Button \n                    size=\"sm\" \n                    variant=\"ghost\"\n                    onClick={() => copyToClipboard(newStudentCredentials.student_id, 'id')}\n                  >\n                    {copiedField === 'id' ? <Check className=\"w-4 h-4 text-emerald-500\" /> : <Copy className=\"w-4 h-4\" />}\n                  </Button>\n                </div>\n                \n                <div className=\"flex items-center justify-between p-3 bg-amber-50 rounded-lg border border-amber-200\">\n                  <div>\n                    <p className=\"text-xs text-amber-600\">Temporary Password</p>\n                    <p className=\"font-mono font-bold text-lg\">{newStudentCredentials.temporary_password}</p>\n                  </div>\n                  <Button \n                    size=\"sm\" \n                    variant=\"ghost\"\n                    onClick={() => copyToClipboard(newStudentCredentials.temporary_password, 'pass')}\n                  >\n                    {copiedField === 'pass' ? <Check className=\"w-4 h-4 text-emerald-500\" /> : <Copy className=\"w-4 h-4\" />}\n                  </Button>\n                </div>\n              </div>\n              \n              <div className=\"p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-700\">\n                <p className=\"font-medium\"> Important:</p>\n                <ul className=\"list-disc ml-4 mt-1 space-y-1\">\n                  <li> password    </li>\n                  <li>First login  password change  mandatory </li>\n                  <li>Parent  Mobile + DOB   login   </li>\n                </ul>\n              </div>\n              \n              <Button \n                className=\"w-full btn-primary\" \n                onClick={() => {\n                  const text = `Student ID: ${newStudentCredentials.student_id}\\nPassword: ${newStudentCredentials.temporary_password}`;\n                  copyToClipboard(text, 'all');\n                }}\n              >\n                <Copy className=\"w-4 h-4 mr-2\" />\n                Copy All Credentials\n              </Button>\n              \n              {/* Face Enrollment Option */}\n              <div className=\"border-t border-slate-200 pt-4 mt-4\">\n                <p className=\"text-sm text-slate-600 mb-3\">\n                   <strong>Face Enrollment</strong> - AI attendance ke liye photos add karein (Optional)\n                </p>\n                <div className=\"flex gap-2\">\n                  <Button \n                    variant=\"outline\"\n                    className=\"flex-1 border-indigo-200 text-indigo-700 hover:bg-indigo-50\"\n                    onClick={() => {\n                      setIsCredentialsDialogOpen(false);\n                      setShowFaceEnrollment(true);\n                    }}\n                    data-testid=\"capture-photos-btn\"\n                  >\n                     Capture Photos Now\n                  </Button>\n                  <Button \n                    variant=\"ghost\"\n                    className=\"text-slate-500\"\n                    onClick={() => {\n                      toast.info('Face enrollment skipped. Complete from student profile later.');\n                      setIsCredentialsDialogOpen(false);\n                    }}\n                    data-testid=\"skip-face-btn\"\n                  >\n                    Skip for Now\n                  </Button>\n                </div>\n              </div>\n\n              {/* Biometric Enrollment Option */}\n              <div className=\"border-t border-slate-200 pt-4 mt-2\">\n                <p className=\"text-sm text-slate-600 mb-3\">\n                   <strong>Biometric Enrollment</strong> - Fingerprint registration (Optional)\n                </p>\n                <div className=\"flex gap-2\">\n                  <Button \n                    variant=\"outline\"\n                    className=\"flex-1 border-emerald-200 text-emerald-700 hover:bg-emerald-50\"\n                    onClick={() => {\n                      toast.info('Biometric device se connect karein aur fingerprint register karein.');\n                      // Navigate to biometric page with student context\n                      window.location.href = `/app/biometric?student_id=${newStudentCredentials?.student_id}&name=${encodeURIComponent(newStudentCredentials?.name || '')}`;\n                    }}\n                    data-testid=\"biometric-enroll-btn\"\n                  >\n                     Enroll Biometric Now\n                  </Button>\n                  <Button \n                    variant=\"ghost\"\n                    className=\"text-slate-500\"\n                    onClick={() => {\n                      toast.info('Biometric enrollment skipped. Complete later from Biometric section.');\n                    }}\n                    data-testid=\"skip-biometric-btn\"\n                  >\n                    Skip\n                  </Button>\n                </div>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Suspend Dialog */}\n      <Dialog open={isSuspendDialogOpen} onOpenChange={setIsSuspendDialogOpen}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"w-5 h-5 text-amber-500\" />\n              Suspend Student\n            </DialogTitle>\n            <DialogDescription>\n              {selectedStudent?.name}  temporarily suspend \n            </DialogDescription>\n          </DialogHeader>\n          <form onSubmit={handleSuspend} className=\"space-y-4 mt-4\">\n            <div className=\"space-y-2\">\n              <Label>Reason *</Label>\n              <select\n                value={suspendForm.reason}\n                onChange={(e) => setSuspendForm(prev => ({ ...prev, reason: e.target.value }))}\n                className=\"w-full h-10 rounded-lg border border-slate-200 px-3\"\n                required\n              >\n                {Object.entries(suspendReasons).map(([key, label]) => (\n                  <option key={key} value={key}>{label}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Details</Label>\n              <Input\n                value={suspendForm.details}\n                onChange={(e) => setSuspendForm(prev => ({ ...prev, details: e.target.value }))}\n                placeholder=\"Additional details...\"\n              />\n            </div>\n            <div className=\"flex justify-end gap-3 pt-4\">\n              <Button type=\"button\" variant=\"outline\" onClick={() => setIsSuspendDialogOpen(false)}>\n                {t('cancel')}\n              </Button>\n              <Button type=\"submit\" className=\"bg-amber-600 hover:bg-amber-700\" disabled={submitting}>\n                {submitting ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : null}\n                {t('suspend')} {t('students')}\n              </Button>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      {/* Split View Layout */}\n      <div className=\"flex gap-4\" style={{ height: 'calc(100vh - 220px)', minHeight: '500px' }}>\n        {/* Left Panel - Student List (~40% width) */}\n        <div className=\"w-2/5 flex flex-col bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden\">\n          <div className=\"p-3 border-b border-gray-100 space-y-2\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n              <Input\n                placeholder={t('search')}\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className=\"pl-9 h-9 text-sm\"\n                data-testid=\"search-input\"\n              />\n            </div>\n            <select\n              value={selectedClass}\n              onChange={(e) => setSelectedClass(e.target.value)}\n              className=\"w-full h-9 rounded-lg border border-slate-200 px-3 text-sm\"\n              data-testid=\"filter-class\"\n            >\n              <option value=\"\">{t('all_classes')}</option>\n              {classes.map(cls => (\n                <option key={cls.id} value={cls.id}>\n                  {cls.name}{cls.section && cls.section !== 'A' ? ` - ${cls.section}` : ''}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <Tabs defaultValue=\"active\" className=\"flex-1 flex flex-col overflow-hidden\">\n            <TabsList className=\"mx-3 mt-2 shrink-0\">\n              <TabsTrigger value=\"active\" className=\"text-xs gap-1\">\n                <User className=\"w-3.5 h-3.5\" />\n                {t('active')} ({students.length})\n              </TabsTrigger>\n              <TabsTrigger value=\"suspended\" className=\"text-xs gap-1\">\n                <Ban className=\"w-3.5 h-3.5\" />\n                {t('suspended')} ({suspendedStudents.length})\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"active\" className=\"flex-1 overflow-y-auto p-2 mt-0\">\n              {loading ? (\n                <div className=\"flex justify-center py-10\">\n                  <Loader2 className=\"w-8 h-8 animate-spin text-blue-500\" />\n                </div>\n              ) : students.length === 0 ? (\n                <div className=\"text-center py-10\">\n                  <User className=\"w-10 h-10 text-slate-300 mx-auto mb-2\" />\n                  <p className=\"text-sm text-slate-400\">{t('no_data')}</p>\n                </div>\n              ) : (\n                <div className=\"space-y-1\">\n                  {students.map((student) => (\n                    <div\n                      key={student.id}\n                      onClick={() => setSplitViewStudent(student)}\n                      className={`flex items-center gap-3 p-2.5 rounded-xl cursor-pointer transition-all group ${\n                        splitViewStudent?.id === student.id\n                          ? 'bg-blue-50 border-2 border-blue-400 shadow-sm'\n                          : 'border-2 border-transparent hover:bg-slate-50 hover:border-blue-200'\n                      }`}\n                      data-testid={`student-row-${student.id}`}\n                    >\n                      <div className=\"w-10 h-10 rounded-lg bg-slate-100 border border-slate-200 flex items-center justify-center overflow-hidden flex-shrink-0\">\n                        {student.photo_url ? (\n                          <img src={student.photo_url} alt=\"\" className=\"w-full h-full object-cover\" />\n                        ) : (\n                          <User className=\"w-5 h-5 text-slate-400\" />\n                        )}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium text-sm text-slate-900 truncate\">{student.name}</p>\n                        <p className=\"text-xs text-slate-500 truncate\">\n                          {student.class_name}{student.section && student.section !== 'A' ? ` - ${student.section}` : ''} {student.father_name ? `| ${student.father_name}` : ''}\n                        </p>\n                      </div>\n                      <div className=\"flex flex-col items-end gap-1 flex-shrink-0\">\n                        <span className={`text-xs px-2 py-0.5 rounded-full font-medium ${\n                          student.status === 'active' ? 'bg-emerald-100 text-emerald-700' :\n                          student.status === 'suspended' ? 'bg-amber-100 text-amber-700' :\n                          'bg-red-100 text-red-700'\n                        }`}>\n                          {student.status}\n                        </span>\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <button className=\"p-1 rounded hover:bg-slate-200 opacity-0 group-hover:opacity-100 transition-opacity\" onClick={(e) => e.stopPropagation()}>\n                              <MoreVertical className=\"w-3.5 h-3.5 text-slate-400\" />\n                            </button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuItem onClick={() => openStudentProfile(student)}>\n                              <Eye className=\"w-4 h-4 mr-2 text-blue-600\" />\n                              {t('view_profile')}\n                            </DropdownMenuItem>\n                            <DropdownMenuItem onClick={() => handleEdit(student)}>\n                              <Edit className=\"w-4 h-4 mr-2\" />\n                              {t('edit')}\n                            </DropdownMenuItem>\n                            <DropdownMenuItem onClick={() => { setIdCardStudent(student); setShowIDCard(true); }}>\n                              <CreditCard className=\"w-4 h-4 mr-2 text-blue-600\" />\n                              {t('id_card')}\n                            </DropdownMenuItem>\n                            <DropdownMenuItem onClick={() => viewCredentials(student)}>\n                              <Key className=\"w-4 h-4 mr-2 text-purple-600\" />\n                              Share Login Details\n                            </DropdownMenuItem>\n                            <DropdownMenuItem onClick={() => { setNewStudentCredentials({ student_id: student.student_id || student.id, name: student.name }); setShowFaceEnrollment(true); }}>\n                              <Camera className=\"w-4 h-4 mr-2 text-emerald-600\" />\n                              {t('face_enrollment')}\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem onClick={() => openSuspendDialog(student)}>\n                              <Ban className=\"w-4 h-4 mr-2 text-amber-500\" />\n                              {t('suspend')}\n                            </DropdownMenuItem>\n                            {['director', 'principal'].includes(user?.role) && (\n                              <DropdownMenuItem onClick={() => handleMarkLeft(student.id)} className=\"text-rose-600\">\n                                <LogOut className=\"w-4 h-4 mr-2\" />\n                                Mark as Left (TC)\n                              </DropdownMenuItem>\n                            )}\n                            {(user?.role === 'director' || user?.role === 'admin') && (\n                              <>\n                                <DropdownMenuSeparator />\n                                <DropdownMenuItem onClick={() => openDeleteDialog(student)} className=\"text-red-600 bg-red-50 hover:bg-red-100\">\n                                  <Trash2 className=\"w-4 h-4 mr-2\" />\n                                  {t('delete')}\n                                </DropdownMenuItem>\n                              </>\n                            )}\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"suspended\" className=\"flex-1 overflow-y-auto p-2 mt-0\">\n              {suspendedStudents.length === 0 ? (\n                <div className=\"text-center py-10\">\n                  <Ban className=\"w-10 h-10 text-slate-300 mx-auto mb-2\" />\n                  <p className=\"text-sm text-slate-400\">No suspended students</p>\n                </div>\n              ) : (\n                <div className=\"space-y-1\">\n                  {suspendedStudents.map((student) => (\n                    <div\n                      key={student.id}\n                      onClick={() => setSplitViewStudent(student)}\n                      className={`flex items-center gap-3 p-2.5 rounded-xl cursor-pointer transition-all group ${\n                        splitViewStudent?.id === student.id\n                          ? 'bg-amber-50 border-2 border-amber-400 shadow-sm'\n                          : 'border-2 border-transparent hover:bg-amber-50/50 hover:border-amber-200'\n                      }`}\n                    >\n                      <div className=\"w-10 h-10 rounded-lg bg-amber-50 border border-amber-200 flex items-center justify-center overflow-hidden flex-shrink-0\">\n                        {student.photo_url ? (\n                          <img src={student.photo_url} alt=\"\" className=\"w-full h-full object-cover\" />\n                        ) : (\n                          <User className=\"w-5 h-5 text-amber-400\" />\n                        )}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium text-sm text-slate-900 truncate\">{student.name}</p>\n                        <p className=\"text-xs text-amber-600 truncate\">\n                          {student.class_name} | {suspendReasons[student.suspension_reason] || student.suspension_reason || 'Suspended'}\n                        </p>\n                      </div>\n                      <div className=\"flex items-center gap-2 flex-shrink-0\">\n                        <span className=\"text-xs px-2 py-0.5 rounded-full font-medium bg-amber-100 text-amber-700\">suspended</span>\n                        {['director', 'principal'].includes(user?.role) && (\n                          <Button\n                            size=\"sm\"\n                            className=\"bg-emerald-600 hover:bg-emerald-700 h-7 text-xs opacity-0 group-hover:opacity-100 transition-opacity\"\n                            onClick={(e) => { e.stopPropagation(); handleUnsuspend(student.id); }}\n                          >\n                            <RefreshCw className=\"w-3 h-3 mr-1\" />\n                            Unsuspend\n                          </Button>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        {/* Right Panel - Student Profile (~60% width) */}\n        <div className=\"w-3/5 bg-white rounded-xl border border-gray-100 shadow-sm overflow-y-auto\">\n          {!splitViewStudent ? (\n            <div className=\"h-full flex flex-col items-center justify-center text-slate-400\">\n              <div className=\"w-20 h-20 rounded-full bg-slate-50 flex items-center justify-center mb-4\">\n                <User className=\"w-10 h-10 text-slate-300\" />\n              </div>\n              <p className=\"text-lg font-medium text-slate-500\">Select a student to view profile</p>\n              <p className=\"text-sm mt-1 text-slate-400\">Click on any student from the left panel</p>\n            </div>\n          ) : (\n            <div className=\"p-6 space-y-5\">\n              {/* Profile Header with Dual Photos */}\n              <div className=\"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 rounded-xl p-6 border border-blue-100\">\n                <div className=\"flex items-start gap-6\">\n                  <div className=\"flex gap-4\">\n                    <input type=\"file\" ref={splitPhotoInputRef} className=\"hidden\" accept=\"image/jpeg,image/png,image/webp\" onChange={(e) => handleProfilePhotoUpload(e, splitViewStudent.id)} />\n                    <div className=\"text-center\">\n                      <div className=\"relative group cursor-pointer\" onClick={() => splitPhotoInputRef.current?.click()}>\n                        <div className=\"w-24 h-24 rounded-xl bg-white border-3 border-blue-300 shadow-lg flex items-center justify-center overflow-hidden\">\n                          {splitViewStudent.photo_url ? (\n                            <img src={splitViewStudent.photo_url} alt=\"\" className=\"w-full h-full object-cover\" />\n                          ) : (\n                            <User className=\"w-12 h-12 text-slate-300\" />\n                          )}\n                        </div>\n                        <div className=\"absolute inset-0 bg-black/40 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                          {uploadingProfilePhoto ? (\n                            <Loader2 className=\"w-6 h-6 text-white animate-spin\" />\n                          ) : (\n                            <Camera className=\"w-6 h-6 text-white\" />\n                          )}\n                        </div>\n                        <div className=\"absolute -bottom-1 -right-1 w-7 h-7 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white shadow-md\">\n                          <Camera className=\"w-3.5 h-3.5 text-white\" />\n                        </div>\n                      </div>\n                      <p className=\"text-xs text-slate-500 mt-1.5 font-medium\">Click to upload</p>\n                    </div>\n                  </div>\n                  <div className=\"flex-1\">\n                    <h2 className=\"text-2xl font-bold text-slate-900\">{splitViewStudent.name}</h2>\n                    <p className=\"text-slate-500 mt-1\">\n                      {splitViewStudent.student_id || splitViewStudent.admission_no} | {splitViewStudent.class_name}{splitViewStudent.section ? ` - ${splitViewStudent.section}` : ''}\n                    </p>\n                    <div className=\"flex items-center gap-2 mt-2\">\n                      <span className={`text-xs px-3 py-1 rounded-full font-semibold ${\n                        splitViewStudent.status === 'active' ? 'bg-emerald-100 text-emerald-700' :\n                        splitViewStudent.status === 'suspended' ? 'bg-amber-100 text-amber-700' :\n                        'bg-red-100 text-red-700'\n                      }`}>\n                        {splitViewStudent.status?.toUpperCase()}\n                      </span>\n                      {splitViewStudent.blood_group && (\n                        <span className=\"text-xs px-2 py-1 rounded-full bg-red-50 text-red-600 font-medium\">{splitViewStudent.blood_group}</span>\n                      )}\n                    </div>\n                    <div className=\"flex gap-2 mt-4 flex-wrap\">\n                      <Button size=\"sm\" className=\"gap-1.5 h-8 text-xs\" onClick={() => printStudentProfile(splitViewStudent)}>\n                        <Printer className=\"w-3.5 h-3.5\" /> {t('print')}\n                      </Button>\n                      <Button size=\"sm\" variant=\"outline\" className=\"gap-1.5 h-8 text-xs\" onClick={() => handleEdit(splitViewStudent)}>\n                        <Edit className=\"w-3.5 h-3.5\" /> {t('edit')}\n                      </Button>\n                      <Button size=\"sm\" variant=\"outline\" className=\"gap-1.5 h-8 text-xs text-blue-600\" onClick={() => { setIdCardStudent(splitViewStudent); setShowIDCard(true); }}>\n                        <CreditCard className=\"w-3.5 h-3.5\" /> {t('id_card')}\n                      </Button>\n                      <Button size=\"sm\" variant=\"outline\" className=\"gap-1.5 h-8 text-xs text-purple-600\" onClick={() => viewCredentials(splitViewStudent)}>\n                        <Key className=\"w-3.5 h-3.5\" /> Credentials\n                      </Button>\n                      {['director', 'principal'].includes(user?.role) && (\n                        <Button size=\"sm\" variant=\"outline\" className=\"gap-1.5 h-8 text-xs text-amber-600\" onClick={() => {\n                          setResetPasswordStudent(splitViewStudent);\n                          setNewStudentPassword('');\n                          setShowResetPasswordDialog(true);\n                        }}>\n                          <Key className=\"w-3.5 h-3.5\" /> {t('reset_password')}\n                        </Button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Section: Personal Info */}\n              <div className=\"rounded-xl border border-gray-100 shadow-sm overflow-hidden\">\n                <div className=\"px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-500 text-white font-semibold text-sm flex items-center gap-2\">\n                  <User className=\"w-4 h-4\" /> {t('personal_info')}\n                </div>\n                <div className=\"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100\">\n                  {[\n                    [t('name'), splitViewStudent.name],\n                    [t('student_id'), splitViewStudent.student_id || splitViewStudent.admission_no],\n                    [t('classes'), splitViewStudent.class_name],\n                    [t('section'), splitViewStudent.section || 'A'],\n                    [t('gender'), splitViewStudent.gender],\n                    [t('dob'), splitViewStudent.dob],\n                    [t('blood_group'), splitViewStudent.blood_group],\n                    [t('admission_date'), splitViewStudent.admission_date],\n                    [t('category'), splitViewStudent.category],\n                    [t('caste'), splitViewStudent.caste],\n                    ['Sub Caste', splitViewStudent.sub_caste],\n                    [t('religion'), splitViewStudent.religion],\n                    [t('nationality'), splitViewStudent.nationality],\n                    ['Mother Tongue', splitViewStudent.mother_tongue],\n                    ['Birth Place', splitViewStudent.birth_place],\n                    ['Identification Mark', splitViewStudent.identification_mark],\n                    ['RTE Status', splitViewStudent.rte_status ? 'Yes' : 'No'],\n                    [t('aadhar_number'), splitViewStudent.aadhar_no],\n                    ['Scholar No', splitViewStudent.scholar_no],\n                    ['PEN Number', splitViewStudent.pen_number],\n                    ['SSSMID', splitViewStudent.sssmid],\n                    ['Samagra Family ID', splitViewStudent.samagra_family_id],\n                    ['Jan Aadhar No', splitViewStudent.jan_aadhar_no],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-400 mb-0.5\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Section: Family & Contact */}\n              <div className=\"rounded-xl border border-gray-100 shadow-sm overflow-hidden\">\n                <div className=\"px-4 py-2.5 bg-gradient-to-r from-green-600 to-emerald-500 text-white font-semibold text-sm flex items-center gap-2\">\n                  <Users className=\"w-4 h-4\" /> {t('family_details')}\n                </div>\n                <div className=\"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100\">\n                  {[\n                    [t('father_name'), splitViewStudent.father_name],\n                    ['Father Occupation', splitViewStudent.father_occupation],\n                    ['Father Qualification', splitViewStudent.father_qualification],\n                    [t('mother_name'), splitViewStudent.mother_name],\n                    ['Mother Occupation', splitViewStudent.mother_occupation],\n                    ['Mother Qualification', splitViewStudent.mother_qualification],\n                    [t('guardian_name'), splitViewStudent.guardian_name],\n                    ['Guardian Relation', splitViewStudent.guardian_relation],\n                    ['Guardian Mobile', splitViewStudent.guardian_mobile],\n                    ['Guardian Occupation', splitViewStudent.guardian_occupation],\n                    ['Annual Income', splitViewStudent.annual_income],\n                    [t('mobile'), splitViewStudent.mobile],\n                    ['Parent Phone', splitViewStudent.parent_phone],\n                    [t('email'), splitViewStudent.email],\n                    [t('address'), splitViewStudent.address],\n                    [t('emergency_contact'), splitViewStudent.emergency_contact],\n                    ['Emergency Name', splitViewStudent.emergency_contact_name],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-400 mb-0.5\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Section: Bank Details */}\n              <div className=\"rounded-xl border border-gray-100 shadow-sm overflow-hidden\">\n                <div className=\"px-4 py-2.5 bg-gradient-to-r from-teal-600 to-cyan-500 text-white font-semibold text-sm flex items-center gap-2\">\n                  <Wallet className=\"w-4 h-4\" /> {t('bank_details')}\n                </div>\n                <div className=\"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100\">\n                  {[\n                    [t('bank_name'), splitViewStudent.bank_name],\n                    ['Account No', splitViewStudent.bank_account_no],\n                    ['IFSC Code', splitViewStudent.ifsc_code],\n                    ['Branch', splitViewStudent.bank_branch],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-400 mb-0.5\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n                {![splitViewStudent.bank_name, splitViewStudent.bank_account_no].some(Boolean) && (\n                  <div className=\"bg-white p-3 text-center text-sm text-slate-400\">No bank details recorded</div>\n                )}\n              </div>\n\n              {/* Section: Transport & Medical */}\n              <div className=\"rounded-xl border border-gray-100 shadow-sm overflow-hidden\">\n                <div className=\"px-4 py-2.5 bg-gradient-to-r from-orange-500 to-amber-500 text-white font-semibold text-sm flex items-center gap-2\">\n                  <Bus className=\"w-4 h-4\" /> {t('transport')}\n                </div>\n                <div className=\"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100\">\n                  {[\n                    ['Transport Mode', splitViewStudent.transport_mode],\n                    ['Bus Route', splitViewStudent.bus_route],\n                    ['Bus Stop', splitViewStudent.bus_stop],\n                    ['Pickup Point', splitViewStudent.pickup_point],\n                    ['Medical Conditions', splitViewStudent.medical_conditions],\n                    ['Allergies', splitViewStudent.allergies],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-400 mb-0.5\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n                {![splitViewStudent.transport_mode, splitViewStudent.bus_route, splitViewStudent.medical_conditions, splitViewStudent.allergies].some(Boolean) && (\n                  <div className=\"bg-white p-3 text-center text-sm text-slate-400\">No transport or medical details recorded</div>\n                )}\n              </div>\n\n              {/* Section: Previous Education */}\n              <div className=\"rounded-xl border border-gray-100 shadow-sm overflow-hidden\">\n                <div className=\"px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-500 text-white font-semibold text-sm flex items-center gap-2\">\n                  <GraduationCap className=\"w-4 h-4\" /> Previous Education\n                </div>\n                <div className=\"grid grid-cols-2 lg:grid-cols-3 gap-px bg-slate-100\">\n                  {[\n                    [t('previous_school'), splitViewStudent.previous_school],\n                    ['Previous Class', splitViewStudent.previous_class],\n                    ['Previous Percentage', splitViewStudent.previous_percentage],\n                    ['TC Number', splitViewStudent.tc_number],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-400 mb-0.5\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n                {![splitViewStudent.previous_school, splitViewStudent.previous_class, splitViewStudent.tc_number].some(Boolean) && (\n                  <div className=\"bg-white p-3 text-center text-sm text-slate-400\">No previous education details recorded</div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Face Enrollment Modal */}\n      {showFaceEnrollment && newStudentCredentials && (\n        <FaceEnrollmentCapture\n          isOpen={showFaceEnrollment}\n          onClose={() => setShowFaceEnrollment(false)}\n          studentId={newStudentCredentials.student_id}\n          schoolId={schoolId}\n          studentName={newStudentCredentials.name}\n          onComplete={() => {\n            setShowFaceEnrollment(false);\n            toast.success('Face enrollment completed!');\n            fetchStudents();\n          }}\n          onSkip={() => {\n            setShowFaceEnrollment(false);\n            toast.info('Face enrollment skipped. Complete later from profile.');\n          }}\n        />\n      )}\n\n      {/* ID Card Viewer Modal */}\n      {showIDCard && idCardStudent && (\n        <IDCardViewer\n          isOpen={showIDCard}\n          onClose={() => {\n            setShowIDCard(false);\n            setIdCardStudent(null);\n          }}\n          personId={idCardStudent.student_id || idCardStudent.id}\n          personType=\"student\"\n          schoolId={schoolId}\n          onPhotoUpload={() => fetchStudents()}\n        />\n      )}\n\n      {/* Delete Confirmation Dialog */}\n      <Dialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2 text-red-600\">\n              <AlertTriangle className=\"w-6 h-6\" />\n               DANGER: Permanent Delete\n            </DialogTitle>\n          </DialogHeader>\n          \n          {deleteStudent && (\n            <div className=\"space-y-4\">\n              {/* Risk Warning */}\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                <h4 className=\"font-bold text-red-800 mb-2\">  :</h4>\n                <ul className=\"text-sm text-red-700 space-y-1 list-disc list-inside\">\n                  <li> action UNDO    </li>\n                  <li>Student   data    delete  </li>\n                  <li>Attendance, Fee records, Results  delete  </li>\n                  <li>Face recognition data  delete  </li>\n                </ul>\n              </div>\n              \n              {/* Student Info */}\n              <div className=\"bg-slate-50 rounded-lg p-4\">\n                <p className=\"font-medium text-lg\">{deleteStudent.name}</p>\n                <p className=\"text-sm text-slate-500\">\n                  {deleteStudent.student_id}  {deleteStudent.class_name || 'Class N/A'}\n                </p>\n                <p className=\"text-sm text-slate-500\">\n                  Father: {deleteStudent.father_name}\n                </p>\n              </div>\n              \n              {/* Confirmation Input */}\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium text-slate-700\">\n                  Confirm    <span className=\"text-red-600 font-bold\">DELETE</span> type :\n                </label>\n                <Input\n                  value={deleteConfirmText}\n                  onChange={(e) => setDeleteConfirmText(e.target.value.toUpperCase())}\n                  placeholder=\"Type DELETE here\"\n                  className=\"border-red-200 focus:border-red-400\"\n                />\n              </div>\n              \n              {/* Action Buttons */}\n              <div className=\"flex gap-3 pt-2\">\n                <Button \n                  variant=\"outline\" \n                  onClick={() => setShowDeleteDialog(false)}\n                  className=\"flex-1\"\n                >\n                  Cancel ( )\n                </Button>\n                <Button \n                  onClick={handleDeleteStudent}\n                  disabled={deleteConfirmText !== 'DELETE' || deleting}\n                  className=\"flex-1 bg-red-600 hover:bg-red-700 text-white\"\n                >\n                  {deleting ? (\n                    <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />\n                  ) : (\n                    <Trash2 className=\"w-4 h-4 mr-2\" />\n                  )}\n                  Delete Permanently\n                </Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Student Full Profile Modal */}\n      <Dialog open={showProfileModal} onOpenChange={setShowProfileModal}>\n        <DialogContent className=\"max-w-4xl max-h-[95vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2 text-xl\">\n              <User className=\"w-6 h-6 text-blue-600\" />\n              Student Profile ( )\n            </DialogTitle>\n          </DialogHeader>\n          \n          {profileStudent && (\n            <div className=\"space-y-4\">\n              <input type=\"file\" ref={profilePhotoInputRef} className=\"hidden\" accept=\"image/jpeg,image/png,image/webp\" onChange={(e) => handleProfilePhotoUpload(e, profileStudent.id)} />\n              {/* Photo & Basic Header */}\n              <div className=\"text-center bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 rounded-xl p-6 border border-blue-100\">\n                <div className=\"flex justify-center mb-3\">\n                  <div className=\"relative group cursor-pointer\" onClick={() => profilePhotoInputRef.current?.click()}>\n                    <div className=\"w-28 h-28 rounded-xl bg-white border-4 border-blue-300 shadow-lg flex items-center justify-center overflow-hidden\">\n                      {profileStudent.photo_url ? (\n                        <img src={profileStudent.photo_url} alt=\"\" className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <User className=\"w-14 h-14 text-slate-300\" />\n                      )}\n                    </div>\n                    <div className=\"absolute inset-0 bg-black/40 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                      {uploadingProfilePhoto ? (\n                        <Loader2 className=\"w-8 h-8 text-white animate-spin\" />\n                      ) : (\n                        <Camera className=\"w-8 h-8 text-white\" />\n                      )}\n                    </div>\n                    <div className=\"absolute -bottom-1 -right-1 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white shadow-md\">\n                      <Camera className=\"w-4 h-4 text-white\" />\n                    </div>\n                  </div>\n                </div>\n                <h2 className=\"text-2xl font-bold text-slate-900\">{profileStudent.name}</h2>\n                <p className=\"text-slate-500 mt-1\">\n                  {profileStudent.student_id || profileStudent.admission_no} | {profileStudent.class_name}{profileStudent.section ? ` - ${profileStudent.section}` : ''}\n                </p>\n                <span className={`inline-block mt-2 badge ${getStatusBadge(profileStudent.status)}`}>\n                  {profileStudent.status}\n                </span>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex gap-2 flex-wrap justify-center\">\n                <Button size=\"sm\" className=\"gap-2\" onClick={() => printStudentProfile(profileStudent)}>\n                  <Printer className=\"w-4 h-4\" /> Print Profile\n                </Button>\n                <Button size=\"sm\" variant=\"outline\" className=\"gap-2\" onClick={() => { setShowProfileModal(false); handleEdit(profileStudent); }}>\n                  <Edit className=\"w-4 h-4\" /> {t('edit')}\n                </Button>\n                <Button size=\"sm\" variant=\"outline\" className=\"gap-2 text-blue-600\" onClick={() => { setShowProfileModal(false); setIdCardStudent(profileStudent); setShowIDCard(true); }}>\n                  <CreditCard className=\"w-4 h-4\" /> {t('id_card')}\n                </Button>\n              </div>\n\n              {/* Section: Basic Info */}\n              <div className=\"rounded-xl border border-blue-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2\">\n                   Basic Information ( )\n                </div>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200\">\n                  {[\n                    [t('name'), profileStudent.name],\n                    [t('student_id'), profileStudent.student_id || profileStudent.admission_no],\n                    [t('classes'), profileStudent.class_name],\n                    [t('section'), profileStudent.section || 'A'],\n                    [t('gender'), profileStudent.gender],\n                    [t('dob'), profileStudent.dob],\n                    [t('blood_group'), profileStudent.blood_group],\n                    [t('admission_date'), profileStudent.admission_date],\n                    [t('category'), profileStudent.category],\n                    [t('caste'), profileStudent.caste],\n                    ['Sub Caste', profileStudent.sub_caste],\n                    [t('religion'), profileStudent.religion],\n                    [t('nationality'), profileStudent.nationality],\n                    ['Mother Tongue', profileStudent.mother_tongue],\n                    ['Birth Place', profileStudent.birth_place],\n                    ['Identification Mark', profileStudent.identification_mark],\n                    ['RTE Status', profileStudent.rte_status ? 'Yes' : 'No'],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-500\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Section: Identity Docs */}\n              <div className=\"rounded-xl border border-amber-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-amber-600 to-amber-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2\">\n                   Identity Documents ( )\n                </div>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200\">\n                  {[\n                    [t('aadhar_number'), profileStudent.aadhar_no],\n                    ['Scholar No', profileStudent.scholar_no],\n                    ['PEN Number', profileStudent.pen_number],\n                    ['SSSMID', profileStudent.sssmid],\n                    ['Samagra Family ID', profileStudent.samagra_family_id],\n                    ['Jan Aadhar No', profileStudent.jan_aadhar_no],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-500\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n                {![profileStudent.aadhar_no, profileStudent.scholar_no, profileStudent.pen_number, profileStudent.sssmid].some(Boolean) && (\n                  <div className=\"bg-white p-3 text-center text-sm text-slate-400\">No identity documents recorded</div>\n                )}\n              </div>\n\n              {/* Section: Family Info */}\n              <div className=\"rounded-xl border border-green-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-green-600 to-green-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2\">\n                   Family Information ( )\n                </div>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200\">\n                  {[\n                    [t('father_name'), profileStudent.father_name],\n                    ['Father Occupation', profileStudent.father_occupation],\n                    ['Father Qualification', profileStudent.father_qualification],\n                    [t('mother_name'), profileStudent.mother_name],\n                    ['Mother Occupation', profileStudent.mother_occupation],\n                    ['Mother Qualification', profileStudent.mother_qualification],\n                    [t('guardian_name'), profileStudent.guardian_name],\n                    ['Guardian Relation', profileStudent.guardian_relation],\n                    ['Guardian Mobile', profileStudent.guardian_mobile],\n                    ['Guardian Occupation', profileStudent.guardian_occupation],\n                    ['Annual Income', profileStudent.annual_income],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-500\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Section: Contact */}\n              <div className=\"rounded-xl border border-purple-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-purple-600 to-purple-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2\">\n                   Contact Information ( )\n                </div>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200\">\n                  {[\n                    [t('mobile'), profileStudent.mobile],\n                    ['Parent Phone', profileStudent.parent_phone],\n                    [t('email'), profileStudent.email],\n                    [t('address'), profileStudent.address],\n                    [t('emergency_contact'), profileStudent.emergency_contact],\n                    ['Emergency Contact Name', profileStudent.emergency_contact_name],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-500\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Section: Bank */}\n              <div className=\"rounded-xl border border-teal-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-teal-600 to-teal-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2\">\n                   Bank Details - Scholarship ( )\n                </div>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200\">\n                  {[\n                    [t('bank_name'), profileStudent.bank_name],\n                    ['Account No', profileStudent.bank_account_no],\n                    ['IFSC Code', profileStudent.ifsc_code],\n                    ['Branch', profileStudent.bank_branch],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-500\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n                {![profileStudent.bank_name, profileStudent.bank_account_no].some(Boolean) && (\n                  <div className=\"bg-white p-3 text-center text-sm text-slate-400\">No bank details recorded</div>\n                )}\n              </div>\n\n              {/* Section: Transport */}\n              <div className=\"rounded-xl border border-orange-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-orange-600 to-orange-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2\">\n                   Transport ()\n                </div>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200\">\n                  {[\n                    ['Transport Mode', profileStudent.transport_mode],\n                    ['Bus Route', profileStudent.bus_route],\n                    ['Bus Stop', profileStudent.bus_stop],\n                    ['Pickup Point', profileStudent.pickup_point],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-500\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n                {![profileStudent.transport_mode, profileStudent.bus_route].some(Boolean) && (\n                  <div className=\"bg-white p-3 text-center text-sm text-slate-400\">No transport details recorded</div>\n                )}\n              </div>\n\n              {/* Section: Medical */}\n              <div className=\"rounded-xl border border-red-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-red-600 to-red-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2\">\n                   Medical Information ()\n                </div>\n                <div className=\"grid grid-cols-2 gap-px bg-slate-200\">\n                  {[\n                    ['Medical Conditions', profileStudent.medical_conditions],\n                    ['Allergies', profileStudent.allergies],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-500\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n                {![profileStudent.medical_conditions, profileStudent.allergies].some(Boolean) && (\n                  <div className=\"bg-white p-3 text-center text-sm text-slate-400\">No medical information recorded</div>\n                )}\n              </div>\n\n              {/* Section: Previous Education */}\n              <div className=\"rounded-xl border border-indigo-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white px-4 py-2 font-semibold text-sm flex items-center gap-2\">\n                   Previous Education ( )\n                </div>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-px bg-slate-200\">\n                  {[\n                    ['Previous School', profileStudent.previous_school],\n                    ['Previous Class', profileStudent.previous_class],\n                    ['Previous Percentage', profileStudent.previous_percentage],\n                    ['TC Number', profileStudent.tc_number],\n                  ].filter(([, v]) => v).map(([label, value], i) => (\n                    <div key={i} className=\"bg-white p-3\">\n                      <p className=\"text-xs text-slate-500\">{label}</p>\n                      <p className=\"font-medium text-sm text-slate-800\">{value}</p>\n                    </div>\n                  ))}\n                </div>\n                {![profileStudent.previous_school, profileStudent.previous_class, profileStudent.tc_number].some(Boolean) && (\n                  <div className=\"bg-white p-3 text-center text-sm text-slate-400\">No previous education details recorded</div>\n                )}\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Student Credentials Sharing Dialog */}\n      <Dialog open={showCredentialsDialog} onOpenChange={setShowCredentialsDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Key className=\"w-5 h-5 text-purple-600\" />\n               StudyTino Login Details\n            </DialogTitle>\n          </DialogHeader>\n          \n          {credentialsStudent && (\n            <div className=\"space-y-4\">\n              {/* Student Info */}\n              <div className=\"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-100\">\n                <p className=\"font-bold text-lg\">{credentialsStudent.name}</p>\n                <p className=\"text-sm text-slate-600\">\n                  Class: {credentialsStudent.class_name || 'N/A'} | Father: {credentialsStudent.father_name}\n                </p>\n              </div>\n              \n              {/* Credentials Box */}\n              <div className=\"bg-slate-900 text-white rounded-xl p-4 space-y-3\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-slate-400 text-sm\">Student ID:</span>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"font-mono font-bold text-lg text-purple-300\">\n                      {credentialsStudent.student_id}\n                    </span>\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\"\n                      className=\"h-7 w-7 p-0 text-white hover:bg-slate-700\"\n                      onClick={() => {\n                        navigator.clipboard.writeText(credentialsStudent.student_id);\n                        toast.success('ID copied!');\n                      }}\n                    >\n                      <Copy className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-slate-400 text-sm\">Password:</span>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"font-mono font-bold text-lg text-green-300\">\n                      {showStudentPasswordField ? credentialsStudent.default_password : '********'}\n                    </span>\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\"\n                      className=\"h-7 w-7 p-0 text-white hover:bg-slate-700\"\n                      onClick={() => setShowStudentPasswordField(!showStudentPasswordField)}\n                    >\n                      {showStudentPasswordField ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n                    </Button>\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\"\n                      className=\"h-7 w-7 p-0 text-white hover:bg-slate-700\"\n                      onClick={() => {\n                        navigator.clipboard.writeText(credentialsStudent.default_password);\n                        toast.success('Password copied!');\n                      }}\n                    >\n                      <Copy className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Reset Password Button */}\n              {user?.role === 'director' && (\n                <Button \n                  variant=\"outline\"\n                  className=\"w-full gap-2 border-amber-300 text-amber-700 hover:bg-amber-50\"\n                  onClick={() => {\n                    setResetPasswordStudent(credentialsStudent);\n                    setNewStudentPassword('');\n                    setShowCredentialsDialog(false);\n                    setShowResetPasswordDialog(true);\n                  }}\n                >\n                  <Key className=\"w-4 h-4\" />\n                  {t('reset_password')}\n                </Button>\n              )}\n              \n              {/* App Link */}\n              <div className=\"bg-blue-50 rounded-lg p-3 text-center\">\n                <p className=\"text-xs text-blue-600 mb-1\">App Link:</p>\n                <p className=\"font-mono text-sm text-blue-800\">{window.location.origin}/studytino</p>\n              </div>\n              \n              {/* Share Buttons */}\n              <div className=\"grid grid-cols-2 gap-3\">\n                <Button \n                  onClick={() => shareViaWhatsApp(credentialsStudent)}\n                  className=\"bg-green-600 hover:bg-green-700 gap-2\"\n                >\n                  <MessageCircle className=\"w-4 h-4\" />\n                  WhatsApp Share\n                </Button>\n                <Button \n                  variant=\"outline\"\n                  onClick={() => copyCredentials(credentialsStudent)}\n                  className=\"gap-2\"\n                >\n                  <Copy className=\"w-4 h-4\" />\n                  Copy All\n                </Button>\n              </div>\n              \n              {/* Note */}\n              <div className=\"text-xs text-slate-500 text-center bg-amber-50 rounded-lg p-2\">\n                 Parent   details share  First login  password change  \n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Reset Password Dialog */}\n      {showResetPasswordDialog && resetPasswordStudent && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" onClick={() => setShowResetPasswordDialog(false)}>\n          <div className=\"bg-white rounded-2xl shadow-2xl p-6 max-w-md w-full mx-4\" onClick={e => e.stopPropagation()}>\n            <h3 className=\"text-lg font-bold flex items-center gap-2 mb-4\">\n              <Key className=\"w-5 h-5 text-amber-600\" />\n              Reset Student Password\n            </h3>\n            <div className=\"bg-slate-50 rounded-lg p-3 mb-4\">\n              <p className=\"font-medium\">{resetPasswordStudent.name}</p>\n              <p className=\"text-sm text-slate-500\">\n                {resetPasswordStudent.student_id || resetPasswordStudent.admission_no || 'N/A'}  {resetPasswordStudent.class_name || 'N/A'}\n              </p>\n            </div>\n            <div className=\"space-y-3 mb-4\">\n              <Label>New Password (   4 characters)</Label>\n              <div className=\"relative\">\n                <Input\n                  type={showStudentPasswordField ? 'text' : 'password'}\n                  value={newStudentPassword}\n                  onChange={e => setNewStudentPassword(e.target.value)}\n                  placeholder=\"Enter new password\"\n                  className=\"pr-10\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowStudentPasswordField(!showStudentPasswordField)}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                >\n                  {showStudentPasswordField ? <Eye className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n                </button>\n              </div>\n            </div>\n            <div className=\"flex gap-3\">\n              <Button variant=\"outline\" onClick={() => setShowResetPasswordDialog(false)} className=\"flex-1\">\n                {t('cancel')}\n              </Button>\n              <Button\n                onClick={resetStudentPassword}\n                disabled={!newStudentPassword || newStudentPassword.length < 4 || resettingStudentPassword}\n                className=\"flex-1 bg-amber-600 hover:bg-amber-700\"\n              >\n                {resettingStudentPassword ? <Loader2 className=\"w-4 h-4 animate-spin mr-2\" /> : <Key className=\"w-4 h-4 mr-2\" />}\n                {t('reset_password')}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["Card","React","_ref","ref","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","cn","displayName","CardHeader","_ref2","_excluded2","CardTitle","_ref3","_excluded3","CardDescription","_ref4","_excluded4","CardContent","_ref5","_excluded5","_ref6","_excluded6","Progress","value","ProgressPrimitive","children","style","transform","concat","Table","TableHeader","TableBody","TableRow","TableHead","TableCell","_ref7","_excluded7","_ref8","_excluded8","Tabs","TabsPrimitive","TabsList","TabsTrigger","TabsContent","DropdownMenu","DropdownMenuPrimitive","DropdownMenuTrigger","inset","_jsxs","ChevronRight","DropdownMenuContent","sideOffset","DropdownMenuItem","checked","Check","Circle","DropdownMenuSeparator","PHOTO_TYPES","id","label","icon","User","description","required","Eye","FaceEnrollmentCapture","_uploadedPhotos$passp","_PHOTO_TYPES$find","_PHOTO_TYPES$find2","_qualityAnalysis$issu","_qualityAnalysis$reco","_showWarning$similar_","_showWarning$similar_2","studentId","schoolId","studentName","onComplete","onSkip","isOpen","onClose","currentPhotoType","setCurrentPhotoType","useState","uploadedPhotos","setUploadedPhotos","capturing","setCapturing","uploading","setUploading","cameraActive","setCameraActive","captureMode","setCaptureMode","qualityAnalysis","setQualityAnalysis","showWarning","setShowWarning","enrollmentStatus","setEnrollmentStatus","videoRef","useRef","canvasRef","fileInputRef","streamRef","useEffect","fetchEnrollmentStatus","stopCamera","async","res","fetch","ok","_data$photos_uploaded","data","json","uploaded","photos_uploaded","forEach","type","error","console","startCamera","constraints","video","width","ideal","height","facingMode","stream","navigator","mediaDevices","getUserMedia","current","srcObject","play","toast","success","getTracks","track","stop","uploadPhoto","method","headers","body","JSON","stringify","student_id","school_id","photo_base64","base64","photo_type","capture_device","message","analysis","prev","quality","quality_score","photoId","photo_id","currentIndex","findIndex","p","length","warning","similar_student","similarity","uploadedCount","Object","keys","filter","k","_uploadedPhotos$k","progress","canComplete","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","Scan","DialogDescription","map","_uploadedPhotos$type$","status","photoType","_uploadedPhotos$photo","getPhotoTypeStatus","onClick","CheckCircle","Button","variant","Camera","Upload","autoPlay","playsInline","muted","find","size","canvas","context","getContext","videoWidth","videoHeight","drawImage","toDataURL","split","disabled","Loader2","XCircle","_fileInputRef$current","click","accept","onChange","file","event","target","files","startsWith","reader","FileReader","onloadend","result","readAsDataURL","AlertTriangle","face_detected","issues","join","recommendations","name","class","skip_face","skip_biometric","reason","info","handleComplete","Info","API","StudentsPage","_splitViewStudent$sta","t","useTranslation","user","useAuth","students","setStudents","suspendedStudents","setSuspendedStudents","classes","setClasses","loading","setLoading","search","setSearch","selectedClass","setSelectedClass","isDialogOpen","setIsDialogOpen","isCredentialsDialogOpen","setIsCredentialsDialogOpen","isSuspendDialogOpen","setIsSuspendDialogOpen","showFaceEnrollment","setShowFaceEnrollment","showIDCard","setShowIDCard","showPrintableIDCard","setShowPrintableIDCard","idCardStudent","setIdCardStudent","school","setSchool","editingStudent","setEditingStudent","selectedStudent","setSelectedStudent","newStudentCredentials","setNewStudentCredentials","submitting","setSubmitting","copiedField","setCopiedField","bulkPrinting","setBulkPrinting","showPromotionDialog","setShowPromotionDialog","promotingStudents","setPromotingStudents","promotionData","setPromotionData","fromClassId","toClassId","selectedStudentIds","selectAll","showDocumentDialog","setShowDocumentDialog","documentStudent","setDocumentStudent","uploadingDocument","setUploadingDocument","showDeleteDialog","setShowDeleteDialog","deleteStudent","setDeleteStudent","deleteConfirmText","setDeleteConfirmText","deleting","setDeleting","showCredentialsDialog","setShowCredentialsDialog","credentialsStudent","setCredentialsStudent","showBulkCredentialsDialog","setShowBulkCredentialsDialog","showProfileModal","setShowProfileModal","profileStudent","setProfileStudent","uploadingProfilePhoto","setUploadingProfilePhoto","profilePhotoInputRef","splitPhotoInputRef","splitViewStudent","setSplitViewStudent","capturedPhoto","setCapturedPhoto","showCamera","setShowCamera","cameraStream","setCameraStream","showResetPasswordDialog","setShowResetPasswordDialog","resetPasswordStudent","setResetPasswordStudent","newStudentPassword","setNewStudentPassword","resettingStudentPassword","setResettingStudentPassword","showStudentPasswordField","setShowStudentPasswordField","activeFormTab","setActiveFormTab","formData","setFormData","class_id","dob","gender","blood_group","admission_date","Date","toISOString","aadhar_no","scholar_no","pen_number","sssmid","samagra_family_id","jan_aadhar_no","caste","sub_caste","religion","category","nationality","mother_tongue","birth_place","identification_mark","rte_status","father_name","father_occupation","father_qualification","mother_name","mother_occupation","mother_qualification","guardian_name","guardian_relation","guardian_mobile","guardian_occupation","annual_income","mobile","parent_phone","email","address","emergency_contact","emergency_contact_name","bank_name","bank_account_no","ifsc_code","bank_branch","transport_mode","bus_route","bus_stop","pickup_point","is_hosteler","hostel_room_no","medical_conditions","allergies","previous_school","previous_class","previous_percentage","tc_number","documents","setDocuments","birth_certificate","aadhar_card","transfer_certificate","marksheet","caste_certificate","income_certificate","passport_photo","parentPhotos","setParentPhotos","father_photo","mother_photo","guardian_photo","showParentCamera","setShowParentCamera","parentCameraStream","setParentCameraStream","suspendForm","setSuspendForm","details","suspendReasons","fees_pending","misconduct","document_pending","attendance_low","other","fetchStudents","fetchClasses","token","localStorage","getItem","Authorization","url","activeRes","suspendedRes","Promise","all","axios","get","response","handleProfilePhotoUpload","e","onload","newPhotoUrl","post","photo_data","photo_url","viewCredentials","student","class_name","plain_password","default_password","generateCredentialsText","window","location","origin","printStudentProfile","s","printWindow","photoHtml","row","sectionHeader","title","emoji","html","admission_no","section","toLocaleDateString","document","write","close","handleEdit","resetForm","handleChange","copyToClipboard","text","field","clipboard","writeText","setTimeout","BulkImport","onImportComplete","GraduationCap","activeStudents","cardDataList","_res$data","id_card","push","card","photo","cardsHtml","item","sch","logoImg","logo_url","headerLogo","parentPhone","phone","valid_until","getFullYear","pageHtml","Printer","DialogTrigger","asChild","UserPlus","tab","onSubmit","preventDefault","payload","put","base64Data","byteCharacters","atob","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","blob","Blob","photoFormData","FormData","append","photoErr","login_id","temporary_password","_error$response","_error$response$data","msg","detail","Label","Input","placeholder","cls","max","bg","htmlFor","DocumentUpload","personId","personType","existingDocuments","doc","idx","err","capturePhoto","dataUrl","X","src","alt","removePhoto","Fingerprint","Copy","href","encodeURIComponent","entries","key","minHeight","Search","defaultValue","Ban","stopPropagation","MoreVertical","align","openStudentProfile","Edit","CreditCard","Key","openSuspendDialog","includes","role","prompt","handleMarkLeft","LogOut","_Fragment","openDeleteDialog","Trash2","suspension_reason","handleUnsuspend","RefreshCw","_splitPhotoInputRef$c","toUpperCase","v","Users","Wallet","some","Boolean","Bus","_ref9","_ref0","_ref1","IDCardViewer","onPhotoUpload","delete","_error$response2","_error$response2$data","_profilePhotoInputRef","getStatusBadge","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","EyeOff","_student$mobile","replace","shareViaWhatsApp","MessageCircle","copyCredentials","new_password","_error$response3","_error$response3$data"],"sourceRoot":""}