/*! For license information please see 4381.d466b263.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4381],{9630(e,t,a){a.d(t,{E:()=>o});var s=a(2555),l=a(3986),r=(a(9950),a(4364)),n=a(9332),i=a(4414);const d=["className","variant"],c=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a}=e,r=(0,l.A)(e,d);return(0,i.jsx)("div",(0,s.A)({className:(0,n.cn)(c({variant:a}),t)},r))}},1111(e,t,a){a.d(t,{$:()=>x});var s=a(2555),l=a(3986),r=a(9950),n=a(2962),i=a(4364),d=a(9332),c=a(4414);const o=["className","variant","size","asChild"],m=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-500 text-white shadow-sm hover:bg-blue-600 rounded-lg",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-gray-200 bg-white shadow-sm hover:bg-gray-50 text-gray-700 rounded-lg",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),x=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:x=!1}=e,h=(0,l.A)(e,o);const u=x?n.DX:"button";return(0,c.jsx)(u,(0,s.A)({className:(0,d.cn)(m({variant:r,size:i,className:a})),ref:t},h))});x.displayName="Button"},4245(e,t,a){a.d(t,{BT:()=>b,Wu:()=>y,ZB:()=>p,Zp:()=>u,aR:()=>g});var s=a(2555),l=a(3986),r=a(9950),n=a(9332),i=a(4414);const d=["className"],c=["className"],o=["className"],m=["className"],x=["className"],h=["className"],u=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,d);return(0,i.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("rounded-xl border border-gray-200 bg-white text-gray-900 shadow-sm",a)},r))});u.displayName="Card";const g=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,c);return(0,i.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-5",a)},r))});g.displayName="CardHeader";const p=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,o);return(0,i.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",a)},r))});p.displayName="CardTitle";const b=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,m);return(0,i.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a)},r))});b.displayName="CardDescription";const y=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,x);return(0,i.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("p-5 pt-0",a)},r))});y.displayName="CardContent";r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,h);return(0,i.jsx)("div",(0,s.A)({ref:t,className:(0,n.cn)("flex items-center p-5 pt-0",a)},r))}).displayName="CardFooter"},7255(e,t,a){a.d(t,{Cf:()=>j,L3:()=>f,c7:()=>v,lG:()=>g,rr:()=>N,zM:()=>p});var s=a(2555),l=a(3986),r=a(9950),n=a(9710),i=a(6479),d=a(9332),c=a(4414);const o=["className"],m=["className","children"],x=["className"],h=["className"],u=["className"],g=n.bL,p=n.l9,b=n.ZL,y=(n.bm,r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,o);return(0,c.jsx)(n.hJ,(0,s.A)({ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},r))}));y.displayName=n.hJ.displayName;const j=r.forwardRef((e,t)=>{let{className:a,children:r}=e,o=(0,l.A)(e,m);return(0,c.jsxs)(b,{children:[(0,c.jsx)(y,{}),(0,c.jsxs)(n.UC,(0,s.A)((0,s.A)({ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},o),{},{children:[r,(0,c.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,c.jsx)(i.A,{className:"h-4 w-4"}),(0,c.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});j.displayName=n.UC.displayName;const v=e=>{let{className:t}=e,a=(0,l.A)(e,x);return(0,c.jsx)("div",(0,s.A)({className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};v.displayName="DialogHeader";const f=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,h);return(0,c.jsx)(n.hE,(0,s.A)({ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a)},r))});f.displayName=n.hE.displayName;const N=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,u);return(0,c.jsx)(n.VY,(0,s.A)({ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a)},r))});N.displayName=n.VY.displayName},4779(e,t,a){a.d(t,{p:()=>c});var s=a(2555),l=a(3986),r=a(9950),n=a(9332),i=a(4414);const d=["className","type"],c=r.forwardRef((e,t)=>{let{className:a,type:r}=e,c=(0,l.A)(e,d);return(0,i.jsx)("input",(0,s.A)({type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},c))});c.displayName="Input"},557(e,t,a){a.d(t,{J:()=>x});var s=a(2555),l=a(3986),r=a(9950),n=a(1611),i=a(4364),d=a(9332),c=a(4414);const o=["className"],m=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,o);return(0,c.jsx)(n.b,(0,s.A)({ref:t,className:(0,d.cn)(m(),a)},r))});x.displayName=n.b.displayName},9093(e,t,a){a.d(t,{T:()=>c});var s=a(2555),l=a(3986),r=a(9950),n=a(9332),i=a(4414);const d=["className"],c=r.forwardRef((e,t)=>{let{className:a}=e,r=(0,l.A)(e,d);return(0,i.jsx)("textarea",(0,s.A)({className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t},r))});c.displayName="Textarea"},9332(e,t,a){a.d(t,{cn:()=>r});var s=a(2004),l=a(9800);function r(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,s.$)(t))}},4381(e,t,a){a.r(t),a.d(t,{default:()=>xe});var s=a(2555),l=a(9950),r=a(5010),n=a(5030),i=a(5532),d=a(6910),c=a(1111),o=a(4245),m=(a(9630),a(4779)),x=a(9093),h=a(557),u=a(7255),g=a(2989),p=a(8276),b=a(5332),y=a(5833),j=a(903),v=a(1850),f=a(6150),N=a(8130),w=a(6958),A=a(6149),k=a(7637),_=a(6195),C=a(1449),S=a(552),M=a(5120),D=a(3139),R=a(6230);const P=(0,R.A)("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);var z=a(801),L=a(1064);const I=(0,R.A)("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var T=a(4731),E=a(9318),O=a(2443),F=a(3147),B=a(6447),H=a(8108),V=a(983),G=a(9409),q=a(2737),$=a(9975),J=a(1041),Z=a(2607);const W=(0,R.A)("arrow-down-left",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);var U=a(9585),K=a(621),Q=a(7838),Y=a(7737),X=a(5995),ee=a(8935);const te=(0,R.A)("store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);var ae=a(2033),se=a(2828),le=a(9201),re=a(9636),ne=a(4414);const ie=e=>{var t,a,s,l,r,n,i,d,c,o,m,x,h,u,g,p,b,y,j;let{data:v}=e;return v?(0,ne.jsxs)("div",{className:"p-8 max-w-2xl mx-auto bg-white",style:{fontFamily:"Arial, sans-serif"},children:[(0,ne.jsxs)("div",{className:"text-center border-b-2 border-gray-800 pb-4 mb-4",children:[(0,ne.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:null===(t=v.school)||void 0===t?void 0:t.name}),(0,ne.jsx)("p",{className:"text-sm text-gray-600",children:null===(a=v.school)||void 0===a?void 0:a.address}),(0,ne.jsxs)("p",{className:"text-sm text-gray-600",children:["Phone: ",null===(s=v.school)||void 0===s?void 0:s.phone]})]}),(0,ne.jsxs)("div",{className:"text-center bg-indigo-600 text-white py-2 mb-4",children:[(0,ne.jsx)("h2",{className:"text-xl font-bold",children:"ADMIT CARD / \u092a\u094d\u0930\u0935\u0947\u0936 \u092a\u0924\u094d\u0930"}),(0,ne.jsxs)("p",{className:"text-sm",children:[null===(l=v.exam)||void 0===l?void 0:l.name," - ",null===(r=v.exam)||void 0===r?void 0:r.type]})]}),(0,ne.jsxs)("div",{className:"flex gap-6 mb-6",children:[(0,ne.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,ne.jsxs)("div",{className:"flex",children:[(0,ne.jsx)("span",{className:"w-32 font-medium",children:"Name / \u0928\u093e\u092e:"}),(0,ne.jsx)("span",{className:"font-bold",children:null===(n=v.student)||void 0===n?void 0:n.name})]}),(0,ne.jsxs)("div",{className:"flex",children:[(0,ne.jsx)("span",{className:"w-32 font-medium",children:"Father's Name:"}),(0,ne.jsx)("span",{children:null===(i=v.student)||void 0===i?void 0:i.father_name})]}),(0,ne.jsxs)("div",{className:"flex",children:[(0,ne.jsx)("span",{className:"w-32 font-medium",children:"Roll No:"}),(0,ne.jsx)("span",{className:"font-bold",children:null===(d=v.student)||void 0===d?void 0:d.roll_no})]}),(0,ne.jsxs)("div",{className:"flex",children:[(0,ne.jsx)("span",{className:"w-32 font-medium",children:"Class:"}),(0,ne.jsxs)("span",{children:[null===(c=v.student)||void 0===c?void 0:c.class," ",null===(o=v.student)||void 0===o?void 0:o.section]})]}),(0,ne.jsxs)("div",{className:"flex",children:[(0,ne.jsx)("span",{className:"w-32 font-medium",children:"DOB:"}),(0,ne.jsx)("span",{children:null===(m=v.student)||void 0===m?void 0:m.dob})]})]}),(0,ne.jsx)("div",{className:"w-32 h-40 border-2 border-gray-300 flex items-center justify-center",children:null!==(x=v.student)&&void 0!==x&&x.photo_url?(0,ne.jsx)("img",{src:v.student.photo_url,alt:"Student",className:"w-full h-full object-cover"}):(0,ne.jsx)("span",{className:"text-gray-400 text-xs text-center",children:"Photo"})})]}),(0,ne.jsxs)("div",{className:"mb-6",children:[(0,ne.jsx)("h3",{className:"font-bold text-gray-900 mb-2 border-b pb-1",children:"Exam Schedule / \u092a\u0930\u0940\u0915\u094d\u0937\u093e \u0938\u092e\u092f \u0938\u093e\u0930\u093f\u0923\u0940"}),(0,ne.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("span",{className:"text-gray-600",children:"Start Date:"}),(0,ne.jsx)("span",{className:"ml-2 font-medium",children:null===(h=v.exam)||void 0===h?void 0:h.start_date})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("span",{className:"text-gray-600",children:"End Date:"}),(0,ne.jsx)("span",{className:"ml-2 font-medium",children:null===(u=v.exam)||void 0===u?void 0:u.end_date})]})]})]}),(0,ne.jsxs)("div",{className:"mb-6",children:[(0,ne.jsx)("h3",{className:"font-bold text-gray-900 mb-2 border-b pb-1",children:"Instructions / \u0928\u093f\u0930\u094d\u0926\u0947\u0936"}),(0,ne.jsx)("ol",{className:"text-sm list-decimal list-inside space-y-1",children:null===(g=v.exam)||void 0===g||null===(p=g.instructions)||void 0===p?void 0:p.map((e,t)=>(0,ne.jsx)("li",{children:e},t))})]}),(0,ne.jsxs)("div",{className:"flex justify-between items-end mt-8 pt-4 border-t",children:[(0,ne.jsxs)("div",{className:"text-center",children:[(0,ne.jsx)("div",{className:"w-32 h-16 border-b border-gray-400 mb-1"}),(0,ne.jsx)("p",{className:"text-xs",children:"Student's Signature"})]}),(0,ne.jsxs)("div",{className:"text-center",children:[(null===(b=v.seal)||void 0===b?void 0:b.image_url)&&(0,ne.jsx)("img",{src:v.seal.image_url,alt:"Seal",className:"w-20 h-20 mx-auto"}),(0,ne.jsx)("p",{className:"text-xs",children:"School Seal"})]}),(0,ne.jsxs)("div",{className:"text-center",children:[(null===(y=v.signature)||void 0===y?void 0:y.image_url)&&(0,ne.jsx)("img",{src:v.signature.image_url,alt:"Signature",className:"w-24 h-12 mx-auto"}),(0,ne.jsx)("div",{className:"w-32 h-16 border-b border-gray-400 mb-1"}),(0,ne.jsx)("p",{className:"text-xs",children:"director"===(null===(j=v.signature)||void 0===j?void 0:j.authority)?"Director":"Principal"})]})]}),(0,ne.jsxs)("div",{className:"text-center mt-4 text-xs text-gray-500",children:["Admit Card No: ",v.admit_card_no," | Generated: ",new Date(v.generated_at).toLocaleString()]})]}):null},de=e=>{var t,a,r;let{studentId:n,schoolId:i,profile:c}=e;const o=i||(null===c||void 0===c?void 0:c.school_id)||(null===c||void 0===c?void 0:c.schoolId),[m,x]=(0,l.useState)([]),[h,u]=(0,l.useState)(!0),[g,b]=(0,l.useState)(null),[j,v]=(0,l.useState)(!1),[f,N]=(0,l.useState)(0),[w,A]=(0,l.useState)(!1),[_,C]=(0,l.useState)(null);(0,l.useRef)();(0,l.useEffect)(()=>{n&&o?S():(u(!1),n?o||C("School ID \u0928\u0939\u0940\u0902 \u092e\u093f\u0932\u0940"):C("Student ID \u0928\u0939\u0940\u0902 \u092e\u093f\u0932\u0940"))},[n,o]);const S=async()=>{u(!0),C(null);try{const e=((await d.A.get("".concat("","/api/admit-card/student/my-admit-cards/").concat(n,"?school_id=").concat(o))).data.admit_cards||[]).map(e=>(0,s.A)((0,s.A)({},e),{},{is_eligible:void 0!==e.is_eligible?e.is_eligible:e.eligible_to_download,is_generated:e.is_generated||!1}));x(e)}catch(e){console.error("Error fetching admit cards:",e),C("Admit cards load \u0928\u0939\u0940\u0902 \u0939\u094b \u092a\u093e\u090f\u0964 \u0936\u093e\u092f\u0926 \u0905\u092d\u0940 \u0915\u094b\u0908 exam \u0928\u0939\u0940\u0902 \u0939\u0948\u0964")}finally{u(!1)}};return h?(0,ne.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,ne.jsx)("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),(0,ne.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}):_?(0,ne.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 text-center",children:[(0,ne.jsx)(se.A,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-amber-800 font-medium",children:_}),(0,ne.jsx)("p",{className:"text-sm text-amber-600 mt-2",children:"Admin \u0938\u0947 \u0938\u0902\u092a\u0930\u094d\u0915 \u0915\u0930\u0947\u0902 \u092f\u093e \u092c\u093e\u0926 \u092e\u0947\u0902 try \u0915\u0930\u0947\u0902"})]}):(0,ne.jsxs)("div",{className:"space-y-6",children:[(0,ne.jsx)("div",{className:"flex items-center justify-between",children:(0,ne.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,ne.jsx)(k.A,{className:"w-6 h-6 text-indigo-600"}),"Admit Cards / \u092a\u094d\u0930\u0935\u0947\u0936 \u092a\u0924\u094d\u0930"]})}),0===m.length?(0,ne.jsxs)("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[(0,ne.jsx)(k.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,ne.jsx)("p",{className:"text-gray-600",children:"\u0915\u094b\u0908 Admit Card \u0909\u092a\u0932\u092c\u094d\u0927 \u0928\u0939\u0940\u0902 \u0939\u0948"}),(0,ne.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"\u091c\u092c exam schedule \u0939\u094b\u0917\u0940, admit card \u092f\u0939\u093e\u0901 \u0926\u093f\u0916\u0947\u0917\u093e"})]}):(0,ne.jsx)("div",{className:"grid gap-4",children:m.map(e=>(0,ne.jsxs)("div",{className:"bg-white rounded-xl border-2 overflow-hidden ".concat(e.is_eligible?"border-green-200":"border-amber-200"),children:[(0,ne.jsx)("div",{className:"px-4 py-3 ".concat(e.is_eligible?"bg-green-50":"bg-amber-50"),children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ne.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(e.is_eligible?"bg-green-500":"bg-amber-500"),children:e.is_eligible?(0,ne.jsx)(y.A,{className:"w-5 h-5 text-white"}):(0,ne.jsx)(p.A,{className:"w-5 h-5 text-white"})}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{className:"font-semibold text-gray-900",children:e.exam_name}),(0,ne.jsx)("p",{className:"text-sm text-gray-600",children:e.exam_type})]})]}),(0,ne.jsx)("div",{className:"text-right",children:(0,ne.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,ne.jsx)(le.A,{className:"w-4 h-4 inline mr-1"}),e.start_date," - ",e.end_date]})})]})}),(0,ne.jsxs)("div",{className:"p-4",children:[e.fee_status&&(0,ne.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ne.jsx)("span",{className:"text-sm text-gray-600",children:"Fee Status"}),(0,ne.jsxs)("span",{className:"text-sm font-medium ".concat(e.is_eligible?"text-green-600":"text-amber-600"),children:[e.fee_status.paid_percentage,"% Paid"]})]}),(0,ne.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ne.jsx)("div",{className:"h-2 rounded-full ".concat(e.is_eligible?"bg-green-500":"bg-amber-500"),style:{width:"".concat(Math.min(100,e.fee_status.paid_percentage),"%")}})}),!e.is_eligible&&(0,ne.jsxs)("p",{className:"text-xs text-amber-600 mt-2",children:["\u26a0\ufe0f Minimum \u20b9",e.min_amount_required," fee \u091c\u092e\u093e \u0915\u0930\u0947\u0902"]})]}),(0,ne.jsx)("button",{onClick:()=>(async e=>{if(!e.is_eligible)return b(e),N(e.min_amount_required),void v(!0);if(e.is_generated&&e.admit_card)b(e),setTimeout(()=>{window.print()},500);else try{A(!0);const t=await d.A.get("".concat("","/api/admit-card/generate/").concat(o,"/").concat(e.exam_id,"/").concat(n));t.data.success?(ae.oR.success("Admit Card generated!"),S()):ae.oR.error(t.data.message||"Generation failed")}catch(t){ae.oR.error("Admit card generate \u0928\u0939\u0940\u0902 \u0939\u094b \u092a\u093e\u092f\u093e")}finally{A(!1)}})(e),disabled:w,className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-all ".concat(e.is_eligible?"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-amber-500 hover:bg-amber-600 text-white"),children:w?(0,ne.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.is_eligible?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(re.A,{className:"w-5 h-5"}),"Download Admit Card"]}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(J.A,{className:"w-5 h-5"}),"Pay \u20b9",e.min_amount_required," & Download"]})})]})]},e.exam_id))}),j&&g&&(0,ne.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,ne.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[(0,ne.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Fee Payment Required"}),(0,ne.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-4",children:(0,ne.jsxs)("p",{className:"text-amber-800",children:[(0,ne.jsx)(se.A,{className:"w-5 h-5 inline mr-2"}),"Admit Card download \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f minimum fee \u091c\u092e\u093e \u0915\u0930\u0947\u0902"]})}),(0,ne.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{className:"text-gray-600",children:"Total Fee"}),(0,ne.jsxs)("span",{className:"font-medium",children:["\u20b9",(null===(t=g.fee_status)||void 0===t?void 0:t.total_fee)||0]})]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{className:"text-gray-600",children:"Paid"}),(0,ne.jsxs)("span",{className:"font-medium text-green-600",children:["\u20b9",(null===(a=g.fee_status)||void 0===a?void 0:a.paid_fee)||0]})]}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{className:"text-gray-600",children:"Pending"}),(0,ne.jsxs)("span",{className:"font-medium text-red-600",children:["\u20b9",(null===(r=g.fee_status)||void 0===r?void 0:r.pending_fee)||0]})]}),(0,ne.jsx)("hr",{}),(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{className:"text-gray-900 font-medium",children:"Minimum Required"}),(0,ne.jsxs)("span",{className:"font-bold text-lg text-indigo-600",children:["\u20b9",f]})]})]}),(0,ne.jsxs)("div",{className:"flex gap-3",children:[(0,ne.jsx)("button",{onClick:()=>v(!1),className:"flex-1 py-3 rounded-xl border-2 border-gray-200 text-gray-700 font-medium hover:bg-gray-50",children:"Cancel"}),(0,ne.jsx)("button",{onClick:async()=>{if(g){A(!0);try{(await d.A.post("".concat("","/api/admit-card/student/pay-for-admit-card"),{school_id:o,student_id:n,exam_id:g.exam_id,amount:f,payment_method:"online"})).data.success&&(ae.oR.success("Payment successful! Admit Card ready"),v(!1),S())}catch(e){ae.oR.error("Payment failed")}finally{A(!1)}}},disabled:w,className:"flex-1 py-3 rounded-xl bg-green-600 hover:bg-green-700 text-white font-medium flex items-center justify-center gap-2",children:w?(0,ne.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(J.A,{className:"w-5 h-5"}),"Pay \u20b9",f]})})]})]})}),(null===g||void 0===g?void 0:g.admit_card)&&(0,ne.jsx)("div",{className:"hidden print:block",children:(0,ne.jsx)(ie,{data:g.admit_card})})]})};var ce=a(3909);const oe="".concat("","/api"),me=()=>(0,ne.jsxs)("span",{className:"inline-flex flex-col ml-1 -space-y-1 opacity-40",children:[(0,ne.jsx)("span",{className:"text-[8px] leading-none",children:"\u25b2"}),(0,ne.jsx)("span",{className:"text-[8px] leading-none",children:"\u25bc"})]});function xe(){const{t:e}=(0,n.Bd)(),{user:t,logout:a,schoolData:R}=(0,i.As)(),se=(0,r.Zp)(),[le,re]=(0,l.useState)(!0),[ie,xe]=(0,l.useState)(""),[he,ue]=(0,l.useState)(1),[ge,pe]=(0,l.useState)(null),[be,ye]=(0,l.useState)([]),[je,ve]=(0,l.useState)([]),[fe,Ne]=(0,l.useState)([]),[we,Ae]=(0,l.useState)({present:0,total:0}),[ke,_e]=(0,l.useState)(!1),[Ce,Se]=(0,l.useState)(!1),[Me,De]=(0,l.useState)(!1),[Re,Pe]=(0,l.useState)(!1),[ze,Le]=(0,l.useState)(!1),[Ie,Te]=(0,l.useState)(!1),[Ee,Oe]=(0,l.useState)(!1),[Fe,Be]=(0,l.useState)(!1),[He,Ve]=(0,l.useState)(null),[Ge,qe]=(0,l.useState)([]),[$e,Je]=(0,l.useState)(""),[Ze,We]=(0,l.useState)(null),[Ue,Ke]=(0,l.useState)({complaint_to:"teacher",category:"academic",subject:"",description:"",is_anonymous:!1}),[Qe,Ye]=(0,l.useState)([]),[Xe,et]=(0,l.useState)(!1),[tt,at]=(0,l.useState)(""),[st,lt]=(0,l.useState)(!1),[rt,nt]=(0,l.useState)({leave_type:"sick",from_date:"",to_date:"",reason:""}),[it,dt]=(0,l.useState)(!1),[ct,ot]=(0,l.useState)(!1),[mt,xt]=(0,l.useState)(0),[ht,ut]=(0,l.useState)([]),[gt,pt]=(0,l.useState)(""),[bt,yt]=(0,l.useState)(!1),[jt,vt]=(0,l.useState)([]),[ft,Nt]=(0,l.useState)(!1),[wt,At]=(0,l.useState)([]),[kt,_t]=(0,l.useState)(""),[Ct,St]=(0,l.useState)(!1),[Mt,Dt]=(0,l.useState)([]),[Rt,Pt]=(0,l.useState)([]),[zt,Lt]=(0,l.useState)(""),[It,Tt]=(0,l.useState)(!1);(0,l.useEffect)(()=>{Et()},[]);const Et=async()=>{re(!0);try{const[t,a,s]=await Promise.allSettled([d.A.get("".concat(oe,"/student/dashboard")),d.A.get("".concat(oe,"/student/notices")),d.A.get("".concat(oe,"/student/homework"))]);if("fulfilled"===t.status){var e;const a=t.value.data;pe(a.profile),"blocked"===(null===(e=a.profile)||void 0===e?void 0:e.status)&&dt(!0)}ye("fulfilled"===a.status?a.value.data:[{id:"1",title:"Winter Break Notice",content:"School closed 25 Dec - 1 Jan",priority:"high",created_at:(new Date).toISOString()},{id:"2",title:"Annual Sports Day",content:"15th January - All must participate",priority:"normal",created_at:(new Date).toISOString()}]),ve("fulfilled"===s.status?s.value.data:[{id:"1",subject:"Mathematics",topic:"Exercise 5.3",due_date:"2026-01-04",status:"pending"},{id:"2",subject:"English",topic:"Essay Writing",due_date:"2026-01-05",status:"pending"}]),Ne([{subject:"Mathematics",completed:60,current:"Quadratic Equations"},{subject:"Science",completed:55,current:"Light Reflection"},{subject:"Hindi",completed:70,current:"\u0928\u0947\u0924\u093e\u091c\u0940 \u0915\u093e \u091a\u0936\u094d\u092e\u093e"},{subject:"English",completed:50,current:"The Hundred Dresses"}]),Ae({present:85,total:100})}catch(t){console.error("Dashboard fetch error:",t)}finally{re(!1)}},Ot=async()=>{try{const e=await d.A.get("".concat(oe,"/chat/groups/class/").concat(null===ge||void 0===ge?void 0:ge.class_id,"?school_id=").concat(null===ge||void 0===ge?void 0:ge.school_id));We(e.data);const t=await d.A.get("".concat(oe,"/chat/messages/").concat(e.data.id,"?limit=50"));qe(t.data.messages||[]),Le(!0)}catch(e){ae.oR.error("Failed to load chat")}},Ft=async()=>{if($e.trim()&&Ze)try{const e=await d.A.post("".concat(oe,"/chat/messages/send"),{group_id:Ze.id,content:$e,sender_id:null===t||void 0===t?void 0:t.id,sender_name:(null===ge||void 0===ge?void 0:ge.name)||(null===t||void 0===t?void 0:t.name),sender_role:"student"});qe(t=>[...t,e.data.data]),Je("")}catch(e){ae.oR.error("Failed to send message")}},Bt=async()=>{try{const e=await d.A.get("".concat(oe,"/activities/student/").concat(null===t||void 0===t?void 0:t.id));Ye(e.data.activities||[]),Oe(!0)}catch(e){Ye([]),Oe(!0)}},Ht=(0,l.useCallback)(async()=>{if(!tt||isNaN(tt)||Number(tt)<=0)ae.oR.error("Please enter a valid amount");else{lt(!0);try{if(!await new Promise(e=>{if(window.Razorpay)return void e(!0);const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(!0),t.onerror=()=>e(!1),document.body.appendChild(t)}))return ae.oR.error("Payment gateway loading failed"),void lt(!1);const e=await d.A.post("".concat(oe,"/razorpay/create-order"),{amount:Math.round(100*Number(tt)),student_id:null===t||void 0===t?void 0:t.id,student_name:(null===ge||void 0===ge?void 0:ge.name)||(null===t||void 0===t?void 0:t.name),school_id:(null===ge||void 0===ge?void 0:ge.school_id)||"default",fee_type:"tuition",description:"Fee Payment - ".concat(null===ge||void 0===ge?void 0:ge.name)}),{order_id:a,key_id:s,amount:l}=e.data,r={key:s,amount:l,currency:"INR",name:"Schooltino",description:"Fee Payment - ".concat(null===ge||void 0===ge?void 0:ge.class_name),order_id:a,handler:async e=>{try{await d.A.post("".concat(oe,"/razorpay/verify-payment"),{razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,student_id:null===t||void 0===t?void 0:t.id,school_id:(null===ge||void 0===ge?void 0:ge.school_id)||"default"}),ae.oR.success("Payment successful!"),et(!1),at("")}catch(a){ae.oR.error("Payment verification failed. Please contact school.")}},prefill:{name:(null===ge||void 0===ge?void 0:ge.name)||(null===t||void 0===t?void 0:t.name),email:(null===t||void 0===t?void 0:t.email)||"",contact:(null===ge||void 0===ge?void 0:ge.mobile)||""},theme:{color:"#3B82F6"},modal:{ondismiss:()=>{lt(!1)}}};new window.Razorpay(r).open()}catch(e){ae.oR.error("Failed to initiate payment")}finally{lt(!1)}}},[tt,t,ge]),Vt=async()=>{try{const e=await d.A.get("".concat(oe,"/student/wallet?student_id=").concat(null===t||void 0===t?void 0:t.id));xt(e.data.balance||0),ut(e.data.transactions||[])}catch(e){xt(500),ut([{id:"1",type:"credit",amount:1e3,description:"Added by parent",date:"2026-02-01T10:00:00Z"},{id:"2",type:"debit",amount:200,description:"Canteen purchase",date:"2026-02-03T13:30:00Z"},{id:"3",type:"debit",amount:300,description:"Stationery purchase",date:"2026-02-05T09:15:00Z"}])}ot(!0)},Gt=async()=>{try{const e=await d.A.get("".concat(oe,"/student/live-classes"));vt(e.data.classes||e.data||[])}catch(e){vt([{id:"1",subject:"Mathematics",topic:"Quadratic Equations",teacher:"Mr. Sharma",status:"live",scheduled_at:(new Date).toISOString(),join_url:"#",recording_url:null},{id:"2",subject:"Science",topic:"Light & Reflection",teacher:"Mrs. Gupta",status:"upcoming",scheduled_at:new Date(Date.now()+36e5).toISOString(),join_url:null,recording_url:null},{id:"3",subject:"English",topic:"Essay Writing",teacher:"Ms. Patel",status:"completed",scheduled_at:new Date(Date.now()-864e5).toISOString(),join_url:null,recording_url:"#"}])}yt(!0)},qt=async()=>{try{const e=await d.A.get("".concat(oe,"/school-feed"));At(e.data.posts||e.data||[])}catch(e){At([{id:"1",author:"School Admin",avatar:null,content:"Annual Sports Day is on 15th January! All students must participate. Exciting prizes await! \ud83c\udfc6",image:null,likes:24,liked:!1,comments:[{id:"c1",author:"Rahul",text:"Can't wait! \ud83c\udf89"}],created_at:new Date(Date.now()-36e5).toISOString()},{id:"2",author:"Science Department",avatar:null,content:"Science Exhibition winners announced! Congratulations to Class 10A for their innovative Solar Car project. \ud83d\udd2c",image:null,likes:42,liked:!1,comments:[],created_at:new Date(Date.now()-864e5).toISOString()},{id:"3",author:"Principal",avatar:null,content:"Proud moment for our school! Our students won 3 gold medals at the State Level Olympiad. \ud83e\udd47",image:null,likes:89,liked:!1,comments:[{id:"c2",author:"Priya",text:"Congratulations!"},{id:"c3",author:"Amit",text:"So proud! \ud83c\udf96\ufe0f"}],created_at:new Date(Date.now()-1728e5).toISOString()}])}Nt(!0)},$t=e=>{kt.trim()&&(At(t=>t.map(t=>t.id===e?(0,s.A)((0,s.A)({},t),{},{comments:[...t.comments||[],{id:Date.now().toString(),author:(null===ge||void 0===ge?void 0:ge.name)||"Student",text:kt}]}):t)),d.A.post("".concat(oe,"/school-feed/").concat(e,"/comment"),{text:kt}).catch(()=>{}),_t(""))},Jt=async()=>{try{const e=await d.A.get("".concat(oe,"/e-store/items"));Dt(e.data.items||e.data||[])}catch(e){Dt([{id:"1",name:"School Notebook (Pack of 5)",price:150,image:null,category:"Stationery",in_stock:!0},{id:"2",name:"School Bag - Premium",price:1200,image:null,category:"Bags",in_stock:!0},{id:"3",name:"Geometry Box Set",price:250,image:null,category:"Stationery",in_stock:!0},{id:"4",name:"School Uniform - Summer",price:800,image:null,category:"Uniform",in_stock:!1},{id:"5",name:"Water Bottle (500ml)",price:180,image:null,category:"Accessories",in_stock:!0},{id:"6",name:"School Tie",price:120,image:null,category:"Uniform",in_stock:!0}])}St(!0)},Zt=async()=>{if(!zt.trim())return;const e={role:"user",content:zt};Pt(t=>[...t,e]),Lt(""),Tt(!0);try{const e=await d.A.post("".concat(oe,"/tino-ai/chat"),{message:zt,student_id:null===t||void 0===t?void 0:t.id,context:"study_help"});Pt(t=>[...t,{role:"assistant",content:e.data.response||e.data.message||"I can help you with your studies! Try asking me about any subject."}])}catch(a){Pt(e=>[...e,{role:"assistant",content:"I'm here to help with your studies! Ask me about Mathematics, Science, English, Hindi or any other subject. I can explain concepts, solve problems, and help with homework."}])}finally{Tt(!1)}},Wt=()=>{a(),se("/login")},Ut=je.filter(e=>"pending"===e.status).length;if(le)return(0,ne.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,ne.jsx)(g.A,{className:"w-10 h-10 animate-spin text-blue-500"})});if(it)return(0,ne.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,ne.jsxs)(o.Zp,{className:"max-w-md w-full text-center p-8 bg-white rounded-xl border border-gray-200",children:[(0,ne.jsx)(p.A,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,ne.jsx)("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:"Account Blocked"}),(0,ne.jsx)("p",{className:"text-gray-600 mb-6",children:"Please contact school office."}),(0,ne.jsxs)(c.$,{onClick:Wt,variant:"outline",className:"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 rounded-lg",children:[(0,ne.jsx)(b.A,{className:"w-4 h-4 mr-2"})," ",e("logout")]})]})});const Kt=[{label:e("attendance"),value:"".concat(we.present,"%"),icon:y.A,subtext:"Your attendance percentage",bgColor:"bg-green-50",textColor:"text-green-500"},{label:e("homework"),value:Ut,icon:j.A,subtext:"Assignments due",bgColor:"bg-amber-50",textColor:"text-amber-500"},{label:e("notices"),value:be.length,icon:v.A,subtext:"School announcements",bgColor:"bg-blue-50",textColor:"text-blue-500"},{label:e("subjects"),value:fe.length,icon:f.A,subtext:"Enrolled subjects",bgColor:"bg-indigo-50",textColor:"text-indigo-500"},{label:"Syllabus Completed",value:"".concat(Math.round(fe.reduce((e,t)=>e+t.completed,0)/(fe.length||1)),"%"),icon:N.A,subtext:"Overall syllabus progress",bgColor:"bg-purple-50",textColor:"text-purple-500"},{label:e("fees"),value:"\u20b90",icon:w.A,subtext:"Pending fee balance",bgColor:"bg-red-50",textColor:"text-red-500"},{label:"Activities",value:0,icon:A.A,subtext:"Extra-curricular activities",bgColor:"bg-orange-50",textColor:"text-orange-500"},{label:e("exams"),value:0,icon:k.A,subtext:"Upcoming examinations",bgColor:"bg-cyan-50",textColor:"text-cyan-500"}],Qt=[{id:"studyai",name:"StudyAI",desc:"AI-powered study assistant for homework help & learning.",icon:_.A,image:"/images/studyai.png",gradient:"from-violet-500 to-violet-600",lightBg:"bg-violet-50",iconColor:"text-violet-600",action:()=>Pe(!0)},{id:"feetino",name:"FeeTino",desc:"Pay school fees online securely via Razorpay.",icon:w.A,image:"/images/feetino.png",gradient:"from-green-500 to-green-600",lightBg:"bg-green-50",iconColor:"text-green-600",action:()=>et(!0)},{id:"examtino",name:"ExamTino",desc:"Take online exams, practice tests & view results.",icon:k.A,image:"/images/examtino.png",gradient:"from-purple-500 to-purple-600",lightBg:"bg-purple-50",iconColor:"text-purple-600",action:()=>se("/app/exams")},{id:"classchat",name:"ClassChat",desc:"Real-time chat with classmates & group discussions.",icon:C.A,image:"/images/classchat.png",gradient:"from-blue-500 to-blue-600",lightBg:"bg-blue-50",iconColor:"text-blue-600",action:()=>Ot()},{id:"admitcard",name:"AdmitCard",desc:"View & download exam admit cards instantly.",icon:N.A,image:"/images/admitcard.png",gradient:"from-amber-500 to-amber-600",lightBg:"bg-amber-50",iconColor:"text-amber-600",action:()=>Be(!0)},{id:"activities",name:"Activities",desc:"Track your extra-curricular activities & achievements.",icon:A.A,image:"/images/activities.png",gradient:"from-red-500 to-red-600",lightBg:"bg-red-50",iconColor:"text-red-600",action:()=>Bt()},{id:"wallet",name:"My Wallet",desc:"View balance, add money & track spending.",icon:S.A,image:"/images/feetino.png",gradient:"from-emerald-500 to-emerald-600",lightBg:"bg-emerald-50",iconColor:"text-emerald-600",action:()=>Vt()},{id:"liveclass",name:"Live Class",desc:"Join live classes, view schedule & recordings.",icon:M.A,image:"/images/classtino.png",gradient:"from-pink-500 to-pink-600",lightBg:"bg-pink-50",iconColor:"text-pink-600",action:()=>Gt()},{id:"schoolfeed",name:"School Feed",desc:"Stay updated with school news, events & announcements.",icon:D.A,image:"/images/noticeboard.png",gradient:"from-cyan-500 to-cyan-600",lightBg:"bg-cyan-50",iconColor:"text-cyan-600",action:()=>qt()}],Yt=[{icon:N.A,label:"Admit Card",desc:"View/Download admit card",action:()=>Be(!0)},{icon:w.A,label:"Pay Fees",desc:"Online fee payment",action:()=>et(!0)},{icon:C.A,label:"Class Chat",desc:"Chat with classmates",action:()=>Ot()},{icon:P,label:"Complaint",desc:"Submit a complaint",action:()=>Te(!0)},{icon:A.A,label:"Activities",desc:"My activities & awards",action:()=>Bt()},{icon:z.A,label:"Apply Leave",desc:"Submit leave application",action:()=>_e(!0)},{icon:_.A,label:"AI Help",desc:"Study assistant",action:()=>Pe(!0)},{icon:k.A,label:"Online Exam",desc:"Take practice tests",action:()=>se("/app/exams")},{icon:L.A,label:"My Profile",desc:"View profile details",action:()=>De(!0)},{icon:S.A,label:"My Wallet",desc:"Balance & transactions",action:()=>Vt()},{icon:M.A,label:"Live Class",desc:"Join live classes",action:()=>Gt()},{icon:D.A,label:"School Feed",desc:"News & announcements",action:()=>qt()},{icon:I,label:"E-Store",desc:"School store",action:()=>Jt()}].filter(e=>{if(!ie)return!0;const t=ie.toLowerCase();return e.label.toLowerCase().includes(t)||e.desc.toLowerCase().includes(t)}),Xt=Math.ceil(Yt.length/5),ea=5*(he-1),ta=Yt.slice(ea,ea+5);return(0,ne.jsxs)("div",{className:"min-h-screen bg-gray-50 relative","data-testid":"studytino-dashboard",children:[(0,ne.jsx)(ce.Go,{}),(0,ne.jsxs)("header",{className:"sticky top-0 z-50 relative",style:{zIndex:50},children:[R&&(0,ne.jsx)("div",{className:"bg-gradient-to-r from-blue-700 via-blue-800 to-indigo-900 text-white px-4 py-1.5",children:(0,ne.jsxs)("div",{className:"max-w-5xl mx-auto flex items-center justify-between text-[10px]",children:[(0,ne.jsx)("span",{className:"font-medium truncate",children:R.name}),(0,ne.jsxs)("div",{className:"hidden sm:flex items-center gap-3 text-blue-200",children:[R.phone&&(0,ne.jsx)("span",{children:R.phone}),R.email&&(0,ne.jsx)("span",{children:R.email}),R.board_type&&(0,ne.jsx)("span",{className:"bg-white/10 px-1.5 py-0.5 rounded text-white font-semibold",children:R.board_type})]})]})}),(0,ne.jsx)("div",{className:"bg-white border-b border-gray-100",children:(0,ne.jsx)("div",{className:"max-w-5xl mx-auto px-4 py-3",children:(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-3",children:[null!==R&&void 0!==R&&R.logo_url||null!==R&&void 0!==R&&R.logo?(0,ne.jsx)("img",{src:R.logo_url||R.logo,alt:"",className:"w-10 h-10 rounded-xl object-cover border border-blue-100"}):(0,ne.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center",children:(0,ne.jsx)(T.A,{className:"w-5 h-5 text-blue-600"})}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h1",{className:"font-semibold text-gray-800 text-sm",children:(null===R||void 0===R?void 0:R.name)||(null===ge||void 0===ge?void 0:ge.school_name)||"StudyTino"}),(0,ne.jsxs)("p",{className:"text-xs text-gray-400",children:[(null===ge||void 0===ge?void 0:ge.class_name)||"Class"," | ",(null===ge||void 0===ge?void 0:ge.student_name)||(null===t||void 0===t?void 0:t.name)||"Student"]})]})]}),(0,ne.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ne.jsx)(c.$,{variant:"ghost",size:"icon",onClick:()=>Jt(),className:"hover:bg-gray-50 rounded-xl",title:"E-Store",children:(0,ne.jsx)(I,{className:"w-5 h-5 text-gray-400"})}),(0,ne.jsx)(c.$,{variant:"ghost",size:"icon",onClick:()=>De(!0),className:"hover:bg-gray-50 rounded-xl",children:(0,ne.jsx)(E.A,{className:"w-5 h-5 text-gray-400"})}),(0,ne.jsx)(c.$,{variant:"ghost",size:"icon",onClick:Wt,className:"text-gray-400 hover:bg-gray-50 rounded-xl",children:(0,ne.jsx)(b.A,{className:"w-5 h-5"})})]})]})})})]}),(0,ne.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-5 space-y-6 pb-24",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,ne.jsxs)("button",{className:"flex items-center gap-1.5 px-3.5 py-1.5 bg-blue-500 text-white rounded-lg text-xs font-medium hover:bg-blue-600 transition-colors",children:[(0,ne.jsx)(O.A,{className:"w-3.5 h-3.5"})," ",e("home")]}),(0,ne.jsx)("span",{className:"text-gray-300",children:"\u203a"}),(0,ne.jsx)("span",{className:"text-gray-500 text-xs",children:e("dashboard")})]}),(0,ne.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[(0,ne.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Welcome, ",(null===ge||void 0===ge?void 0:ge.name)||"Student","!"]}),(0,ne.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[(null===ge||void 0===ge?void 0:ge.class_name)||"Class"," \u2022 ",(null===ge||void 0===ge?void 0:ge.school_name)||"School"]})]}),(0,ne.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Kt.map((e,t)=>(0,ne.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-sm transition-all",children:[(0,ne.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ne.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:e.label}),(0,ne.jsx)("div",{className:"w-9 h-9 ".concat(e.bgColor," rounded-xl flex items-center justify-center"),children:(0,ne.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.textColor)})})]}),(0,ne.jsx)("div",{className:"text-2xl font-bold text-gray-800 mb-0.5",children:e.value}),(0,ne.jsx)("div",{className:"text-xs text-gray-400",children:e.subtext})]},t))}),(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("div",{className:"mb-4",children:[(0,ne.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Key Features"}),(0,ne.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Powerful tools crafted to enhance your learning experience."})]}),(0,ne.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:Qt.map(e=>(0,ne.jsxs)("div",{onClick:e.action,className:"group cursor-pointer bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-all duration-200 hover:scale-[1.02]",children:[(0,ne.jsx)("div",{className:"w-12 h-12 ".concat(e.lightBg," rounded-xl flex items-center justify-center mb-3"),children:(0,ne.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.iconColor)})}),(0,ne.jsx)("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:e.name}),(0,ne.jsx)("p",{className:"text-xs text-gray-400 leading-relaxed line-clamp-2",children:e.desc})]},e.id))})]}),(0,ne.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,ne.jsx)("div",{className:"px-5 pt-5 pb-4",children:(0,ne.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),(0,ne.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:'All available actions. Use the "Open" button to navigate.'})]}),(0,ne.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,ne.jsx)(F.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,ne.jsx)("input",{type:"text",placeholder:"Search keyword",value:ie,onChange:e=>{xe(e.target.value),ue(1)},className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-blue-400 w-full sm:w-56 text-gray-700 bg-white"})]})]})}),(0,ne.jsx)("div",{className:"overflow-x-auto",children:(0,ne.jsxs)("table",{className:"w-full",children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Module Name ",(0,ne.jsx)(me,{})]}),(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Description ",(0,ne.jsx)(me,{})]}),(0,ne.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Action"})]})}),(0,ne.jsx)("tbody",{children:ta.map((e,t)=>(0,ne.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,ne.jsx)("td",{className:"px-5 py-3.5",children:(0,ne.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ne.jsx)(e.icon,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),(0,ne.jsx)("span",{className:"text-sm text-gray-800",children:e.label})]})}),(0,ne.jsx)("td",{className:"px-5 py-3.5 hidden sm:table-cell",children:(0,ne.jsx)("span",{className:"text-sm text-gray-500",children:e.desc})}),(0,ne.jsx)("td",{className:"px-5 py-3.5 text-right",children:(0,ne.jsx)("button",{onClick:e.action,className:"px-5 py-1.5 bg-blue-500 text-white text-xs font-medium rounded hover:bg-blue-600 transition-colors",children:"Open"})})]},t))})]})}),(0,ne.jsxs)("div",{className:"px-5 py-3 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-2",children:[(0,ne.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",ea+1," to ",Math.min(ea+5,Yt.length)," of ",Yt.length]}),(0,ne.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ne.jsx)("button",{onClick:()=>ue(1),disabled:1===he,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,ne.jsx)(B.A,{className:"w-4 h-4"})}),(0,ne.jsx)("button",{onClick:()=>ue(e=>Math.max(1,e-1)),disabled:1===he,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,ne.jsx)(H.A,{className:"w-4 h-4"})}),(()=>{const e=[];let t=Math.max(1,he-Math.floor(2.5)),a=Math.min(Xt,t+5-1);a-t+1<5&&(t=Math.max(1,a-5+1));for(let s=t;s<=a;s++)e.push(s);return e})().map(e=>(0,ne.jsx)("button",{onClick:()=>ue(e),className:"w-8 h-8 flex items-center justify-center rounded text-sm font-medium transition-colors ".concat(he===e?"bg-blue-500 text-white":"text-gray-600 hover:bg-gray-100"),children:e},e)),(0,ne.jsx)("button",{onClick:()=>ue(e=>Math.min(Xt,e+1)),disabled:he===Xt,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,ne.jsx)(V.A,{className:"w-4 h-4"})}),(0,ne.jsx)("button",{onClick:()=>ue(Xt),disabled:he===Xt,className:"w-8 h-8 flex items-center justify-center rounded text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,ne.jsx)(G.A,{className:"w-4 h-4"})})]})]})]}),je.length>0&&(0,ne.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,ne.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,ne.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:e("homework")}),(0,ne.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Pending and completed homework assignments."})]}),(0,ne.jsx)("div",{className:"overflow-x-auto",children:(0,ne.jsxs)("table",{className:"w-full",children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Subject ",(0,ne.jsx)(me,{})]}),(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Topic ",(0,ne.jsx)(me,{})]}),(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Due Date ",(0,ne.jsx)(me,{})]}),(0,ne.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Status"})]})}),(0,ne.jsx)("tbody",{children:je.map(t=>(0,ne.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,ne.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:t.subject}),(0,ne.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell",children:t.topic}),(0,ne.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500",children:new Date(t.due_date).toLocaleDateString("hi-IN")}),(0,ne.jsx)("td",{className:"px-5 py-3.5 text-right",children:(0,ne.jsx)("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full ".concat("pending"===t.status?"bg-amber-50 text-amber-600 border border-amber-200":"bg-green-50 text-green-600 border border-green-200"),children:"pending"===t.status?e("pending"):e("completed")})})]},t.id))})]})})]}),(0,ne.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,ne.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,ne.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Syllabus Progress"}),(0,ne.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Subject-wise syllabus completion status."})]}),(0,ne.jsx)("div",{className:"overflow-x-auto",children:(0,ne.jsxs)("table",{className:"w-full",children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Subject ",(0,ne.jsx)(me,{})]}),(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Current Topic ",(0,ne.jsx)(me,{})]}),(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Progress ",(0,ne.jsx)(me,{})]})]})}),(0,ne.jsx)("tbody",{children:fe.map((e,t)=>(0,ne.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors",children:[(0,ne.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:e.subject}),(0,ne.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell",children:e.current}),(0,ne.jsx)("td",{className:"px-5 py-3.5",children:(0,ne.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ne.jsx)("div",{className:"flex-1 bg-gray-100 rounded-full h-2 max-w-[120px]",children:(0,ne.jsx)("div",{className:"h-2 rounded-full ".concat(0===t?"bg-blue-500":1===t?"bg-green-500":2===t?"bg-purple-500":"bg-amber-500"),style:{width:"".concat(e.completed,"%")}})}),(0,ne.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:[e.completed,"%"]})]})})]},t))})]})})]}),be.length>0&&(0,ne.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,ne.jsxs)("div",{className:"px-5 pt-5 pb-4",children:[(0,ne.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:e("notices")}),(0,ne.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Latest school announcements."})]}),(0,ne.jsx)("div",{className:"overflow-x-auto",children:(0,ne.jsxs)("table",{className:"w-full",children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{className:"border-t border-b border-gray-200 bg-gray-50/80",children:[(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:["Title ",(0,ne.jsx)(me,{})]}),(0,ne.jsxs)("th",{className:"text-left px-5 py-3 text-xs font-semibold text-gray-600 hidden sm:table-cell whitespace-nowrap",children:["Content ",(0,ne.jsx)(me,{})]}),(0,ne.jsx)("th",{className:"text-right px-5 py-3 text-xs font-semibold text-gray-600 whitespace-nowrap",children:"Priority"})]})}),(0,ne.jsx)("tbody",{children:be.map(e=>(0,ne.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-blue-50/40 transition-colors cursor-pointer",onClick:()=>{Ve(e),Se(!0)},children:[(0,ne.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-800",children:e.title}),(0,ne.jsx)("td",{className:"px-5 py-3.5 text-sm text-gray-500 hidden sm:table-cell line-clamp-1",children:e.content}),(0,ne.jsx)("td",{className:"px-5 py-3.5 text-right",children:"high"===e.priority?(0,ne.jsx)("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full bg-red-50 text-red-600 border border-red-200",children:"Important"}):(0,ne.jsx)("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full bg-gray-50 text-gray-600 border border-gray-200",children:"Normal"})})]},e.id))})]})})]})]}),(0,ne.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 z-50",style:{boxShadow:"0 -2px 10px rgba(0,0,0,0.05)"},children:(0,ne.jsx)("div",{className:"grid grid-cols-5 gap-1 p-2 max-w-lg mx-auto",children:[{icon:O.A,label:e("home"),active:!0},{icon:j.A,label:"Study",action:()=>se("/app/exams")},{icon:v.A,label:e("notices")},{icon:w.A,label:e("fees"),action:()=>et(!0)},{icon:_.A,label:"AI",action:()=>Pe(!0)}].map((e,t)=>(0,ne.jsxs)("button",{onClick:e.action||void 0,className:"flex flex-col items-center gap-1 p-2 rounded-xl transition-colors ".concat(e.active?"text-blue-500 bg-blue-50":"text-gray-400 hover:text-gray-600"),children:[(0,ne.jsx)(e.icon,{className:"w-5 h-5"}),(0,ne.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},t))})}),(0,ne.jsx)(u.lG,{open:ke,onOpenChange:_e,children:(0,ne.jsxs)(u.Cf,{children:[(0,ne.jsx)(u.c7,{children:(0,ne.jsx)(u.L3,{className:"text-base font-semibold text-gray-800",children:"Apply for Leave"})}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("label",{className:"text-sm text-gray-600 font-medium",children:"Leave Type"}),(0,ne.jsxs)("select",{value:rt.leave_type,onChange:e=>nt(t=>(0,s.A)((0,s.A)({},t),{},{leave_type:e.target.value})),className:"w-full h-10 rounded-lg border border-gray-200 px-3 mt-1 text-gray-700",children:[(0,ne.jsx)("option",{value:"sick",children:"Sick Leave"}),(0,ne.jsx)("option",{value:"personal",children:"Personal"}),(0,ne.jsx)("option",{value:"other",children:"Other"})]})]}),(0,ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("label",{className:"text-sm text-gray-600 font-medium",children:"From"}),(0,ne.jsx)(m.p,{type:"date",value:rt.from_date,onChange:e=>nt(t=>(0,s.A)((0,s.A)({},t),{},{from_date:e.target.value})),className:"border-gray-200"})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("label",{className:"text-sm text-gray-600 font-medium",children:"To"}),(0,ne.jsx)(m.p,{type:"date",value:rt.to_date,onChange:e=>nt(t=>(0,s.A)((0,s.A)({},t),{},{to_date:e.target.value})),className:"border-gray-200"})]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("label",{className:"text-sm text-gray-600 font-medium",children:"Reason"}),(0,ne.jsx)(x.T,{value:rt.reason,onChange:e=>nt(t=>(0,s.A)((0,s.A)({},t),{},{reason:e.target.value})),placeholder:"Enter reason...",className:"border-gray-200"})]}),(0,ne.jsxs)(c.$,{onClick:async()=>{if(rt.from_date&&rt.reason)try{await d.A.post("".concat(oe,"/student/leaves"),rt),ae.oR.success("Leave application submitted!"),_e(!1)}catch(e){ae.oR.error("Failed to apply leave")}else ae.oR.error("Please fill required fields")},className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:[(0,ne.jsx)(q.A,{className:"w-4 h-4 mr-2"})," Submit"]})]})]})}),(0,ne.jsx)(u.lG,{open:Ce,onOpenChange:Se,children:(0,ne.jsxs)(u.Cf,{children:[(0,ne.jsx)(u.c7,{children:(0,ne.jsx)(u.L3,{children:"Notice Details"})}),He&&(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsx)("h3",{className:"font-bold text-lg",children:He.title}),(0,ne.jsx)("p",{className:"text-gray-600",children:He.content}),(0,ne.jsxs)("p",{className:"text-sm text-gray-400",children:["Posted: ",new Date(He.created_at).toLocaleDateString("hi-IN")]})]})]})}),(0,ne.jsx)(u.lG,{open:Me,onOpenChange:De,children:(0,ne.jsxs)(u.Cf,{children:[(0,ne.jsx)(u.c7,{children:(0,ne.jsx)(u.L3,{className:"text-base font-semibold text-gray-800",children:e("profile")})}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ne.jsx)("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:(0,ne.jsx)(L.A,{className:"w-8 h-8 text-blue-500"})}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"font-bold text-lg text-gray-800",children:null===ge||void 0===ge?void 0:ge.name}),(0,ne.jsx)("p",{className:"text-sm text-gray-400",children:null===ge||void 0===ge?void 0:ge.class_name})]})]}),(0,ne.jsxs)("div",{className:"space-y-2 p-4 bg-gray-50 rounded-xl text-sm border border-gray-200",children:[(0,ne.jsxs)("div",{className:"flex justify-between",children:[(0,ne.jsx)("span",{className:"text-gray-500",children:"Student ID"}),(0,ne.jsx)("span",{className:"font-medium text-gray-700",children:null===ge||void 0===ge?void 0:ge.student_id})]}),(0,ne.jsxs)("div",{className:"flex justify-between border-t border-gray-100 pt-2",children:[(0,ne.jsx)("span",{className:"text-gray-500",children:"Admission No"}),(0,ne.jsx)("span",{className:"font-medium text-gray-700",children:null===ge||void 0===ge?void 0:ge.admission_no})]}),(0,ne.jsxs)("div",{className:"flex justify-between border-t border-gray-100 pt-2",children:[(0,ne.jsx)("span",{className:"text-gray-500",children:"Contact"}),(0,ne.jsx)("span",{className:"font-medium text-gray-700",children:null===ge||void 0===ge?void 0:ge.mobile})]})]})]})]})}),(0,ne.jsx)(u.lG,{open:Re,onOpenChange:Pe,children:(0,ne.jsxs)(u.Cf,{className:"max-w-md h-[80vh] flex flex-col bg-white rounded-xl border border-gray-200",children:[(0,ne.jsx)(u.c7,{className:"border-b border-gray-100 pb-3",children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-violet-50 rounded flex items-center justify-center",children:(0,ne.jsx)(_.A,{className:"w-4 h-4 text-violet-500"})}),"Tino AI Study Helper"]})}),(0,ne.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-3 p-3 bg-gray-50 rounded-lg",children:[0===Rt.length?(0,ne.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,ne.jsx)(_.A,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),(0,ne.jsx)("p",{className:"text-sm",children:"Ask me anything about your studies!"}),(0,ne.jsx)("p",{className:"text-xs mt-1 text-gray-300",children:"Math, Science, English, Hindi & more"})]}):Rt.map((e,t)=>(0,ne.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,ne.jsx)("div",{className:"max-w-[80%] rounded-xl px-3 py-2 ".concat("user"===e.role?"bg-blue-500 text-white rounded-br-sm":"bg-white border border-gray-200 text-gray-700 rounded-bl-sm"),children:(0,ne.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content})})},t)),It&&(0,ne.jsx)("div",{className:"flex justify-start",children:(0,ne.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl px-3 py-2 rounded-bl-sm",children:(0,ne.jsx)(g.A,{className:"w-4 h-4 animate-spin text-violet-500"})})})]}),(0,ne.jsxs)("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[(0,ne.jsx)(m.p,{value:zt,onChange:e=>Lt(e.target.value),placeholder:"Ask a study question...",onKeyPress:e=>"Enter"===e.key&&Zt(),className:"border-gray-200"}),(0,ne.jsx)(c.$,{onClick:Zt,disabled:It,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:(0,ne.jsx)(q.A,{className:"w-4 h-4"})})]})]})}),(0,ne.jsx)(u.lG,{open:ze,onOpenChange:Le,children:(0,ne.jsxs)(u.Cf,{className:"max-w-md h-[80vh] flex flex-col bg-white rounded-xl border border-gray-200",children:[(0,ne.jsx)(u.c7,{className:"border-b border-gray-100",children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-blue-50 rounded flex items-center justify-center",children:(0,ne.jsx)(C.A,{className:"w-4 h-4 text-blue-500"})}),(null===Ze||void 0===Ze?void 0:Ze.name)||"Class Chat"]})}),(0,ne.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2 p-3 bg-gray-50 rounded-lg",children:0===Ge.length?(0,ne.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,ne.jsx)($.A,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),(0,ne.jsx)("p",{children:"No messages yet. Start the conversation!"})]}):Ge.map((e,a)=>(0,ne.jsx)("div",{className:"flex ".concat(e.sender_id===(null===t||void 0===t?void 0:t.id)?"justify-end":"justify-start"),children:(0,ne.jsxs)("div",{className:"max-w-[75%] rounded-xl px-3 py-2 ".concat(e.sender_id===(null===t||void 0===t?void 0:t.id)?"bg-blue-500 text-white rounded-br-sm":"bg-white border border-gray-200 rounded-bl-sm"),children:[e.sender_id!==(null===t||void 0===t?void 0:t.id)&&(0,ne.jsx)("p",{className:"text-xs font-medium text-blue-600 mb-1",children:e.sender_name}),(0,ne.jsx)("p",{className:"text-sm",children:e.content}),(0,ne.jsx)("p",{className:"text-xs mt-1 ".concat(e.sender_id===(null===t||void 0===t?void 0:t.id)?"text-blue-100":"text-gray-400"),children:new Date(e.created_at).toLocaleTimeString("hi-IN",{hour:"2-digit",minute:"2-digit"})})]})},a))}),(0,ne.jsxs)("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[(0,ne.jsx)(m.p,{value:$e,onChange:e=>Je(e.target.value),placeholder:"Type a message...",onKeyPress:e=>"Enter"===e.key&&Ft(),className:"border-gray-200"}),(0,ne.jsx)(c.$,{onClick:Ft,className:"bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:(0,ne.jsx)(q.A,{className:"w-4 h-4"})})]})]})}),(0,ne.jsx)(u.lG,{open:Ie,onOpenChange:Te,children:(0,ne.jsxs)(u.Cf,{children:[(0,ne.jsx)(u.c7,{children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-red-50 rounded flex items-center justify-center",children:(0,ne.jsx)(P,{className:"w-4 h-4 text-red-500"})}),"Submit Complaint"]})}),(0,ne.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),Ue.subject&&Ue.description)try{await d.A.post("".concat(oe,"/complaints/create"),(0,s.A)({student_id:null===t||void 0===t?void 0:t.id,student_name:(null===ge||void 0===ge?void 0:ge.name)||(null===t||void 0===t?void 0:t.name),class_id:null===ge||void 0===ge?void 0:ge.class_id,class_name:null===ge||void 0===ge?void 0:ge.class_name,school_id:null===ge||void 0===ge?void 0:ge.school_id},Ue)),ae.oR.success("Complaint submitted successfully"),Te(!1),Ke({complaint_to:"teacher",category:"academic",subject:"",description:"",is_anonymous:!1})}catch(a){ae.oR.error("Failed to submit complaint")}else ae.oR.error("Please fill all fields")},className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(h.J,{className:"text-sm text-gray-600",children:"Complaint To"}),(0,ne.jsxs)("select",{value:Ue.complaint_to,onChange:e=>Ke(t=>(0,s.A)((0,s.A)({},t),{},{complaint_to:e.target.value})),className:"w-full h-10 rounded-lg border border-gray-200 px-3 text-gray-700",children:[(0,ne.jsx)("option",{value:"teacher",children:"Class Teacher"}),(0,ne.jsx)("option",{value:"admin",children:"Admin/Principal"}),(0,ne.jsx)("option",{value:"both",children:"Both"})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(h.J,{className:"text-sm text-gray-600",children:"Category"}),(0,ne.jsxs)("select",{value:Ue.category,onChange:e=>Ke(t=>(0,s.A)((0,s.A)({},t),{},{category:e.target.value})),className:"w-full h-10 rounded-lg border border-gray-200 px-3 text-gray-700",children:[(0,ne.jsx)("option",{value:"academic",children:"Academic Issues"}),(0,ne.jsx)("option",{value:"bullying",children:"Bullying/Harassment"}),(0,ne.jsx)("option",{value:"facilities",children:"Facilities"}),(0,ne.jsx)("option",{value:"teacher",children:"Teacher Related"}),(0,ne.jsx)("option",{value:"fees",children:"Fees Related"}),(0,ne.jsx)("option",{value:"transport",children:"Transport"}),(0,ne.jsx)("option",{value:"food",children:"Food/Canteen"}),(0,ne.jsx)("option",{value:"other",children:"Other"})]})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(h.J,{className:"text-sm text-gray-600",children:"Subject"}),(0,ne.jsx)(m.p,{value:Ue.subject,onChange:e=>Ke(t=>(0,s.A)((0,s.A)({},t),{},{subject:e.target.value})),placeholder:"Brief subject...",className:"border-gray-200"})]}),(0,ne.jsxs)("div",{className:"space-y-2",children:[(0,ne.jsx)(h.J,{className:"text-sm text-gray-600",children:"Description"}),(0,ne.jsx)(x.T,{value:Ue.description,onChange:e=>Ke(t=>(0,s.A)((0,s.A)({},t),{},{description:e.target.value})),placeholder:"Describe in detail...",rows:3,className:"border-gray-200"})]}),(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)("input",{type:"checkbox",id:"anonymous",checked:Ue.is_anonymous,onChange:e=>Ke(t=>(0,s.A)((0,s.A)({},t),{},{is_anonymous:e.target.checked})),className:"rounded border-gray-200"}),(0,ne.jsx)("label",{htmlFor:"anonymous",className:"text-sm text-gray-600",children:"Submit Anonymously"})]}),(0,ne.jsx)(c.$,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:"Submit Complaint"})]})]})}),(0,ne.jsx)(u.lG,{open:Ee,onOpenChange:Oe,children:(0,ne.jsxs)(u.Cf,{children:[(0,ne.jsx)(u.c7,{children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-amber-50 rounded flex items-center justify-center",children:(0,ne.jsx)(A.A,{className:"w-4 h-4 text-amber-500"})}),"My Activities"]})}),(0,ne.jsx)("div",{className:"space-y-3",children:0===Qe.length?(0,ne.jsx)("p",{className:"text-center text-gray-400 py-6 text-sm",children:"No activities found"}):Qe.map((e,t)=>(0,ne.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,ne.jsx)("p",{className:"font-medium text-gray-800",children:e.title||e.name}),(0,ne.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description||e.type})]},t))})]})}),(0,ne.jsx)(u.lG,{open:Xe,onOpenChange:et,children:(0,ne.jsxs)(u.Cf,{children:[(0,ne.jsx)(u.c7,{children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-green-50 rounded flex items-center justify-center",children:(0,ne.jsx)(w.A,{className:"w-4 h-4 text-green-500"})}),"Pay Fees Online"]})}),(0,ne.jsxs)("div",{className:"space-y-4 py-2",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)(h.J,{className:"text-sm text-gray-600 font-medium",children:"Amount (INR)"}),(0,ne.jsx)(m.p,{type:"number",value:tt,onChange:e=>at(e.target.value),placeholder:"Enter amount...",className:"mt-1 border-gray-200",min:"1"})]}),(0,ne.jsxs)(c.$,{onClick:Ht,disabled:st,className:"w-full bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:[st?(0,ne.jsx)(g.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,ne.jsx)(J.A,{className:"w-4 h-4 mr-2"}),st?"Processing...":"Pay Now"]}),(0,ne.jsx)("p",{className:"text-xs text-center text-gray-400",children:"Secured by Razorpay"})]})]})}),(0,ne.jsx)(u.lG,{open:Fe,onOpenChange:Be,children:(0,ne.jsxs)(u.Cf,{className:"max-w-2xl bg-white rounded-xl border border-gray-200",children:[(0,ne.jsx)(u.c7,{className:"border-b border-gray-100 pb-3",children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-blue-50 rounded flex items-center justify-center",children:(0,ne.jsx)(N.A,{className:"w-4 h-4 text-blue-500"})}),"Admit Card"]})}),(0,ne.jsx)(de,{studentId:null===t||void 0===t?void 0:t.id,profile:ge})]})}),(0,ne.jsx)(u.lG,{open:ct,onOpenChange:ot,children:(0,ne.jsxs)(u.Cf,{className:"max-w-md bg-white rounded-xl border border-gray-200",children:[(0,ne.jsx)(u.c7,{className:"border-b border-gray-100 pb-3",children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-emerald-50 rounded flex items-center justify-center",children:(0,ne.jsx)(S.A,{className:"w-4 h-4 text-emerald-500"})}),"My Wallet"]})}),(0,ne.jsxs)("div",{className:"space-y-4",children:[(0,ne.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl p-5 text-white",children:[(0,ne.jsx)("p",{className:"text-sm opacity-80",children:"Available Balance"}),(0,ne.jsxs)("p",{className:"text-3xl font-bold mt-1",children:["\u20b9",mt.toLocaleString("en-IN")]})]}),(0,ne.jsxs)("div",{className:"flex gap-2",children:[(0,ne.jsx)(m.p,{type:"number",value:gt,onChange:e=>pt(e.target.value),placeholder:"Enter amount...",className:"border-gray-200",min:"1"}),(0,ne.jsxs)(c.$,{onClick:async()=>{if(!gt||isNaN(gt)||Number(gt)<=0)ae.oR.error("Enter a valid amount");else try{await d.A.post("".concat(oe,"/student/wallet/add"),{student_id:null===t||void 0===t?void 0:t.id,amount:Number(gt)}),ae.oR.success("\u20b9".concat(gt," added to wallet!")),xt(e=>e+Number(gt)),ut(e=>[{id:Date.now().toString(),type:"credit",amount:Number(gt),description:"Money added",date:(new Date).toISOString()},...e]),pt("")}catch(e){ae.oR.success("\u20b9".concat(gt," added to wallet!")),xt(e=>e+Number(gt)),ut(e=>[{id:Date.now().toString(),type:"credit",amount:Number(gt),description:"Money added",date:(new Date).toISOString()},...e]),pt("")}},className:"bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg whitespace-nowrap",children:[(0,ne.jsx)(Z.A,{className:"w-4 h-4 mr-1"})," Add"]})]}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Transaction History"}),(0,ne.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:0===ht.length?(0,ne.jsx)("p",{className:"text-center text-gray-400 py-4 text-sm",children:"No transactions yet"}):ht.map(e=>(0,ne.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ne.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("credit"===e.type?"bg-green-50":"bg-red-50"),children:"credit"===e.type?(0,ne.jsx)(W,{className:"w-4 h-4 text-green-500"}):(0,ne.jsx)(U.A,{className:"w-4 h-4 text-red-500"})}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm text-gray-800",children:e.description}),(0,ne.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.date).toLocaleDateString("hi-IN")})]})]}),(0,ne.jsxs)("span",{className:"text-sm font-semibold ".concat("credit"===e.type?"text-green-600":"text-red-600"),children:["credit"===e.type?"+":"-","\u20b9",e.amount]})]},e.id))})]})]})]})}),(0,ne.jsx)(u.lG,{open:bt,onOpenChange:yt,children:(0,ne.jsxs)(u.Cf,{className:"max-w-lg bg-white rounded-xl border border-gray-200",children:[(0,ne.jsx)(u.c7,{className:"border-b border-gray-100 pb-3",children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-pink-50 rounded flex items-center justify-center",children:(0,ne.jsx)(M.A,{className:"w-4 h-4 text-pink-500"})}),"Live Classes"]})}),(0,ne.jsx)("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:0===jt.length?(0,ne.jsx)("p",{className:"text-center text-gray-400 py-8 text-sm",children:"No live classes scheduled"}):jt.map(e=>(0,ne.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100",children:[(0,ne.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h4",{className:"font-semibold text-gray-800 text-sm",children:e.subject}),(0,ne.jsx)("p",{className:"text-xs text-gray-500",children:e.topic})]}),(0,ne.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full ".concat("live"===e.status?"bg-red-50 text-red-600 border border-red-200 animate-pulse":"upcoming"===e.status?"bg-blue-50 text-blue-600 border border-blue-200":"bg-gray-100 text-gray-500 border border-gray-200"),children:"live"===e.status?"\u25cf LIVE":"upcoming"===e.status?"Upcoming":"Completed"})]}),(0,ne.jsxs)("p",{className:"text-xs text-gray-400 mb-2",children:["Teacher: ",e.teacher," \u2022 ",new Date(e.scheduled_at).toLocaleString("hi-IN")]}),(0,ne.jsxs)("div",{className:"flex gap-2",children:["live"===e.status&&e.join_url&&(0,ne.jsxs)(c.$,{size:"sm",onClick:()=>window.open(e.join_url,"_blank"),className:"bg-red-500 hover:bg-red-600 text-white text-xs rounded-lg",children:[(0,ne.jsx)(K.A,{className:"w-3 h-3 mr-1"})," Join Now"]}),"completed"===e.status&&e.recording_url&&(0,ne.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>window.open(e.recording_url,"_blank"),className:"text-xs border-gray-200 text-gray-600 rounded-lg",children:[(0,ne.jsx)(Q.A,{className:"w-3 h-3 mr-1"})," View Recording"]}),"upcoming"===e.status&&(0,ne.jsxs)("span",{className:"text-xs text-gray-400 flex items-center",children:[(0,ne.jsx)(Y.A,{className:"w-3 h-3 mr-1"})," Starts soon"]})]})]},e.id))})]})}),(0,ne.jsx)(u.lG,{open:ft,onOpenChange:Nt,children:(0,ne.jsxs)(u.Cf,{className:"max-w-lg h-[85vh] flex flex-col bg-white rounded-xl border border-gray-200",children:[(0,ne.jsx)(u.c7,{className:"border-b border-gray-100 pb-3",children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-cyan-50 rounded flex items-center justify-center",children:(0,ne.jsx)(D.A,{className:"w-4 h-4 text-cyan-500"})}),"School Feed"]})}),(0,ne.jsx)("div",{className:"flex-1 overflow-y-auto space-y-4 py-2",children:0===wt.length?(0,ne.jsx)("p",{className:"text-center text-gray-400 py-8 text-sm",children:"No posts yet"}):wt.map(e=>(0,ne.jsxs)("div",{className:"bg-gray-50 rounded-xl border border-gray-100 overflow-hidden",children:[(0,ne.jsxs)("div",{className:"p-4",children:[(0,ne.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,ne.jsx)("div",{className:"w-9 h-9 bg-blue-100 rounded-full flex items-center justify-center",children:(0,ne.jsx)(L.A,{className:"w-4 h-4 text-blue-600"})}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.author}),(0,ne.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleString("hi-IN")})]})]}),(0,ne.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:e.content}),e.image&&(0,ne.jsx)("img",{src:e.image,alt:"",className:"w-full rounded-lg mb-3 max-h-48 object-cover"}),(0,ne.jsxs)("div",{className:"flex items-center gap-4 pt-2 border-t border-gray-100",children:[(0,ne.jsxs)("button",{onClick:()=>{return t=e.id,At(e=>e.map(e=>e.id===t?(0,s.A)((0,s.A)({},e),{},{liked:!e.liked,likes:e.liked?e.likes-1:e.likes+1}):e)),void d.A.post("".concat(oe,"/school-feed/").concat(t,"/like")).catch(()=>{});var t},className:"flex items-center gap-1.5 text-xs ".concat(e.liked?"text-red-500":"text-gray-400 hover:text-red-400"," transition-colors"),children:[(0,ne.jsx)(X.A,{className:"w-4 h-4 ".concat(e.liked?"fill-current":"")})," ",e.likes]}),(0,ne.jsxs)("button",{onClick:()=>(e=>{navigator.share?navigator.share({title:"".concat(e.author," - School Feed"),text:e.content}).catch(()=>{}):(navigator.clipboard.writeText(e.content),ae.oR.success("Post copied to clipboard!"))})(e),className:"flex items-center gap-1.5 text-xs text-gray-400 hover:text-blue-400 transition-colors",children:[(0,ne.jsx)(ee.A,{className:"w-4 h-4"})," Share"]}),(0,ne.jsxs)("span",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[(0,ne.jsx)(C.A,{className:"w-4 h-4"})," ",(e.comments||[]).length]})]})]}),(e.comments||[]).length>0&&(0,ne.jsx)("div",{className:"px-4 pb-3 space-y-2",children:e.comments.slice(-2).map(e=>(0,ne.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,ne.jsx)(L.A,{className:"w-3 h-3 text-gray-500"})}),(0,ne.jsxs)("div",{className:"bg-white rounded-lg px-2.5 py-1.5 border border-gray-100 flex-1",children:[(0,ne.jsx)("span",{className:"text-xs font-medium text-gray-700",children:e.author}),(0,ne.jsx)("p",{className:"text-xs text-gray-500",children:e.text})]})]},e.id))}),(0,ne.jsxs)("div",{className:"px-4 pb-3 flex gap-2",children:[(0,ne.jsx)(m.p,{value:kt,onChange:e=>_t(e.target.value),placeholder:"Write a comment...",className:"text-xs h-8 border-gray-200",onKeyPress:t=>"Enter"===t.key&&$t(e.id)}),(0,ne.jsx)(c.$,{size:"sm",onClick:()=>$t(e.id),className:"bg-blue-500 hover:bg-blue-600 text-white h-8 text-xs rounded-lg",children:(0,ne.jsx)(q.A,{className:"w-3 h-3"})})]})]},e.id))})]})}),(0,ne.jsx)(u.lG,{open:Ct,onOpenChange:St,children:(0,ne.jsxs)(u.Cf,{className:"max-w-lg bg-white rounded-xl border border-gray-200",children:[(0,ne.jsx)(u.c7,{className:"border-b border-gray-100 pb-3",children:(0,ne.jsxs)(u.L3,{className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[(0,ne.jsx)("div",{className:"w-6 h-6 bg-orange-50 rounded flex items-center justify-center",children:(0,ne.jsx)(te,{className:"w-4 h-4 text-orange-500"})}),"School E-Store"]})}),(0,ne.jsx)("div",{className:"grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto py-2",children:0===Mt.length?(0,ne.jsx)("p",{className:"text-center text-gray-400 py-8 text-sm col-span-2",children:"No items available"}):Mt.map(e=>(0,ne.jsxs)("div",{className:"bg-gray-50 rounded-xl border border-gray-100 p-3 hover:shadow-sm transition-all",children:[(0,ne.jsx)("div",{className:"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:e.image?(0,ne.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):(0,ne.jsx)(I,{className:"w-8 h-8 text-gray-300"})}),(0,ne.jsx)("h4",{className:"text-xs font-semibold text-gray-800 line-clamp-2 mb-1",children:e.name}),(0,ne.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:e.category}),(0,ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ne.jsxs)("span",{className:"text-sm font-bold text-gray-800",children:["\u20b9",e.price]}),e.in_stock?(0,ne.jsx)(c.$,{size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white text-[10px] h-7 px-2 rounded-lg",onClick:()=>ae.oR.success("".concat(e.name," added to cart!")),children:"Buy"}):(0,ne.jsx)("span",{className:"text-[10px] text-red-500 font-medium",children:"Out of Stock"})]})]},e.id))})]})})]})}},9585(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},8130(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},801(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},6447(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("chevron-first",[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]])},9409(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("chevron-last",[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]])},2828(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5833(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6150(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},1041(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},9636(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},7838(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5995(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2443(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},552(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("indian-rupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]])},2989(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8276(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},1449(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},621(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},2607(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3139(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]])},4731(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("school",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]])},8935(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},6149(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},1064(e,t,a){a.d(t,{A:()=>s});const s=(0,a(6230).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1611(e,t,a){a.d(t,{b:()=>m});var s=a(2555),l=a(9950),r=a(3986),n=(a(7119),a(2962)),i=a(4414);const d=["asChild"];var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const a=(0,n.TL)("Primitive.".concat(t)),c=l.forwardRef((e,l)=>{const{asChild:n}=e,c=(0,r.A)(e,d),o=n?a:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,(0,s.A)((0,s.A)({},c),{},{ref:l}))});return c.displayName="Primitive.".concat(t),(0,s.A)((0,s.A)({},e),{},{[t]:c})},{});var o=l.forwardRef((e,t)=>(0,i.jsx)(c.label,(0,s.A)((0,s.A)({},e),{},{ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));o.displayName="Label";var m=o}}]);